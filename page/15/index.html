<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.147.2"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Taking Smart Notes With Org-mode</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://notes.0081800.xyz/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css" integrity="sha256-IhHKMWS&#43;eDACT2qtKzouUghDpk&#43;PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://notes.0081800.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://notes.0081800.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://notes.0081800.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://notes.0081800.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://notes.0081800.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://notes.0081800.xyz/index.xml">
<link rel="alternate" type="application/json" href="https://notes.0081800.xyz/index.json">
<link rel="alternate" hreflang="en" href="https://notes.0081800.xyz/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://notes.0081800.xyz/">
  <meta property="og:site_name" content="Taking Smart Notes With Org-mode">
  <meta property="og:title" content="Taking Smart Notes With Org-mode">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Taking Smart Notes With Org-mode">
<meta name="twitter:description" content="">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Taking Smart Notes With Org-mode",
  "url": "https://notes.0081800.xyz/",
  "description": "",
  "logo": "https://notes.0081800.xyz/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://notes.0081800.xyz/" accesskey="h" title="Taking Smart Notes With Org-mode (Alt + H)">Taking Smart Notes With Org-mode</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://notes.0081800.xyz/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/articles/" title="Articles">
                    <span>Articles</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">结构体
    </h2>
  </header>
  <div class="entry-content">
    <p>结构体 元组结构体（tuple struct） 用于命名元组并和其他元组进行区分：
struct Color(i32, i32, i32); struct Point(i32, i32, i32); let black = Color(0, 0, 0); let origin = Point(0, 0, 0); 由于定义了元组结构体所有 black 和 origin 是两个不同的类型。
没有字段的结构体：类单元（Unit-Like）结构体 没有任何字段的结构体和单元类型 () 类似，用于实现一些特性（trait）但是没有任何数据。
方法语法 self 占有所有权
&amp;self 不可变借用
&amp;mut self 可变借用
自动引用和解引用
在 Rust 中进行方法调用，如 object.something ，Rust 会自动添加 &amp; &amp;mut 或者 * , 用以自动匹配方法签名。以下是等价的：
p1.distance(&amp;p2); (&amp;p1).distance(&amp;p2); 方法如果不声明 self 行参则是一个关联方法（静态方法），通过 :: 调用
struct Rectangle { width: u32, height: u32, } impl Rectangle { fn square(size: u32) -&gt; Rectangle { Rectangle{ width: size, height: size } } } let r = Rectangle::square(10); 每一个结构体可以有多个 impl 块。
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-29 17:59:00 +0800 +0800'>June 29, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 结构体" href="https://notes.0081800.xyz/notes/20200629175956-%E7%BB%93%E6%9E%84%E4%BD%93/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">引用和借用
    </h2>
  </header>
  <div class="entry-content">
    <p> 类型前置 &amp; 表示引用，引用允许变量指向一个值但是不发生所有权转移。 引用不占有所有权，所以变量超出作用域之后不会触发 drop 调用。 引用作为函数形参被成为借用（borrowing） 可变引用 针对特定作用域下的特定数据只能创建一个可变引用。如果要创建多个可变引用可以通过大括号创建新的作用域
let mut s = String::from(&#34;hello&#34;); { let s1 = mut &amp;s; } let s2 = mut &amp;s; 当已经存在不可变引用时，则无法再创建可变引用，下面代码无法编译通过
let mut s = String::from(&#34;hello&#34;); let s1 = &amp;s; // OK let s2 = &amp;s; // OK let s3 = mut &amp;s; // BIG PROBLEM 悬空引用 以下代码是不允许的，无法编译通过
fn main() { let s = dangling_string(); } fn dangling_string() -&gt; &amp;String { let s = String::from(&#34;hello&#34;); &amp;s } 上面代码 s 在函数内部分配，那么在函数执行完成后 s 将被释放，所以返回 s 的引用会造成悬空引用。
引用的规则 任何时间针对一个变量，只能有多个不可变引用或者一个可变引用 引用必须一直有效（生命周期） 分片 分片数据类型没有所有权。分片引用一片连续的序列的集合。
字符串分片 字符串分片是一个引用指向 String 的一部分。
let s = String::from(&#34;Hello world!&#34;) let hello = &amp;s[0..5]; let world = &amp;s[6..11]; 字符串字面量（&amp;str）是个指向二进制程序一块区域的字符串分片，所以函数声明字符串参数使用 &amp;str 会更通用：
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-29 17:49:00 +0800 +0800'>June 29, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 引用和借用" href="https://notes.0081800.xyz/notes/20200629174943-%E5%BC%95%E7%94%A8%E5%92%8C%E5%80%9F%E7%94%A8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">所有权
    </h2>
  </header>
  <div class="entry-content">
    <p>规则 每个值都有一个变量叫做所有者（owner） 同一时间只能有一个所有者 当所有者超出作用域则值被销毁 变量作用域 作用域是一个变量有效的范围 当变量超出作用域范围自动调用对象的 drop 方法进行内存归还操作 变量相互作用：所有权转移（Move） 对于所有在栈上分配的值（固定大小），在进行赋值操作时都对值进行拷贝：
let x = 5; ley y = x; // copy 5 to y 但是对于在堆上分配的，变量保存的是指向内存的指针，所以在赋值时拷贝的也是指向该内存的指针：
let s1 = String::from(&#34;hello&#34;); let s2 = s1; 为了保证内存安全，防止 s1 和 s2 超出作用域范围调用两次 drop 造成重复的内存回收，Rust 会让 s1 不再有效，来避免对 s1 进行回收。继续使用 s1 会导致编译错误。这种情况叫做所有权转移（move）。
变量相互作用：克隆（Clone） 克隆用于深度拷贝变量：
let s1 = String::from(&#34;hello&#34;); let s2 = s1.clone(); println!(s1); 变量项目作用：拷贝（Copy） 如果数据类型的大小在编译期能够确定都将存储在栈上，这种情况下能够进行快速的拷贝。
Copy 特性（trait）注解用于将值存贮在栈栈上 Copy 特性注解不能和 Drop 特性注解混用 Copy 特性注解使用规则如下 所有的数字类型 所有的布尔型 所有的浮点型 字符类型 所有元素都实现了 Copy 特性注解的元祖 所有权和函数 函数传递实参的规则和变量类似，传递变量到一个函数将为发生所有权转移或者拷贝。
返回值和作用域 返回值可以转移所有权 将一个值赋给其他变量会产生所有权转移 一个包含堆分配的变量超出作用域将会被 drop 清理，除非所有权被转移到其他变量。 </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-29 17:49:00 +0800 +0800'>June 29, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 所有权" href="https://notes.0081800.xyz/notes/20200629174911-%E6%89%80%E6%9C%89%E6%9D%83/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">语句和表达式
    </h2>
  </header>
  <div class="entry-content">
    <p>Rust 区分语句和表达式， Rust 是基于表达式的语言：
语句：执行动作并且不返回值
使用 let 声明变量是语句，所以 let 语句不返回值，也就不能像 Python 那样将 let 语句赋值给其他变量 函数声明也是语句 表达式：计算并返回值，不以分号（;）结尾
5 &#43; 6 是一个表达式，计算并返回值 11
表达式可以作为语句的一部分
函数调用是表达式
宏调用是表达式
用 {} 创建的块也是表达式
let x = { let y = 6; y &#43; 5 } if loop while for 是表达式
在表达式后面增加分号（;）可以将一个表达式转为语句。
</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-29 17:48:00 +0800 +0800'>June 29, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 语句和表达式" href="https://notes.0081800.xyz/notes/20200629174820-%E8%AF%AD%E5%8F%A5%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Member initialize
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: C/C&#43;&#43; 如果类成员属性是值类型或者引用类型则需要改对象有无参数构造方法，否则类无法实例化， 这是因为这类成员属性在构造函数调用之前就需要进行初始化。
下面代码无法通过编译
class Foo { public: Foo(int n) : n {n} { }; ~Foo() { }; private: int n; }; class Bar { public: Bar(int n) { this-&gt;foo = Foo(n); }; ~Bar(); private: Foo &amp; foo; }; </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 18:34:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Member initialize" href="https://notes.0081800.xyz/notes/20200628183417-member_initialize/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Iterator class
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: C/C&#43;&#43; 容器类实现 begin 和 end 方法返回 Iterator class 的实例， Iterator class 通过实现友元类可以直接访问容器类的私有属性， Iterator class 通过重载 &#43;&#43;/==/* 等操作符实现对容器类的访问并通过自己的私有属性记录当前位置。
Iterator class 重载的操作符：
&#43;&#43; 移动容器元素位置 == 判断两个容器位置是否相等（容器是否一个，位置是否一个） * 解引用返回当前位置指向的容器的值 </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 18:32:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Iterator class" href="https://notes.0081800.xyz/notes/20200628183227-iterator_class/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SSE/AVX/AVX2/AVX512
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Computer Systems,C/C&#43;&#43;,优化,High Performance 部分 intel CPU 支持向量指令集同时进行多路整数和浮点数计算，以此来进行对相关算法进行优化，这里整理相关链接：
编译器支持相关封装避免编写汇编代码，官方指南：Intrinsics Guide 基于 sse_mathfun 的 avx_mathfun 封装相关宏和函数 mp3 库 lame 中的 SSE 加速实现 libmp3lame/vector/xmm_quantize_sub.c AVX512 VNNI https://en.wikichip.org/wiki/x86/avx512_vnni </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 18:22:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to SSE/AVX/AVX2/AVX512" href="https://notes.0081800.xyz/notes/20200628182211-avx512/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">优化
    </h2>
  </header>
  <div class="entry-content">
    <p> AVX512 </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 18:21:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 优化" href="https://notes.0081800.xyz/notes/20200628182150-%E4%BC%98%E5%8C%96/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CMake
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: C/C&#43;&#43;,Programming Tools
安装的头文件必须包含在目标的源代码中，否则构建如 iOS 的 Framework 时无法正确包含头文件
ADD_LIBRARY(test test.h) CMake 生成 C&#43;&#43; LSP 配置文件
</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 12:30:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to CMake" href="https://notes.0081800.xyz/notes/20200628123035-cmake/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Build System
    </h2>
  </header>
  <div class="entry-content">
    <p> CMake </p>
  </div>
  <footer class="entry-footer"><span title='2020-06-28 12:29:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Build System" href="https://notes.0081800.xyz/notes/20200628122958-build_system/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Emacs Tmux 256 colors
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Emacs 生成 terminfo
$ cat &lt;&lt;EOF &gt; terminfo-24bits.src # Use semicolon separators. xterm-24bits|xterm with 24-bit direct color mode, use=xterm-256color, Tc, setb24=\E[48;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%&amp;%d;%p1%{255}%&amp;%dm, setf24=\E[38;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%&amp;%d;%p1%{255}%&amp;%dm,]] EOF $ tic -x -o ~/.terminfo terminfo-24bits.src 通过 xterm-24bits 启动 Emacs
$ env TERM=xterm-24bits emacs Emacs 通过 list-color-display 查看效果。
</p>
  </div>
  <footer class="entry-footer"><span title='2020-06-03 00:00:00 +0800 +0800'>June 3, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Emacs Tmux 256 colors" href="https://notes.0081800.xyz/notes/20200603103943_tmux_256_colors/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Rust Trait Object
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Rust 动态大小类型（DST）和 Sized 特性 str （非 &amp;str ）就是一个 DST，我们不能在运行时得知 str 的大小。 &amp;str 是一个指针类型，大小是已知的。
DST：拥有额外的元数据存储动态大小的信息。
每一个特性都是一个是个 DST，使用 Trait Object 必须是像 &amp;dyn Trait 和 Box&lt;dyn Trait&gt; （或 Rc&lt;dyn Trait&gt; ）的指针类型。
dyn 关键字 dyn 关键字用于将 Trait Object 指针和普通的结构体指针区分开来。
Sized vs ?Sized Rust 有一个特定的特性叫做 Sized 去判断一个类型的大小是否是编译期可知的，并且自动在编译期为所有已知大小的类型实现， 同时 Rust 隐式的为泛型函数的类型参数加上 Sized 的限制（bound），下面这样的泛型函数：
fn generic&lt;T&gt;(t: T) { // --snip-- } 实际上相当于像下面这样硬编码：
fn generic&lt;T: Sized&gt;(t: T) { // --snip-- } 也可以通过下面特定的语法取消这个限制：
fn geneic&lt;T: ?Sized&gt;(t: &amp;T) { // --snip-- } </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-29 00:00:00 +0800 +0800'>March 29, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Rust Trait Object" href="https://notes.0081800.xyz/notes/20200329204833_rust_trait_object/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Rust Wrapper Types
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Rust </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-25 00:00:00 +0800 +0800'>March 25, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Rust Wrapper Types" href="https://notes.0081800.xyz/notes/20200325165657_rust_wrapper_types/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">《架构整洁之道》读书笔记
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: 读书笔记,系统架构 第一遍粗读 三个编程范式：结构化编程、面向对象编程、函数式编程
每个编程范式都是增加限制：
结构化编程限制了 goto 面向对象编程限制了函数指针 函数式编程限制可变变量（变量不可修改） 设计原则：SOLID
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-23 00:00:00 +0800 +0800'>March 23, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 《架构整洁之道》读书笔记" href="https://notes.0081800.xyz/notes/20200323104907_%E6%9E%B6%E6%9E%84%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SOLID
    </h2>
  </header>
  <div class="entry-content">
    <p>SRP: Single Responsibility Principle 浅显的解释是软件模块只提供单一功能
更进一步任何一个软件模块都应该有且只有一个被修改的原因
再更进一步这个原则是关于人（Actor）的
任何一个软件模块都应该只对一个用户或系统利益相关者负责。
最终就是任何一个软件模块都应该只对某一类行为负责
OCP：Open/Closed Principle 设计良好的软件应该易于扩展，同时抗拒修改。也就是说一个软件模块应该允许在不修改源码的情况下扩展它的行为。
可以通过组合 SRP（代码分组）和调整依赖关系实现（DIP）。如果 A 组件不想被 B 组件上发生的修改所影响，那么就应该让 B 组件依赖于 A 组件。
LSP：Liskov Substitution Principle 里氏替换原则：多态。
每个类型是 S 的对象 o1 都存在一个类型为 T 的对象 o2，能使操作 T 类型的程序 P 在用 o2 替换 o1 时行为保持不变，我们就可以将 S 称为 T 的子类型。
public class LiskovSub { public static main(String[] args) { T o1 = new S(); T o2 = new T(); P(o1); // ok P(o2); // ok } public static P(T o) { o.doSomeThing(); } } 正长方形问题
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-23 00:00:00 +0800 +0800'>March 23, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to SOLID" href="https://notes.0081800.xyz/notes/20200323101418_solid/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">系统架构
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: 技术 设计原则 SOLID
好的架构 我认为好的架构 能够无心智障碍的编写运行单元测试 从一起作业看好的架构 应该能够让任何开发人员方便的随时上线和回滚 面对上线对基础设施没有心理压力 完备的监控 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-22 00:00:00 +0800 +0800'>March 22, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 系统架构" href="https://notes.0081800.xyz/notes/20200322143810_%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">《百箭穿杨》读书笔记
    </h2>
  </header>
  <div class="entry-content">
    <p>需要熟悉股市相关概念进行扫盲。
粗读要点 树立安全边际，跟随格雷厄姆 寻找好的困难股，降低触底难度，加大触底区间，预测底部区间，分 5 档抄底，最好在 1-3 档就能完成抄底 每次只买总资产的 1% 盈利后可以将本金提出，只留底仓等待顶峰信号后抛出赚取高额利润的前提下保障本金 总是留 25%-40% 的现金 做长线 分析财报看毛利、营收增长率、负债率可以确定一个好股，然后就等一些情况下这只股遇到困难触底 看行业处于哪个周期：萌发、成长啥的 不做重仓 复读要点完善 安全边际 跟随格雷厄姆
偏离：更保守或更激进 大赚小赔不如小赚不赔：不亏钱 困境好企 做有把握的事，不啃硬骨头，广撒网，多捞鱼，选取一批困境好企来实现从小盘大稳定增长股
行业中的好企业标准
行业很关键
需求无限，供给有限
关注行业周期
大周期：新生-&gt;成长-&gt;成熟-&gt;衰落-&gt;消亡 小周期：大周期各个过程中的景气与萧条（一两年、三五年甚至一二十年）
消亡之前会有死灰复燃，大周期中成长阶段会有萧条，注意区分。
门槛高，竞争少
只有少数寡头，估值会高
唯一或第一
成熟行业比较简单，成长行业比较困难。
通过企业原则、经营原则、财务原则和市场原则衡量。- P28 生活经验活常识也很重要。
落难好企
行业顺境，某些原因导致的猜疑导致股价下跌 行业遭遇整体困境：偶然事件，反转时间比好把握 个股困境，主打产品破灭：有无法度过的风险 财务数据衡量困境好企能否度过难关 - P32
负债率越低越好：不能超过 50% 资产中的现金越多越好：高于股东权益的 1/3，刚上市的好过上市很久的老企业（把钱折腾光了） 产品的毛利率越高越好：市场有需求 应收账款越少越好：钱可能收不回来 通过季报发现反转时机
季报时间长，抗短期干扰，一季度定调、二季度（半年）纠偏或修正、三季度出结果（更好或更差）、四季度（年报）成果汇报和新的起点用于比较第一季度。
一季度和半年狠重要。
通过 营业收入 发现转机。困境表现为净利润增速下滑，之前是好企可能会市盈率过高。
容错寻底 不亏钱的情况下寻找极限底部，保障安全、带来最大利润、带来良好心态
变种“不破买价”：买入的价格很难再跌回原来的位置
变成左侧交易者，不追涨
大盘底与个股底的关系
同步性：大盘筑底个股也在筑底，大盘达到最低位时，个股也先后到达最低位
差异性
大盘下跌蓝筹股先跌到位，大盘下跌过程中小盘成长股与稳定增长股少许跟跌或逆市上扬。 市场反弹小盘成长股与稳定增长股开始杀跌。
耦合性：大盘底出现时次新股出现底部的概率大，老股形成底部可能需要好几年 – P56
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 《百箭穿杨》读书笔记" href="https://notes.0081800.xyz/notes/20200320180837_%E7%99%BE%E7%AE%AD%E7%A9%BF%E6%9D%A8/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Bigdata 相关知识点 概念组成 Producer 消息产生者，往指定 Topic 的指定 Partition 发送消息
Consumer Group 消费指定 Topic 的消息
Consumer 消费指定 Topic 下某一分区的消息 Topic 区分不同消息主题
Partition 保证同一分区的有序性 Connector
消息可被不同的 Consumer Group 重复消费（广播或订阅）。同一 Consumer Group 下的不同 Consumer 分别消费不同的 Partition，Consumer 数量不能超过 Partition 数量。
数据被持久化并分片成功后发送 ACK 保证里数据不被丢失。
设计 持久化 基于文件系统
基于队列是顺序的和磁盘的顺序访问要比内存的随机访问要快（参见 The Pathologies of Big Data）， Kafka 采用在磁盘文件系统上尾部写头部读的方式。 Kafka 没有采用 BTree 存储数据因为 BTree 的操作是 O(log N) ，而且对磁盘的 seek 操作要慢，且同时只能进行一次限制了并行，所以实际操作比 O(log N) 要慢 基于磁盘的顺序访问进行在尾部写和头部读，可以实现读写都是 O(1) 的时间复杂度，并且读写互不干扰 基于以上实现，Kafka 可以不必在消息一经消费就删除，而是可以保留消息一段相对较长的时间（比如一周） 高效
并且采用统一的日志格式，可以方便的使用 sendfile 避免字节拷贝以在各个组件之间高效的交换日志文件
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Kafka" href="https://notes.0081800.xyz/notes/20200320172022_kafka/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LeetCode
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Learning,Algorithm </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to LeetCode" href="https://notes.0081800.xyz/notes/20200320172132_leetcode/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LeetCode: Trapping Tain Water
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: LeetCode </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to LeetCode: Trapping Tain Water" href="https://notes.0081800.xyz/notes/20200320172219_leetcode_trapping_tain_water/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Linux Virtual Memory Management
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Linux 原文连接：Linux Virtual Memory Management Chapter 2 Describing Physical Memory：描述物理内存 独立于平台架构的方式描述内存 — 更好的支持多平台
本章包含描述存储器、内存页的结构体（structures）和一些影响 VM 行为的标识位（flags）
VM 中普遍（prevlent）认为第一重要（principal）的概念是 NUMA。
大型机器中内存访问速度取决于 CPU 到内存的距离。比如一组（bank）内存分配给每一个处理器或者一组内存非常适合靠近的 DMA 设备卡。
这里的每组（bank）内存被称为节点（node）并且这个概念在 Linux 中通过 struct pglist_data（typedef pg_data_t) 表示，即使在 UMA 架构下也是如此。每一个节点是一个由 NULL 结尾的链表，通过 pg_data_t-&gt;next_node 指向下一个节点。
每一个节点都被分割成多个块（block）称为分区（zone）用于表示内存中的范围。分区使用 struct zone_struct(typedef zone_t) 结构体描述，每一个分区都是以下三种类型的一种
ZONE_DMA 开始 16MB 内存，供 ISA 设备使用 ZONE_NORMAL 16MB - 896MB，由内核直接映射到线性地址空间的上部区域（将在第四章讨论） ZONE_HIGHMEM 896MB - END，剩余不由内核直接映射的系统可用内存， 大部分内核操作都只能使用这种类型的分区，所以这里也是这里也是最关键的性能区域（most performance critical zone） 每一个物理页帧（physical page frame）都使用结构体 struct page 表示，所有的结构体都保存在全局数组 mem_map 中，mem_map 通常存储在 ZONE_NORMAL 的开始处；
结构体之间的关系
内存节点 Linux 在分配内存页的时候采用 本地节点分配策略（node-local allocation policy） 通过最靠近当前运行 CPU 的节点去分配内存。同时进程也会趋向于采用同一 CPU 运行。
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Linux Virtual Memory Management" href="https://notes.0081800.xyz/notes/20200320174700_linux_virtual_memory_management/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">动态规划
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Algorithm 状态转移方程 无后效性 如果给定某一阶段的状态，则在这一阶段以后过程的发展不受这阶段以前各段状态的影响。
一旦 \(f(n)\) 确定，“我们如何凑出 \(f(n)\) ”就再也用不着了：
要求出 \(f(15)\)，只需要知道 \(f(14)\),\(f(10)\),\(f(4)\) 的值， 而 \(f(14)\),\(f(10)\),\(f(4)\) 是如何算出来的，对之后的问题没有影响。 “未来与过去无关”，这就是无后效性。
最优子结构 大问题的最优解可以由小问题的最优解推出，这个性质叫做“最优子结构性质”：
\(f(n)\) 的定义需要蕴含“最优”，利用 \(f(14)\),\(f(10)\),\(f(4)\) 的最优解，我们即可算出 \(f(15)\) 的最优解。
能将大问题拆成几个小问题，且满足无后效性、最优子结构性质。 DP 思路 参见 LeetCode 讨论：
先写出穷举的方法 找出不必要的重复计算 写出 DP 练习 0x00 硬币找零 描述 假设有几种硬币，如1、3、5，并且数量无限。请找出能够组成某个数目的找零所使用最少的硬币数。
状态转移公式 公式 \(f(n)=min\{f(n-1),f(n-3),f(n-5)\} &#43; 1\)
检查是否满足上面提到的两个特性：
无后效性：对于 \(n\)，一旦 \(f(n)\) 确定，以后只关心 \(f(n)\) 的值，不关心怎么计算的； 最优子结构：对于 \(n\)，只要 \(n - 1\) \(n - 3\) \(n - 5\) 能是最优解，那么就能计算出 n; 推导过程 假设找零 15：
若优先使用 5 元硬币 \(cost = f(10) &#43; 1 = 2 &#43; 1 = 3\)
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 动态规划" href="https://notes.0081800.xyz/notes/20200320171538_%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">归并排序
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Algorithm,Sorting Wikipedia: 归并排序
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 归并排序" href="https://notes.0081800.xyz/notes/20200320173033_%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">算法
    </h2>
  </header>
  <div class="entry-content">
    <p> alias: Algorithm </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-20 00:00:00 +0800 +0800'>March 20, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 算法" href="https://notes.0081800.xyz/notes/20200320171501_%E7%AE%97%E6%B3%95/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Let&#39;s Encrypt
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Over the Wall,HTTPs 这里以新增 vd.linuxzen.com 为例。
新增 DNS 解析 通过 DNSPOD 新增 DNS 解析 A 记录 调整 Nginx 新增 HTTP 站点 Nginx 参考配置
server { listen 80; server_name vd.linuxzen.com; include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } 新增签发证书 $ acme.sh --force --issue -d linuxzen.com -d www.linuxzen.com -d cwiki.linuxzen.com -d monitor.linuxzen.com -d v.linuxzen.com -d vd.linuxzen.com -d d.linuxzen.com -d piwik.linuxzen.com -d t.linuxzen.com -d wiki.linuxzen.com -d note.linuxzen.com -w /var/www/letsencrypt/ 安装证书
$ acme.sh --install-cert -d linuxzen.com --cert-file /etc/nginx/certs/linuxzen.com/cert.pem --key-file /etc/nginx/certs/linuxzen.com/privkey.pem --fullchain-file /etc/nginx/certs/linuxzen.com/fullchain.pem --reloadcmd &#34;sudo service nginx reload &amp;&amp; docker restart ipsec-vpn-ssl &amp;&amp; docker restart v2ray &amp;&amp; docker restart v2ray2&#34; 调整 Nginx 配置文件应用证书 server { listen 80; server_name vd.linuxzen.com; return 301 https://$server_name$request_uri; } server { listen 443 http2 ssl fastopen=3 reuseport; server_name vd.linuxzen.com; ssl_certificate /etc/nginx/certs/linuxzen.com/fullchain.pem; ssl_certificate_key /etc/nginx/certs/linuxzen.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; ssl_dhparam /etc/ssl/certs/dhparam.pem; ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH&#43;AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA&#39;; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_stapling on; ssl_stapling_verify on; add_header Strict-Transport-Security max-age=15768000; access_log /var/log/nginx/vd.linuxzen.com.log; location / { root /srv/www/vd.linuxzen.com; index index.html index.htm; } location /passport { proxy_redirect off; proxy_pass http://v2ray; proxy_http_version 1.1; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &#34;Upgrade&#34;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-19 00:00:00 +0800 +0800'>March 19, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Let&#39;s Encrypt" href="https://notes.0081800.xyz/notes/20200319221212_let_s_encrypt/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Over the Wall
    </h2>
  </header>
  <div class="entry-content">
    <p></p>
  </div>
  <footer class="entry-footer"><span title='2020-03-19 00:00:00 +0800 +0800'>March 19, 2020</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Over the Wall" href="https://notes.0081800.xyz/notes/20200319224041_%E7%BF%BB%E5%A2%99/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">V2Ray
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Over the Wall,Tools 架构 Client -&gt; DIDIYun(HAProxy) -&gt; HK
滴滴云 HAPorxy 配置 117.51.146.119
frontend v_linuxzen_com bind *:6697 option tcplog mode tcp default_backend v_linuxzen_com_nodes backend v_linuxzen_com_nodes mode tcp balance roundrobin option ssl-hello-chk server webserver1 45.115.36.35:443 check 客户端改动 需要调整 hosts
$ echo &#39;117.51.146.119 v.linuxzen.com&#39; | sudo tee -a /etc/hosts HK V2Ray Docker 启动 $ docker run -d -p 127.0.0.1:25001:25001 --name v2ray --restart always -v /etc/v2ray:/etc/v2ray v2ray/official HK Let’s Encrypt 证书 $ acme.sh --issue -d linuxzen.com -d www.linuxzen.com -d cwiki.linuxzen.com -d monitor.linuxzen.com -d v.linuxzen.com -d d.linuxzen.com -d piwik.linuxzen.com -d t.linuxzen.com -d wiki.linuxzen.com -d note.linuxzen.com -w /var/www/letsencrypt/ $ acme.sh --install-cert -d linuxzen.com --cert-file /etc/nginx/certs/linuxzen.com/cert.pem --key-file /etc/nginx/certs/linuxzen.com/privkey.pem --fullchain-file /etc/nginx/certs/linuxzen.com/fullchain.pem --reloadcmd &#34;sudo service nginx reload &amp;&amp; docker restart ipsec-vpn-ssl &amp;&amp; docker restart v2ray &amp;&amp; docker restart v2ray2&#34; HK V2Ray 配置 { &#34;log&#34;: { &#34;loglevel&#34;: &#34;debug&#34;, &#34;access&#34;: &#34;/var/log/v2ray/access.log&#34;, &#34;error&#34;: &#34;/var/log/v2ray/error.log&#34; }, &#34;inbounds&#34;: [ { &#34;port&#34;: 25001, &#34;listen&#34;:&#34;0.0.0.0&#34;, &#34;protocol&#34;: &#34;vmess&#34;, &#34;settings&#34;: { &#34;clients&#34;: [ { &#34;id&#34;: &#34;1fde12b8-0cfd-11ea-a4b3-acde48001122&#34;, &#34;alterId&#34;: 64 } ] }, &#34;streamSettings&#34;: { &#34;network&#34;: &#34;ws&#34;, &#34;wsSettings&#34;: { &#34;path&#34;: &#34;/passport&#34; } } } ], &#34;outbounds&#34;: [ { &#34;protocol&#34;: &#34;freedom&#34;, &#34;settings&#34;: {} } ] } HK Nginx 配置 server { listen 80; server_name v.linuxzen.com; return 301 https://$server_name$request_uri; } upstream v2ray { server 127.0.0.1:25001; server 127.0.0.1:25002; } server{ listen 443 http2 ssl fastopen=3 reuseport; # listen 80; server_name v.linuxzen.com; ssl_certificate /etc/nginx/certs/linuxzen.com/fullchain.pem; ssl_certificate_key /etc/nginx/certs/linuxzen.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; ssl_dhparam /etc/ssl/certs/dhparam.pem; ssl_ciphers &#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH&#43;AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA&#39;; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_stapling on; ssl_stapling_verify on; add_header Strict-Transport-Security max-age=15768000; access_log /var/log/nginx/v.linuxzen.com.log; location / { root /srv/www/v.linuxzen.com; index index.html index.htm; } location /passport { proxy_redirect off; proxy_pass http://v2ray; proxy_http_version 1.1; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection &#34;Upgrade&#34;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } 新增一个域名用于单独的滴滴云加速 使用一个单独的域名 vd.linuxzen.com 用于滴滴云加速，参见Let’s Encrypt。
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-19 00:00:00 +0800 +0800'>March 19, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to V2Ray" href="https://notes.0081800.xyz/notes/20200319215535_v2ray/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">xinetd
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Over the Wall,Network xinetd 代理 SMTP 和 IMAP 通过 xinetd 代理 SMTP 和 IMAP 实现 gmail 翻墙。
配置服务端
service imap { type = UNLISTED port = 993 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = imap.gmail.com 993 per_source = UNLIMITED cps = 100 2 } service smtp-465 { type = UNLISTED port = 465 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = smtp.gmail.com 465 per_source = UNLIMITED cps = 100 2 } service smtp-587 { type = UNLISTED port = 587 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = smtp.gmail.com 587 per_source = UNLIMITED cps = 100 2 } 本机修改 hosts
...</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-19 00:00:00 +0800 +0800'>March 19, 2020</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to xinetd" href="https://notes.0081800.xyz/notes/20200319223026_xinetd/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">股市相关概念
    </h2>
  </header>
  <div class="entry-content">
    <p>股分类 个股：投资资金来自个人的股票（还有国家股、法人股）
蓝筹股：明星股
小盘
市值比较低的股票
小盘价值股：格低于价值的股票，被低估的股票，长期看来值得投资的股票。 小盘成长股：成长潜力很大，公司发展处于较快阶段，但不确定性也比较高，业绩波动可能会很大。 稳定增长股：小盘具有一定品牌效应后的快销品，达到一定统治地位，最好在行业的繁荣周期顶峰卖出
周期股
相关指标 市盈率（P/E 或 PER）= 每股市值 / 每股盈余
每股市价处于每股盈余（EPS），评估股价是昂贵还是便宜。市盈率越低代表投资者能够以相对较低的价格购入股票。
Wikipedia: https://zh.wikipedia.org/wiki/%E5%B8%82%E7%9B%88%E7%8E%87
市净率（PBR，P/B） = 总市值 / 净资产
评估高风险企业，企业资产大量为实物资产的企业时收到重视。
市销率（PSR，P/S） = 总市值 / 营收
公司市值除以上一财年（或季度）的营业收入，或等价地，以公司股价除以每股营利收入，越小（小于 1）通常被认为投资价值越高。可以付出比单位营收更少的钱购买股票。 Wikipedia: https://zh.wikipedia.org/zh-hans/%E5%B8%82%E9%94%80%E7%8E%87
相关链接
简单直观的解释一下市盈率和市净率的意思 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-18 00:00:00 +0800 +0800'>March 18, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 股市相关概念" href="https://notes.0081800.xyz/notes/20200318160435_%E8%82%A1%E5%B8%82%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">基金定投
    </h2>
  </header>
  <div class="entry-content">
    <p> 适合人群：穷人、笨人、忙人、好人
为什么
通胀太高，股票战胜通胀的重要工具 绝大多数人不具备择时能力 避免高点买入 核心逻辑：放弃择时，持续小额买入，降低成本
缺点：在市场上涨、高位震荡过程中，虽然盈利大幅提高，但持仓成本也在快速提高。一旦市场转向熊市，整体会迅速亏本。
单边上涨：定投盈利少于一次性投资 先震荡后上涨：定投盈利少于一次性投资 先上涨后下跌：定投亏损多于一次性投资 单边下跌：定投亏损少于一次性投资 震荡：定投与一次性投资持平 先下跌再震荡：定投亏损少于一次性投资 除了坚持，还在于止盈策略，牛市中成本不断提高，需要及时止盈，防止下跌时候的亏损 错误理念
定投不是万能，需要防止“倒微笑曲线周期” 巴菲特说指数基金难以超越仅限于美股，A 股与之相反 定投组合包含债券基金：定投适合波动较大的权益类资产（股票、商品），债卷等固定收益类产品本身波动小，一次性买入和定投基本没区别 月定投不够还要周定投：基本没差别 定投是懒人投资，坚持即可：还需要主动管理，如定投的标的不再适合定投，该换要换。 一次性投资止损不止赢，定投止赢不止损。 定投只买开放式基金：还可以宽基指数基金、主题指数基金、行业指数基金、风格指数基金、策略指数基金、QDII 指数基金、商品指数基金。此外，还有折价的封闭式基金、定增基金，适当的配置会非常好玩。 策略
定投买入，止盈不止损： 需要在可能出现的“倒微笑曲线周期”及时止盈。 制订量化估值标准 技术分析
通过MA、MACD、RSI等各种技术指标，判断目前市场从长期看，是相对低位还是高位
趋势上涨原则：MA(30)&gt;MA(60)&gt;MA(120)； 趋势下跌原则：MA(30)&lt;MA(60)&lt;MA(120)。 均线偏离法：根据指数价格对均线偏离的程度决定投资额度的多少。
P&gt;MA(120)：正偏离，减少投资额度； P&lt;MA(120)：负偏离，增加投资额度。 基本面分析
根据指数相关基本面指标，判断股市处于高估或者低估。如市盈率、市净率、整体ROI等地。在股市高估时，降低投资额度，在股市低估时，增加投资额度。
定期不定额策略
在上述策略的基础上，如目前市场明显在历史地点，原来每个月投1000的，这时不妨投2000。如市场明显高估，每个月投1000的可以投500。如果涨的都害怕了，可以不投甚至卖出一部分。
产品池管理
构建“核心——卫星”组合
技巧
部分基金可以场内购买（炒股账号购买），交易时间短手续费低 Links 基金定投，看这篇就够了 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-11 00:00:00 +0800 +0800'>March 11, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 基金定投" href="https://notes.0081800.xyz/notes/20200311093314_%E5%9F%BA%E9%87%91%E5%AE%9A%E6%8A%95/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Deep Learning
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: AI What is the Difference Between CNN and RNN? </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-10 00:00:00 +0800 +0800'>March 10, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Deep Learning" href="https://notes.0081800.xyz/notes/20200310093014_deep_learning/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">AI
    </h2>
  </header>
  <div class="entry-content">
    <p> Machine Learning Deep Learning 《机器学习实战》读书笔记 How to Train Really Large Models on Many GPUs? </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-09 00:00:00 +0800 +0800'>March 9, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to AI" href="https://notes.0081800.xyz/notes/20200309112015_ai/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">《巴比伦富翁新解》读书笔记
    </h2>
  </header>
  <div class="entry-content">
    <p>积累财富首先要改变思维，学习复利的力量。
粗读要点 实践 10/50 懒人储蓄投资自己，工资 10% 奖金 50% 存储单独的账户用户投资自己 开辟单独基金用于存放房租、孩子学费和自我投资 不懂不投，宁愿错过，不犯过错 画出自己的财富水池 为自己购买保险规避风险（大病和死亡），完成家庭保险配置 理清房贷还款计划，怎么将还款金额降低到收入到 1/3 （9000）以下，可以考虑先提前还房贷减轻房贷利息压力 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 《巴比伦富翁新解》读书笔记" href="https://notes.0081800.xyz/notes/20200307114151_%E5%B7%B4%E6%AF%94%E4%BC%A6%E5%AF%8C%E7%BF%81%E6%96%B0%E8%A7%A3/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CPI
    </h2>
  </header>
  <div class="entry-content">
    <p>反映与居民生活有关的产品及劳务价格统计出来的物价变动指标，衡量通货膨胀的主要指标之一：
超过 3% 为通货膨胀 超过 5% 就是比较严重的通货膨胀 Links 消费者物价指数 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to CPI" href="https://notes.0081800.xyz/notes/20200224133304_cpi/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">ELisp
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Emacs &#39;foo vs #&#39;foo https://emacs.stackexchange.com/a/10943
#’ on symbols will cause the byte-compiler to emit a warning if the function is not defined.
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to ELisp" href="https://notes.0081800.xyz/notes/20200225192204_elisp/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Financial Management
    </h2>
  </header>
  <div class="entry-content">
    <p> 基金 基金定投 股市相关概念 相关书籍 《巴比伦富翁新解》读书笔记 《百箭穿杨》读书笔记 To Read 《布雷迪报告》 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Financial Management" href="https://notes.0081800.xyz/notes/20200224132507/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Go
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Programming Language 柯里化 func max(a, b int) int { if a &gt; b { return a } return b } func currying(a int) func(int) int { return func(b int) int { return max(a, b) } } </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Go" href="https://notes.0081800.xyz/notes/20200218115725/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Go Channel
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Go Channel Directions func demo(readOnlyStream &lt;-chan bool, writeOnlyStream chan&lt;- bool) { } </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Go Channel" href="https://notes.0081800.xyz/notes/20200218115740_go_channel/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Helm
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: Emacs 如何从历史跳到其他命令列表 Key binds C-o
See also: https://emacs.stackexchange.com/questions/18173/how-to-jump-from-emacs-command-history-to-emacs-commands-in-helm
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Helm" href="https://notes.0081800.xyz/notes/20200218122103_helm/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Makefile
    </h2>
  </header>
  <div class="entry-content">
    <p>Links A Makefile for Emacs Packages </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Makefile" href="https://notes.0081800.xyz/notes/20200218174830_makefile/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Unix
    </h2>
  </header>
  <div class="entry-content">
    <p> Makefile SSH macOS max open files macOS TimeMachine 日志 macOS 问题解决三板斧 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to Unix" href="https://notes.0081800.xyz/notes/20200218174814/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">基金
    </h2>
  </header>
  <div class="entry-content">
    <p>将资金交给投资经理人进行投资盈利跑赢 CPI 或赚取更多利润。
分类 交易方式划分：
开放式基金（活期） 封闭式基金（死期） 投资对象划分:
货币基金：余额宝 股票型、债卷型：依靠基金经理管理基金的能力 指数型：被动型基金，依靠大盘指数，美股属于长牛短熊型能跑赢主动型，A 股属于短牛长熊跑赢主动型比较困难。 股票 VS 基金 股票：想一夜暴富（也可能一夜暴亏） 基金：财富增值，门槛低，风险低 如何选基 市场研判 股市走熊：债卷基金 牛市初中：股票基金和指数基金 自身情况 稳健型 激进型 技巧 基金评级 国外渠道
晨星 国内渠道
银河证劵 海通证劵 济安金信 招商证劵 历史业绩 将基金收益与股票大盘走势进行比较； 将基金收益与其他同类基金的收益进行比较； 将基金的当期收益与历史收益进行比较。 一些指标 夏普比率 &gt; 0 基金报酬大于风险，&lt; 0 风险大过报酬 标准差越小，投资风险越低 天天基金网等三方平台上都能看，晨星网上更全。天天基金网的特色数据一栏可以看，晨星网的基金工具里包括阿尔法系数等指标都有标识。
Links 〈如何买基金？基金入门，学会这几招就够了〉 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 基金" href="https://notes.0081800.xyz/notes/20200224132645_/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">复利
    </h2>
  </header>
  <div class="entry-content">
    <p>Wikipedia: https://zh.wikipedia.org/wiki/%E5%A4%8D%E5%88%A9
</p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 复利" href="https://notes.0081800.xyz/notes/20200307114233_%E5%A4%8D%E5%88%A9/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">夏普比率
    </h2>
  </header>
  <div class="entry-content">
    <p>它是用来衡量金融资产绩效基金表现的一个指标，核心思想就是选择收益率相近的基金承担的风险越小越好，选择风险水平相同的基金则收益率越高越好。总之，夏普比率越大，说明这只基金的绩效越好。
&gt; 0 基金报酬大于风险 &lt; 0 基金风险大过报酬 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 夏普比率" href="https://notes.0081800.xyz/notes/20200224140348_/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">标准差（Standard Deviation）
    </h2>
  </header>
  <div class="entry-content">
    <p>又称标准偏差、均方差，数学符号 sigma。概率统计中最常使用作为测量一组数值的离散程度。
定义：为方差开算数平方根，反应组内个体间的离散程度。
用在基金上反映了基金总回报率的波动幅度大小，数值越大，表明波动程度越厉害，稳定度越小，投资风险就越高。
越小，投资风险越低 越大，投资风险越高 </p>
  </div>
  <footer class="entry-footer"><span title='2020-03-07 00:00:00 +0800 +0800'>March 7, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 标准差（Standard Deviation）" href="https://notes.0081800.xyz/notes/20200224141925_/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">CPI
    </h2>
  </header>
  <div class="entry-content">
    <p>:Tags: Financial Management
消费者物价指数 </p>
  </div>
  <footer class="entry-footer"><span title='2020-02-24 00:00:00 +0800 +0800'>February 24, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to CPI" href="https://notes.0081800.xyz/notes/20200224133214/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">《领域驱动设计》读书笔记
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: 正在读的书,读书笔记,DDD 前言和目录 好的软件需要控制复杂性，好的领域模型可以帮助控制复杂性。
什么样的项目需要 DDD？尝试型的小型项目应该不需要 DDD，但是一旦上了规模考虑后续迭代则需要 DDD。
本书组织方式：
领域建模 领域建模的过程就是消化知识的过程，这个过程应该贯穿整个开发过程，需要持续学习。
模型用来描绘人们所关注的实现或想法的某个方面，比如地图就是模型。
模型是一种简化，是对实现的解释：把与解决问题密切相关的方面抽象出来，而忽略无关的细节。
软件问题建模的区域就是软件的领域
物质世界的领域：机票预订程序涉及的飞机乘客。 无形的领域：会计程序的金融领域。 领域涉及知识信息超载的问题，模型这种知识对知识进行了选择性的简化和有意的结构化。
领域模型将领域专家头脑中的支持严格的组织且有选择的抽象，并不是尽可能建立一个符合“现实”的模型。
模型表示 关联 规定一个遍历方向：存在双向联结时（地址 -&gt; 人 或 人 -&gt; 地址）尽量只用一种，并避免互相关联 添加一个限定符，以便有效减少多重关联 消除不必要的关联 表示方式 领域模式 实践 MODEL-DRIVEN DESIGN 隔离领域：引入应用层 应用 LAYERED ARCHITECTURE 把领域层划分出来，通过应用层类来处理应用程序功能。应用层类是协调者，负责提问，领域层负责回答。
将 ENTITY 和 VALUE OBJECT 区分开 依次考虑对象是必须跟踪的 ENTITY 还是表示一个 VALUE OBJECT。
AGGREGATE 边界 识别模型中的 AGGREGATE 根和对应的边界。
选择 REPOSITORY 为 AGGREGATE 根对象建立 REPOSITORY。
场景走查 根据应用程序特性复核建模，进行场景走查，确保能够有效地解决应用问题。可以走查一些正常和异常业务场景进行复核。
对象创建 如果对象复杂则创建单独的 FACTORY 类进行对象创建，简单对象可以直接在 AGGREGATE 根上通过 FACTORY METHOD 进行创建。
停一下，重构 建模和设计需要经常进行重构：利用新知识来改进模型和设计。
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-06-15 00:00:00 +0800 +0800'>June 15, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to 《领域驱动设计》读书笔记" href="https://notes.0081800.xyz/notes/20200320171301_%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LeetCode: 316.Remove Duplicate Letters
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: LeetCode 移除小写字母中重复的字母，让所有字母都只出现一次，并且结果是所有结果中按照字典序排序最小的那个。
Example 1
Input: “bcabc” Output: “abc” Example 2
Input: “cbacdcbc” Output: “acdb” 解法之一:
通过一个数组对每一个出现的字母进行计数 遍历每一个字母放入栈，并将该字母的计数减 1 查看栈底的字母有没有比当前字母大且该字母的计数不为 0 的（有比当前更小的字典序），从栈底弹出该字母 func removeDuplicateLetters(s string) string { var countOfEachLetter [26]int var visited [26]bool stack := make([]byte, 0) stackBottom := 0 bytesArr := []byte(s) for _, c := range bytesArr { countOfEachLetter[getIndex(c)]&#43;&#43; } for _, c := range bytesArr { index := getIndex(c) countOfEachLetter[index]-- if visited[index] { continue } // countOfEachLetter[getIndex(stack[stackBottom])] &gt; 0 后面还有该字符 for len(stack[stackBottom:]) &gt; 0 &amp;&amp; stack[stackBottom] &gt; c &amp;&amp; countOfEachLetter[getIndex(stack[stackBottom])] &gt; 0 { // 标记为未访问用于后面的字符加入结果 visited[getIndex(stack[stackBottom])] = false // 移动栈底 stackBottom&#43;&#43; } // 加入到结果栈 stack = append(stack, c) visited[index] = true } return string(stack[stackBottom:]) } func getIndex(b byte) int { return int(b - &#39;a&#39;) } 通过上面解法遇到如下错误：
...</p>
  </div>
  <footer class="entry-footer"><span title='2019-05-01 00:00:00 +0800 +0800'>May 1, 2019</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to LeetCode: 316.Remove Duplicate Letters" href="https://notes.0081800.xyz/notes/20200320172625_leetcode_316_remove_duplicate_letters/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LeetCode: 153.Find Minimum in Rotated Sorted Array
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: LeetCode 解法 1 找到中间节点依次往左右扩散：
向左边扩散，如果左边的大于当前元素，那么当前元素即为最小值 向右边扩散，如果右边的小于当前元素，那么右边元素即为最小值 如果以上不成立则第一个元素为最小元素（未旋转），以下是代码
func findMin(nums []int) int { length := len(nums) if length == 1 { return nums[0] } // 从中间开始确定方向 mid := length / 2 - 1 left, right := mid, mid for left - 1 &gt;= 0 || right &#43; 1 &lt; length { if left - 1 &gt;= 0 { if nums[left - 1] &gt; nums[left] { return nums[left]; } left-- } if right &#43; 1 &lt; length { if nums[right] &gt; nums[right &#43; 1] { return nums[right &#43; 1] } right&#43;&#43; } } return nums[0] } 优化 参考答案后可通过二分查找做如下优化，首先判断是否被旋转：
如果数组尾部的元素大于首部的元素则表示数组未被旋转，可以直接返回第一个元素。 由于是从一个有序数组旋转的，所以以上条件可以保证。 然后再判断方向：
如果所取中间元素大于数组的第一个元素则最小元素在右边 否则最小元素在左边 func findMin(nums []int) int { length := len(nums) if nums[0] &lt;= nums[length - 1]{ return nums[0] } if length == 2 { return nums[1] } left, right := 0, length - 1 for left &lt; right { mid := left &#43; ((right - left) / 2) if nums[mid] &gt; nums[mid &#43; 1] { return nums[mid &#43; 1] } if nums[mid - 1] &gt; nums[mid] { return nums[mid] } if nums[mid] &gt; nums[0] { left = mid &#43; 1 } else { right = mid - 1 } } return -1 } </p>
  </div>
  <footer class="entry-footer"><span title='2019-04-23 00:00:00 +0800 +0800'>April 23, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to LeetCode: 153.Find Minimum in Rotated Sorted Array" href="https://notes.0081800.xyz/notes/20200320172433_leetcode_153_find_minimum_in_rotated_sorted_array/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">LeetCode: 154.Find Minimum in Rotated Sorted Array II
    </h2>
  </header>
  <div class="entry-content">
    <p> tags: LeetCode 思路 这个是 LeetCode: 153.Find Minimum in Rotated Sorted Array 扩展，增加了以下几种边界情况：
‘[2, 2, 2, 2, 1]’ ‘[3, 1, 3]’ ‘[1, 1, 1]’ ‘[10, 1, 10, 10, 10]’ 但核心依然是判断最小值是在左边还是右边。假设如下数组：
‘[3, 3, 3, 1, 3]’
left[0]=3, right[4]=3, mid[2]=3, 这时候不确定最小值在哪边但是 right– 是安全的，所以执行 right–
left[0]=3, right[3]=1, mid[2]=3, 这时候 mid &lt; right 说明最小值在 mid 的右边，所以调整 left = mid &#43; 1
左右两边索引一致终止循环
实现 func findMin(nums []int) int { length := len(nums) left, right := 0, length - 1 for left &lt; right { mid := (left &#43; right) / 2 if nums[mid] &gt; nums[right] { left = mid &#43; 1 } else if nums[mid] &lt; nums[right] { right = mid } else { right-- } } return nums[right] } </p>
  </div>
  <footer class="entry-footer"><span title='2019-04-23 00:00:00 +0800 +0800'>April 23, 2019</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
  <a class="entry-link" aria-label="post link to LeetCode: 154.Find Minimum in Rotated Sorted Array II" href="https://notes.0081800.xyz/notes/20200320172319_154_find_minimum_in_rotated_sorted_array_ii/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://notes.0081800.xyz/page/14/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://notes.0081800.xyz/page/16/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://notes.0081800.xyz/">Taking Smart Notes With Org-mode</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
