<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DeFi from Scratch | Taking Smart Notes With Org-mode</title>
<meta name="keywords" content="">
<meta name="description" content="tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.
It&rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.
DeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange.">
<meta name="author" content="Gray King">
<link rel="canonical" href="https://notes.0081800.xyz/notes/20220825160507-defi_from_scartch/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://notes.0081800.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://notes.0081800.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://notes.0081800.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://notes.0081800.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://notes.0081800.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="DeFi from Scratch" />
<meta property="og:description" content="tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.
It&rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.
DeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://notes.0081800.xyz/notes/20220825160507-defi_from_scartch/" /><meta property="article:section" content="notes" />
<meta property="article:published_time" content="2022-08-25T16:05:00+08:00" />
<meta property="article:modified_time" content="2022-08-25T16:05:00+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DeFi from Scratch"/>
<meta name="twitter:description" content="tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.
It&rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.
DeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Notes",
      "item": "https://notes.0081800.xyz/notes/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "DeFi from Scratch",
      "item": "https://notes.0081800.xyz/notes/20220825160507-defi_from_scartch/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "DeFi from Scratch",
  "name": "DeFi from Scratch",
  "description": "tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.\nIt\u0026rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.\nDeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange.",
  "keywords": [
    
  ],
  "articleBody": " tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.\nIt’s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.\nDeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange.\nFor example, Alice owns some ETH, and Bob owns some DAI. Now, Alice want to swap some ETH for DAI, and Bob want to swap some DAI for ETH. How could they do?\nA Centralized Exchange Both Alice and Bob can goto a centralized exchange, like Binance.com, they can swap their tokens which they owned to the tokens which they want.\nIt’s very convenient. But how could they do if they don’t trust the centralized exchanges?\nOn-chain Swap Directly They can swap directly, you may say so. Yes, they can communicate with each other, and consider a price, then they can do it. Now Alice send the ETH to Bob, and wait Bob to send DAI back. But now Bob don’t want to send DAI back, what can Alice do?\nNothing! Alice loss her ETH!\nSwap via Smart Contract Both Alice and Bob don’t want to meet such above situation. So they can use a smart contract:\nAlice send the proper ETH to the smart contract and mark it’s to Bob; Then Bob send the proper DAI to the smart contract and mark it’s to Alice; The smart contract determined that the condition is satisfied, then the smart contract: Send proper DAI to Alice; Send proper ETH to Bob; Otherwise, if Bob didn’t send the proper DAI to the smart contract, after some blocks(like timeout), the smart contract will send Alice’s ETH back, or both Alice and Bob can withdraw their tokens from the smart contract in any time. That was a perfectly progress, both Alice and Bob are trust in the smart contract.\nLiquidity Boost Decentralized Exchange Let’s admit that it’s difficult to find people who want to exchange with you. The smart contract can do more, like Uniswap:\nSomeone could be a liquidity provider: Put some tokens for exchanging into liquidity pool, let’s say you privode both ETH and DAI as liquidity; The Uniswap will give you a NFT to represent the position you hold(Non-Fungible Tokens vs. Fungible Tokens). Then someone else can swap tokens from liquidity, for example, Bob want to swap DAI for ETH: Bob will send DAI to the liquidity pool which hold by the smart contract; The smart contract then send back ETH from liquidity pool; Now you don’t need to find someone to swap, you can swap when the liquidity is satisfied, to do so, the liquidity providers will charge some fee from your operations, that engage people who owns tokens to be the liquidity providers.\n",
  "wordCount" : "485",
  "inLanguage": "en",
  "datePublished": "2022-08-25T16:05:00+08:00",
  "dateModified": "2022-08-25T16:05:00+08:00",
  "author":[{
    "@type": "Person",
    "name": "Gray King"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://notes.0081800.xyz/notes/20220825160507-defi_from_scartch/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Taking Smart Notes With Org-mode",
    "logo": {
      "@type": "ImageObject",
      "url": "https://notes.0081800.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://notes.0081800.xyz/" accesskey="h" title="Taking Smart Notes With Org-mode (Alt + H)">Taking Smart Notes With Org-mode</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://notes.0081800.xyz/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/articles/" title="Articles">
                    <span>Articles</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://notes.0081800.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://notes.0081800.xyz/notes/">Notes</a></div>
    <h1 class="post-title">
      DeFi from Scratch
    </h1>
    <div class="post-meta"><span title='2022-08-25 16:05:00 +0800 +0800'>August 25, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Gray King

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#defi-from-scratch" aria-label="DeFi from Scratch">DeFi from Scratch</a><ul>
                        
                <li>
                    <a href="#a-centralized-exchange" aria-label="A Centralized Exchange">A Centralized Exchange</a></li>
                <li>
                    <a href="#on-chain-swap-directly" aria-label="On-chain Swap Directly">On-chain Swap Directly</a></li>
                <li>
                    <a href="#swap-via-smart-contract" aria-label="Swap via Smart Contract">Swap via Smart Contract</a></li>
                <li>
                    <a href="#liquidity-boost-decentralized-exchange" aria-label="Liquidity Boost Decentralized Exchange">Liquidity Boost Decentralized Exchange</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><ul>
<li>tags: <a href="/notes/20220825151036-defi/">DeFi</a>, <a href="/notes/20210804115349-%E5%8C%BA%E5%9D%97%E9%93%BE/">Blockchain</a>, <a href="/notes/20220825151023-uniswap/">Uniswap</a>, <a href="/notes/20220825151116-uniswap_v3/">Uniswap V3</a></li>
</ul>
<p>I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.</p>
<p>It&rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be
helpful for you to understand Uniswap and some other decentralized exchanges.</p>
<h2 id="defi-from-scratch">DeFi from Scratch<a hidden class="anchor" aria-hidden="true" href="#defi-from-scratch">#</a></h2>
<p>We exchange stuffs very often, and we can exchange tokens in a centralized exchange.</p>
<p>For example, Alice owns some ETH, and Bob owns some DAI. Now, Alice want to swap some ETH for DAI,
and Bob want to swap some DAI for ETH. How could they do?</p>
<h3 id="a-centralized-exchange">A Centralized Exchange<a hidden class="anchor" aria-hidden="true" href="#a-centralized-exchange">#</a></h3>
<p>Both Alice and Bob can goto a centralized exchange, like Binance.com, they can swap their tokens
which they owned to the tokens which they want.</p>
<p>It&rsquo;s very convenient. But how could they do if they don&rsquo;t trust the centralized exchanges?</p>
<h3 id="on-chain-swap-directly">On-chain Swap Directly<a hidden class="anchor" aria-hidden="true" href="#on-chain-swap-directly">#</a></h3>
<p>They can swap directly, you may say so. Yes, they can communicate with each other,
and consider a price, then they can do it. Now Alice send the ETH to Bob, and wait Bob to
send DAI back. But now Bob don&rsquo;t want to send DAI back, what can Alice do?</p>
<p>Nothing! Alice loss her ETH!</p>
<h3 id="swap-via-smart-contract">Swap via Smart Contract<a hidden class="anchor" aria-hidden="true" href="#swap-via-smart-contract">#</a></h3>
<p>Both Alice and Bob don&rsquo;t want to meet such above situation. So they can use a smart contract:</p>
<ol>
<li>Alice send the proper ETH to the smart contract and mark it&rsquo;s to Bob;</li>
<li>Then Bob send the proper DAI to the smart contract and mark it&rsquo;s to Alice;</li>
<li>The smart contract determined that the condition is satisfied, then the smart contract:
<ol>
<li>Send proper DAI to Alice;</li>
<li>Send proper ETH to Bob;</li>
</ol>
</li>
<li>Otherwise, if Bob didn&rsquo;t send the proper DAI to the smart contract, after some blocks(like timeout), the smart contract will send Alice&rsquo;s ETH back,
or both Alice and Bob can withdraw their tokens from the smart contract in any time.</li>
</ol>
<p>That was a perfectly progress, both Alice and Bob are trust in the smart contract.</p>
<h3 id="liquidity-boost-decentralized-exchange">Liquidity Boost Decentralized Exchange<a hidden class="anchor" aria-hidden="true" href="#liquidity-boost-decentralized-exchange">#</a></h3>
<p>Let&rsquo;s admit that it&rsquo;s difficult to find people who want to exchange with you. The smart contract can do more,
like Uniswap:</p>
<ol>
<li>Someone could be a liquidity provider:
<ol>
<li>Put some tokens for exchanging into liquidity pool, let&rsquo;s say you privode both ETH and DAI as liquidity;</li>
<li>The Uniswap will give you a NFT to represent the position you hold(<a href="/notes/20220823105929-non_fungible_tokens_vs_fungible_tokens/">Non-Fungible Tokens vs. Fungible Tokens</a>).</li>
</ol>
</li>
<li>Then someone else can swap tokens from liquidity, for example, Bob want to swap DAI for ETH:
<ol>
<li>Bob will send DAI to the liquidity pool which hold by the smart contract;</li>
<li>The smart contract then send back ETH from liquidity pool;</li>
</ol>
</li>
</ol>
<p>Now you don&rsquo;t need to find someone to swap, you can swap when the liquidity is satisfied, to do so,
the liquidity providers will charge some fee from your operations, that engage people who owns tokens to be the liquidity providers.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>


   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   


<hr />

  <div class="bl-section">
    <h4>No notes link to this note</h4>
  </div>


</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://notes.0081800.xyz/">Taking Smart Notes With Org-mode</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
