[{"content":" tags: Fine-Tune, AI source: https://huggingface.co/spaces/huggingface/hf-speech-bench ","permalink":"https://notes.0081800.xyz/notes/20240822200040-hf_speech_bench/","summary":" tags: Fine-Tune, AI source: https://huggingface.co/spaces/huggingface/hf-speech-bench ","title":"hf-speech-bench"},{"content":" tags: AI ","permalink":"https://notes.0081800.xyz/notes/20240822195513-whisper/","summary":" tags: AI ","title":"Whisper"},{"content":" tags: AI ","permalink":"https://notes.0081800.xyz/notes/20240822195459-fine_tune/","summary":" tags: AI ","title":"Fine-Tune"},{"content":" tags: AI, Fine-Tune, Whisper source: â€œFine-Tune Whisper For Multilingual ASR with ğŸ¤— Transformers.â€ Accessed August 22, 2024. https://huggingface.co/blog/fine-tune-whisper. ","permalink":"https://notes.0081800.xyz/notes/20240822195449-fine_tune_whisper_for_multilingual_asr_with_transformers/","summary":" tags: AI, Fine-Tune, Whisper source: â€œFine-Tune Whisper For Multilingual ASR with ğŸ¤— Transformers.â€ Accessed August 22, 2024. https://huggingface.co/blog/fine-tune-whisper. ","title":"Fine-Tune Whisper For Multilingual ASR with ğŸ¤— Transformers"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20240822195224-finetune/","summary":"","title":"Finetune"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20240822195215-finetune_whisper/","summary":"","title":"Finetune Whisper"},{"content":" tags: Tools ","permalink":"https://notes.0081800.xyz/notes/20240819100449-ffmpeg/","summary":" tags: Tools ","title":"FFmpeg"},{"content":" tags: Linux, FFmpeg source: https://askubuntu.com/a/1360862 sudo add-apt-repository ppa:savoury1/ffmpeg4 sudo apt-get update sudo apt-get install ffmpeg ","permalink":"https://notes.0081800.xyz/notes/20240819100420-ubuntu_ffmpeg4_ppa/","summary":" tags: Linux, FFmpeg source: https://askubuntu.com/a/1360862 sudo add-apt-repository ppa:savoury1/ffmpeg4 sudo apt-get update sudo apt-get install ffmpeg ","title":"Ubuntu FFmpeg4 PPA"},{"content":" tags: FreeBSD source: https://forums.freebsd.org/threads/samba-share-permission-privilege-changed-since-update.90685/post-626157 I\u0026rsquo;m running a Samba4 on the FreeBSD 14 system. I couldn\u0026rsquo;t write content to that share filesystem after a system rebooting.\nAfter running the below command, the write permission is back:\nservice samba_server stop net cache flush # -\u0026gt; tdb(/var/db/samba4/gencache.tdb): tdb_rec_read bad magic 0x10878 at offset=67584 service samba_server start ","permalink":"https://notes.0081800.xyz/notes/20240711111932-freebsd_flushing_network_cache_solved_samba_writing_issue/","summary":" tags: FreeBSD source: https://forums.freebsd.org/threads/samba-share-permission-privilege-changed-since-update.90685/post-626157 I\u0026rsquo;m running a Samba4 on the FreeBSD 14 system. I couldn\u0026rsquo;t write content to that share filesystem after a system rebooting.\nAfter running the below command, the write permission is back:\nservice samba_server stop net cache flush # -\u0026gt; tdb(/var/db/samba4/gencache.tdb): tdb_rec_read bad magic 0x10878 at offset=67584 service samba_server start ","title":"FreeBSD Flushing Network Cache Solved Samba Writing Issue"},{"content":" ref: Rust, Rust Borrow and Lifetimes å‘ç°ä¸€ä¸ª Cow ç”¨å¤„ï¼Œå¯ä»¥è®©å˜é‡æ”¯æŒåŒæ—¶èµ‹å€¼å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼Œåœºæ™¯å°±æ˜¯æˆ‘ä»¬å¯èƒ½æ¥æ”¶åˆ°ä¸€ä¸ªå¼•ç”¨ï¼ŒåŒæ—¶å¯èƒ½éœ€è¦æŠŠå®ƒå˜æˆå€¼ç±»å‹åšä¸€äº›å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ clone æˆ– to_owned ç»Ÿä¸€å˜æˆå€¼ç±»å‹ï¼š\nfn maybe_need_to_change(s: \u0026amp;str) { let s = if s.starts_with(\u0026#34;xxx\u0026#34;) { manipulate(s) } else { s.to_owned() // å­˜åœ¨é¢å¤–çš„å¼€é”€ }; take_reference(\u0026amp;s); // s.into_owned() å¯ä»¥å¾—åˆ° String ç±»å‹çš„å€¼ } fn manipulate(s: \u0026amp;str) -\u0026gt; String { s.to_owned() } fn take_reference(s: \u0026amp;str) { } å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯é€šè¿‡ Cow é¿å…ä¸å¿…è¦çš„ clone å¼€é”€ï¼š\nfn maybe_need_to_change(s: \u0026amp;str) { let s = if s.starts_with(\u0026#34;xxx\u0026#34;) { Cow::from(manipulate(s)) } else { Cow::from(s) // æ²¡æœ‰é¢å¤–çš„å¼€é”€ }; take_reference(\u0026amp;s); } fn manipulate(s: \u0026amp;str) -\u0026gt; String { s.to_owned() } fn take_reference(s: \u0026amp;str) { } ","permalink":"https://notes.0081800.xyz/notes/20240506115111-rust_std_borrow_cow/","summary":"ref: Rust, Rust Borrow and Lifetimes å‘ç°ä¸€ä¸ª Cow ç”¨å¤„ï¼Œå¯ä»¥è®©å˜é‡æ”¯æŒåŒæ—¶èµ‹å€¼å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼Œåœºæ™¯å°±æ˜¯æˆ‘ä»¬å¯èƒ½æ¥æ”¶åˆ°ä¸€ä¸ªå¼•ç”¨ï¼ŒåŒæ—¶å¯èƒ½éœ€è¦æŠŠå®ƒå˜æˆå€¼ç±»å‹åšä¸€äº›å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ clone æˆ– to_owned ç»Ÿä¸€å˜æˆå€¼ç±»å‹ï¼š\nfn maybe_need_to_change(s: \u0026amp;str) { let s = if s.starts_with(\u0026#34;xxx\u0026#34;) { manipulate(s) } else { s.to_owned() // å­˜åœ¨é¢å¤–çš„å¼€é”€ }; take_reference(\u0026amp;s); // s.into_owned() å¯ä»¥å¾—åˆ° String ç±»å‹çš„å€¼ } fn manipulate(s: \u0026amp;str) -\u0026gt; String { s.to_owned() } fn take_reference(s: \u0026amp;str) { } å¦å¤–ä¸€ç§æ–¹å¼å°±æ˜¯é€šè¿‡ Cow é¿å…ä¸å¿…è¦çš„ clone å¼€é”€ï¼š\nfn maybe_need_to_change(s: \u0026amp;str) { let s = if s.starts_with(\u0026#34;xxx\u0026#34;) { Cow::from(manipulate(s)) } else { Cow::from(s) // æ²¡æœ‰é¢å¤–çš„å¼€é”€ }; take_reference(\u0026amp;s); } fn manipulate(s: \u0026amp;str) -\u0026gt; String { s.","title":"Rust std::borrow::Cow"},{"content":" ref: æ”¶é›†å’Œæ•´ç†ç¬”è®°ï¼šä¸´æ—¶ç¬”è®°ã€é˜…è¯»ç¬”è®°å’Œæ­£å¼ç¬”è®°, How to Take Smart Notes, ä¹¦å†™æ¯”é”®ç›˜è¾“å…¥æ›´æœ‰åˆ©äºè®°å¿† æ”¶é›†ï¼šé˜…è¯»ç¬”è®°å†™åˆ°çº¸è´¨çš„ç¬”è®°æœ¬ä¸Šï¼› æ•´ç†ï¼šé€šè¿‡ org-roam æ•´ç†æˆæ­£å¼ç¬”è®°ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20240504165922-%E6%88%91%E7%8E%B0%E5%9C%A8%E7%9A%84%E7%AC%94%E8%AE%B0%E8%AE%B0%E5%BD%95%E6%96%B9%E5%BC%8F/","summary":" ref: æ”¶é›†å’Œæ•´ç†ç¬”è®°ï¼šä¸´æ—¶ç¬”è®°ã€é˜…è¯»ç¬”è®°å’Œæ­£å¼ç¬”è®°, How to Take Smart Notes, ä¹¦å†™æ¯”é”®ç›˜è¾“å…¥æ›´æœ‰åˆ©äºè®°å¿† æ”¶é›†ï¼šé˜…è¯»ç¬”è®°å†™åˆ°çº¸è´¨çš„ç¬”è®°æœ¬ä¸Šï¼› æ•´ç†ï¼šé€šè¿‡ org-roam æ•´ç†æˆæ­£å¼ç¬”è®°ã€‚ ","title":"æˆ‘ç°åœ¨çš„ç¬”è®°è®°å½•æ–¹å¼"},{"content":" ref: Introduction: The slip-box and Overarching workflow, GTD å¯¹è®°ç¬”è®°çš„å¯ç¤º, How to Take Smart Notes è¦æƒ³é•¿ä¹…çš„æŒæ¡å­¦åˆ°çš„å†…å®¹ï¼šå†™ä¸‹æ¥ï¼›è¦æƒ³çœŸæ­£çš„ç†è§£æ‰€å­¦å†…å®¹ï¼šè½¬æ¢æˆè‡ªå·±çš„è¯­è¨€ã€‚æ‰€ä»¥ç¬”è®°ä¸ä»…ä»…æ˜¯å­¦ä¹ çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä»¥ä¸‹å·¥ä½œçš„ç»“æœï¼š\næ€è€ƒ é˜…è¯» ç†è§£å’Œäº§ç”Ÿæƒ³æ³• æ”¶é›†ç¬”è®° é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯ä»¥æ”¶é›†ç¬”è®°ï¼š\nä¸´æ—¶ç¬”è®°ï¼ˆfleeting notesï¼‰ï¼šæ•æ‰è„‘æµ·ä¸­çš„æ¯ä¸€ä¸ªæƒ³æ³•ï¼Œæ”¾åˆ°æ”¶ä»¶ç®±é‡Œç¨åå¤„ç†ï¼ˆä¸¢å¼ƒæˆ–è½¬æ¢æˆæ­£å¼ç¬”è®°ï¼ˆpermanent notesï¼‰ï¼‰ é˜…è¯»ç¬”è®°ï¼ˆliterature notesï¼‰ï¼šç”¨è‡ªå·±çš„è¯­è¨€è®°å½•ä¸‹é˜…è¯»ä¸­æƒ³è¦è®°ä½çš„å†…å®¹ï¼Œå¹¶ä¿æŒç¬”è®°å†…å®¹ç®€å•ã€ç²¾æ‚ã€‚ ç„¶ååœ¨ä¸€åˆ°ä¸¤å¤©å†…ï¼ˆå¿˜è®°ä¹‹å‰ï¼‰æ•´ç†ç¬”è®°ï¼š\næ•´ç†ä¸´æ—¶ç¬”è®°ï¼Œï¼š a. è¦ä¹ˆæ•´ç†æˆæ­£å¼ç¬”è®°ï¼› b. è¦ä¹ˆä¸¢å¼ƒ é˜…è¯»ç¬”è®°ï¼šæ·»åŠ è¿æ¥ï¼Œç´¢å¼•å†…å®¹ã€‚ å¦‚ä½•è¿æ¥æ­£å¼ç¬”è®° ä»æ”¶é›†å˜æˆæ•´ç†ï¼šå¼€å‘æƒ³æ³•ã€ä¸»é¢˜å’Œè®¨è®ºï¼Œç¡®ä¿ä¹‹åå¯ä»¥é€šè¿‡ç´¢å¼•æˆ–è€…ç›¸å…³çš„ç¬”è®°æ‰¾åˆ°ç°åœ¨æ’°å†™çš„è¿™ç¯‡ç¬”è®°ã€‚\næ˜¯å¦å’Œç°æœ‰çš„è®ºè¿°å­˜åœ¨å†²çªæˆ–èƒ½å¤Ÿæ”¯æŒç°æœ‰çš„ç¬”è®°ï¼Ÿ æ˜¯å¦å¯ä»¥ç»“åˆç°æœ‰çš„ç¬”è®°äº§ç”Ÿæ–°çš„æƒ³æ³•ï¼Ÿ å¼•å‘äº†ä»€ä¹ˆæ–°çš„é—®é¢˜ï¼Ÿ å¦‚ä½•å†™æ­£å¼ç¬”è®° æ’°å†™å®Œæ•´çš„å¥å­ å¼•ç”¨ä¿¡æ¯æ¥æº å°½é‡ç²¾å‡†ã€æ¸…æ™°å’Œé—´æ¥ å¦‚ä½•åˆ©ç”¨æ­£å¼ç¬”è®° é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„ç³»ç»Ÿå¼€å‘ä¸»é¢˜ã€é—®é¢˜å’Œè¯¾é¢˜ï¼šæŸ¥æ¼è¡¥ç¼ºï¼Œè·Ÿéšè‡ªå·±çš„å…´è¶£è¯»æ›´å¤šã€è®°æ›´å¤šï¼Œæˆ–è½¬ç§»æˆ–æ·±å…¥ï¼Œäº§ç”Ÿé—®é¢˜å›ç­”é—®é¢˜ã€‚ é€šè¿‡ç§¯æ”’è¶³å¤Ÿç¬”è®°çš„ç¬”è®°å»åˆ›ä½œï¼šæ ¹æ®è¿æ¥æ‰¾åˆ°ä¸»é¢˜åˆ›ä½œæ‰€éœ€çš„ä¸€äº›ï¼ŒæŸ¥é‡è¡¥æ¼ã€‚é€šè¿‡ç¬”è®°é€‚å½“çš„è°ƒæ•´é¡ºåºäº§ç”Ÿæ“ä½œï¼Œå¹¶å®Œå–„è‰ç¨¿å®Œæˆåˆ›ä½œã€‚ ","permalink":"https://notes.0081800.xyz/notes/20240504164207-%E6%94%B6%E9%9B%86%E7%AC%94%E8%AE%B0/","summary":" ref: Introduction: The slip-box and Overarching workflow, GTD å¯¹è®°ç¬”è®°çš„å¯ç¤º, How to Take Smart Notes è¦æƒ³é•¿ä¹…çš„æŒæ¡å­¦åˆ°çš„å†…å®¹ï¼šå†™ä¸‹æ¥ï¼›è¦æƒ³çœŸæ­£çš„ç†è§£æ‰€å­¦å†…å®¹ï¼šè½¬æ¢æˆè‡ªå·±çš„è¯­è¨€ã€‚æ‰€ä»¥ç¬”è®°ä¸ä»…ä»…æ˜¯å­¦ä¹ çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä»¥ä¸‹å·¥ä½œçš„ç»“æœï¼š\næ€è€ƒ é˜…è¯» ç†è§£å’Œäº§ç”Ÿæƒ³æ³• æ”¶é›†ç¬”è®° é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å¯ä»¥æ”¶é›†ç¬”è®°ï¼š\nä¸´æ—¶ç¬”è®°ï¼ˆfleeting notesï¼‰ï¼šæ•æ‰è„‘æµ·ä¸­çš„æ¯ä¸€ä¸ªæƒ³æ³•ï¼Œæ”¾åˆ°æ”¶ä»¶ç®±é‡Œç¨åå¤„ç†ï¼ˆä¸¢å¼ƒæˆ–è½¬æ¢æˆæ­£å¼ç¬”è®°ï¼ˆpermanent notesï¼‰ï¼‰ é˜…è¯»ç¬”è®°ï¼ˆliterature notesï¼‰ï¼šç”¨è‡ªå·±çš„è¯­è¨€è®°å½•ä¸‹é˜…è¯»ä¸­æƒ³è¦è®°ä½çš„å†…å®¹ï¼Œå¹¶ä¿æŒç¬”è®°å†…å®¹ç®€å•ã€ç²¾æ‚ã€‚ ç„¶ååœ¨ä¸€åˆ°ä¸¤å¤©å†…ï¼ˆå¿˜è®°ä¹‹å‰ï¼‰æ•´ç†ç¬”è®°ï¼š\næ•´ç†ä¸´æ—¶ç¬”è®°ï¼Œï¼š a. è¦ä¹ˆæ•´ç†æˆæ­£å¼ç¬”è®°ï¼› b. è¦ä¹ˆä¸¢å¼ƒ é˜…è¯»ç¬”è®°ï¼šæ·»åŠ è¿æ¥ï¼Œç´¢å¼•å†…å®¹ã€‚ å¦‚ä½•è¿æ¥æ­£å¼ç¬”è®° ä»æ”¶é›†å˜æˆæ•´ç†ï¼šå¼€å‘æƒ³æ³•ã€ä¸»é¢˜å’Œè®¨è®ºï¼Œç¡®ä¿ä¹‹åå¯ä»¥é€šè¿‡ç´¢å¼•æˆ–è€…ç›¸å…³çš„ç¬”è®°æ‰¾åˆ°ç°åœ¨æ’°å†™çš„è¿™ç¯‡ç¬”è®°ã€‚\næ˜¯å¦å’Œç°æœ‰çš„è®ºè¿°å­˜åœ¨å†²çªæˆ–èƒ½å¤Ÿæ”¯æŒç°æœ‰çš„ç¬”è®°ï¼Ÿ æ˜¯å¦å¯ä»¥ç»“åˆç°æœ‰çš„ç¬”è®°äº§ç”Ÿæ–°çš„æƒ³æ³•ï¼Ÿ å¼•å‘äº†ä»€ä¹ˆæ–°çš„é—®é¢˜ï¼Ÿ å¦‚ä½•å†™æ­£å¼ç¬”è®° æ’°å†™å®Œæ•´çš„å¥å­ å¼•ç”¨ä¿¡æ¯æ¥æº å°½é‡ç²¾å‡†ã€æ¸…æ™°å’Œé—´æ¥ å¦‚ä½•åˆ©ç”¨æ­£å¼ç¬”è®° é€šè¿‡è‡ªä¸‹è€Œä¸Šçš„ç³»ç»Ÿå¼€å‘ä¸»é¢˜ã€é—®é¢˜å’Œè¯¾é¢˜ï¼šæŸ¥æ¼è¡¥ç¼ºï¼Œè·Ÿéšè‡ªå·±çš„å…´è¶£è¯»æ›´å¤šã€è®°æ›´å¤šï¼Œæˆ–è½¬ç§»æˆ–æ·±å…¥ï¼Œäº§ç”Ÿé—®é¢˜å›ç­”é—®é¢˜ã€‚ é€šè¿‡ç§¯æ”’è¶³å¤Ÿç¬”è®°çš„ç¬”è®°å»åˆ›ä½œï¼šæ ¹æ®è¿æ¥æ‰¾åˆ°ä¸»é¢˜åˆ›ä½œæ‰€éœ€çš„ä¸€äº›ï¼ŒæŸ¥é‡è¡¥æ¼ã€‚é€šè¿‡ç¬”è®°é€‚å½“çš„è°ƒæ•´é¡ºåºäº§ç”Ÿæ“ä½œï¼Œå¹¶å®Œå–„è‰ç¨¿å®Œæˆåˆ›ä½œã€‚ ","title":"æ”¶é›†å’Œæ•´ç†ç¬”è®°ï¼šä¸´æ—¶ç¬”è®°ã€é˜…è¯»ç¬”è®°å’Œæ­£å¼ç¬”è®°"},{"content":" ref: Introduction: The slip-box and Overarching workflow, slip-box å°ç‰‡çš„ç¬”è®°é€šè¿‡ä¸Šä¸‹æ–‡è¿›è¡Œå…³è”ï¼Œæ”¾åœ¨ä¸¤ä¸ªæœ¨å¤´ç›’å­é‡Œé¢ï¼ˆè£…æ»¡äº†ç´¢å¼•å¡ï¼‰ï¼š\nä¸¤ä¸ªæœ¨å¤´ç›’å­åˆ†åˆ«çš„ä½œç”¨ï¼š\nç´¢å¼•ï¼ˆbibliographicalï¼‰ï¼šå­˜æ”¾å¯¹æ‰€è¯»çš„ä¹¦ç›®çš„å¼•ç”¨ï¼ˆæ­£é¢ï¼‰å’Œç®€å•çš„ç¬”è®°ï¼ˆåé¢ï¼‰ã€‚ ä¸»è¦ï¼ˆmainï¼‰ï¼šæ”¶é›†å¯¹æ‰€è¯»å†…å®¹äº§ç”Ÿçš„æƒ³æ³•ã€‚ å½“è¯»åˆ°ä¸€äº›å†…å®¹ï¼Œå…¶ä¸»è¦å·¥ä½œæµç¨‹:\nä¸€å¼ ç´¢å¼•å¡ï¼Œæ­£é¢ï¼šæ•°ç›®ä¿¡æ¯ï¼Œåé¢ï¼šç®€çŸ­çš„å†…å®¹ç¬”è®°ï¼Œæ”¾åˆ°ç´¢å¼•ç›’å­é‡Œä¹‹åå°±ä¸å†æ·»åŠ ã€‚ æ£€æŸ¥ç›¸å…³çš„æƒ³æ³•å’Œå†™ä½œï¼šä¸ç›´æ¥ç…§æŠ„æ‰€è¯»ï¼Œè€Œæ˜¯ç”¨è‡ªå·±çš„è¯­è¨€åœ¨ä¸€ç‰‡çº¸ä¸Šå†™ä¸Šä¸€ä¸ªæƒ³æ³•æˆ–è€…ç¬”è®°ï¼Œæ”¾åˆ°ã€Œä¸»ç›’å­ã€é‡Œï¼› a. æœ‰æ–°çš„æƒ³æ³•å†å†™åœ¨å¦å¤–ä¸€å¼ çº¸ä¸Šè¿›è¡Œæ‰©å±•ï¼Œé€šè¿‡ç¼–å·è¿›è¡Œè¿æ¥ã€‚ b. å¤šä¸ªç¬”è®°å½¢æˆé“¾å¼ï¼Œä¸€ä¸ªç¬”è®°å¯ä»¥å…³è”åˆ°å¤šä¸ªä¸Šä¸‹æ–‡ä¸­ã€‚ å¡ç‰‡ä¹‹é—´è¿æ¥çš„æ–¹å¼ï¼š\n","permalink":"https://notes.0081800.xyz/notes/20240504162618-luhman_s_slip_box/","summary":"ref: Introduction: The slip-box and Overarching workflow, slip-box å°ç‰‡çš„ç¬”è®°é€šè¿‡ä¸Šä¸‹æ–‡è¿›è¡Œå…³è”ï¼Œæ”¾åœ¨ä¸¤ä¸ªæœ¨å¤´ç›’å­é‡Œé¢ï¼ˆè£…æ»¡äº†ç´¢å¼•å¡ï¼‰ï¼š\nä¸¤ä¸ªæœ¨å¤´ç›’å­åˆ†åˆ«çš„ä½œç”¨ï¼š\nç´¢å¼•ï¼ˆbibliographicalï¼‰ï¼šå­˜æ”¾å¯¹æ‰€è¯»çš„ä¹¦ç›®çš„å¼•ç”¨ï¼ˆæ­£é¢ï¼‰å’Œç®€å•çš„ç¬”è®°ï¼ˆåé¢ï¼‰ã€‚ ä¸»è¦ï¼ˆmainï¼‰ï¼šæ”¶é›†å¯¹æ‰€è¯»å†…å®¹äº§ç”Ÿçš„æƒ³æ³•ã€‚ å½“è¯»åˆ°ä¸€äº›å†…å®¹ï¼Œå…¶ä¸»è¦å·¥ä½œæµç¨‹:\nä¸€å¼ ç´¢å¼•å¡ï¼Œæ­£é¢ï¼šæ•°ç›®ä¿¡æ¯ï¼Œåé¢ï¼šç®€çŸ­çš„å†…å®¹ç¬”è®°ï¼Œæ”¾åˆ°ç´¢å¼•ç›’å­é‡Œä¹‹åå°±ä¸å†æ·»åŠ ã€‚ æ£€æŸ¥ç›¸å…³çš„æƒ³æ³•å’Œå†™ä½œï¼šä¸ç›´æ¥ç…§æŠ„æ‰€è¯»ï¼Œè€Œæ˜¯ç”¨è‡ªå·±çš„è¯­è¨€åœ¨ä¸€ç‰‡çº¸ä¸Šå†™ä¸Šä¸€ä¸ªæƒ³æ³•æˆ–è€…ç¬”è®°ï¼Œæ”¾åˆ°ã€Œä¸»ç›’å­ã€é‡Œï¼› a. æœ‰æ–°çš„æƒ³æ³•å†å†™åœ¨å¦å¤–ä¸€å¼ çº¸ä¸Šè¿›è¡Œæ‰©å±•ï¼Œé€šè¿‡ç¼–å·è¿›è¡Œè¿æ¥ã€‚ b. å¤šä¸ªç¬”è®°å½¢æˆé“¾å¼ï¼Œä¸€ä¸ªç¬”è®°å¯ä»¥å…³è”åˆ°å¤šä¸ªä¸Šä¸‹æ–‡ä¸­ã€‚ å¡ç‰‡ä¹‹é—´è¿æ¥çš„æ–¹å¼ï¼š","title":"Luhmann's slip-box"},{"content":" ref: How to Take Smart Notes, Introduction: The slip-box and Overarching workflow tags: GTD ä¼ ç»Ÿè®¡åˆ’ vs. GTD\nè®¡åˆ’ï¼šå¾€è‡ªèº«æ–½åŠ äº†ä¸€å±‚ç¦é”¢ï¼Œæ¶ˆè€—æ„å¿—åŠ›ã€è®©è‡ªèº«ä¸§å¤±çµæ´»æ€§ï¼Œéš¾ä»¥åº”å¯¹å¼€æ”¾å¼çš„ä»»åŠ¡ï¼›æ¯”å¦‚å†™ä½œã€‚ GTDï¼šé€šè¿‡æ”¶é›†ã€æ•´ç†ã€å†³ç­–ã€è¡ŒåŠ¨è¿™ä¸€å¥—å¯ä¿¡çš„ç³»ç»Ÿï¼Œè®©å¤§è„‘æ„è¯†åˆ°æ‰€æœ‰çš„äº‹æƒ…éƒ½å·²ç»è¢«å¦¥å–„å¤„ç†ï¼Œä»è€Œå¤§è„‘æ‰ä¼šè®©æˆ‘ä»¬èƒ½å¤Ÿä¸“å¿ƒçš„å¤„ç†çœ¼å‰çš„äº‹é¡¹ï¼Œå¤§å¤§å¢åŠ äº†è‡ªèº«çš„çµæ´»æ€§. ä¸€ç§å¥½çš„ç¬”è®°è®°å½•æ–¹å¼ç±»ä¼¼ GTD å¸®æˆ‘ä»¬å¼€å¯ä¸€ç§æ–°çš„å·¥ä½œæµï¼š\næ”¶é›†ç¬”è®°ï¼šè®°å½•ã€è·Ÿè¸ªè¯»åˆ°çš„å†…å®¹ï¼› æ•´ç†ç¬”è®°ï¼šå¤´è„‘é£æš´å¼€å‘æƒ³æ³•ï¼› è¿æ¥ç¬”è®°ï¼šæ¿€å‘æ–°çš„æƒ³æ³•ï¼› åˆ›ä½œï¼šé€šè¿‡ç¬”è®°è¿›è¡Œå¿«é€Ÿåˆ›ä½œã€‚ ","permalink":"https://notes.0081800.xyz/notes/20240504160416-gtd_%E5%AF%B9%E8%AE%B0%E7%AC%94%E8%AE%B0%E7%9A%84%E5%90%AF%E7%A4%BA/","summary":" ref: How to Take Smart Notes, Introduction: The slip-box and Overarching workflow tags: GTD ä¼ ç»Ÿè®¡åˆ’ vs. GTD\nè®¡åˆ’ï¼šå¾€è‡ªèº«æ–½åŠ äº†ä¸€å±‚ç¦é”¢ï¼Œæ¶ˆè€—æ„å¿—åŠ›ã€è®©è‡ªèº«ä¸§å¤±çµæ´»æ€§ï¼Œéš¾ä»¥åº”å¯¹å¼€æ”¾å¼çš„ä»»åŠ¡ï¼›æ¯”å¦‚å†™ä½œã€‚ GTDï¼šé€šè¿‡æ”¶é›†ã€æ•´ç†ã€å†³ç­–ã€è¡ŒåŠ¨è¿™ä¸€å¥—å¯ä¿¡çš„ç³»ç»Ÿï¼Œè®©å¤§è„‘æ„è¯†åˆ°æ‰€æœ‰çš„äº‹æƒ…éƒ½å·²ç»è¢«å¦¥å–„å¤„ç†ï¼Œä»è€Œå¤§è„‘æ‰ä¼šè®©æˆ‘ä»¬èƒ½å¤Ÿä¸“å¿ƒçš„å¤„ç†çœ¼å‰çš„äº‹é¡¹ï¼Œå¤§å¤§å¢åŠ äº†è‡ªèº«çš„çµæ´»æ€§. ä¸€ç§å¥½çš„ç¬”è®°è®°å½•æ–¹å¼ç±»ä¼¼ GTD å¸®æˆ‘ä»¬å¼€å¯ä¸€ç§æ–°çš„å·¥ä½œæµï¼š\næ”¶é›†ç¬”è®°ï¼šè®°å½•ã€è·Ÿè¸ªè¯»åˆ°çš„å†…å®¹ï¼› æ•´ç†ç¬”è®°ï¼šå¤´è„‘é£æš´å¼€å‘æƒ³æ³•ï¼› è¿æ¥ç¬”è®°ï¼šæ¿€å‘æ–°çš„æƒ³æ³•ï¼› åˆ›ä½œï¼šé€šè¿‡ç¬”è®°è¿›è¡Œå¿«é€Ÿåˆ›ä½œã€‚ ","title":"GTD å¯¹è®°ç¬”è®°çš„å¯ç¤º"},{"content":" tags: Introduction: The slip-box and Overarching workflgow ref: How to Take Smart Notes é€šè¿‡è®°ç¬”è®°å¯ä»¥ï¼š\nè¾…åŠ©è®°å¿†å’Œç†è§£æˆ‘ä»¬è¯»åˆ°çš„å†…å®¹ï¼› å¼€å‘æ–°çš„æƒ³æ³•ã€ä¸»é¢˜å’Œåˆ›æ„ï¼› å¼•ç”¨å·²æœ‰çš„ç ”ç©¶æˆæœï¼› æ•´ç†æˆ‘ä»¬çš„æƒ³æ³•ã€‚ è®°ç¬”è®°ä½œä¸ºã€Œå†™ä½œå·¥ä½œã€çš„ä¸»è¦å·¥ä½œï¼Œè€Œä¸ä»…ä»…æ˜¯å‡†å¤‡é˜¶æ®µçš„å­¦ä¹ ï¼Œä¸€ä¸ªå¥½çš„ç¬”è®°ç»“æ„å¯ä»¥è®©ä½ ï¼š\nåœ¨äº¤ä»˜é˜¶æ®µé¢ä¸´å¤§é‡å·²ç»åŸºæœ¬å¯ç”¨çš„ç´ æï¼Œè€Œä¸æ˜¯ç©ºç™½çš„çº¸é¢æˆ–å±å¹•ï¼› ä¸æ¶ˆè€—é¢å¤–çš„æ„å¿—åŠ›ï¼Œè®©ä½ å¯ä»¥éšæ—¶åˆ‡æ¢åˆ°å…¶å®ƒæ„Ÿå…´è¶£çš„ä¸»é¢˜ç„¶åå†éšæ—¶åˆ‡å›åˆ°ç°åœ¨çš„ç ”ç©¶è¯¾é¢˜ï¼› å¯ä»¥å¯åŠ¨å¿ƒæµ ","permalink":"https://notes.0081800.xyz/notes/20240504153745-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%AE%B0%E7%AC%94%E8%AE%B0%E5%8F%8A%E5%A6%82%E4%BD%95%E8%AE%B0%E7%AC%94%E8%AE%B0/","summary":" tags: Introduction: The slip-box and Overarching workflgow ref: How to Take Smart Notes é€šè¿‡è®°ç¬”è®°å¯ä»¥ï¼š\nè¾…åŠ©è®°å¿†å’Œç†è§£æˆ‘ä»¬è¯»åˆ°çš„å†…å®¹ï¼› å¼€å‘æ–°çš„æƒ³æ³•ã€ä¸»é¢˜å’Œåˆ›æ„ï¼› å¼•ç”¨å·²æœ‰çš„ç ”ç©¶æˆæœï¼› æ•´ç†æˆ‘ä»¬çš„æƒ³æ³•ã€‚ è®°ç¬”è®°ä½œä¸ºã€Œå†™ä½œå·¥ä½œã€çš„ä¸»è¦å·¥ä½œï¼Œè€Œä¸ä»…ä»…æ˜¯å‡†å¤‡é˜¶æ®µçš„å­¦ä¹ ï¼Œä¸€ä¸ªå¥½çš„ç¬”è®°ç»“æ„å¯ä»¥è®©ä½ ï¼š\nåœ¨äº¤ä»˜é˜¶æ®µé¢ä¸´å¤§é‡å·²ç»åŸºæœ¬å¯ç”¨çš„ç´ æï¼Œè€Œä¸æ˜¯ç©ºç™½çš„çº¸é¢æˆ–å±å¹•ï¼› ä¸æ¶ˆè€—é¢å¤–çš„æ„å¿—åŠ›ï¼Œè®©ä½ å¯ä»¥éšæ—¶åˆ‡æ¢åˆ°å…¶å®ƒæ„Ÿå…´è¶£çš„ä¸»é¢˜ç„¶åå†éšæ—¶åˆ‡å›åˆ°ç°åœ¨çš„ç ”ç©¶è¯¾é¢˜ï¼› å¯ä»¥å¯åŠ¨å¿ƒæµ ","title":"ä¸ºä»€ä¹ˆè¦è®°ç¬”è®°"},{"content":" ref: ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://china.kyodonews.net/news/2024/04/4db93f4c3bf3.html å¦‚æœå†™åœ¨çº¸ä¸Šä¸æ‰”æ‰åˆ™æ²¡æœ‰æ•ˆæœã€‚\n","permalink":"https://notes.0081800.xyz/notes/20240504153442-%E5%9C%A8%E7%BA%B8%E4%B8%8A%E5%86%99%E4%B8%8B%E6%80%92%E6%84%8F%E6%89%94%E6%8E%89%E5%8F%AF%E4%BB%A5%E7%BC%93%E8%A7%A3%E6%83%85%E7%BB%AA/","summary":"ref: ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://china.kyodonews.net/news/2024/04/4db93f4c3bf3.html å¦‚æœå†™åœ¨çº¸ä¸Šä¸æ‰”æ‰åˆ™æ²¡æœ‰æ•ˆæœã€‚","title":"åœ¨çº¸ä¸Šå†™ä¸‹æ€’æ„æ‰”æ‰å¯ä»¥ç¼“è§£æƒ…ç»ª"},{"content":" ref: ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://www.solidot.org/story?sid=77170 é€šè¿‡æ£€æµ‹è„‘ç”µæ³¢ï¼Œé˜…è¯»çº¸è´¨ä¹¦çš„æ¨¡å¼æ›´è´´è¿‘æ³¨æ„åŠ›é›†ä¸­çš„æ¨¡å¼ã€‚\nhttps://news.slashdot.org/story/24/01/18/0225255/a-groundbreaking-study-shows-kids-learn-better-on-paper-not-screens-now-what?utm_source=rss1.0mainlinkanon\n","permalink":"https://notes.0081800.xyz/notes/20240504153254-%E7%94%B5%E5%AD%90%E5%B1%8F%E5%B9%95%E9%98%85%E8%AF%BB%E6%95%88%E6%9E%9C%E4%BD%8E%E4%BA%8E%E7%BA%B8%E8%B4%A8%E4%B9%A6/","summary":"ref: ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://www.solidot.org/story?sid=77170 é€šè¿‡æ£€æµ‹è„‘ç”µæ³¢ï¼Œé˜…è¯»çº¸è´¨ä¹¦çš„æ¨¡å¼æ›´è´´è¿‘æ³¨æ„åŠ›é›†ä¸­çš„æ¨¡å¼ã€‚\nhttps://news.slashdot.org/story/24/01/18/0225255/a-groundbreaking-study-shows-kids-learn-better-on-paper-not-screens-now-what?utm_source=rss1.0mainlinkanon","title":"ç”µå­å±å¹•é˜…è¯»æ•ˆæœä½äºçº¸è´¨ä¹¦"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20240504152849-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%BA%B8%E5%92%8C%E7%AC%94/","summary":"","title":"ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬”"},{"content":" ref: How to Take Smart Notes, ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://www.solidot.org/story?sid=77257 ã€Šå¿ƒç†å­¦å‰æ²¿ã€‹ä¸Šå‘è¡¨çš„çš„ä¸€ç¯‡ç ”ç©¶è¡¨æ˜ç”¨çº¸ç¬”å†™ä¸‹æ¥æ¯”ç”¨é”®ç›˜æ‰“å‡ºæ¥æ›´æœ‰åˆ©äºè®°å¿†ï¼šé€šè¿‡è§‚å¯Ÿ 36 å 24 å¤šå²çš„å­¦ç”Ÿåˆ†åˆ«é€šè¿‡çº¸ç¬”å†™ä¸‹æ¥å’Œé”®ç›˜æ‰“å‡ºæ¥çš„è„‘ä¿¡å·ï¼Œçº¸ç¬”å†™ä¸‹æ¥æ—¶å¤§è„‘ä¸­å¤®éƒ¨åˆ†å’Œå¤§è„‘å¤–éƒ¨é¡¶å¶é—´çš„è¿æ¥å¢åŠ ã€‚\nhttps://news.sciencenet.cn/htmlnews/2024/1/516879.shtm https://www.frontiersin.org/articles/10.3389/fpsyg.2023.1219945/full ","permalink":"https://notes.0081800.xyz/notes/20240504152712-%E4%B9%A6%E5%86%99%E6%AF%94%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E6%9B%B4%E6%9C%89%E5%88%A9%E4%BA%8E%E8%AE%B0%E5%BF%86/","summary":" ref: How to Take Smart Notes, ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦çº¸å’Œç¬” source: https://www.solidot.org/story?sid=77257 ã€Šå¿ƒç†å­¦å‰æ²¿ã€‹ä¸Šå‘è¡¨çš„çš„ä¸€ç¯‡ç ”ç©¶è¡¨æ˜ç”¨çº¸ç¬”å†™ä¸‹æ¥æ¯”ç”¨é”®ç›˜æ‰“å‡ºæ¥æ›´æœ‰åˆ©äºè®°å¿†ï¼šé€šè¿‡è§‚å¯Ÿ 36 å 24 å¤šå²çš„å­¦ç”Ÿåˆ†åˆ«é€šè¿‡çº¸ç¬”å†™ä¸‹æ¥å’Œé”®ç›˜æ‰“å‡ºæ¥çš„è„‘ä¿¡å·ï¼Œçº¸ç¬”å†™ä¸‹æ¥æ—¶å¤§è„‘ä¸­å¤®éƒ¨åˆ†å’Œå¤§è„‘å¤–éƒ¨é¡¶å¶é—´çš„è¿æ¥å¢åŠ ã€‚\nhttps://news.sciencenet.cn/htmlnews/2024/1/516879.shtm https://www.frontiersin.org/articles/10.3389/fpsyg.2023.1219945/full ","title":"ä¹¦å†™æ¯”é”®ç›˜è¾“å…¥æ›´æœ‰åˆ©äºè®°å¿†"},{"content":" tags: Sui POST https://api.shinami.com/node/v1/sui_mainnet_bb70bc6a7d6d04694c4c719f0b6f27aa Content-Type: application/json Origin: https://app.turbos.finance Referer: https://app.turbos.finance/ { \u0026#34;id\u0026#34;: 1, \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;suix_getDynamicFieldObject\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0xd836ea2a159743a568fe29e8f42672a1b88414ab21be5411f8f6331e66b218d3\u0026#34;, { \u0026#34;type\u0026#34;: \u0026#34;0x91bfbc386a41afcfd9b2533058d7e915a1d3829089cc268ff4333d54d6339ca1::i32::I32\u0026#34;, \u0026#34;value\u0026#34;: 4294899946 } ] } ","permalink":"https://notes.0081800.xyz/notes/20240429203101-sui_dynamic_objects/","summary":" tags: Sui POST https://api.shinami.com/node/v1/sui_mainnet_bb70bc6a7d6d04694c4c719f0b6f27aa Content-Type: application/json Origin: https://app.turbos.finance Referer: https://app.turbos.finance/ { \u0026#34;id\u0026#34;: 1, \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;suix_getDynamicFieldObject\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0xd836ea2a159743a568fe29e8f42672a1b88414ab21be5411f8f6331e66b218d3\u0026#34;, { \u0026#34;type\u0026#34;: \u0026#34;0x91bfbc386a41afcfd9b2533058d7e915a1d3829089cc268ff4333d54d6339ca1::i32::I32\u0026#34;, \u0026#34;value\u0026#34;: 4294899946 } ] } ","title":"Sui Dynamic Objects"},{"content":"","permalink":"https://notes.0081800.xyz/personal/20240429203024-fire/","summary":"","title":"FIRE"},{"content":" tags: Linux, Systemd source: â€œSystemd by Example - Part 1: Minimization - Sebastian Jamborâ€™s Blog.â€ Accessed February 18, 2024. https://seb.jambor.dev/posts/systemd-by-example-part-1-minimization/. systemd unit types There are 11 different unit types, the most common 3 of them:\ntargets: activated by different system state, it\u0026rsquo;s useful as a dependency, e.g. sleep.target:do something when system is going to sleep.\nOf course, we can use systemctl to list the units that dependant on a specific unit.\nsystemctl list-dependencies graphical.target services Processes that are controlled by systemd.\nsockets Enables to open a socket without running a service, and only start the service onece there is traffic on the socket.\n","permalink":"https://notes.0081800.xyz/notes/20240218123608-systemd_by_example/","summary":"tags: Linux, Systemd source: â€œSystemd by Example - Part 1: Minimization - Sebastian Jamborâ€™s Blog.â€ Accessed February 18, 2024. https://seb.jambor.dev/posts/systemd-by-example-part-1-minimization/. systemd unit types There are 11 different unit types, the most common 3 of them:\ntargets: activated by different system state, it\u0026rsquo;s useful as a dependency, e.g. sleep.target:do something when system is going to sleep.\nOf course, we can use systemctl to list the units that dependant on a specific unit.","title":"systemd by example"},{"content":" tags: Linux,Systemd source: Walsh, Daniel. â€œHow to Run Systemd in a Container.â€ Red Hat Developer, April 24, 2019. https://developers.redhat.com/blog/2019/04/24/how-to-run-systemd-in-a-container. Podmand is a container engine which is published by Red Hat, has the same command-line interface(CLI) as Docker.\n","permalink":"https://notes.0081800.xyz/notes/20240218123120-use_podman_to_run_systemd_in_a_container/","summary":"tags: Linux,Systemd source: Walsh, Daniel. â€œHow to Run Systemd in a Container.â€ Red Hat Developer, April 24, 2019. https://developers.redhat.com/blog/2019/04/24/how-to-run-systemd-in-a-container. Podmand is a container engine which is published by Red Hat, has the same command-line interface(CLI) as Docker.","title":"Use Podman to Run Systemd in a Container"},{"content":" tags: Operating system ","permalink":"https://notes.0081800.xyz/notes/20231209105248-windows/","summary":" tags: Operating system ","title":"Windows"},{"content":" tags: Linux,Tools ","permalink":"https://notes.0081800.xyz/notes/20231101155522-logrotate/","summary":" tags: Linux,Tools ","title":"Logrotate"},{"content":" tags: Linux,Systemd,Supervisor,Logrotate Background I usually use supervisor1 to deploy my services, and capture the stdout/stderr to the log files, and then use logrotate to rotate the logs, which the configuration likes:\n/data/log/app/*/*.log { daily missingok rotate 180 dateext compress delaycompress notifempty create 640 nobody adm sharedscripts postrotate /usr/local/bin/supervisorctl -c /etc/supervisord.conf pid \u0026amp;\u0026amp; kill -USR2 `/usr/local/bin/supervisorctl -c /etc/supervisord.conf pid` \u0026gt; /tmp/kill.log 2\u0026gt;\u0026amp;1 endscript } As you can see, I make the logrotate to send a signal to supervisord after the logs have been rotated, to let the supervisord reopen the logs.\nBut when I deployed my services onto a Ubuntu 20.04, it just don\u0026rsquo;t work.\nShow The Verbose Then I change the logrotate.service to show the verbose outputs of logrorate, I changed the ExecStart in the logrotate.service to:\nExecStart=/usr/sbin/logrotate -f -v /etc/logrotate.conf -f to force logrotate run. Then I noticed a line in the outputs of command journalctl -xe:\nNov 01 15:49:51 vm logrotate[3952467]: unix:///tmp/supervisor.sock no such file Solve the Problem I identify that this is the output of supervisorctl, but the file is existed, then I noticed a line in the logrotate.service:\nPrivateTmp=true According to its documentation:\nPrivateTmp= Takes a boolean argument. If true, sets up a new file system namespace for the executed processes and mounts private /tmp and /var/tmp directories inside it that is not shared by processes outside of the namespace. This is useful to secure access to temporary files of the process, but makes sharing between processes via /tmp or /var/tmp impossible.\nSo I changed it to false, then the problem solved. If the security is more important to you, you can change the unix socket path.\nSee also Access files in system tmp directory, when using PrivateTmp logrotate succeeds when manually run as root, but fails with \u0026ldquo;Read-only file system\u0026rdquo; when run by logrotate.service http://supervisord.org/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/articles/20231101155419-logrotate_don_t_work_with_supervisor_on_ubuntu_20_04_with_systemd/","summary":"tags: Linux,Systemd,Supervisor,Logrotate Background I usually use supervisor1 to deploy my services, and capture the stdout/stderr to the log files, and then use logrotate to rotate the logs, which the configuration likes:\n/data/log/app/*/*.log { daily missingok rotate 180 dateext compress delaycompress notifempty create 640 nobody adm sharedscripts postrotate /usr/local/bin/supervisorctl -c /etc/supervisord.conf pid \u0026amp;\u0026amp; kill -USR2 `/usr/local/bin/supervisorctl -c /etc/supervisord.conf pid` \u0026gt; /tmp/kill.log 2\u0026gt;\u0026amp;1 endscript } As you can see, I make the logrotate to send a signal to supervisord after the logs have been rotated, to let the supervisord reopen the logs.","title":"Logrotate Don't Work With Supervisor on Ubuntu 20.04 With Systemd"},{"content":" tags: Tools ","permalink":"https://notes.0081800.xyz/notes/20231101155445-supervisor/","summary":" tags: Tools ","title":"Supervisor"},{"content":" tags: Linux ","permalink":"https://notes.0081800.xyz/notes/20231101155430-systemd/","summary":" tags: Linux ","title":"Systemd"},{"content":" tags: High Performance, Linux ","permalink":"https://notes.0081800.xyz/notes/20231031084640-bpf/","summary":" tags: High Performance, Linux ","title":"BPF"},{"content":" tags: Linux, Tools, BPF source: â€œPorting OpenBSD Pledge() to Linux.â€ Accessed October 31, 2023. https://justine.lol/pledge/. $ ./pledge.com \u0026#39;stdio rpath\u0026#39; ls # read only list files ","permalink":"https://notes.0081800.xyz/notes/20231031084456-porting_openbsd_pledge_to_linux/","summary":" tags: Linux, Tools, BPF source: â€œPorting OpenBSD Pledge() to Linux.â€ Accessed October 31, 2023. https://justine.lol/pledge/. $ ./pledge.com \u0026#39;stdio rpath\u0026#39; ls # read only list files ","title":"Porting OpenBSD pledge() to Linux"},{"content":" tags: Python, SIMD, High Performance source: Turner-Trauring, Itamar. â€œSpeeding up Cython with SIMD.â€ Pythonâ‡’Speed, October 18, 2023. https://pythonspeed.com/articles/faster-cython-simd/. ","permalink":"https://notes.0081800.xyz/notes/20231031082500-speeding_up_cython_with_simd/","summary":" tags: Python, SIMD, High Performance source: Turner-Trauring, Itamar. â€œSpeeding up Cython with SIMD.â€ Pythonâ‡’Speed, October 18, 2023. https://pythonspeed.com/articles/faster-cython-simd/. ","title":"Speeding up Cython with SIMD"},{"content":" tags: ZFS, FreeBSD $ mkdir /tmp/zroot $ zpool import -fR /tmp/zroot zroot $ zfs mount zroot/ROOT/default ","permalink":"https://notes.0081800.xyz/notes/20231020160536-freebsd_livecd_import_zfs/","summary":" tags: ZFS, FreeBSD $ mkdir /tmp/zroot $ zpool import -fR /tmp/zroot zroot $ zfs mount zroot/ROOT/default ","title":"FreeBSD LiveCD Import ZFS"},{"content":" source: Evans, Julia. â€œNew Talk: Making Hard Things Easy.â€ Julia Evans, October 6, 2023. https://jvns.ca/blog/2023/10/06/new-talk--making-hard-things-easy/. How to:\nReusable tools: shellcheck Find Good Documentation in that field, for example, HTTP: MDN RFC(rfc9110) Big list to small list, focus on the core: Only learn a few arguments about grep Only know a few fields about the output of dig Understand how computer executed chronologically: SQL Understand the hidden parts: DNS (resolve, library, servers) Communication with each other ","permalink":"https://notes.0081800.xyz/notes/20231008091859-making_hard_things_easy/","summary":" source: Evans, Julia. â€œNew Talk: Making Hard Things Easy.â€ Julia Evans, October 6, 2023. https://jvns.ca/blog/2023/10/06/new-talk--making-hard-things-easy/. How to:\nReusable tools: shellcheck Find Good Documentation in that field, for example, HTTP: MDN RFC(rfc9110) Big list to small list, focus on the core: Only learn a few arguments about grep Only know a few fields about the output of dig Understand how computer executed chronologically: SQL Understand the hidden parts: DNS (resolve, library, servers) Communication with each other ","title":"Making Hard Things Easy"},{"content":" tags: GPG, Yubikey source: https://github.com/drduh/YubiKey-Guide ","permalink":"https://notes.0081800.xyz/notes/20231005202026-yubikey_guide/","summary":" tags: GPG, Yubikey source: https://github.com/drduh/YubiKey-Guide ","title":"YubiKey-Guide"},{"content":" tags: GPG, Yubikey source: â€œA Visual Explanation of GPG Subkeys - Richard Goulterâ€™s Blog.â€ Accessed October 5, 2023. https://rgoulter.com/blog/posts/programming/2022-06-10-a-visual-explanation-of-gpg-subkeys.html. What does the [SC] or [E] mean in the output of gpt --list-keys:\nE = encrypt/descript S = sign C = certify(sign another key, establishing a trust relation) A = authentication(log in to SSH with a PG key) ","permalink":"https://notes.0081800.xyz/notes/20231005201518-a_visual_explanation_of_gpg_subkeys/","summary":" tags: GPG, Yubikey source: â€œA Visual Explanation of GPG Subkeys - Richard Goulterâ€™s Blog.â€ Accessed October 5, 2023. https://rgoulter.com/blog/posts/programming/2022-06-10-a-visual-explanation-of-gpg-subkeys.html. What does the [SC] or [E] mean in the output of gpt --list-keys:\nE = encrypt/descript S = sign C = certify(sign another key, establishing a trust relation) A = authentication(log in to SSH with a PG key) ","title":"A Visual Explanation of GPG Subkeys"},{"content":" tags: Sui POST https://fullnode.mainnet.sui.io Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;method\u0026#34;: \u0026#34;sui_getTransactionBlock\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;6wthaE4QzjWM7HnAzm6Pd4ymkNtadbHnqQkTXY7Ne1L3\u0026#34;, { \u0026#34;showInput\u0026#34;: true, \u0026#34;showRawInput\u0026#34;: false, \u0026#34;showEffects\u0026#34;: true, \u0026#34;showEvents\u0026#34;: true, \u0026#34;showObjectChanges\u0026#34;: true, \u0026#34;showBalanceChanges\u0026#34;: true } ] } ","permalink":"https://notes.0081800.xyz/notes/20230926105739-sui_gettransactionblock/","summary":" tags: Sui POST https://fullnode.mainnet.sui.io Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;method\u0026#34;: \u0026#34;sui_getTransactionBlock\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;6wthaE4QzjWM7HnAzm6Pd4ymkNtadbHnqQkTXY7Ne1L3\u0026#34;, { \u0026#34;showInput\u0026#34;: true, \u0026#34;showRawInput\u0026#34;: false, \u0026#34;showEffects\u0026#34;: true, \u0026#34;showEvents\u0026#34;: true, \u0026#34;showObjectChanges\u0026#34;: true, \u0026#34;showBalanceChanges\u0026#34;: true } ] } ","title":"sui_getTransactionBlock"},{"content":" Tags: FreeBSD First, configure to start service during the bootstrap:\nsysrc nfs_server_enable=\u0026#34;YES\u0026#34; sysrc nfs_server_flags=\u0026#34;-u -t -n 4\u0026#34; sysrc rpcbind_enable=\u0026#34;YES\u0026#34; sysrc rpc_statd_enable=\u0026#34;YES\u0026#34; sysrc rpc_lockd_enable=\u0026#34;YES\u0026#34; sysrc mountd_flags=\u0026#34;-r\u0026#34; sysrc mountd_enable=\u0026#34;YES\u0026#34; Second, export volume to the network in /etc/exports:\n/data/warehouse -mapall=root -network 192.168.1.0/24 NOTE: you shouldn\u0026rsquo;t export the pool root while you are using ZFS, as it can\u0026rsquo;t show the children in a datasets of it.\nAnd then we can start the services:\nservice nfsd start service statd start service lockd start You need to stop extra services when you want to restart:\nservice mountd stop service rpcbind stop service nfsd restart service statd restart service lockd restart Finally, we can use showmount command to see if it works:\nshowamount -e 192.168.1.x # replace 192.168.1.x to your real ip ","permalink":"https://notes.0081800.xyz/notes/20230915142523-freebsd_13_2_nfs/","summary":"Tags: FreeBSD First, configure to start service during the bootstrap:\nsysrc nfs_server_enable=\u0026#34;YES\u0026#34; sysrc nfs_server_flags=\u0026#34;-u -t -n 4\u0026#34; sysrc rpcbind_enable=\u0026#34;YES\u0026#34; sysrc rpc_statd_enable=\u0026#34;YES\u0026#34; sysrc rpc_lockd_enable=\u0026#34;YES\u0026#34; sysrc mountd_flags=\u0026#34;-r\u0026#34; sysrc mountd_enable=\u0026#34;YES\u0026#34; Second, export volume to the network in /etc/exports:\n/data/warehouse -mapall=root -network 192.168.1.0/24 NOTE: you shouldn\u0026rsquo;t export the pool root while you are using ZFS, as it can\u0026rsquo;t show the children in a datasets of it.\nAnd then we can start the services:","title":"FreeBSD 13.2 NFS"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230911145434-zfs/","summary":"","title":"ZFS"},{"content":" tags: FreeBSD, ZFS source: Shen Leo. â€œZFS å…¥é—¨æŒ‡åŒ—ï¼šè§„åˆ’ä¸åˆ›å»ºå­˜å‚¨æ± .â€ Leoâ€™s Field, March 21, 2022. https://szclsya.me/zh-cn/posts/storage/zfs-setup/. ","permalink":"https://notes.0081800.xyz/notes/20230911145426-zfs_%E5%85%A5%E9%97%A8%E6%8C%87%E5%8C%97_%E8%A7%84%E5%88%92%E4%B8%8E%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E6%B1%A0/","summary":" tags: FreeBSD, ZFS source: Shen Leo. â€œZFS å…¥é—¨æŒ‡åŒ—ï¼šè§„åˆ’ä¸åˆ›å»ºå­˜å‚¨æ± .â€ Leoâ€™s Field, March 21, 2022. https://szclsya.me/zh-cn/posts/storage/zfs-setup/. ","title":"ZFS å…¥é—¨æŒ‡åŒ—ï¼šè§„åˆ’ä¸åˆ›å»ºå­˜å‚¨æ± "},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230911142417-freebsd/","summary":"","title":"FreeBSD"},{"content":" TAGS: FreeBSD, NAS Source: â€œBuilding a FreeBSD Backup Server.â€ Accessed September 11, 2023. https://ogris.de/howtos/freebsd-backup-server.html. $ zfs create -quota=1T data/timemachine [global] workgroup = WORKGROUP security = user netbios name = backup server string = backup.your-local-domain.invalid hostname lookups = yes load printers = no show add printer wizard = no time server = yes map to guest = Bad User use mmap = yes dos charset = 850 unix charset = UTF-8 mangled names = no log level = 0 vfs objects = fruit streams_xattr zfsacl fruit:model = MacPro fruit:resource = file fruit:metadata = netatalk ; time machines [macbook] path = /data/timemachine read only = no use sendfile = yes browseable = no hosts allow = macbook.your-local-domain.invalid fe80::/10 fruit:time machine = yes fruit:time machine max size = 500G valid users = tm Then we can set our Macbook Pro to use the timemachine:\nsudo tmutil setdestination \u0026#39;smb://user:password@ip/macbook\u0026#39; ","permalink":"https://notes.0081800.xyz/notes/20230911142350-building_a_freebsd_backup_server/","summary":"TAGS: FreeBSD, NAS Source: â€œBuilding a FreeBSD Backup Server.â€ Accessed September 11, 2023. https://ogris.de/howtos/freebsd-backup-server.html. $ zfs create -quota=1T data/timemachine [global] workgroup = WORKGROUP security = user netbios name = backup server string = backup.your-local-domain.invalid hostname lookups = yes load printers = no show add printer wizard = no time server = yes map to guest = Bad User use mmap = yes dos charset = 850 unix charset = UTF-8 mangled names = no log level = 0 vfs objects = fruit streams_xattr zfsacl fruit:model = MacPro fruit:resource = file fruit:metadata = netatalk ; time machines [macbook] path = /data/timemachine read only = no use sendfile = yes browseable = no hosts allow = macbook.","title":"Building a FreeBSD backup server"},{"content":" TAGS: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20230911093102-sui/","summary":" TAGS: Blockchain ","title":"Sui"},{"content":" TAGS: Sui POST http://127.0.0.1:9000 Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;sui_moveCall\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x1\u0026#34;, \u0026#34;0xc8\u0026#34;, \u0026#34;obc_dao\u0026#34;, \u0026#34;voting_delay\u0026#34;, \u0026#34; ] } ","permalink":"https://notes.0081800.xyz/notes/20230911093008-sui_move_call/","summary":" TAGS: Sui POST http://127.0.0.1:9000 Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;sui_moveCall\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x1\u0026#34;, \u0026#34;0xc8\u0026#34;, \u0026#34;obc_dao\u0026#34;, \u0026#34;voting_delay\u0026#34;, \u0026#34; ] } ","title":"Sui Move Call"},{"content":" tags: Uniswap V3, Ethereum POST https://rpc.ankr.com/eth Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;method\u0026#34;: \u0026#34;eth_getTransactionReceipt\u0026#34;, \u0026#34;params\u0026#34;: [\u0026#34;0xeedf302cc12f4b7194742694aabec075c1c229f7b9d8e57a53c44c992bc6690c\u0026#34;] } ","permalink":"https://notes.0081800.xyz/notes/20230731163157-uniswap_v3_event_log/","summary":" tags: Uniswap V3, Ethereum POST https://rpc.ankr.com/eth Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;method\u0026#34;: \u0026#34;eth_getTransactionReceipt\u0026#34;, \u0026#34;params\u0026#34;: [\u0026#34;0xeedf302cc12f4b7194742694aabec075c1c229f7b9d8e57a53c44c992bc6690c\u0026#34;] } ","title":"Uniswap V3 Event Log"},{"content":" tags: Microstartup source: The Best Way To Launch Your Startup | Startup School, 2023. https://www.youtube.com/watch?v=u36A-YTxiOw. Emphasis Launch it ASAP, and launch it again and again.\nHow to Write a Pitch 1-line description\nto introduce your bussiness:\nTell WHAT, not WHY(maybe later). What problem it it solving, and for who. X for Y may not the best sentence. Ways: Launch in Different Channels Silent Launch Launch to Friends and family Launch to Strangers Online Community Lanuch: HN Waitlist Launch: Domain/Landing Page/Email list. ","permalink":"https://notes.0081800.xyz/notes/20230726091549-the_best_way_to_launch_your_startup/","summary":"tags: Microstartup source: The Best Way To Launch Your Startup | Startup School, 2023. https://www.youtube.com/watch?v=u36A-YTxiOw. Emphasis Launch it ASAP, and launch it again and again.\nHow to Write a Pitch 1-line description\nto introduce your bussiness:\nTell WHAT, not WHY(maybe later). What problem it it solving, and for who. X for Y may not the best sentence. Ways: Launch in Different Channels Silent Launch Launch to Friends and family Launch to Strangers Online Community Lanuch: HN Waitlist Launch: Domain/Landing Page/Email list.","title":"The Best Way To Launch Your Startup"},{"content":" tags: Papers source: â€œMrb: Should I Read Papers?â€ Accessed February 20, 2023. https://michaelrbernste.in/2014/10/21/should-i-read-papers.html. Yes, but reading a paper isn\u0026rsquo;t the same as reading a blogpost or a novel.\nA paper could be an idea captured by someone, or the result of a life\u0026rsquo;s work, or anything in between.\nYou might need to read it bit by bit, again and again.\n","permalink":"https://notes.0081800.xyz/notes/20230719091127-should_i_read_papers/","summary":"tags: Papers source: â€œMrb: Should I Read Papers?â€ Accessed February 20, 2023. https://michaelrbernste.in/2014/10/21/should-i-read-papers.html. Yes, but reading a paper isn\u0026rsquo;t the same as reading a blogpost or a novel.\nA paper could be an idea captured by someone, or the result of a life\u0026rsquo;s work, or anything in between.\nYou might need to read it bit by bit, again and again.","title":"Should I read papers"},{"content":" tags: Papers source: Al-Ansari, Khaled. â€œSoftware Engineers Should Read Academic Papers.â€ Medium (blog), July 15, 2023. https://medium.com/@KhaledElAnsari/software-engineers-should-read-academic-papers-9a6ee6ebc40d. There are some benefits of reading academic papers:\nStructured content can enhance your technical writing, you can learn structured writing.\n(Reading - Writing - Reviewing) cycle making you a better reader and reviewer.\nReading to gain information. Structured writing make review easier. Better deading and writing make you a better reviewer. Bridge the industry and the academic field.\nThere is a gap between the industry and the acamedic field. Anyone who can decrease the gap between them is the best enginer in technical field. One of the way to decrease the gap between them is reading academic papers, and then apply them to the industry trend. Learn new topics.\n","permalink":"https://notes.0081800.xyz/notes/20230717111715-software_engineers_should_read_academic_papers/","summary":"tags: Papers source: Al-Ansari, Khaled. â€œSoftware Engineers Should Read Academic Papers.â€ Medium (blog), July 15, 2023. https://medium.com/@KhaledElAnsari/software-engineers-should-read-academic-papers-9a6ee6ebc40d. There are some benefits of reading academic papers:\nStructured content can enhance your technical writing, you can learn structured writing.\n(Reading - Writing - Reviewing) cycle making you a better reader and reviewer.\nReading to gain information. Structured writing make review easier. Better deading and writing make you a better reviewer. Bridge the industry and the academic field.","title":"Software Engineers Should Read Academic Papers"},{"content":" tags: Solana source: https://github.com/solana-labs/solana/blob/eabe1070667e87f447b9cb892e2d916ca5b68e34/sdk/src/offchain_message.rs#L237-L240 /// Serialize the off-chain message to bytes including full header pub fn serialize(\u0026amp;self) -\u0026gt; Result\u0026lt;Vec\u0026lt;u8\u0026gt;, SanitizeError\u0026gt; { // serialize signing domain let mut data = Self::SIGNING_DOMAIN.to_vec(); // serialize version and call version specific serializer match self { Self::V0(msg) =\u0026gt; { data.push(0); msg.serialize(\u0026amp;mut data)?; } } Ok(data) } ","permalink":"https://notes.0081800.xyz/notes/20230615180334-solana_off_chain_message_signing/","summary":" tags: Solana source: https://github.com/solana-labs/solana/blob/eabe1070667e87f447b9cb892e2d916ca5b68e34/sdk/src/offchain_message.rs#L237-L240 /// Serialize the off-chain message to bytes including full header pub fn serialize(\u0026amp;self) -\u0026gt; Result\u0026lt;Vec\u0026lt;u8\u0026gt;, SanitizeError\u0026gt; { // serialize signing domain let mut data = Self::SIGNING_DOMAIN.to_vec(); // serialize version and call version specific serializer match self { Self::V0(msg) =\u0026gt; { data.push(0); msg.serialize(\u0026amp;mut data)?; } } Ok(data) } ","title":"Solana Off-Chain Message Signing"},{"content":" tags: Ethereum Networking Layer ","permalink":"https://notes.0081800.xyz/notes/20230614091826-ethereum_execution_layer/","summary":" tags: Ethereum Networking Layer ","title":"Ethereum Execution Layer"},{"content":" tags: Ethereum Networking, Ethereum Execution Layer ","permalink":"https://notes.0081800.xyz/notes/20230614091155-ethereum_sub_protocols/","summary":" tags: Ethereum Networking, Ethereum Execution Layer ","title":"Ethereum Sub-protocols"},{"content":" tags: Ethereum Sub-protocols, Ethereum Simulator Node Started when a RLPx session had initiated. Three main tasks before switch to PoS:\nChain synchronization Block propagation Transaction exchange: exchange pending transaction between nodes. Only transaction exchange remit after switch to PoS.\n","permalink":"https://notes.0081800.xyz/notes/20230614091142-ethereum_wire_protocol/","summary":"tags: Ethereum Sub-protocols, Ethereum Simulator Node Started when a RLPx session had initiated. Three main tasks before switch to PoS:\nChain synchronization Block propagation Transaction exchange: exchange pending transaction between nodes. Only transaction exchange remit after switch to PoS.","title":"Ethereum Wire Protocol"},{"content":" tags: Ethereum Networking, Ethereum Execution Layer Basic stack for p2p networking. Initiating RLPx Session.\nRLPX Session Communicate messages that encoded in RLP between peers.\n","permalink":"https://notes.0081800.xyz/notes/20230614090850-ethereum_devp2p/","summary":"tags: Ethereum Networking, Ethereum Execution Layer Basic stack for p2p networking. Initiating RLPx Session.\nRLPX Session Communicate messages that encoded in RLP between peers.","title":"Ethereum DevP2P"},{"content":" tags: Ethereum source: https://ethereum.org/en/developers/docs/networking-layer/ ","permalink":"https://notes.0081800.xyz/notes/20230614090110-ethereum_networking/","summary":" tags: Ethereum source: https://ethereum.org/en/developers/docs/networking-layer/ ","title":"Ethereum Networking Layer"},{"content":" tags: Ethereum Networking, Ethereum Simulator Node Boot nodes Using a small set that hardcoded bootnodes to bootstrap.\nProtocol Kademlia a modified form of Distributed Hash Table.\nSteps to join the network start client \u0026ndash;\u0026gt; connect to bootnode \u0026ndash;\u0026gt; bond to bootnode \u0026ndash;\u0026gt; find neighbours \u0026ndash;\u0026gt; bond to neighbours\n","permalink":"https://notes.0081800.xyz/notes/20230614090056-ethereum_discovery_nodes/","summary":"tags: Ethereum Networking, Ethereum Simulator Node Boot nodes Using a small set that hardcoded bootnodes to bootstrap.\nProtocol Kademlia a modified form of Distributed Hash Table.\nSteps to join the network start client \u0026ndash;\u0026gt; connect to bootnode \u0026ndash;\u0026gt; bond to bootnode \u0026ndash;\u0026gt; find neighbours \u0026ndash;\u0026gt; bond to neighbours","title":"Ethereum Discovery Nodes"},{"content":" tags: Ethereum Simulator Node, Ethereum Execution Layer Node Side: Receive pending transactions If we want to broadcast our transactions to the network in Ethereum, two RPC calls are involved:\nhttps://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendtransaction https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendrawtransaction So let\u0026rsquo;s follow those two calls to track how a transaction is broadcasted. Those two corresponding implementations are defined at internal/ethapi/api.go:\nSendTransaction SendRawTransaction And both of them are pointing to SubmitTransaction, which calls SendTx to put transaction into the txpool by calling:\nfunc (b *EthAPIBackend) SendTx(ctx context.Context, signedTx *types.Transaction) error { return b.eth.txPool.AddLocal(signedTx) } Miner Side: Execute pending transactions Miner start here at cmd/geth/main.go, which is calling:\n*EthAPIBackend.StartMining *Ethereum.StartMining *Miner.Start -\u0026gt; miner.worker.start() *worker.start -\u0026gt; \u0026lt;-startCh -\u0026gt; commit -\u0026gt; \u0026lt;-newWorkCh *worker.commitWork *worker.fillTransactions sealing pending transactions in txpool to a block. *worker.commitTransactions *worker.commitTransaction executing transaction core.ApplyTransaction *worker.commit *worker.engine.FinalizeAndAssemble *beacon.FinalizeAndAssemble *worker.updateSnapshot -\u0026gt; w.snapshotBlock / w.snapshotReceipts / w.snapshotState *Miner.Pending \u0026lt;- w.snapshotBlock / w.snapshotReceipts / w.snapshotState Remote Transactions Here we can see that we loaded some transactions from remote in *worker.fillTransactions:\n// Split the pending transactions into locals and remotes // Fill the block with all available pending transactions. pending := w.eth.TxPool().Pending(true) localTxs, remoteTxs := make(map[common.Address]types.Transactions), pending The w.eth here is the Ethereum structure, and its TxPool returns core.txpool.TxPool1 structure. The remote transactions should be added by calling *TxPool.AddRemotes, so let\u0026rsquo;s check where is calling it.\nhandleSendTx in les2 package. Which will be used in RegisterEthService at cmd/utils package. And then will be used in makeFullNode. Finally will be started in geth. P2P Side: Exchange pending transactions Ethereum Wire Protocol defined how transactions are exchanged between nodes.\nNodes use GetPooledTransactions (0x09)3 message to pull pending transactions from the peer. Which peers anwsered here:\nfunc answerGetPooledTransactions(backend Backend, query GetPooledTransactionsPacket, peer *Peer) ([]common.Hash, []rlp.RawValue) { // Gather transactions until the fetch or network limits is reached var ( bytes int hashes []common.Hash txs []rlp.RawValue ) for _, hash := range query { if bytes \u0026gt;= softResponseLimit { break } // Retrieve the requested transaction, skipping if unknown to us tx := backend.TxPool().Get(hash) if tx == nil { continue } // If known, encode and queue for response packet if encoded, err := rlp.EncodeToBytes(tx); err != nil { log.Error(\u0026#34;Failed to encode transaction\u0026#34;, \u0026#34;err\u0026#34;, err) } else { hashes = append(hashes, hash) txs = append(txs, encoded) bytes += len(encoded) } } return hashes, txs } Conclusion The node provide JSONRPC API to receive transaction from client side, and then put it into the txpool; The miner extracts transctions from txpool and executes them, and then seals the transactions into a pending block. https://github.com/ethereum/go-ethereum/blob/281e8cd5abaac86ed3f37f98250ff147b3c9fe62/eth/backend.go#L209\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://ethereum.org/en/developers/docs/networking-layer/#les\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/ethereum/devp2p/blob/master/caps/eth.md#getpooledtransactions-0x09\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20230612100850-how_is_a_transaction_broadcasted/","summary":"tags: Ethereum Simulator Node, Ethereum Execution Layer Node Side: Receive pending transactions If we want to broadcast our transactions to the network in Ethereum, two RPC calls are involved:\nhttps://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendtransaction https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendrawtransaction So let\u0026rsquo;s follow those two calls to track how a transaction is broadcasted. Those two corresponding implementations are defined at internal/ethapi/api.go:\nSendTransaction SendRawTransaction And both of them are pointing to SubmitTransaction, which calls SendTx to put transaction into the txpool by calling:","title":"How is a Transaction Broadcasted"},{"content":" tags: Ethereum Simulator Only use the data of the mainnet to simulate transaction, and DONOT commit the final transaction to the mainnet.\nRelay To identify our transactions that need to simulate, if it\u0026rsquo;s failed then drop that tx, otherwise commit the final transaction to the mainnet.\nThings need to consider:\nHow to limit or identify transactions that need to simulate?\nOnly execute the transactions from local txpool.\nWhere to execute the transction previously?\nAdd a new RPC method to simuluate and then send the transaction(e.g. eth_simuluateAndSendTransaction / eth_simuluateAndSendRawTransaction). Execute the transaction before we put the transaction into the txpool How to drop that transction from txpool?\nDon\u0026rsquo;t put it into the txpool if the transaction is failed. Do transaction need to be signed?\nHow to trace the changes during executing transaction? Query StateDB via two different state root.\nPre-execute before put tx into the txpool The tx may not be seal into block if gas too low. Pre-execute before put tx into the block The tx may be sealed by another node because the txpool will be synchronized between nodes. ","permalink":"https://notes.0081800.xyz/notes/20230612100350-ethereum_simulator_node/","summary":"tags: Ethereum Simulator Only use the data of the mainnet to simulate transaction, and DONOT commit the final transaction to the mainnet.\nRelay To identify our transactions that need to simulate, if it\u0026rsquo;s failed then drop that tx, otherwise commit the final transaction to the mainnet.\nThings need to consider:\nHow to limit or identify transactions that need to simulate?\nOnly execute the transactions from local txpool.\nWhere to execute the transction previously?","title":"Ethereum Simulator Node"},{"content":" tags: Essay Writing Guide\nList outlines\nExplore the resources and documentation to understand\nTaking notes during the exploring\nUse the method of How to Take Smart Notes\n","permalink":"https://notes.0081800.xyz/notes/20230608223754-how_to_write_a_technical_article/","summary":"tags: Essay Writing Guide\nList outlines\nExplore the resources and documentation to understand\nTaking notes during the exploring\nUse the method of How to Take Smart Notes","title":"How to Write a Technical Article"},{"content":" tags: Learning English, Journal ","permalink":"https://notes.0081800.xyz/notes/20230608214607-english_words/","summary":" tags: Learning English, Journal ","title":"English Words"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230608214629-journal/","summary":"","title":"Journal"},{"content":" tags: English Words Adjective\n(of an argument , theory, or policy) logical and consistent: they failed to develop a coherent economic strategy. united as or forming a whole: divided into a number of geographically coherent kingdoms. Physics (of waves) having a constant phase relationship. ","permalink":"https://notes.0081800.xyz/notes/20230608214518-coherent/","summary":" tags: English Words Adjective\n(of an argument , theory, or policy) logical and consistent: they failed to develop a coherent economic strategy. united as or forming a whole: divided into a number of geographically coherent kingdoms. Physics (of waves) having a constant phase relationship. ","title":"coherent"},{"content":" source: https://jordanbpeterson.com/wp-content/uploads/2018/02/Essay_Writing_Guide.docx tags: How to Write PART I: INTRODUCTION Why are we need to learn how to write an essay? Writing an essay is to think by writing, formulate and organize ideas. Writing an essay is also to learn or explore a new topic. How to get things done? If you don\u0026rsquo;t have a big chunk of time in your daily life, then don\u0026rsquo;t relay your success on it, take 15 minutes every day is still powerful: ã€Œæ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€.\nPART II: LEVELS OF RESOUTION Word Sentence Paragraph: 100 words or 10 sentences, rule is the rule A single idea. Less than 100 words a paragraph looks like a bad idea More than 300 words a paragraph may contain multiple ideas Forth Level: Proper Order of Paragraph Fifth Level: Whole Essay Context Culture PART III: THE TOPIC AND THE READING LIST Topic: question try to answer.\nIf you already have potential topics to choose, start with Topics, otherwise start with Reading List.\nPART IV: THE OUTLINE First Draft: Should be 25% longer than the final version.\nWrite 10 - 15 sentences outline for serval thousand words Essay.\nPART V: PARAGRAPHS PART VI: EDITING AND ARRANGING OF SENTENCES WITHIN PARAGRAPHS PART VII: RE-ORDERING THE PARAGRAPHS PART VIII: GENERATING A NEW OUTLINE PART IX: REPEAT PART X: REFERENCES AND BIBLIGRAPHY ","permalink":"https://notes.0081800.xyz/notes/20230608213315-essay_writing_guide/","summary":"source: https://jordanbpeterson.com/wp-content/uploads/2018/02/Essay_Writing_Guide.docx tags: How to Write PART I: INTRODUCTION Why are we need to learn how to write an essay? Writing an essay is to think by writing, formulate and organize ideas. Writing an essay is also to learn or explore a new topic. How to get things done? If you don\u0026rsquo;t have a big chunk of time in your daily life, then don\u0026rsquo;t relay your success on it, take 15 minutes every day is still powerful: ã€Œæ—¥æ‹±ä¸€å’ï¼ŒåŠŸä¸å”æã€.","title":"Essay Writing Guide"},{"content":" tags: PostgresQL Recently, I met a problem in PostgresQL: the index mismatched after batch rows inserted.\nRun ANALYZE on the table solved this problem after batch rows inerted.\nTurns out autovacuum has been disabled on the PostgresQL instance:\nshow autovacuum_analyze_scale_factor; show autovacuum_analyze_threshold ; SELECT * FROM pg_settings WHERE name LIKE \u0026#39;%autovacuum%\u0026#39;; ","permalink":"https://notes.0081800.xyz/notes/20230529093313-postgresql_autovacuum_analyze/","summary":" tags: PostgresQL Recently, I met a problem in PostgresQL: the index mismatched after batch rows inserted.\nRun ANALYZE on the table solved this problem after batch rows inerted.\nTurns out autovacuum has been disabled on the PostgresQL instance:\nshow autovacuum_analyze_scale_factor; show autovacuum_analyze_threshold ; SELECT * FROM pg_settings WHERE name LIKE \u0026#39;%autovacuum%\u0026#39;; ","title":"PostgresQL autovacuum \u0026 ANALYZE"},{"content":" tags: On The Road https://www.google.com/maps/dir/New+York/Joliet/Rock+Island,+IL/Rapids+City,+IL/Des+Moines,+IA/Adel,+Iowa/Stuart,+Iowa/Council+Bluffs,+Iowa/Omaha,+NE/Grand+Island,+NE/@40.7489186,-96.7492412,5z/data=!3m1!4b1!4m62!4m61!1m5!1m1!1s0x89c24fa5d33f083b:0xc80b8f06e177fe62!2m2!1d-74.0059728!2d40.7127753!1m5!1m1!1s0x880e456bec363d7d:0x9f9e66f7a36bc042!2m2!1d-88.0817251!2d41.525031!1m5!1m1!1s0x87e232c357044b77:0xecc19371d71475f1!2m2!1d-90.5787476!2d41.5094771!1m5!1m1!1s0x87e23f0ad2e7aeb3:0x43aab678fe9e328d!2m2!1d-90.3434615!2d41.5817!1m5!1m1!1s0x87ee99a4c1611ee7:0x710028512691e4b2!2m2!1d-93.6249593!2d41.5868353!1m5!1m1!1s0x87ec39285c3540b9:0x84581d5d4142c1ec!2m2!1d-94.017453!2d41.6144325!1m5!1m1!1s0x87ec60c99a9a7d0f:0xb0c00a66d8103978!2m2!1d-94.3183715!2d41.5034243!1m5!1m1!1s0x879381cfa109322f:0xbe4e81fa5222799e!2m2!1d-95.8608333!2d41.2619444!1m5!1m1!1s0x87938dc8b50cfced:0x46424d4fae37b604!2m2!1d-95.9345034!2d41.2565369!1m5!1m1!1s0x87998644ec7765f7:0xa12d5b784951b17b!2m2!1d-98.3420118!2d40.9263957!3e0\n","permalink":"https://notes.0081800.xyz/notes/20230508154357-met_eddie/","summary":"tags: On The Road https://www.google.com/maps/dir/New+York/Joliet/Rock+Island,+IL/Rapids+City,+IL/Des+Moines,+IA/Adel,+Iowa/Stuart,+Iowa/Council+Bluffs,+Iowa/Omaha,+NE/Grand+Island,+NE/@40.7489186,-96.7492412,5z/data=!3m1!4b1!4m62!4m61!1m5!1m1!1s0x89c24fa5d33f083b:0xc80b8f06e177fe62!2m2!1d-74.0059728!2d40.7127753!1m5!1m1!1s0x880e456bec363d7d:0x9f9e66f7a36bc042!2m2!1d-88.0817251!2d41.525031!1m5!1m1!1s0x87e232c357044b77:0xecc19371d71475f1!2m2!1d-90.5787476!2d41.5094771!1m5!1m1!1s0x87e23f0ad2e7aeb3:0x43aab678fe9e328d!2m2!1d-90.3434615!2d41.5817!1m5!1m1!1s0x87ee99a4c1611ee7:0x710028512691e4b2!2m2!1d-93.6249593!2d41.5868353!1m5!1m1!1s0x87ec39285c3540b9:0x84581d5d4142c1ec!2m2!1d-94.017453!2d41.6144325!1m5!1m1!1s0x87ec60c99a9a7d0f:0xb0c00a66d8103978!2m2!1d-94.3183715!2d41.5034243!1m5!1m1!1s0x879381cfa109322f:0xbe4e81fa5222799e!2m2!1d-95.8608333!2d41.2619444!1m5!1m1!1s0x87938dc8b50cfced:0x46424d4fae37b604!2m2!1d-95.9345034!2d41.2565369!1m5!1m1!1s0x87998644ec7765f7:0xa12d5b784951b17b!2m2!1d-98.3420118!2d40.9263957!3e0","title":"Met Eddie"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230508154308-on_the_road/","summary":"","title":"On The Road"},{"content":" tags: Emacs, macOS source: Simon, Ben. â€œGotcha: Emacs on Mac OS: Too Many Files Open.â€ Accessed April 18, 2023. https://www.blogbyben.com/2022/05/gotcha-emacs-on-mac-os-too-many-files.html. Add below code snippet to your init.el:\n(defun file-notify-rm-all-watches () \u0026#34;Remove all existing file notification watches from Emacs.\u0026#34; (interactive) (maphash (lambda (key _value) (file-notify-rm-watch key)) file-notify-descriptors)) Then just execute M-x file-notify-rm-all-watches when you meet this problem next time.\n","permalink":"https://notes.0081800.xyz/notes/20230418212343-emacs_on_macos_too_many_files_open/","summary":"tags: Emacs, macOS source: Simon, Ben. â€œGotcha: Emacs on Mac OS: Too Many Files Open.â€ Accessed April 18, 2023. https://www.blogbyben.com/2022/05/gotcha-emacs-on-mac-os-too-many-files.html. Add below code snippet to your init.el:\n(defun file-notify-rm-all-watches () \u0026#34;Remove all existing file notification watches from Emacs.\u0026#34; (interactive) (maphash (lambda (key _value) (file-notify-rm-watch key)) file-notify-descriptors)) Then just execute M-x file-notify-rm-all-watches when you meet this problem next time.","title":"Emacs on Macos: Too Many Files Open"},{"content":" tags: AI Clone nltk_data\ngit clone https://github.com/nltk/nltk_data.git ~/.local/nltk_data Link nltk_data\nln -sf ~/.local/nltk_data/packages ~/nltk_data Unzip\ncd ~/nltk_data/path unzip xx.zip ","permalink":"https://notes.0081800.xyz/notes/20230418151139-nltk_data/","summary":" tags: AI Clone nltk_data\ngit clone https://github.com/nltk/nltk_data.git ~/.local/nltk_data Link nltk_data\nln -sf ~/.local/nltk_data/packages ~/nltk_data Unzip\ncd ~/nltk_data/path unzip xx.zip ","title":"NLTK Data"},{"content":" tags: Linux ","permalink":"https://notes.0081800.xyz/notes/20230417095019-bash/","summary":" tags: Linux ","title":"Bash"},{"content":" tags: Cheatsheet, Bash source: Devhints.io cheatsheets. â€œBash Scripting Cheatsheet.â€ Accessed April 17, 2023. https://devhints.io/bash. ","permalink":"https://notes.0081800.xyz/notes/20230417095009-bash_scripting_cheatsheet/","summary":" tags: Cheatsheet, Bash source: Devhints.io cheatsheets. â€œBash Scripting Cheatsheet.â€ Accessed April 17, 2023. https://devhints.io/bash. ","title":"Bash scripting cheatsheet"},{"content":" tags: Cheatsheet, Linux source: â€œSearchable Linux Syscall Table for X86 and X86_64 | PyTux.â€ Accessed April 17, 2023. https://filippo.io/linux-syscall-table/. ","permalink":"https://notes.0081800.xyz/notes/20230417094911-searchable_linux_syscall_table_for_x86_and_x86_64/","summary":" tags: Cheatsheet, Linux source: â€œSearchable Linux Syscall Table for X86 and X86_64 | PyTux.â€ Accessed April 17, 2023. https://filippo.io/linux-syscall-table/. ","title":"Searchable Linux Syscall Table for x86 and x86_64"},{"content":" tags: Starcoin Web3 StarTrek, Sign Message Invocation Path Dapp request personal_sign1\nconst msg = `0x${Buffer.from(exampleMessage, \u0026#39;utf8\u0026#39;).toString(\u0026#39;hex\u0026#39;)}` console.log({ msg }) const networkId = networkDiv.innerHTML const extraParams = { networkId } const sign = await window.starcoin.request({ method: \u0026#39;personal_sign\u0026#39;, // params: [msg, from, \u0026#39;Example password\u0026#39;], // extraParams = params[2] || {}; means it should be an object: // params: [msg, from, { pwd: \u0026#39;Example password\u0026#39; }], params: [msg, from, extraParams], }) Starmask handling request signPersonalMessage\nkeyringController.signPersonalMessage(cleanMsgParams)Â 2 , 3\n3 types of keyring:4\nSimpleKeyring.signPersonalMessage HdKeyring.signPersonalMessage HdKeyringAptos.signPersonalMessage utils.signedMessage.generateSignedMessage5\nstarcoin.js implementing generatedSignedMessage6 Conclusion Message signed at keyring:\n/** * Sign Personal Message * * Attempts to sign the provided message paramaters. * Prefixes the hash before signing per the personal sign expectation. * * @param {Object} msgParams - The message parameters to sign. * @returns {Promise\u0026lt;Buffer\u0026gt;} The raw signature. */ signPersonalMessage(msgParams, opts = {}) { const address = normalizeAddress(msgParams.from) return this.getKeyringForAccount(address) .then((keyring) =\u0026gt; { return keyring.signPersonalMessage(address, msgParams.rawData, opts) }) } The rawData is built at2:\nconst rawData = Buffer.from(stripHexPrefix(cleanMsgParams.data), \u0026#39;hex\u0026#39;).toString(\u0026#39;utf8\u0026#39;) Then the getEd25519SignMsgBytes will be invoked:\nexport function getEd25519SignMsgBytes( signingMessage: SigningMessage, ): bytes { const hasher = createSigningMessageHasher(); const hashSeedBytes = hasher.get_salt(); const signingMessageBytes = (function () { const se = new BcsSerializer(); signingMessage.serialize(se); return se.getBytes(); })(); const msgBytes = ((a, b) =\u0026gt; { const tmp = new Uint8Array(a.length + b.length); tmp.set(a, 0); tmp.set(b, a.length); return tmp; })(hashSeedBytes, signingMessageBytes); return msgBytes; } The msgBytes is the combination of hashSeedBytes and message itself.\nhttps://starcoin.org/en/developers/others/starcoin_dapp/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/starcoinorg/starmask-extension/blob/0b8f2c796f3bb45f5dcf46a0ead650fd51e14b2c/app/scripts/metamask-controller.js#L1688-L1691\u0026#160;\u0026#x21a9;\u0026#xfe0e;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/starcoinorg/stc-keyring-controller/blob/master/index.js#L385-L400\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/starcoinorg/stc-keyring-controller/blob/master/index.js#L12-L20\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/starcoinorg/starmask-extension/blob/0b8f2c796f3bb45f5dcf46a0ead650fd51e14b2c/app/scripts/metamask-controller.js#L1695\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/starcoinorg/starcoin.js/blob/a9b21262f9550cb98aaf7bf9f7ef2d5d2967fc7a/src/utils/signed-message.ts#L55-L67\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20230412102128-starcoin_signing_message/","summary":"tags: Starcoin Web3 StarTrek, Sign Message Invocation Path Dapp request personal_sign1\nconst msg = `0x${Buffer.from(exampleMessage, \u0026#39;utf8\u0026#39;).toString(\u0026#39;hex\u0026#39;)}` console.log({ msg }) const networkId = networkDiv.innerHTML const extraParams = { networkId } const sign = await window.starcoin.request({ method: \u0026#39;personal_sign\u0026#39;, // params: [msg, from, \u0026#39;Example password\u0026#39;], // extraParams = params[2] || {}; means it should be an object: // params: [msg, from, { pwd: \u0026#39;Example password\u0026#39; }], params: [msg, from, extraParams], }) Starmask handling request signPersonalMessage","title":"Starcoin Signing Message"},{"content":" tags: Python ","permalink":"https://notes.0081800.xyz/notes/20230411180138-pyenv/","summary":" tags: Python ","title":"pyenv"},{"content":" tags: Python, pyenv export PYTHON_BUILD_MIRROR_URL_SKIP_CHECKSUM=1 export PYTHON_BUILD_MIRROR_URL=\u0026#34;https://mirrors.huaweicloud.com/python/\u0026#34; ","permalink":"https://notes.0081800.xyz/notes/20230411180124-speedup_python_installation_of_pyenv/","summary":" tags: Python, pyenv export PYTHON_BUILD_MIRROR_URL_SKIP_CHECKSUM=1 export PYTHON_BUILD_MIRROR_URL=\u0026#34;https://mirrors.huaweicloud.com/python/\u0026#34; ","title":"Speedup Python Installation of pyenv"},{"content":" tags: Sign Message The starmask has implemented about signing message of APTOS.\n","permalink":"https://notes.0081800.xyz/notes/20230411092153-aptos_signing_message/","summary":"tags: Sign Message The starmask has implemented about signing message of APTOS.","title":"Aptos Signing Message"},{"content":" tags: Python, LSP\nsource: https://emacs-lsp.github.io/lsp-pyright/#usage-notes\nDownload Default Type Stubs git clone https://github.com/microsoft/python-type-stubs $HOME/.local/src/python-type-stubs Use it in Emacs (setq lsp-pyright-stub-path (concat (getenv \u0026#34;HOME\u0026#34;) \u0026#34;/.local//src/python-type-stubs\u0026#34;)) ;; example Add Django Type Stubs git clone git@github.com:typeddjango/django-stubs.git ~/.local/src/django-stubs ln -sf ~/.local/src/django-stubs/django-stubs ~/.local/src/python-type-stubs/django Add Celery Type Stubs git clone https://github.com/sbdchd/celery-types ~/.local/src/celery-types ln -sf ~/.local/src/celery-types/amqp-stubs ~/.local/src/python-type-stubs/amqp ln -sf ~/.local/src/celery-types/billiard-stubs ~/.local/src/python-type-stubs/billiard ln -sf ~/.local/src/celery-types/celery-stubs ~/.local/src/python-type-stubs/celery ln -sf ~/.local/src/celery-types/django_celery_results-stubs ~/.local/src/python-type-stubs/django_celery_results ln -sf ~/.local/src/celery-types/ephem-stubs ~/.local/src/python-type-stubs/ephem ln -sf ~/.local/src/celery-types/kombu-stubs ~/.local/src/python-type-stubs/kombu ln -sf ~/.local/src/celery-types/vine-stubs ~/.local/src/python-type-stubs/vine ","permalink":"https://notes.0081800.xyz/notes/20230410161857-pyright_type_stubs/","summary":"tags: Python, LSP\nsource: https://emacs-lsp.github.io/lsp-pyright/#usage-notes\nDownload Default Type Stubs git clone https://github.com/microsoft/python-type-stubs $HOME/.local/src/python-type-stubs Use it in Emacs (setq lsp-pyright-stub-path (concat (getenv \u0026#34;HOME\u0026#34;) \u0026#34;/.local//src/python-type-stubs\u0026#34;)) ;; example Add Django Type Stubs git clone git@github.com:typeddjango/django-stubs.git ~/.local/src/django-stubs ln -sf ~/.local/src/django-stubs/django-stubs ~/.local/src/python-type-stubs/django Add Celery Type Stubs git clone https://github.com/sbdchd/celery-types ~/.local/src/celery-types ln -sf ~/.local/src/celery-types/amqp-stubs ~/.local/src/python-type-stubs/amqp ln -sf ~/.local/src/celery-types/billiard-stubs ~/.local/src/python-type-stubs/billiard ln -sf ~/.local/src/celery-types/celery-stubs ~/.local/src/python-type-stubs/celery ln -sf ~/.local/src/celery-types/django_celery_results-stubs ~/.local/src/python-type-stubs/django_celery_results ln -sf ~/.local/src/celery-types/ephem-stubs ~/.local/src/python-type-stubs/ephem ln -sf ~/.local/src/celery-types/kombu-stubs ~/.local/src/python-type-stubs/kombu ln -sf ~/.","title":"Pyright Type Stubs"},{"content":" tags: Memory Management, Heap Fragmentation ","permalink":"https://notes.0081800.xyz/notes/20230407181930-jemalloc/","summary":" tags: Memory Management, Heap Fragmentation ","title":"jemalloc"},{"content":" tags: Memory Model ","permalink":"https://notes.0081800.xyz/notes/20230407181835-memory_management/","summary":" tags: Memory Model ","title":"Memory Management"},{"content":" tags: Memory Management ","permalink":"https://notes.0081800.xyz/notes/20230407181757-heap_fragmentation/","summary":" tags: Memory Management ","title":"Heap Fragmentation"},{"content":" tags: Heap Fragmentation, jemalloc source:Svix Blog. â€œSpotting and Avoiding Heap Fragmentation in Rust Applications,â€ April 4, 2023. https://www.svix.com/blog/heap-fragmentation-in-rust-applications/. Heap fragmentation cause stair-step memeory usage, use jemalloc to solve heap fragmentation.\n","permalink":"https://notes.0081800.xyz/notes/20230407181742-spotting_and_avoiding_heap_fragmentation_in_rust_applications/","summary":"tags: Heap Fragmentation, jemalloc source:Svix Blog. â€œSpotting and Avoiding Heap Fragmentation in Rust Applications,â€ April 4, 2023. https://www.svix.com/blog/heap-fragmentation-in-rust-applications/. Heap fragmentation cause stair-step memeory usage, use jemalloc to solve heap fragmentation.","title":"Spotting and Avoiding Heap Fragmentation in Rust Applications"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20230407180408-sign_message/","summary":" tags: Blockchain ","title":"Sign Message"},{"content":" tags: Tron, Sign Message Three methods tronweb.trx.signMessageV11 tronweb.trx.signMessageV22 tronweb.trx._signtypeddata3, 4 https://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/lib/trx.js#L727-L739\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/utils/message.js#L8-L18\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/utils/crypto.js#L89\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTIP 104\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20230407180424-tron_signing_data/","summary":"tags: Tron, Sign Message Three methods tronweb.trx.signMessageV11 tronweb.trx.signMessageV22 tronweb.trx._signtypeddata3, 4 https://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/lib/trx.js#L727-L739\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/utils/message.js#L8-L18\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/tronprotocol/tronweb/blob/859253856c79d3aff26ec6c89afefc73840d648d/src/utils/crypto.js#L89\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nTIP 104\u0026#160;\u0026#x21a9;\u0026#xfe0e;","title":"Tron Signing Data"},{"content":" tags: Ethereum, Sign Message source: â€œSigning Data | MetaMask Docs.â€ Accessed April 6, 2023. https://docs.metamask.io/guide/signing-data.html#signtypeddata-v4. Five Methods1 eth_sign allow to sign arbitrary hash.2 personal_sign add prefix to data and human readable text that encoded UFT-8.3 signTypedData or signTypedData_v1 first release that lacked some later security improvements. signTypedData_v3 signTypedData_v4 compatible with V3. Differences Between V3 and V44 Some input types that V3 doesn\u0026rsquo;t support but V4 does:\nCustom type array Custom type with null input Some input types that V4 doesn\u0026rsquo;t support but V3 does:\nAtomic type with undefined input Dynamic type with undefined input Atomic types are of a fixed size (e.g. int8d), whereas dynamic types can vary in size (e.g. strings, bytes). We also test arrays of each of these types.\nA Brief History\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/MetaMask/test-dapp/blob/fb848448bd58d4ef725d6817ad2f99bc86827a27/src/index.js#L1149-L1150\u0026#160;\u0026#x21a9;\u0026#xfe0e;\npackages/util/src/signature.ts#L183-L193\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nsrc/sign-typed-data.test.ts#L343-L384\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20230406090923-ethereum_signing_data/","summary":"tags: Ethereum, Sign Message source: â€œSigning Data | MetaMask Docs.â€ Accessed April 6, 2023. https://docs.metamask.io/guide/signing-data.html#signtypeddata-v4. Five Methods1 eth_sign allow to sign arbitrary hash.2 personal_sign add prefix to data and human readable text that encoded UFT-8.3 signTypedData or signTypedData_v1 first release that lacked some later security improvements. signTypedData_v3 signTypedData_v4 compatible with V3. Differences Between V3 and V44 Some input types that V3 doesn\u0026rsquo;t support but V4 does:\nCustom type array Custom type with null input Some input types that V4 doesn\u0026rsquo;t support but V3 does:","title":"Ethereum Signing Data"},{"content":" tags: Go, GDB Enable Core Dumps ulimit -S -c unlimited Confirm or Change The Location of Core Dumps sysctl -w kernel.core_pattern=/tmp/core.%e.%p # Or echo \u0026#39;/tmp/core.%e.%p\u0026#39; | tee /proc/sys/kernel/core_pattern Set GOTRACEBACK Environment Variable to Let Go Program Core Dumps when Panic export GOTRACEBACK=crash Run Go Program and Wait Segmentation Fault Use GDB to Debug gdb /path/to/goprogram /tmp/core-xx-xx Then use thread apply all bt to see all backtraces, include compiled C code.\nNote: -g option should be applied to the compiled C code to generate debug symbols.\n","permalink":"https://notes.0081800.xyz/notes/20230405200523-use_gdb_to_debug_cgo_segmentation_fault/","summary":"tags: Go, GDB Enable Core Dumps ulimit -S -c unlimited Confirm or Change The Location of Core Dumps sysctl -w kernel.core_pattern=/tmp/core.%e.%p # Or echo \u0026#39;/tmp/core.%e.%p\u0026#39; | tee /proc/sys/kernel/core_pattern Set GOTRACEBACK Environment Variable to Let Go Program Core Dumps when Panic export GOTRACEBACK=crash Run Go Program and Wait Segmentation Fault Use GDB to Debug gdb /path/to/goprogram /tmp/core-xx-xx Then use thread apply all bt to see all backtraces, include compiled C code.","title":"Use GDB to Debug Cgo Segmentation Fault"},{"content":" tags: Ethereum Layer 2 Background You may meet the below error when you\u0026rsquo;re trying to transfer all your ETH from one address to another address:\ninvalid transaction: insufficient funds for l1fee + gas * price + value\nThe reason is that the Layer 1 fee are included in Scroll\u0026rsquo;s gas fee system, but the wallet only exclude the Layer 2 gas fee to do so when you transfer all your ETH.Â 1\nHow the L1 Fee be Caculated? Some state is stored in the state store slots2, which including:\nl1BaseFee precision overhead scalar You got some RLP3 encoded raw data when you send tx to Scroll, which need to be stored to the Layer 1 network as a calldata, which requires fee charge4. let\u0026rsquo;s name it:\nraw Finally we put all these together5\n// EIP-1559 // 16 * non-zero calldata bytes + 4 * zero calldata bytes l1GasUsed = calcCalldataFee(calldata) + overhead l1Gas = round((l1GasUsed * l1GasPrice * scalar) / precision) How to Retrieve State Slots? L1BaseFeeSlot POST https://alpha-rpc.scroll.io/l2 Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 40, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x1\u0026#34;] } OverheadSlot POST https://alpha-rpc.scroll.io/l2 Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 40, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x2\u0026#34;] } ScalarSlot POST https://alpha-rpc.scroll.io/l2 Content-Type: application/json { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 40, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x3\u0026#34;] } In a Batch POST https://alpha-rpc.scroll.io/l2 Content-Type: application/json [ { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 1, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x1\u0026#34;] }, { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 2, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x2\u0026#34;] }, { \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;id\u0026#34;: 3, \u0026#34;method\u0026#34;: \u0026#34;eth_getStorageAt\u0026#34;, \u0026#34;params\u0026#34;: [ \u0026#34;0x5300000000000000000000000000000000000002\u0026#34;, \u0026#34;0x3\u0026#34;] } ] VerifyFee\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nL1 Gas Definition\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nRecursive-length prefix (RLP) serialization\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nEIP-1559\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nCalculateL1Fee\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20230323083609-scrolll2_how_to_cacluate_l1fee/","summary":"tags: Ethereum Layer 2 Background You may meet the below error when you\u0026rsquo;re trying to transfer all your ETH from one address to another address:\ninvalid transaction: insufficient funds for l1fee + gas * price + value\nThe reason is that the Layer 1 fee are included in Scroll\u0026rsquo;s gas fee system, but the wallet only exclude the Layer 2 gas fee to do so when you transfer all your ETH.","title":"ScrollL2: How to Caculate L1Fee"},{"content":" tags: Yubikey source: â€œHow to Yubikey: A Configuration Cheatsheet,â€ March 1, 2023. https://debugging.works/blog/yubikey-cheatsheet/. ","permalink":"https://notes.0081800.xyz/notes/20230311085820-how_to_yubikey_a_configuration_cheatsheet/","summary":" tags: Yubikey source: â€œHow to Yubikey: A Configuration Cheatsheet,â€ March 1, 2023. https://debugging.works/blog/yubikey-cheatsheet/. ","title":"How to Yubikey: a configuration cheatsheet"},{"content":" tags: Python, High Performance source: Textual Documentation. â€œTextual - Overhead of Python Asyncio Tasks,â€ March 8, 2023. https://textual.textualize.io/blog/2023/03/08/overhead-of-python-asyncio-tasks/. Tasks of asyncio from create to run, then shutdown is about: 260K tasks per second.\n","permalink":"https://notes.0081800.xyz/notes/20230309093002-overhead_of_python_asyncio_tasks_260k_s/","summary":"tags: Python, High Performance source: Textual Documentation. â€œTextual - Overhead of Python Asyncio Tasks,â€ March 8, 2023. https://textual.textualize.io/blog/2023/03/08/overhead-of-python-asyncio-tasks/. Tasks of asyncio from create to run, then shutdown is about: 260K tasks per second.","title":"Overhead of Python asyncio Tasks: 260K/s"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230225090409-yubikey/","summary":"","title":"Yubikey"},{"content":" tags: Yubikey source: BHIS. â€œHow to Weaponize the Yubikey.â€ Black Hills Information Security (blog), May 2, 2019. https://www.blackhillsinfosec.com/how-to-weaponize-the-yubikey/. ","permalink":"https://notes.0081800.xyz/notes/20230225090358-how_to_weaponize_the_yubikey/","summary":" tags: Yubikey source: BHIS. â€œHow to Weaponize the Yubikey.â€ Black Hills Information Security (blog), May 2, 2019. https://www.blackhillsinfosec.com/how-to-weaponize-the-yubikey/. ","title":"How to Weaponize the Yubikey"},{"content":" tags: Online Tools,Microstartup\nsource: https://twitter.com/vikingmute/status/1597417185470992384\nHTTPS: Let\u0026rsquo;s Encrypt(acme.sh)\nä¼ä¸šé‚®ç®±ï¼š\nym.163.coomï¼ˆ3G å®¹é‡ï¼‰ zoho.com.cn/mail/ landing page æ­å»º\nhttps://tailblocks.cc/ https://landing.ant.design/ å›¾æ ‡ç´ æ\nfontawesome.com iconfinder.com éŸ³ä¹ç´ æ\nhttps://uppbeat.io æ’ç”»\nhttps://undraw.co/illustrations https://www.manypixels.co/gallery storyset.com CDN\ncloudflare.com jsdelivr.com é™æ€æ‰˜ç®¡\npages.cloudflare.comï¼ˆæ— é™è¯·æ±‚å’Œæ— çº¿å¸¦å®½ï¼‰ vercel.com(1G å¸¦å®½é™åˆ¶) å…è´¹åŸŸå\nfreenom.com å…è´¹ PS\nphotopea.com éå…³ç³»æ•°æ®åº“\nAWS DynamoDB 25GB å­˜å‚¨ + 1G ä¼ è¾“,https://aws.amazon.com/cn/dynamodb/ Azure CosmosDB 25GB å­˜å‚¨ï¼Œå…¼å®¹ MongoDB ä»¥åŠ PostgresQL å…³ç³»å‹æ•°æ®åº“\nhttps://planetscale.com 5GB å­˜å‚¨ï¼Œæ¯æœˆ 10äº¿è¡Œè¯»ï¼Œ1000ä¸‡è¡Œå†™ã€‚ ç›‘æ§å·¥å…·\nhttps://uptimerobot.com/ å¯¹è±¡å­˜å‚¨\nç½‘æ˜“äº‘ nos https://163yun.com/nos/free 50GB å­˜å‚¨ï¼Œ20GBä¸‹è¡Œæµé‡/æœˆ åˆæ‹äº‘è”ç›Ÿ https://upyun.com/league 10GB å­˜å‚¨ï¼Œ25GBæµé‡/æœˆ https://cloudinary.com/ï¼ˆå›½å¤–ï¼‰ï¼Œæ˜“ç”¨ã€å¼ºå¤§ã€25GBå­˜å‚¨ï¼Œæ¯æœˆ 25,000 æ¬¡å›¾ç‰‡è½¬æ¢ï¼Œ25GB æµé‡ã€‚ å®¢æˆ·ä¿¡æ¯\nhttps://crisp.chat/ IP ä¿¡æ¯æŸ¥è¯¢\nhttps://ipapi.co/ ","permalink":"https://notes.0081800.xyz/notes/20230224101131-%E4%BC%98%E8%B4%A8%E5%85%8D%E8%B4%B9%E6%9C%8D%E5%8A%A1/","summary":"tags: Online Tools,Microstartup\nsource: https://twitter.com/vikingmute/status/1597417185470992384\nHTTPS: Let\u0026rsquo;s Encrypt(acme.sh)\nä¼ä¸šé‚®ç®±ï¼š\nym.163.coomï¼ˆ3G å®¹é‡ï¼‰ zoho.com.cn/mail/ landing page æ­å»º\nhttps://tailblocks.cc/ https://landing.ant.design/ å›¾æ ‡ç´ æ\nfontawesome.com iconfinder.com éŸ³ä¹ç´ æ\nhttps://uppbeat.io æ’ç”»\nhttps://undraw.co/illustrations https://www.manypixels.co/gallery storyset.com CDN\ncloudflare.com jsdelivr.com é™æ€æ‰˜ç®¡\npages.cloudflare.comï¼ˆæ— é™è¯·æ±‚å’Œæ— çº¿å¸¦å®½ï¼‰ vercel.com(1G å¸¦å®½é™åˆ¶) å…è´¹åŸŸå\nfreenom.com å…è´¹ PS\nphotopea.com éå…³ç³»æ•°æ®åº“\nAWS DynamoDB 25GB å­˜å‚¨ + 1G ä¼ è¾“,https://aws.amazon.com/cn/dynamodb/ Azure CosmosDB 25GB å­˜å‚¨ï¼Œå…¼å®¹ MongoDB ä»¥åŠ PostgresQL å…³ç³»å‹æ•°æ®åº“\nhttps://planetscale.com 5GB å­˜å‚¨ï¼Œæ¯æœˆ 10äº¿è¡Œè¯»ï¼Œ1000ä¸‡è¡Œå†™ã€‚ ç›‘æ§å·¥å…·\nhttps://uptimerobot.com/ å¯¹è±¡å­˜å‚¨\nç½‘æ˜“äº‘ nos https://163yun.com/nos/free 50GB å­˜å‚¨ï¼Œ20GBä¸‹è¡Œæµé‡/æœˆ åˆæ‹äº‘è”ç›Ÿ https://upyun.com/league 10GB å­˜å‚¨ï¼Œ25GBæµé‡/æœˆ https://cloudinary.","title":"ä¼˜è´¨å…è´¹æœåŠ¡"},{"content":" tags: Ethereum Before EIP 1559 The miner receive both fees and block reward.\nAfter EIP 1559 The fee divide to 2 parts:\nBase Fee Priority Fee The miner receive priority fee and block reward, the base fee will be burned.\n","permalink":"https://notes.0081800.xyz/notes/20230221094510-eip_1559/","summary":"tags: Ethereum Before EIP 1559 The miner receive both fees and block reward.\nAfter EIP 1559 The fee divide to 2 parts:\nBase Fee Priority Fee The miner receive priority fee and block reward, the base fee will be burned.","title":"EIP 1559"},{"content":"","permalink":"https://notes.0081800.xyz/topic/20230220113214-papers/","summary":"","title":"Papers"},{"content":" source: https://github.com/papers-we-love/papers-we-love tags: Papers ","permalink":"https://notes.0081800.xyz/notes/20230220113243-papers_we_love/","summary":" source: https://github.com/papers-we-love/papers-we-love tags: Papers ","title":"Papers We Love"},{"content":" source: The Refreshingly Rewarding Realm of Research Papers, 2015. https://www.youtube.com/watch?v=8eRx5Wo3xYA. tags: Papers Finding Something to Read Sources:\nColleagues Papers We Love the morning paper With some topics/categories, to search on ACM Classification System(Require membership) Librarian Reading \u0026amp; Comprehending 3 Passes:\nGo though: title/sections/concclusions/references. (10min) Read more closely (1-2 hours) Mark unread References Step though closely Summarize in 1-2 sentences; outline major contributes; note strengths/weaknesses (couple hours) Implementing Use familar tools, except the paper used specific tool. Be aware to pseudo code. Prepare to work and results Test early. Test often. Interacting with the authors. ","permalink":"https://notes.0081800.xyz/notes/20230220113142-the_refreshingly_rewarding_realm_of_research_papers/","summary":"source: The Refreshingly Rewarding Realm of Research Papers, 2015. https://www.youtube.com/watch?v=8eRx5Wo3xYA. tags: Papers Finding Something to Read Sources:\nColleagues Papers We Love the morning paper With some topics/categories, to search on ACM Classification System(Require membership) Librarian Reading \u0026amp; Comprehending 3 Passes:\nGo though: title/sections/concclusions/references. (10min) Read more closely (1-2 hours) Mark unread References Step though closely Summarize in 1-2 sentences; outline major contributes; note strengths/weaknesses (couple hours) Implementing Use familar tools, except the paper used specific tool.","title":"The Refreshingly Rewarding Realm of Research Papers"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20230218143222-mpc/","summary":"","title":"MPC"},{"content":" tags: Database, PostgresQL source: Crunchy Data. â€œFive Tips For a Healthier Postgres Database in the New Year.â€ Accessed February 13, 2023. https://crunchydata.com/blog/five-tips-for-a-healthier-postgres-database-in-the-new-year. ","permalink":"https://notes.0081800.xyz/notes/20230213164423-five_tips_for_a_healthier_postgres_database_in_the_new_year/","summary":" tags: Database, PostgresQL source: Crunchy Data. â€œFive Tips For a Healthier Postgres Database in the New Year.â€ Accessed February 13, 2023. https://crunchydata.com/blog/five-tips-for-a-healthier-postgres-database-in-the-new-year. ","title":"Five Tips For a Healthier Postgres Database in the New Year"},{"content":" tags: Ethereum,Blockchain,Tron source: https://ethereum.stackexchange.com/a/110498 const data = \u0026#39;0x7ff36ab50000000000000000000000000000000000000000000000bc18ba4144048bbab00000000000000000000000000000000000000000000000000000000000000080000000000000000000000000c0c5eb43e2df059e3be6e4fb0284c283caa5991900000000000000000000000000000000000000000000000000000000614d87a80000000000000000000000000000000000000000000000000000000000000002000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c00000000000000000000000008ba0619b1e7a582e0bce5bbe9843322c954c340\u0026#39;; ethers.utils.defaultAbiCoder.decode( [\u0026#39;uint256\u0026#39;, \u0026#39;address[]\u0026#39;, \u0026#39;address\u0026#39;, \u0026#39;uint256\u0026#39;], ethers.utils.hexDataSlice(data, 4) ) // gives: [e, [\u0026#34;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\u0026#34;, \u0026#34;0x08ba0619b1e7A582E0BCe5BBE9843322C954C340\u0026#34;], \u0026#34;0xC0C5eb43E2dF059e3Be6E4fb0284C283CAa59919\u0026#34;, e] (4) Online tools: Playground.\n","permalink":"https://notes.0081800.xyz/notes/20230203133843-decode_input_data_of_ethereum/","summary":"tags: Ethereum,Blockchain,Tron source: https://ethereum.stackexchange.com/a/110498 const data = \u0026#39;0x7ff36ab50000000000000000000000000000000000000000000000bc18ba4144048bbab00000000000000000000000000000000000000000000000000000000000000080000000000000000000000000c0c5eb43e2df059e3be6e4fb0284c283caa5991900000000000000000000000000000000000000000000000000000000614d87a80000000000000000000000000000000000000000000000000000000000000002000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c00000000000000000000000008ba0619b1e7a582e0bce5bbe9843322c954c340\u0026#39;; ethers.utils.defaultAbiCoder.decode( [\u0026#39;uint256\u0026#39;, \u0026#39;address[]\u0026#39;, \u0026#39;address\u0026#39;, \u0026#39;uint256\u0026#39;], ethers.utils.hexDataSlice(data, 4) ) // gives: [e, [\u0026#34;0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\u0026#34;, \u0026#34;0x08ba0619b1e7A582E0BCe5BBE9843322C954C340\u0026#34;], \u0026#34;0xC0C5eb43E2dF059e3Be6E4fb0284C283CAa59919\u0026#34;, e] (4) Online tools: Playground.","title":"Decode input data of Ethereum"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20230203133859-tron/","summary":" tags: Blockchain ","title":"Tron"},{"content":" tags: Emacs source: http://bjornwestergard.com/log/2022-04-19-hypertext-emacs.gmi C-x C-f M-n to find-file-at-point.\n","permalink":"https://notes.0081800.xyz/notes/20230131105103-hypertext_in_emacs_find_file_at_point/","summary":"tags: Emacs source: http://bjornwestergard.com/log/2022-04-19-hypertext-emacs.gmi C-x C-f M-n to find-file-at-point.","title":"Hypertext in Emacs: find-file-at-point"},{"content":" tags: Solana, Solana 101: 2. Anchor What is Program Derived Address(PDA)?1 A Program Derived Address is simply an account owned by the program, but has no private key. Instead it\u0026rsquo;s signature is obtained by a set of seeds and a bump (a nonce which makes sure it\u0026rsquo;s off curve). \u0026ldquo;Generating\u0026rdquo; a Program Address is different from \u0026ldquo;creating\u0026rdquo; it.\nGenerating One can generate a PDA using Pubkey::find_program_address in Rust or PublicKey.findProgramAddressSync in JavaScript; Creating a PDA essentially means to initialize the address with space and set the state to it. #+end_quote\nHow to Generate a PDA? In frontend by using @solana/web3.js:\nimport * as web3 from \u0026#34;@solana/web3.js\u0026#34;; import { Buffer } from \u0026#39;buffer\u0026#39;; const keypair = await connectWallet(); const programId = \u0026#34;Cj9VjDrohXuz914FNbaTMmEqYXkLkJKZn9FCq4UGGGwr\u0026#34;; const [pda, dump] = web3.PublicKey.findProgramAddressSync( [ Buffer.from(\u0026#34;seed1\u0026#34;), keypair.publicKey, ], new web3.PublicKey(programId), ); Summary:\nSeeds can be used to distinguish different purpose of PDA for one program; Multipe items of bump shall be returned, but the first dump is called \u0026ldquo;canonical bump\u0026rdquo;; bump is needed when to use PDA sign tx on chain via program. How the PDA be Created By a Program?2 Change the owner of PDA to the specific program by AccountInfo.assign; Transfer some lamports from funding account to the PDA to pay the rent; Allocate data space by AccountInfo.realloc. // Assessing required lamports and creating transaction instruction let lamports_required = Rent::get()?.minimum_balance(ACCOUNT_DATA_LEN); let create_pda_account_ix = system_instruction::create_account( \u0026amp;funding_account.key, \u0026amp;pda_account.key, lamports_required, ACCOUNT_DATA_LEN.try_into().unwrap(), \u0026amp;program_id, ); // Invoking the instruction but with PDAs as additional signer invoke_signed( \u0026amp;create_pda_account_ix, \u0026amp;[ funding_account.clone(), pda_account.clone(), system_program.clone(), ], \u0026amp;[signers_seeds], )?; How the PDA be Created By anchor?3 By using #[account(init)] macro attribute:\n#[account] pub struct UserStats { level: u16, name: String, bump: u8, } // validation struct #[derive(Accounts)] pub struct CreateUserStats\u0026lt;\u0026#39;info\u0026gt; { #[account(mut)] pub user: Signer\u0026lt;\u0026#39;info\u0026gt;, // space: 8 discriminator + 2 level + 4 name length + 200 name + 1 bump #[account( init, payer = user, space = 8 + 2 + 4 + 200 + 1, seeds = [b\u0026#34;user-stats\u0026#34;, user.key().as_ref()], bump )] pub user_stats: Account\u0026lt;\u0026#39;info, UserStats\u0026gt;, pub system_program: Program\u0026lt;\u0026#39;info, System\u0026gt;, } Program Derived Addresses (PDAs)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nHow to create a PDA\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nPDAs\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20221226154617-solana_pda/","summary":"tags: Solana, Solana 101: 2. Anchor What is Program Derived Address(PDA)?1 A Program Derived Address is simply an account owned by the program, but has no private key. Instead it\u0026rsquo;s signature is obtained by a set of seeds and a bump (a nonce which makes sure it\u0026rsquo;s off curve). \u0026ldquo;Generating\u0026rdquo; a Program Address is different from \u0026ldquo;creating\u0026rdquo; it.\nGenerating One can generate a PDA using Pubkey::find_program_address in Rust or PublicKey.","title":"Solana PDA"},{"content":" tags: Nginx One Endpoint for Both WebSocket and Normal Requests,Solana,Solana 101: Create an Escrow dApp I met a lot network issues about connecting to RPC node of Solana, so I\u0026rsquo;m using a nginx server as a reverse proxy to bypass this problem:\nlocation / { # https://serverfault.com/a/923254 try_files /nonexistent @$http_upgrade; } location @ { proxy_pass https://api.testnet.solana.com; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Host \u0026#34;api.testnet.solana.com\u0026#34;; } location @websocket { proxy_redirect off; proxy_pass https://api.testnet.solana.com; proxy_http_version 1.1; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; } ","permalink":"https://notes.0081800.xyz/notes/20221224153042-reverse_proxy_to_bypass_network_issue_of_solana_rpc_node/","summary":"tags: Nginx One Endpoint for Both WebSocket and Normal Requests,Solana,Solana 101: Create an Escrow dApp I met a lot network issues about connecting to RPC node of Solana, so I\u0026rsquo;m using a nginx server as a reverse proxy to bypass this problem:\nlocation / { # https://serverfault.com/a/923254 try_files /nonexistent @$http_upgrade; } location @ { proxy_pass https://api.testnet.solana.com; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Host \u0026#34;api.testnet.solana.com\u0026#34;; } location @websocket { proxy_redirect off; proxy_pass https://api.","title":"Reverse Proxy to bypass Network Issue of Solana RPC Node"},{"content":" tags: Linux ","permalink":"https://notes.0081800.xyz/notes/20221224152920-nginx/","summary":" tags: Linux ","title":"Nginx"},{"content":" tags: Nginx source: https://serverfault.com/a/923254 server { # ... location / { # If \u0026#34;Websocket\u0026#34; is in Upgrade header, then @websocket will take effect, # otherwise @ will take effect. try_files /nonexistent @$http_upgrade; } location @websocket { # websocket related stuff } location @ { # web related stuff } } ","permalink":"https://notes.0081800.xyz/notes/20221224152905-nginx_one_endpoint_for_both_websocket_and_normal_requests/","summary":" tags: Nginx source: https://serverfault.com/a/923254 server { # ... location / { # If \u0026#34;Websocket\u0026#34; is in Upgrade header, then @websocket will take effect, # otherwise @ will take effect. try_files /nonexistent @$http_upgrade; } location @websocket { # websocket related stuff } location @ { # web related stuff } } ","title":"Nginx One Endpoint for Both WebSocket and Normal Requests"},{"content":"å‚è€ƒ https://github.com/RobbieXie/2020DecorationNote Ideas åœ¨é©¬æ¡¶æ—è¾¹è¦ç•™ä¸€ä¸ªæ’åº§ï¼Œç”¨äºæ™ºèƒ½é©¬æ¡¶å«ï¼› å¨æˆ¿æ²¹çƒŸæœºæœºä¸€ä¸ªå…‰æ»‘æ–œé¢å¯ä»¥åœ¨é¤å…åç€çœ‹é”…é‡Œçš„æƒ…å†µï¼› å…¨å±‹å…­ç±»çº¿é¢„ç•™ AP å’Œæ’åº§ï¼Œæœ€å¥½èƒ½æ‰©å¤§å¼±ç”µç®±èƒ½æ”¾è¿›å»ä¸ª NASï¼› é¢å‘æ‰«åœ°æœºå™¨äººè£…ä¿®ï¼› ","permalink":"https://notes.0081800.xyz/notes/20221224110813-decoration/","summary":"å‚è€ƒ https://github.com/RobbieXie/2020DecorationNote Ideas åœ¨é©¬æ¡¶æ—è¾¹è¦ç•™ä¸€ä¸ªæ’åº§ï¼Œç”¨äºæ™ºèƒ½é©¬æ¡¶å«ï¼› å¨æˆ¿æ²¹çƒŸæœºæœºä¸€ä¸ªå…‰æ»‘æ–œé¢å¯ä»¥åœ¨é¤å…åç€çœ‹é”…é‡Œçš„æƒ…å†µï¼› å…¨å±‹å…­ç±»çº¿é¢„ç•™ AP å’Œæ’åº§ï¼Œæœ€å¥½èƒ½æ‰©å¤§å¼±ç”µç®±èƒ½æ”¾è¿›å»ä¸ª NASï¼› é¢å‘æ‰«åœ°æœºå™¨äººè£…ä¿®ï¼› ","title":"Decoration"},{"content":" tags: Ethereum Knowning Layer 2 Chain Rollup(or bundle) transactions off-chain to reduce fee and scale capacity, such as Bitcoin Lightning.\nTwo layer 2 rollups Optimistic Rollups Zero-Knowledge Rollups Record on-chain state by writing calldata to L1(Ethereum), which more cheaper than change state on L1 chain.\nFees Some layer 2 chain like Optimism should plus l1 fee when executing transaction on layer 1.1\nMany Ethereum applications display estimated fees to users by multiplying the gas price by the gas limit. However, as discussed earlier, users on Optimism are charged both an L2 execution fee and an L1 data fee. As a result, you should display the sum of both of these fees to give users the most accurate estimate of the total cost of a transaction.\nSome chain will include the fee of layer 1 to layer 2 transaction execution, such as Arbitrum2:\nTools https://l2fees.info/ https://l2beat.com/scaling/tvl/ Displaying fees to users\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nEstimating Gas\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20221223100819-ethereum_layer_2/","summary":"tags: Ethereum Knowning Layer 2 Chain Rollup(or bundle) transactions off-chain to reduce fee and scale capacity, such as Bitcoin Lightning.\nTwo layer 2 rollups Optimistic Rollups Zero-Knowledge Rollups Record on-chain state by writing calldata to L1(Ethereum), which more cheaper than change state on L1 chain.\nFees Some layer 2 chain like Optimism should plus l1 fee when executing transaction on layer 1.1\nMany Ethereum applications display estimated fees to users by multiplying the gas price by the gas limit.","title":"Ethereum Layer 2"},{"content":" tags: Go Elem() Returns Value type T struct { } t := \u0026amp;T{} v := reflect.New(reflect.TypeOf(t)).Elem() // type of v is `T` Interface() Returns Pointer type T struct { } t := \u0026amp;T{} v := reflect.New(reflect.TypeOf(t)).Interface() // type of v is `\u0026amp;T` ","permalink":"https://notes.0081800.xyz/notes/20221123104729-go_reflect/","summary":" tags: Go Elem() Returns Value type T struct { } t := \u0026amp;T{} v := reflect.New(reflect.TypeOf(t)).Elem() // type of v is `T` Interface() Returns Pointer type T struct { } t := \u0026amp;T{} v := reflect.New(reflect.TypeOf(t)).Interface() // type of v is `\u0026amp;T` ","title":"Go Reflect"},{"content":" tags: Solana 101: Create an Escrow dApp ","permalink":"https://notes.0081800.xyz/notes/20221122204630-solana_101_5_escrow_dapp/","summary":" tags: Solana 101: Create an Escrow dApp ","title":"Solana 101: 5. Escrow dApp"},{"content":" tags: Solana 101: Create an Escrow dApp è¿æ¥é’±åŒ… å®‰è£… Phantom é’±åŒ…ï¼› ä½¿ç”¨ @solana/wallet-adapter è¿æ¥é’±åŒ…ã€‚å®˜æ–¹æä¾›äº† React ç›¸å…³çš„å®ç°ï¼ŒVue å¯ä»¥é€šè¿‡ç¤¾åŒºæä¾›çš„åº“ï¼šhttps://github.com/lorisleiva/solana-wallets-vueã€‚ npm install solana-wallets-vue @solana/wallet-adapter-wallets åˆ›å»º SPL Token å®‰è£…ä¾èµ– npm install --save @solana/spl-token åˆ›å»ºä»£å¸ é€šè¿‡ Token Program åˆ›å»º Tokenï¼ŒSolana é€šè¿‡å…¶ç‰¹æœ‰çš„è´¦å·æœºåˆ¶ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªè´¦å·å¹¶å°† Owner è®¾ç½®ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ Token Program å³å¯å‘è¡Œä¸€ç§ä»£å¸ã€‚1\nå‘è¡Œä»£å¸ è¦æŒæœ‰ä»£å¸å¿…é¡»åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ Associated Token Accountï¼ˆATAï¼‰ï¼Œä¹Ÿå°±æ˜¯è¦æ¥æ”¶ä¸€ä¸ªä»£å¸é¦–å…ˆè¦æ£€æŸ¥æœ‰æ²¡æœ‰å¯¹åº”ä»£å¸çš„ ATAï¼Œæ²¡æœ‰åˆ™åˆ›å»ºï¼Œç„¶åç»™å¯¹åº”çš„ ATA è½¬ç§»ä»£å¸ã€‚\nä»£å¸è½¬å¸ ç‡ƒçƒ§ä»£å¸ SPL Token äº¤äº’ï¼šæˆæƒ Program è½¬å¸ Libraries:\nspl_associated_token_account Steps:\nDelegate token to Program \u0026ndash; in frontend. Create a Associated Token Account for Program to hold token. Q: How to avoid duplicated initialization? A: data size of account. Program: Transfer token from wallet to Program USDT\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20221122204508-solana_101_3_create_a_spl_token/","summary":"tags: Solana 101: Create an Escrow dApp è¿æ¥é’±åŒ… å®‰è£… Phantom é’±åŒ…ï¼› ä½¿ç”¨ @solana/wallet-adapter è¿æ¥é’±åŒ…ã€‚å®˜æ–¹æä¾›äº† React ç›¸å…³çš„å®ç°ï¼ŒVue å¯ä»¥é€šè¿‡ç¤¾åŒºæä¾›çš„åº“ï¼šhttps://github.com/lorisleiva/solana-wallets-vueã€‚ npm install solana-wallets-vue @solana/wallet-adapter-wallets åˆ›å»º SPL Token å®‰è£…ä¾èµ– npm install --save @solana/spl-token åˆ›å»ºä»£å¸ é€šè¿‡ Token Program åˆ›å»º Tokenï¼ŒSolana é€šè¿‡å…¶ç‰¹æœ‰çš„è´¦å·æœºåˆ¶ï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªè´¦å·å¹¶å°† Owner è®¾ç½®ä¸ºä¸€ä¸ªç»Ÿä¸€çš„ Token Program å³å¯å‘è¡Œä¸€ç§ä»£å¸ã€‚1\nå‘è¡Œä»£å¸ è¦æŒæœ‰ä»£å¸å¿…é¡»åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ Associated Token Accountï¼ˆATAï¼‰ï¼Œä¹Ÿå°±æ˜¯è¦æ¥æ”¶ä¸€ä¸ªä»£å¸é¦–å…ˆè¦æ£€æŸ¥æœ‰æ²¡æœ‰å¯¹åº”ä»£å¸çš„ ATAï¼Œæ²¡æœ‰åˆ™åˆ›å»ºï¼Œç„¶åç»™å¯¹åº”çš„ ATA è½¬ç§»ä»£å¸ã€‚\nä»£å¸è½¬å¸ ç‡ƒçƒ§ä»£å¸ SPL Token äº¤äº’ï¼šæˆæƒ Program è½¬å¸ Libraries:\nspl_associated_token_account Steps:\nDelegate token to Program \u0026ndash; in frontend. Create a Associated Token Account for Program to hold token.","title":"Solana 101: 3. SPL Token"},{"content":" tags: Solana 101: Create an Escrow dApp ","permalink":"https://notes.0081800.xyz/notes/20221122204541-solana_101_4_create_a_spl_nft/","summary":" tags: Solana 101: Create an Escrow dApp ","title":"Solana 101: 4. SPL NFT"},{"content":" tags: Solana 101: Create an Escrow dApp é“¾ä¸Šæ•°æ®å­˜å‚¨ è´¦å·æ‰€æœ‰æƒ è´¦å·å¯ä»¥é€šè¿‡ Metadata æŒ‡å®šä¸€ä¸ª Program ä½œä¸ºæ‹¥æœ‰è€…ï¼ˆOwnerï¼‰ï¼› Program ä½œä¸ºæ‹¥æœ‰è€…å¯ä»¥ï¼š ä¿®æ”¹è´¦å·æ•°æ®ï¼› å¯ä»¥ä½¿ç”¨è¯¥ PDA è¿›è¡Œç­¾åã€‚ PDA(Program Derived Address) 1 ä½¿ç”¨ PDA è¿›è¡Œåˆçº¦çŠ¶æ€é“¾ä¸Šå­˜å‚¨ã€‚\nPDA åªæœ‰ä¸€ä¸ªç±»ä¼¼å…¬é’¥çš„åœ°å€ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åº”çš„ç§é’¥ï¼› é“¾ä¸‹ç”Ÿæˆï¼šé€šè¿‡ PublicKey.findProgramAddress ç”Ÿæˆ PDAï¼Œseeds ç”¨äºç”Ÿæˆå¤šä¸ª PDAï¼› é“¾ä¸Šåˆ›å»ºï¼šå°† PDA ä½œä¸ºè´¦å·ä¼ é€’ç»™ Program è¿›è¡Œé“¾ä¸Šåˆ›å»ºï¼šå¡«å……è¶³å¤Ÿçš„ lamports ç”¨äºæ”¯ä»˜ç§Ÿé‡‘ã€å¼€è¾Ÿç©ºé—´ã€æŒ‡å®š program ä½œä¸º Ownerã€‚ åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ éƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼› ç”Ÿæˆä¸€ä¸ª PDA å¹¶è¿›è¡Œé“¾ä¸Šåˆ›å»ºï¼› å¢åŠ è®¡æ•°å™¨ï¼› å…¶ä»–è´¦å·è·å– PDAï¼Œå¹¶å¢åŠ è®¡æ•°å™¨ï¼› ä½¿ç”¨ Anchor é‡å†™è®¡æ•°å™¨ å®‰è£… Anchor å®‰è£… Yarn å®‰è£… avm cargo install --git https://github.com/project-serum/anchor avm --locked --force ä½¿ç”¨ avm å®‰è£… anchor avm install latest avm use latest åˆ›å»º anchor é¡¹ç›® anchor init hello-anchor anchor é¡¹ç›®ç»“æ„ Understanding Program Derived Addresses\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20221122204442-solana_101_2_anchor/","summary":"tags: Solana 101: Create an Escrow dApp é“¾ä¸Šæ•°æ®å­˜å‚¨ è´¦å·æ‰€æœ‰æƒ è´¦å·å¯ä»¥é€šè¿‡ Metadata æŒ‡å®šä¸€ä¸ª Program ä½œä¸ºæ‹¥æœ‰è€…ï¼ˆOwnerï¼‰ï¼› Program ä½œä¸ºæ‹¥æœ‰è€…å¯ä»¥ï¼š ä¿®æ”¹è´¦å·æ•°æ®ï¼› å¯ä»¥ä½¿ç”¨è¯¥ PDA è¿›è¡Œç­¾åã€‚ PDA(Program Derived Address) 1 ä½¿ç”¨ PDA è¿›è¡Œåˆçº¦çŠ¶æ€é“¾ä¸Šå­˜å‚¨ã€‚\nPDA åªæœ‰ä¸€ä¸ªç±»ä¼¼å…¬é’¥çš„åœ°å€ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åº”çš„ç§é’¥ï¼› é“¾ä¸‹ç”Ÿæˆï¼šé€šè¿‡ PublicKey.findProgramAddress ç”Ÿæˆ PDAï¼Œseeds ç”¨äºç”Ÿæˆå¤šä¸ª PDAï¼› é“¾ä¸Šåˆ›å»ºï¼šå°† PDA ä½œä¸ºè´¦å·ä¼ é€’ç»™ Program è¿›è¡Œé“¾ä¸Šåˆ›å»ºï¼šå¡«å……è¶³å¤Ÿçš„ lamports ç”¨äºæ”¯ä»˜ç§Ÿé‡‘ã€å¼€è¾Ÿç©ºé—´ã€æŒ‡å®š program ä½œä¸º Ownerã€‚ åˆ›å»ºä¸€ä¸ªè®¡æ•°å™¨ éƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼› ç”Ÿæˆä¸€ä¸ª PDA å¹¶è¿›è¡Œé“¾ä¸Šåˆ›å»ºï¼› å¢åŠ è®¡æ•°å™¨ï¼› å…¶ä»–è´¦å·è·å– PDAï¼Œå¹¶å¢åŠ è®¡æ•°å™¨ï¼› ä½¿ç”¨ Anchor é‡å†™è®¡æ•°å™¨ å®‰è£… Anchor å®‰è£… Yarn å®‰è£… avm cargo install --git https://github.com/project-serum/anchor avm --locked --force ä½¿ç”¨ avm å®‰è£… anchor avm install latest avm use latest åˆ›å»º anchor é¡¹ç›® anchor init hello-anchor anchor é¡¹ç›®ç»“æ„ Understanding Program Derived Addresses\u0026#160;\u0026#x21a9;\u0026#xfe0e;","title":"Solana 101: 2. Anchor"},{"content":" tags: Solana 101: Create an Escrow dApp Account UTXO Unspend Transaction Output.\nEVM Accounts1 EOA(Externally-owned acount) - ç”¨æˆ·ç”¨ç§é’¥æ§åˆ¶çš„è´¦å·ï¼› åˆçº¦è´¦å·ï¼ˆContract accountï¼‰ - ä»£ç æ§åˆ¶çš„è´¦å·ï¼Œç”¨äºéƒ¨ç½²æ™ºèƒ½åˆçº¦ä»£ç ã€‚ è´¦å·æ¨¡å‹é€šè¿‡ç”¨æˆ·åœ°å€ä¸ºç”¨æˆ·å¼€è¾Ÿä¸€å—å•ç‹¬çš„å­˜å‚¨ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ç”¨å…¬ç§é’¥å¯¼å‡ºçš„å”¯ä¸€åœ°å€ä½œä¸ºä¸»é”®å­˜å‚¨åœ¨èŠ‚ç‚¹çš„å­˜å‚¨ç³»ç»Ÿé‡Œï¼ˆRocksDBï¼‰ï¼› è¿™æ ·åªè¦å°†é“¾ä¸Šè½¬è´¦æˆ–è€…æ™ºèƒ½åˆçº¦äº§ç”Ÿçš„ç»“æœæˆ–å‰¯ä½œç”¨å­˜å‚¨åœ¨è´¦å·ä¸‹é¢å³å¯ã€‚\nSolana Account Model Accounts2 è´¦å·ç”¨äºæä¾›ç»™æ™ºèƒ½åˆçº¦ï¼ˆProgramï¼‰è·¨äº¤æ˜“å­˜å‚¨çŠ¶æ€ï¼Œç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿï¼› åŒ…å«å…ƒæ•°æ®ï¼ˆmetadataï¼‰è¯´æ˜è°æœ‰æƒé™è®¿é—®è¿™äº›çŠ¶æ€ï¼› Solana ç‹¬ç‰¹çš„åˆ›æ–°ï¼šè´¦å·ä¼´æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„ç§é’¥å¹¶ä¸å®Œå…¨æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œè€Œæ˜¯ä»é“¾ä¸Šç§Ÿå€Ÿï¼ˆrentï¼‰äº†ä¸€ä¸ªè´¦å·ï¼Œå¹¶æ”¯ä»˜å¯¹åº”çš„ç§Ÿé‡‘ï¼Œå½“ç§Ÿå€Ÿè¿‡æœŸä¸”æ²¡æœ‰è¶³å¤Ÿçš„ä½™é¢ï¼ˆlamportsï¼‰æ”¯ä»˜ç§Ÿé‡‘çš„æƒ…å†µä¸‹ï¼Œè´¦å·ä¸‹çš„æ•°æ®å°†è¢«é“¾å›æ”¶ï¼› ä¸€ç¬”äº¤æ˜“é‡Œå¯ä»¥å‚ä¸çš„è´¦å·ç±»å‹æœ‰ï¼š\nSigners ä¸€ç¬”äº¤æ˜“å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç­¾åè€…ï¼Œè¡¨ç¤ºæˆæƒæ­¤ç¬”äº¤æ˜“ï¼ˆå¤šç­¾æœºåˆ¶ï¼‰ï¼› Read-only äº¤æ˜“é‡Œå¯¹è¯¥è´¦å·åªè¯»ï¼› Executable å…¶è´¦å·å¯ä»¥ä½œä¸ºæ™ºèƒ½åˆçº¦è¿›è¡Œè°ƒç”¨ï¼ˆå°†å…¶è´¦å·å¯¹åº”çš„å…¬é’¥åœ°å€ä½œä¸º program idï¼‰ï¼› Programs or Smart Contract3 è´¦å·è¢«æ ‡è®°ä¸º Executable å¯ä»¥éƒ¨ç½²ä»£ç ï¼ˆProgramï¼‰ä½œä¸ºæ™ºèƒ½åˆçº¦ã€‚ä¸¤ç§ç±»å‹çš„æ™ºèƒ½åˆçº¦ï¼š\nNative Programs \u0026ndash; åŒºå—é“¾ç³»ç»Ÿæä¾›çš„æ ‡å‡†åº“ï¼› On Chain Programs \u0026ndash; ç”¨æˆ·å¼€å‘éƒ¨ç½²åˆ°é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦ã€‚ åŒæ—¶æ™ºèƒ½åˆçº¦å¯ä»¥æ§åˆ¶å¤šä¸ªå…¶ä»–è´¦å·ï¼Œå¹¶ä¸”åªèƒ½ä¿®æ”¹å®ƒæ‰€æ‹¥æœ‰çš„è´¦å·æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥è¯»å–å…¶ä»–è´¦å·çš„æ•°æ®ã€‚\nSolana çš„ Program å¯ä»¥è¢«æ›´æ–°ã€‚\næ­å»ºå¼€å‘ç¯å¢ƒ å‘½ä»¤è¡Œé’±åŒ… sh -c \u0026#34;$(curl -sSfL https://release.solana.com/stable/install)\u0026#34; è¿æ¥åˆ°æµ‹è¯•èŠ‚ç‚¹ solana config set --url https://api.testnet.solana.com å®˜æ–¹æ–‡æ¡£æ˜¯è¿æ¥åˆ°æœ¬åœ°èŠ‚ç‚¹ï¼Œè¿™é‡Œä¸å¤ªæ¨èï¼Œå› ä¸ºä½¿ç”¨æµ‹è¯•èŠ‚ç‚¹å¯ä»¥ç»“åˆé“¾æµè§ˆå™¨æ¯”è¾ƒç›´è§‚çš„è§‚æµ‹ç»“æœã€‚\næ³¨æ„ Solana å‘½ä»¤æœ€å¥½å’Œé›†ç¾¤åŒ¹é…ï¼Œä¸ç„¶å¯èƒ½ä¼šæœ‰ä¸€äº›éš¾ä»¥å®šä½çš„é—®é¢˜ï¼Œé€šè¿‡ä¸€ä¸‹ä¸¤ä¸ªå‘½ä»¤ç¡®è®¤4ï¼š\n$ solana cluster-version $ solana --version é€šè¿‡æ°´é¾™å¤´ï¼ˆFaucetï¼‰é¢†å–æµ‹è¯•å¸5 TODO\nRust å®‰è£…å’Œç®€ä»‹ curl --proto \u0026#39;=https\u0026#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh ç‰¹ç‚¹ï¼š\nå†…å­˜å®‰å…¨6 ç³»ç»Ÿçº§çš„ç¼–ç¨‹è¯­è¨€ï¼ŒC/C++ã€‚ è®¾ç½® è®¾ç½®å›½å†…æºï¼Œå°†ä»¥ä¸‹å†…å®¹æ”¾åœ¨ ~/.cargo/config\n[source.crates-io] registry = \u0026#34;https://github.com/rust-lang/crates.io-index\u0026#34; replace-with = \u0026#39;ustc\u0026#39; [source.ustc] registry = \u0026#34;git://mirrors.ustc.edu.cn/crates.io-index\u0026#34; å¼€å‘æ™ºèƒ½åˆçº¦7 ç¼–å†™éƒ¨ç½²ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦ ä¸‰ä¸ªå‚æ•°ï¼š\nprogram_id å½“å‰æ™ºèƒ½åˆçº¦çš„ ProgramIdï¼Œå¯ä»¥åšä¸€äº›ç¡¬ç¼–ç æ£€æŸ¥ï¼› accounts å‚ä¸è°ƒç”¨çš„è´¦å·åˆ—è¡¨ï¼›8 instruction_data å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„å‚æ•°ã€‚ è°ƒç”¨æ™ºèƒ½åˆçº¦ ETHEREUM ACCOUNTS\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAccounts\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nPrograms\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://solana.stackexchange.com/a/4384\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSol Faucet\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAndroid 13 çš„å†…å­˜å®‰å…¨æ¼æ´å¤§å¹…å‡å°‘\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://github.com/coldnight/sol101\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nAccountInfo\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20221122204241-solana_101_develop_model/","summary":"tags: Solana 101: Create an Escrow dApp Account UTXO Unspend Transaction Output.\nEVM Accounts1 EOA(Externally-owned acount) - ç”¨æˆ·ç”¨ç§é’¥æ§åˆ¶çš„è´¦å·ï¼› åˆçº¦è´¦å·ï¼ˆContract accountï¼‰ - ä»£ç æ§åˆ¶çš„è´¦å·ï¼Œç”¨äºéƒ¨ç½²æ™ºèƒ½åˆçº¦ä»£ç ã€‚ è´¦å·æ¨¡å‹é€šè¿‡ç”¨æˆ·åœ°å€ä¸ºç”¨æˆ·å¼€è¾Ÿä¸€å—å•ç‹¬çš„å­˜å‚¨ï¼Œç®€å•çš„ç†è§£å°±æ˜¯ç”¨å…¬ç§é’¥å¯¼å‡ºçš„å”¯ä¸€åœ°å€ä½œä¸ºä¸»é”®å­˜å‚¨åœ¨èŠ‚ç‚¹çš„å­˜å‚¨ç³»ç»Ÿé‡Œï¼ˆRocksDBï¼‰ï¼› è¿™æ ·åªè¦å°†é“¾ä¸Šè½¬è´¦æˆ–è€…æ™ºèƒ½åˆçº¦äº§ç”Ÿçš„ç»“æœæˆ–å‰¯ä½œç”¨å­˜å‚¨åœ¨è´¦å·ä¸‹é¢å³å¯ã€‚\nSolana Account Model Accounts2 è´¦å·ç”¨äºæä¾›ç»™æ™ºèƒ½åˆçº¦ï¼ˆProgramï¼‰è·¨äº¤æ˜“å­˜å‚¨çŠ¶æ€ï¼Œç±»ä¼¼æ–‡ä»¶ç³»ç»Ÿï¼› åŒ…å«å…ƒæ•°æ®ï¼ˆmetadataï¼‰è¯´æ˜è°æœ‰æƒé™è®¿é—®è¿™äº›çŠ¶æ€ï¼› Solana ç‹¬ç‰¹çš„åˆ›æ–°ï¼šè´¦å·ä¼´æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„ç§é’¥å¹¶ä¸å®Œå…¨æ‹¥æœ‰ä¸€ä¸ªè´¦å·ï¼Œè€Œæ˜¯ä»é“¾ä¸Šç§Ÿå€Ÿï¼ˆrentï¼‰äº†ä¸€ä¸ªè´¦å·ï¼Œå¹¶æ”¯ä»˜å¯¹åº”çš„ç§Ÿé‡‘ï¼Œå½“ç§Ÿå€Ÿè¿‡æœŸä¸”æ²¡æœ‰è¶³å¤Ÿçš„ä½™é¢ï¼ˆlamportsï¼‰æ”¯ä»˜ç§Ÿé‡‘çš„æƒ…å†µä¸‹ï¼Œè´¦å·ä¸‹çš„æ•°æ®å°†è¢«é“¾å›æ”¶ï¼› ä¸€ç¬”äº¤æ˜“é‡Œå¯ä»¥å‚ä¸çš„è´¦å·ç±»å‹æœ‰ï¼š\nSigners ä¸€ç¬”äº¤æ˜“å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç­¾åè€…ï¼Œè¡¨ç¤ºæˆæƒæ­¤ç¬”äº¤æ˜“ï¼ˆå¤šç­¾æœºåˆ¶ï¼‰ï¼› Read-only äº¤æ˜“é‡Œå¯¹è¯¥è´¦å·åªè¯»ï¼› Executable å…¶è´¦å·å¯ä»¥ä½œä¸ºæ™ºèƒ½åˆçº¦è¿›è¡Œè°ƒç”¨ï¼ˆå°†å…¶è´¦å·å¯¹åº”çš„å…¬é’¥åœ°å€ä½œä¸º program idï¼‰ï¼› Programs or Smart Contract3 è´¦å·è¢«æ ‡è®°ä¸º Executable å¯ä»¥éƒ¨ç½²ä»£ç ï¼ˆProgramï¼‰ä½œä¸ºæ™ºèƒ½åˆçº¦ã€‚ä¸¤ç§ç±»å‹çš„æ™ºèƒ½åˆçº¦ï¼š\nNative Programs \u0026ndash; åŒºå—é“¾ç³»ç»Ÿæä¾›çš„æ ‡å‡†åº“ï¼› On Chain Programs \u0026ndash; ç”¨æˆ·å¼€å‘éƒ¨ç½²åˆ°é“¾ä¸Šçš„æ™ºèƒ½åˆçº¦ã€‚ åŒæ—¶æ™ºèƒ½åˆçº¦å¯ä»¥æ§åˆ¶å¤šä¸ªå…¶ä»–è´¦å·ï¼Œå¹¶ä¸”åªèƒ½ä¿®æ”¹å®ƒæ‰€æ‹¥æœ‰çš„è´¦å·æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥è¯»å–å…¶ä»–è´¦å·çš„æ•°æ®ã€‚\nSolana çš„ Program å¯ä»¥è¢«æ›´æ–°ã€‚\næ­å»ºå¼€å‘ç¯å¢ƒ å‘½ä»¤è¡Œé’±åŒ… sh -c \u0026#34;$(curl -sSfL https://release.solana.com/stable/install)\u0026#34; è¿æ¥åˆ°æµ‹è¯•èŠ‚ç‚¹ solana config set --url https://api.","title":"Solana 101: 1. Develop Model"},{"content":" tags: Solana 101: Create an Escrow dApp èŠèŠåŒºå—é“¾ ä¸€ä¸ªå®Œæ•´çš„åŒºå—é“¾ç³»ç»Ÿç”Ÿæ€ï¼š\nä¸»å¸ï¼šè¿›è¡Œ gas è´¹ç»“ç®—ï¼šBitCoin / ETH / TRX ç­‰ç­‰ èŠ‚ç‚¹æœåŠ¡(JSONRPC 2.0)ï¼šæä¾›æ•°æ®æŸ¥è¯¢ã€å¹¿æ’­äº¤æ˜“ï¼Œäº¤æ˜“å¹¿æ’­ï¼ˆP2P -\u0026gt; æŒ–çŸ¿èŠ‚ç‚¹ï¼‰ï¼› äº¤æ˜“éªŒè¯ï¼šæŒ£å– gas è´¹ï¼Œå‡ºå—å¥–åŠ±ï¼ˆæŒ–çŸ¿ï¼‰ï¼› PoWï¼ˆProof of Workï¼‰ï¼šé€šè¿‡ç®—åŠ›è¯æ˜æä¾›äº¤æ˜“éªŒè¯ï¼ˆå‡ºå—ï¼‰ï¼›sha256(nonce + body) -\u0026gt; sha256 import hashlib from typing import Tuple raw_block = b\u0026#39;block data\u0026#39; dificulty = 5 def proof_my_work(dificulty, raw_block) -\u0026gt; Tuple[int, str]: nonce = 1 while True: body = bytes(nonce) + raw_block h = hashlib.sha256(body) hex_value = h.hexdigest() if hex_value[:dificulty] == \u0026#39;0\u0026#39; * dificulty: return nonce, hex_value nonce += 1 proof_my_work(dificulty, raw_block) PoSï¼ˆProof of Stakeï¼‰ï¼šé€šè¿‡è´¨æŠ¼ä¸»å¸æä¾›äº¤æ˜“éªŒè¯ï¼Œä¸€æ—¦è¢«å‘ç°ä½œå¼Šåˆ™æ‰£é™¤è´¨æŠ¼çš„ä¸»å¸ï¼› é“¾æµè§ˆå™¨ï¼šé€šè¿‡ Web UI è¿›è¡Œé“¾ä¸Šæ•°æ®æŸ¥è¯¢ï¼› é’±åŒ… == ç§é’¥ï¼šèµ„äº§è¯æ˜ï¼Œäº¤æ˜“æˆæƒï¼Œå…¬é’¥å¯¼å‡ºåœ°å€ï¼Œç§é’¥åˆ™æ˜¯è¯æ˜æ‹¥æœ‰è¯¥åœ°å€ï¼› æ™ºèƒ½åˆçº¦ï¼ˆSmart Contractï¼‰ï¼šå¯¹èµ„äº§è¿›è¡Œç¼–ç¨‹ï¼› ä»£å¸ï¼ˆTokensï¼‰ï¼šåŸºäºæ™ºèƒ½åˆçº¦å®ç°ï¼ŒFungible Tokensï¼ˆERC20 / TRC20ï¼‰ å’Œ Non-Fungible Tokens ï¼ˆERC721ï¼‰ dAppï¼šé€šè¿‡æ¡¥æ¥é’±åŒ…å’Œé“¾ä¸Šæ™ºèƒ½åˆçº¦å®ç°ä¸€å®šçš„é“¾ä¸Šæ“ä½œï¼› ä»æ™ºèƒ½åˆçº¦æ¥çœ‹å„ä¸ªåŒºå—é“¾ç”Ÿæ€ä¹‹é—´çš„åŒºåˆ« ä¸»è¦æ˜¯è™šæ‹Ÿæœºçš„åŒºåˆ«ï¼Œä¸ºäº†æ‰§è¡Œæ™ºèƒ½åˆçº¦ï¼ŒåŒºå—é“¾ç³»ç»Ÿéœ€è¦è™šæ‹Ÿæœºæ¥æ‰§è¡Œä»£ç ï¼Œç›®å‰ä¸»æµçš„è™šæ‹ŸæœºåŒ…æ‹¬ï¼š\næ— æ™ºèƒ½åˆçº¦ï¼šUTXOï¼ˆUnspent transaction outputï¼‰ï¼ŒBitcoin / DogeCoin / LiteCoin WASMï¼ˆSoldityï¼‰: EVM(Ethereum / Binance Smart Chain / OKX Chain), TVM(Tron) Moveï¼šç”± Facebook ä¹‹å‰æ¨å‡ºçš„ Libra ç°åœ¨æ”¹å Diem æ¨å‡ºï¼ŒAptos / Starcoin / Sui LLVM(ELF / BPF)ï¼šSolana Solana ç‰¹ç‚¹ï¼šPoS / å¿« / Rust / gas è´¹ä½ Links Mempool Mempool TX Address bc1qkk382ctzp5k9mt9fn0muxtqmsln8x74yh3kr2j Address 3K7Wxw3kQSURcm7Un99ZyK9LfW2KEji2QQ Etherscan SOLSCAN / Solana eBPF Paxos ","permalink":"https://notes.0081800.xyz/notes/20221121160749-solana_101_prelude/","summary":"tags: Solana 101: Create an Escrow dApp èŠèŠåŒºå—é“¾ ä¸€ä¸ªå®Œæ•´çš„åŒºå—é“¾ç³»ç»Ÿç”Ÿæ€ï¼š\nä¸»å¸ï¼šè¿›è¡Œ gas è´¹ç»“ç®—ï¼šBitCoin / ETH / TRX ç­‰ç­‰ èŠ‚ç‚¹æœåŠ¡(JSONRPC 2.0)ï¼šæä¾›æ•°æ®æŸ¥è¯¢ã€å¹¿æ’­äº¤æ˜“ï¼Œäº¤æ˜“å¹¿æ’­ï¼ˆP2P -\u0026gt; æŒ–çŸ¿èŠ‚ç‚¹ï¼‰ï¼› äº¤æ˜“éªŒè¯ï¼šæŒ£å– gas è´¹ï¼Œå‡ºå—å¥–åŠ±ï¼ˆæŒ–çŸ¿ï¼‰ï¼› PoWï¼ˆProof of Workï¼‰ï¼šé€šè¿‡ç®—åŠ›è¯æ˜æä¾›äº¤æ˜“éªŒè¯ï¼ˆå‡ºå—ï¼‰ï¼›sha256(nonce + body) -\u0026gt; sha256 import hashlib from typing import Tuple raw_block = b\u0026#39;block data\u0026#39; dificulty = 5 def proof_my_work(dificulty, raw_block) -\u0026gt; Tuple[int, str]: nonce = 1 while True: body = bytes(nonce) + raw_block h = hashlib.sha256(body) hex_value = h.hexdigest() if hex_value[:dificulty] == \u0026#39;0\u0026#39; * dificulty: return nonce, hex_value nonce += 1 proof_my_work(dificulty, raw_block) PoSï¼ˆProof of Stakeï¼‰ï¼šé€šè¿‡è´¨æŠ¼ä¸»å¸æä¾›äº¤æ˜“éªŒè¯ï¼Œä¸€æ—¦è¢«å‘ç°ä½œå¼Šåˆ™æ‰£é™¤è´¨æŠ¼çš„ä¸»å¸ï¼› é“¾æµè§ˆå™¨ï¼šé€šè¿‡ Web UI è¿›è¡Œé“¾ä¸Šæ•°æ®æŸ¥è¯¢ï¼› é’±åŒ… == ç§é’¥ï¼šèµ„äº§è¯æ˜ï¼Œäº¤æ˜“æˆæƒï¼Œå…¬é’¥å¯¼å‡ºåœ°å€ï¼Œç§é’¥åˆ™æ˜¯è¯æ˜æ‹¥æœ‰è¯¥åœ°å€ï¼› æ™ºèƒ½åˆçº¦ï¼ˆSmart Contractï¼‰ï¼šå¯¹èµ„äº§è¿›è¡Œç¼–ç¨‹ï¼› ä»£å¸ï¼ˆTokensï¼‰ï¼šåŸºäºæ™ºèƒ½åˆçº¦å®ç°ï¼ŒFungible Tokensï¼ˆERC20 / TRC20ï¼‰ å’Œ Non-Fungible Tokens ï¼ˆERC721ï¼‰ dAppï¼šé€šè¿‡æ¡¥æ¥é’±åŒ…å’Œé“¾ä¸Šæ™ºèƒ½åˆçº¦å®ç°ä¸€å®šçš„é“¾ä¸Šæ“ä½œï¼› ä»æ™ºèƒ½åˆçº¦æ¥çœ‹å„ä¸ªåŒºå—é“¾ç”Ÿæ€ä¹‹é—´çš„åŒºåˆ« ä¸»è¦æ˜¯è™šæ‹Ÿæœºçš„åŒºåˆ«ï¼Œä¸ºäº†æ‰§è¡Œæ™ºèƒ½åˆçº¦ï¼ŒåŒºå—é“¾ç³»ç»Ÿéœ€è¦è™šæ‹Ÿæœºæ¥æ‰§è¡Œä»£ç ï¼Œç›®å‰ä¸»æµçš„è™šæ‹ŸæœºåŒ…æ‹¬ï¼š","title":"Solana 101: 0. Prelude"},{"content":" tags: Solana ","permalink":"https://notes.0081800.xyz/notes/20221119104334-solana_101_create_a_escrow_dapp/","summary":" tags: Solana ","title":"Solana 101: Create an Escrow dApp"},{"content":" tags: Python _ = ( 255, lambda V ,B,c :c and Y(V*V+B,B, c -1)if(abs(V)\u0026lt;6)else ( 2+c-4*abs(V)**-0.4)/i ) ;v, x=1500,1000;C=range(v*x );import struct;P=struct.pack;M,\\ j =\u0026#39;\u0026lt;QIIHHHH\u0026#39;,open(\u0026#39;M.bmp\u0026#39;,\u0026#39;wb\u0026#39;).write for X in j(\u0026#39;BM\u0026#39;+P(M,v*x*3+26,26,12,v,x,1,24))or C: i ,Y=_;j(P(\u0026#39;BBB\u0026#39;,*(lambda T:(T*80+T**9 *i-950*T **99,T*70-880*T**18+701* T **9 ,T*i**(1-T**45*2)))(sum( [ Y(0,(A%3/3.+X%v+(X/v+ A/3/3.-x/2)/1j)*2.5 /x -2.7,i)**2 for \\ A in C [:9]]) /9) ) ) It generates a Mandelbrot like the code likes:\n","permalink":"https://notes.0081800.xyz/notes/20221024112631-python_lambda_generate_bitmap/","summary":"tags: Python _ = ( 255, lambda V ,B,c :c and Y(V*V+B,B, c -1)if(abs(V)\u0026lt;6)else ( 2+c-4*abs(V)**-0.4)/i ) ;v, x=1500,1000;C=range(v*x );import struct;P=struct.pack;M,\\ j =\u0026#39;\u0026lt;QIIHHHH\u0026#39;,open(\u0026#39;M.bmp\u0026#39;,\u0026#39;wb\u0026#39;).write for X in j(\u0026#39;BM\u0026#39;+P(M,v*x*3+26,26,12,v,x,1,24))or C: i ,Y=_;j(P(\u0026#39;BBB\u0026#39;,*(lambda T:(T*80+T**9 *i-950*T **99,T*70-880*T**18+701* T **9 ,T*i**(1-T**45*2)))(sum( [ Y(0,(A%3/3.+X%v+(X/v+ A/3/3.-x/2)/1j)*2.5 /x -2.7,i)**2 for \\ A in C [:9]]) /9) ) ) It generates a Mandelbrot like the code likes:","title":"Python lambda generate bitmap"},{"content":" tags: GTK\nGTK_DEBUG=interactive my-gtk-app ","permalink":"https://notes.0081800.xyz/notes/20221024111901-gtk_debug_mode/","summary":" tags: GTK\nGTK_DEBUG=interactive my-gtk-app ","title":"GTK Debug Mode"},{"content":" tags: Go source: â€œWrap and Unwrap Errors in Go (Golang) | Gosamples.Dev.â€ Accessed October 12, 2022. https://gosamples.dev/wrap-unwrap-errors/. Overview Since Go1.13, there is a new feature about error add to go: Wrap \u0026amp; Unwrap errors. Let\u0026rsquo;s start from a simple example:\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) var errRollingInTheDeep = errors.New(\u0026#34;rolling in the deep\u0026#34;) func doSomeActualJob() error { return errRollingInTheDeep } func someFrameworkCaller() error { // We use fmt.Errorf to wrap error. // Notice the \u0026#34;%w\u0026#34; formater here and content surround the \u0026#34;[...]\u0026#34;. return fmt.Errorf(\u0026#34;[someFrameworkCaller] %w\u0026#34;, doSomeActualJob()) } func someEntrance() error { return fmt.Errorf(\u0026#34;[someUpperCaller] %w\u0026#34;, someFrameworkCaller()) } func main() { err := someEntrance() if errors.Is(err, errRollingInTheDeep) { fmt.Println(\u0026#34;This should be\u0026#34;) } else { panic(\u0026#34;Oooops!\u0026#34;) } fmt.Printf(\u0026#34;The final error: %v\\n\u0026#34;, err) fmt.Printf(\u0026#34;Unwrap: %v\\n\u0026#34;, errors.Unwrap(err)) } Its output:\nThis should be The final error: [someUpperCaller] [someFrameworkCaller] rolling in the deep Unwrap: [someFrameworkCaller] rolling in the deep Let\u0026rsquo;s add more line to see how about to continual unwrap it:\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) var errRollingInTheDeep = errors.New(\u0026#34;rolling in the deep\u0026#34;) func doSomeActualJob() error { return errRollingInTheDeep } func someFrameworkCaller() error { // We use fmt.Errorf to wrap error. // Notice the \u0026#34;%w\u0026#34; formater here and content surround the \u0026#34;[...]\u0026#34;. return fmt.Errorf(\u0026#34;[someFrameworkCaller] %w\u0026#34;, doSomeActualJob()) } func someEntrance() error { return fmt.Errorf(\u0026#34;[someUpperCaller] %w\u0026#34;, someFrameworkCaller()) } func main() { err := someEntrance() if errors.Is(err, errRollingInTheDeep) { fmt.Println(\u0026#34;This should be\u0026#34;) } else { panic(\u0026#34;Oooops!\u0026#34;) } fmt.Printf(\u0026#34;The final error: %v\\n\u0026#34;, err) err = errors.Unwrap(err) if errors.Is(err, errRollingInTheDeep) { fmt.Println(\u0026#34;This should be either\u0026#34;) } else { panic(\u0026#34;Oooops!\u0026#34;) } fmt.Printf(\u0026#34;Unwrapped error: %v\\n\u0026#34;, errors.Unwrap(err)) err = errors.Unwrap(err) fmt.Printf(\u0026#34;Unwrapped error: %v\\n\u0026#34;, errors.Unwrap(err)) err = errors.Unwrap(err) fmt.Printf(\u0026#34;Still unwrap to see what we have got: %v\\n\u0026#34;, errors.Unwrap(err)) err = errors.Unwrap(err) fmt.Printf(\u0026#34;Still unwrap to see what we have got: %v\\n\u0026#34;, errors.Unwrap(err)) } Its output:\nThis should be The final error: [someUpperCaller] [someFrameworkCaller] rolling in the deep This should be either Unwrapped error: rolling in the deep Unwrapped error: \u0026lt;nil\u0026gt; Still unwrap to see what we have got: \u0026lt;nil\u0026gt; Still unwrap to see what we have got: \u0026lt;nil\u0026gt; As we can see above, here is the conclusions:\nThe errors.Is could always check which the error is; The errors.Unwrap returns error the first wrapped error directly, which means we can\u0026rsquo;t get the errors amid the chain; Calling errors.Unwrap on a non-wrapped error or nil pointer, the nil pointer will always be returned. Does it Help for Error Tracing Purpose? As I already known, some logging frameworks/utilities provide like https://github.com/uber-go/zap provide a mechanic to print the invocation stacktrace of error. I\u0026rsquo;m wonder if this help.\nLet\u0026rsquo;s see a example:\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;go.uber.org/zap\u0026#34; ) var errRollingInTheDeep = errors.New(\u0026#34;rolling in the deep\u0026#34;) func doSomeActualJob() error { return errRollingInTheDeep } func someFrameworkCaller() error { // We use fmt.Errorf to wrap error. // Notice the \u0026#34;%w\u0026#34; formater here and content surround the \u0026#34;[...]\u0026#34;. return fmt.Errorf(\u0026#34;[someFrameworkCaller] %w\u0026#34;, doSomeActualJob()) } func someEntrance() error { return fmt.Errorf(\u0026#34;[someUpperCaller] %w\u0026#34;, someFrameworkCaller()) } func main() { logger, _ := zap.NewDevelopment() defer logger.Sync() // flushes buffer, if any err := someEntrance() logger.Warn(\u0026#34;ERROR\u0026#34;, zap.Error(err)) } Its output:\n2022-10-12T10:52:32.792+0800 WARN demo/main.go:30 ERROR {\u0026#34;error\u0026#34;: \u0026#34;[someUpperCaller] [someFrameworkCaller] rolling in the deep\u0026#34;} main.main /Users/wanghui/codes/notes/demo/main.go:30 runtime.main /opt Ooops, the zap output output stacktrace based where its call, not the error.\nWe can do it with a Stack field that provided zap.\nConclusion: it does help for error tracing purpose, but only with the provided context that surround by \u0026ldquo;[\u0026hellip;]\u0026rdquo;.\n","permalink":"https://notes.0081800.xyz/articles/20221012101258-wrap_unwrap_errors_in_go/","summary":"tags: Go source: â€œWrap and Unwrap Errors in Go (Golang) | Gosamples.Dev.â€ Accessed October 12, 2022. https://gosamples.dev/wrap-unwrap-errors/. Overview Since Go1.13, there is a new feature about error add to go: Wrap \u0026amp; Unwrap errors. Let\u0026rsquo;s start from a simple example:\npackage main import ( \u0026#34;errors\u0026#34; \u0026#34;fmt\u0026#34; ) var errRollingInTheDeep = errors.New(\u0026#34;rolling in the deep\u0026#34;) func doSomeActualJob() error { return errRollingInTheDeep } func someFrameworkCaller() error { // We use fmt.Errorf to wrap error.","title":"Wrap \u0026 Unwrap errors in Go"},{"content":" tags: Cheatsheet, macOS Retrieve Bundle ID osascript -e \u0026#39;id of app \u0026#34;/usr/local/MacGPG2/libexec/pinentry-mac.app\u0026#34;\u0026#39; osascript -e \u0026#39;id of app \u0026#34;Finder\u0026#34;\u0026#39; ","permalink":"https://notes.0081800.xyz/notes/20220914093806-macos_cheatsheet/","summary":" tags: Cheatsheet, macOS Retrieve Bundle ID osascript -e \u0026#39;id of app \u0026#34;/usr/local/MacGPG2/libexec/pinentry-mac.app\u0026#34;\u0026#39; osascript -e \u0026#39;id of app \u0026#34;Finder\u0026#34;\u0026#39; ","title":"macOS Cheatsheet"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220913105435-cheatsheet/","summary":"","title":"Cheatsheet"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220913105411-postgresql/","summary":"","title":"PostgresQL"},{"content":" tags: PostgresQL, Cheatsheet Create User and Role Docs: Examples of Create Role\nCREATE ROLE whoami WITH LOGIN PASSWORD \u0026#39;P@ssw0rd\u0026#39;; Create Database Docs: Examples of Create Database\nCREATE DATABASE sales OWNER whoami; ","permalink":"https://notes.0081800.xyz/notes/20220913105403-postgresql_cheatsheet/","summary":" tags: PostgresQL, Cheatsheet Create User and Role Docs: Examples of Create Role\nCREATE ROLE whoami WITH LOGIN PASSWORD \u0026#39;P@ssw0rd\u0026#39;; Create Database Docs: Examples of Create Database\nCREATE DATABASE sales OWNER whoami; ","title":"PostgresQL Cheatsheet"},{"content":" tags: GPG, GnuPG Agent,Cheatsheet Stop GPG Agent\ngpg-connect-agent killagent /bye obsolete option \u0026ldquo;write-env-file\u0026rdquo; - it has no effect\nset -gx GPG_TTY (tty) set -gx SSH_AUTH_SOCK (gpgconf --list-dirs agent-ssh-socket) gpgconf --launch gpg-agent ","permalink":"https://notes.0081800.xyz/notes/20220908111543-gpg_agent/","summary":" tags: GPG, GnuPG Agent,Cheatsheet Stop GPG Agent\ngpg-connect-agent killagent /bye obsolete option \u0026ldquo;write-env-file\u0026rdquo; - it has no effect\nset -gx GPG_TTY (tty) set -gx SSH_AUTH_SOCK (gpgconf --list-dirs agent-ssh-socket) gpgconf --launch gpg-agent ","title":"GnuPG Agent Cheatsheet"},{"content":" tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.\nIt\u0026rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.\nDeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange.\nFor example, Alice owns some ETH, and Bob owns some DAI. Now, Alice want to swap some ETH for DAI, and Bob want to swap some DAI for ETH. How could they do?\nA Centralized Exchange Both Alice and Bob can goto a centralized exchange, like Binance.com, they can swap their tokens which they owned to the tokens which they want.\nIt\u0026rsquo;s very convenient. But how could they do if they don\u0026rsquo;t trust the centralized exchanges?\nOn-chain Swap Directly They can swap directly, you may say so. Yes, they can communicate with each other, and consider a price, then they can do it. Now Alice send the ETH to Bob, and wait Bob to send DAI back. But now Bob don\u0026rsquo;t want to send DAI back, what can Alice do?\nNothing! Alice loss her ETH!\nSwap via Smart Contract Both Alice and Bob don\u0026rsquo;t want to meet such above situation. So they can use a smart contract:\nAlice send the proper ETH to the smart contract and mark it\u0026rsquo;s to Bob; Then Bob send the proper DAI to the smart contract and mark it\u0026rsquo;s to Alice; The smart contract determined that the condition is satisfied, then the smart contract: Send proper DAI to Alice; Send proper ETH to Bob; Otherwise, if Bob didn\u0026rsquo;t send the proper DAI to the smart contract, after some blocks(like timeout), the smart contract will send Alice\u0026rsquo;s ETH back, or both Alice and Bob can withdraw their tokens from the smart contract in any time. That was a perfectly progress, both Alice and Bob are trust in the smart contract.\nLiquidity Boost Decentralized Exchange Let\u0026rsquo;s admit that it\u0026rsquo;s difficult to find people who want to exchange with you. The smart contract can do more, like Uniswap:\nSomeone could be a liquidity provider: Put some tokens for exchanging into liquidity pool, let\u0026rsquo;s say you privode both ETH and DAI as liquidity; The Uniswap will give you a NFT to represent the position you hold(Non-Fungible Tokens vs. Fungible Tokens). Then someone else can swap tokens from liquidity, for example, Bob want to swap DAI for ETH: Bob will send DAI to the liquidity pool which hold by the smart contract; The smart contract then send back ETH from liquidity pool; Now you don\u0026rsquo;t need to find someone to swap, you can swap when the liquidity is satisfied, to do so, the liquidity providers will charge some fee from your operations, that engage people who owns tokens to be the liquidity providers.\n","permalink":"https://notes.0081800.xyz/notes/20220825160507-defi_from_scartch/","summary":"tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.\nIt\u0026rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.\nDeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange.","title":"DeFi from Scratch"},{"content":" tags: Uniswap V3 source: Shao, ç”°å°‘è°·. â€œUniswap v3 Features Explained in Depth.â€ Taipei Ethereum Meetup (blog), July 20, 2021. https://medium.com/taipei-ethereum-meetup/uniswap-v3-features-explained-in-depth-178cfe45f223. Tick is a price range Each tick is a price range with upper bound and lower bound.\nTick price from index: \\(p(i) = 1.0001 ^ i\\)\n1.0001 ** 138162 # 999_998 Tick index from price: \\(log_{1.0001}p\\)\nimport math math.log(1000_000, base=1.0001) # 138162.01321981344 ","permalink":"https://notes.0081800.xyz/notes/20220825151409-uniswap_v3_tick/","summary":" tags: Uniswap V3 source: Shao, ç”°å°‘è°·. â€œUniswap v3 Features Explained in Depth.â€ Taipei Ethereum Meetup (blog), July 20, 2021. https://medium.com/taipei-ethereum-meetup/uniswap-v3-features-explained-in-depth-178cfe45f223. Tick is a price range Each tick is a price range with upper bound and lower bound.\nTick price from index: \\(p(i) = 1.0001 ^ i\\)\n1.0001 ** 138162 # 999_998 Tick index from price: \\(log_{1.0001}p\\)\nimport math math.log(1000_000, base=1.0001) # 138162.01321981344 ","title":"Uniswap V3 Tick"},{"content":" tags: Uniswap The Graph: Uniswap V3 Subgraph ","permalink":"https://notes.0081800.xyz/notes/20220825151116-uniswap_v3/","summary":" tags: Uniswap The Graph: Uniswap V3 Subgraph ","title":"Uniswap V3"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20220825151036-defi/","summary":" tags: Blockchain ","title":"DeFi"},{"content":" tags: Blockchain,Ethereum,DeFi ","permalink":"https://notes.0081800.xyz/notes/20220825151023-uniswap/","summary":" tags: Blockchain,Ethereum,DeFi ","title":"Uniswap"},{"content":" tags: Blockchain,Ethereum source: â€œGraphical Guide to Understanding Uniswap - EthHub.â€ Accessed August 23, 2022. https://docs.ethhub.io/guides/graphical-guide-for-understanding-uniswap/. ERC20 tokens are the most common type of token built on top of Ethereum. They are fungible in nature, meaning that there isnâ€™t a distinction between individual tokens. For example, if I have 100 metal marbles in my hand that are all the same size and color, it doesnâ€™t matter which one I give you. In the same way, if I have 100 of the same ERC20 token, it doesnâ€™t matter which one I give you. This contrasts with ERC721 tokens which are non-fungible tokens (NFTs) such as cryptokitties.\nEthereum Fungible Tokens Fungible Tokens, aka ERC20 tokens. Fungible means each one is the same of them, like the coins you are used to buy something in the supermarket.\nNon-Fungible Tokens(NFTs) Non-Fungible Tokens, aka ERC721 tokens, Non-Fungible means each one is different from others. Like some old money that worth more than its face, and you won\u0026rsquo;t and even can\u0026rsquo;t use it to buy some thing in supermarket.\n","permalink":"https://notes.0081800.xyz/notes/20220823105929-non_fungible_tokens_vs_fungible_tokens/","summary":"tags: Blockchain,Ethereum source: â€œGraphical Guide to Understanding Uniswap - EthHub.â€ Accessed August 23, 2022. https://docs.ethhub.io/guides/graphical-guide-for-understanding-uniswap/. ERC20 tokens are the most common type of token built on top of Ethereum. They are fungible in nature, meaning that there isnâ€™t a distinction between individual tokens. For example, if I have 100 metal marbles in my hand that are all the same size and color, it doesnâ€™t matter which one I give you.","title":"Non-Fungible Tokens vs. Fungible Tokens"},{"content":" tags: Makefile source: Davis-Hansson, Jacob. â€œYour Makefiles Are Wrong.â€ Jacob Davis-Hansson on Tech, December 15, 2019. https://tech.davis-hansson.com/p/make/. Best Makefile Defaults # Always use bash as the shell. SHELL := bash # Enable bash strict mode. .SHELLFLAGS := -eu -o pipefail -c ## Change some Defaults of Make. # Ensures each Make recipe is ran as one single shell session, # rather than one new shell per line. .ONESHELL: # Delete it\u0026#39;s target file if a Make rule fails. .DELETE_ON_ERROR: MAKEFLAGS += --warn-undefined-variables MAKEFLAGS += --no-builtin-rules # Always use GNU Make. ifeq ($(origin .RECIPEPREFIX), undefined) $(error This Make does not support .RECIPEPREFIX. Please use GNU Make 4.0 or later) endif # Use \u0026#39;\u0026gt;\u0026#39; to instead of tab. .RECIPEPREFIX = \u0026gt; ","permalink":"https://notes.0081800.xyz/notes/20220822112621-your_makefiles_are_wrong/","summary":"tags: Makefile source: Davis-Hansson, Jacob. â€œYour Makefiles Are Wrong.â€ Jacob Davis-Hansson on Tech, December 15, 2019. https://tech.davis-hansson.com/p/make/. Best Makefile Defaults # Always use bash as the shell. SHELL := bash # Enable bash strict mode. .SHELLFLAGS := -eu -o pipefail -c ## Change some Defaults of Make. # Ensures each Make recipe is ran as one single shell session, # rather than one new shell per line. .ONESHELL: # Delete it\u0026#39;s target file if a Make rule fails.","title":"Your Makefiles are wrong"},{"content":" tags: Online Tools website: https://www.castfeedvalidator.com/ ","permalink":"https://notes.0081800.xyz/notes/20220817142152-podcasts_rss_feed_validator/","summary":" tags: Online Tools website: https://www.castfeedvalidator.com/ ","title":"Podcasts RSS Feed Validator"},{"content":" tags: Solana, Solana 101: 1. Develop Model Account: a Memory region The solana term for a memory region is \u0026ldquo;account\u0026rdquo;. Some programs own thousands of independent accounts.\nPrograms own accounts, aka the owner of accounts.\nTransactions and Accounts You can make a program read and write data by sending transactions. Programs provide endpoints that can be called via transactions (In reality it\u0026rsquo;s a bit more complex than that but frameworks like Anchor abstract away this complexity). A function signature usually takes the following arguments:\nthe accounts that the program may read from and write to during this transaction. additional data specific to the function The first point means that even if in theory the program may read and write to a large part of the global heap, in the context of a transaction, it may only read from and write to the specific regions specified in the arguments of the transaction.\nAccounts Only Store Bytes Unlike other blockchain system, Solana didn\u0026rsquo;t provide data (de)serialization. So data in accounts are just raw bytes without any structure information, check the code in break:\nentrypoint!(process_instruction); fn process_instruction\u0026lt;\u0026#39;a\u0026gt;( _program_id: \u0026amp;Pubkey, accounts: \u0026amp;\u0026#39;a [AccountInfo\u0026lt;\u0026#39;a\u0026gt;], instruction_data: \u0026amp;[u8], ) -\u0026gt; ProgramResult { // Assume a writable account is at index 0 let mut account_data = accounts[0].try_borrow_mut_data()?; // xor with the account data using byte and bit from ix data let index = u16::from_be_bytes([instruction_data[0], instruction_data[1]]); let byte = index \u0026gt;\u0026gt; 3; let bit = (index \u0026amp; 0x7) as u8; account_data[byte as usize] ^= 1 \u0026lt;\u0026lt; (7 - bit); Ok(()) } Let\u0026rsquo;s check the signature of AccountInfo:\npub struct AccountInfo\u0026lt;\u0026#39;a\u0026gt; { pub key: \u0026amp;\u0026#39;a Pubkey, pub is_signer: bool, pub is_writable: bool, pub lamports: Rc\u0026lt;RefCell\u0026lt;\u0026amp;\u0026#39;a mut u64\u0026gt;\u0026gt;, pub data: Rc\u0026lt;RefCell\u0026lt;\u0026amp;\u0026#39;a mut [u8]\u0026gt;\u0026gt;, pub owner: \u0026amp;\u0026#39;a Pubkey, pub executable: bool, pub rent_epoch: Epoch, } Framework like anchor provided (de)serialization of accounts and instruction data.\nThis also means accounts in Solana is just data, your private key just prove you own that data.\n","permalink":"https://notes.0081800.xyz/notes/20220802181223-solana_account/","summary":"tags: Solana, Solana 101: 1. Develop Model Account: a Memory region The solana term for a memory region is \u0026ldquo;account\u0026rdquo;. Some programs own thousands of independent accounts.\nPrograms own accounts, aka the owner of accounts.\nTransactions and Accounts You can make a program read and write data by sending transactions. Programs provide endpoints that can be called via transactions (In reality it\u0026rsquo;s a bit more complex than that but frameworks like Anchor abstract away this complexity).","title":"Solana Account"},{"content":" tags: Solana, Solana 101: 1. Develop Model Program Owns Accounts And each memory region has a program that manages it (sometimes called the â€œownerâ€).\nHow to Communicate with Solana Programs? Off-chain This means your programs aren\u0026rsquo;t on-chain program, you can submit transactions with instructions to the network, it could be done via the JSON RPC API or any SDK built on top this API.\nOn-chain TODO\n","permalink":"https://notes.0081800.xyz/notes/20220802174748-solana_program/","summary":"tags: Solana, Solana 101: 1. Develop Model Program Owns Accounts And each memory region has a program that manages it (sometimes called the â€œownerâ€).\nHow to Communicate with Solana Programs? Off-chain This means your programs aren\u0026rsquo;t on-chain program, you can submit transactions with instructions to the network, it could be done via the JSON RPC API or any SDK built on top this API.\nOn-chain TODO","title":"Solana Program"},{"content":" tags: Rust source: Johnston, Dylan R. â€œFormally Verifying Rustâ€™s Opaque Types,â€ August 1, 2022. https://dylanj.xyz/posts/rust-coq-opaque-types/. Prelude trait ToString { fn to_string(\u0026amp;self) -\u0026gt; String; } Static Dispatch fn yell\u0026lt;S: ToString\u0026gt;(stringable: S) { println!(stringable.to_string().to_uppercase()) } Dynamic Dispatch fn yell(stringable: \u0026amp;dyn ToString) { println!(stringable.to_string().to_uppercase()) } impl Trait fn yell(stringable: impl ToString) { println!(stringable.to_string().to_uppercase()) } ","permalink":"https://notes.0081800.xyz/notes/20220802104148-rust_opaque_types_static_dispatch_vs_dynamic_dispatch/","summary":" tags: Rust source: Johnston, Dylan R. â€œFormally Verifying Rustâ€™s Opaque Types,â€ August 1, 2022. https://dylanj.xyz/posts/rust-coq-opaque-types/. Prelude trait ToString { fn to_string(\u0026amp;self) -\u0026gt; String; } Static Dispatch fn yell\u0026lt;S: ToString\u0026gt;(stringable: S) { println!(stringable.to_string().to_uppercase()) } Dynamic Dispatch fn yell(stringable: \u0026amp;dyn ToString) { println!(stringable.to_string().to_uppercase()) } impl Trait fn yell(stringable: impl ToString) { println!(stringable.to_string().to_uppercase()) } ","title":"Rust Opaque Types: Static Dispatch vs. Dynamic Dispatch"},{"content":" tags: Flutter,GUI,macOS souce: https://github.com/flutter/flutter/issues/73122 To solve this problem we should specify MACOSX_DEPLOYMENT_TARGETï¼š\nI would imagine that there is Apple documentation on managing build settings in Xcode, but I don\u0026rsquo;t have a link offhand. There\u0026rsquo;s no Flutter-specific documentation of the process, if that\u0026rsquo;s what you mean; it isn\u0026rsquo;t any different in a Flutter macOS application as it would be any other macOS application.\nIf you don\u0026rsquo;t want to use Xcode, you can change MACOSX_DEPLOYMENT_TARGET directly in Runner.xcodeproj/project.pbxproj.\n","permalink":"https://notes.0081800.xyz/notes/20220728071920-error_is_only_available_in_macos_10_15_or_newer/","summary":"tags: Flutter,GUI,macOS souce: https://github.com/flutter/flutter/issues/73122 To solve this problem we should specify MACOSX_DEPLOYMENT_TARGETï¼š\nI would imagine that there is Apple documentation on managing build settings in Xcode, but I don\u0026rsquo;t have a link offhand. There\u0026rsquo;s no Flutter-specific documentation of the process, if that\u0026rsquo;s what you mean; it isn\u0026rsquo;t any different in a Flutter macOS application as it would be any other macOS application.\nIf you don\u0026rsquo;t want to use Xcode, you can change MACOSX_DEPLOYMENT_TARGET directly in Runner.","title":"error: is only available in macOS 10.15 or newer"},{"content":"macOS Press Command + Shift + Control + D to enter debug mod.\nThen you can open url in brower: Help -\u0026gt; Debug -\u0026gt; ã€Œæµè§ˆå™¨ webview ç›¸å…³-ç³»ç»Ÿæµè§ˆå™¨æ‰“å¼€ç½‘é¡µã€\n","permalink":"https://notes.0081800.xyz/notes/20220725161801-wecom_debug_mode/","summary":"macOS Press Command + Shift + Control + D to enter debug mod.\nThen you can open url in brower: Help -\u0026gt; Debug -\u0026gt; ã€Œæµè§ˆå™¨ webview ç›¸å…³-ç³»ç»Ÿæµè§ˆå™¨æ‰“å¼€ç½‘é¡µã€","title":"Wecom Debug Mode"},{"content":" tags: GUI ","permalink":"https://notes.0081800.xyz/notes/20220725083304-flutter/","summary":" tags: GUI ","title":"Flutter"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220725083317-ios/","summary":"","title":"iOS"},{"content":" tags: Rust,Flutter,iOS source: â€œUsing Dummy Headers - Flutter_rust_bridge.â€ Accessed July 25, 2022. http://cjycode.com/flutter_rust_bridge/integrate/ios_headers.html. Recently, I met a problem that the iOS app didn\u0026rsquo;t work properly in release mode. After a little searching, I found it\u0026rsquo;s a Flutter app and invoked a Rust function by FFI. The inital call were not invoked during app startup, and it should be.\nI finally resolved the problem by following:\nhttps://github.com/fzyzcjy/flutter_rust_bridge/issues/496 http://cjycode.com/flutter_rust_bridge/integrate/ios_headers.html In short:\nXcode will strip the unused symbols in release mode, and won\u0026rsquo;t realize the FFI invocation; So we need add some dummy invocations to the AppDelegate.swift to make sure it have been used. Next, add this line to ios/Runner/Runner-Bridging-Header.h:\n+#import \u0026#34;bridge_generated.h\u0026#34; and in ios/Runner/AppDelegate.swift:\noverride func application( _ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]? ) -\u0026gt; Bool { + let dummy = dummy_method_to_enforce_bundling() + print(dummy) .. } ","permalink":"https://notes.0081800.xyz/notes/20220725081335-flutter_ffi_won_t_be_invoked_in_release_mode/","summary":"tags: Rust,Flutter,iOS source: â€œUsing Dummy Headers - Flutter_rust_bridge.â€ Accessed July 25, 2022. http://cjycode.com/flutter_rust_bridge/integrate/ios_headers.html. Recently, I met a problem that the iOS app didn\u0026rsquo;t work properly in release mode. After a little searching, I found it\u0026rsquo;s a Flutter app and invoked a Rust function by FFI. The inital call were not invoked during app startup, and it should be.\nI finally resolved the problem by following:\nhttps://github.com/fzyzcjy/flutter_rust_bridge/issues/496 http://cjycode.com/flutter_rust_bridge/integrate/ios_headers.html In short:","title":"Flutter FFI didn't be Invoked in Release Mode"},{"content":" tags: Tools ","permalink":"https://notes.0081800.xyz/notes/20220715140459-openssl/","summary":" tags: Tools ","title":"openssl"},{"content":" tags: openssl This problem is caused about the ca certs are different between client and server.\n","permalink":"https://notes.0081800.xyz/notes/20220715140444-openssl_unknown_ca/","summary":"tags: openssl This problem is caused about the ca certs are different between client and server.","title":"openssl unknown ca"},{"content":" tags: Move,Starcoin Web3 StarTrek Bedrock \u0026ndash; Object-capability model In my words, Move is kind of a Resource-Oriented Programming language. The resource is represented by struct in Move, aka object in other programming language. By the way, the resource in Move is the struct which cannot be copied and cannot be dropped1.\nDistinct from other programming language, objects are stored in memory, resource in Move can store to the chain\u0026rsquo;s global storage.\nMove also provides public modifier for functions, and without that the function is private, which means that function only allow be invoked in the module.\nBut a public function doesn\u0026rsquo;t mean we want everybody to call it, especially in blockchain system. According object-capability model, we can define a witness parameter which is a specific object. Then the function can be invoked only if somebody have that resource.\nThere are two rules in Move enhance this model:\nStruct Can Only be Created or Destroyed in The Module It Belongs Struct types can only be created or destroyed inside the odule that defines the struct. The fields fo a struct are only accessable inside the module that defines the struct. Module Can Only be Invoked by Script Everybody Can Invoke Nobody Can Invoke Except The Resource Owner Nobody Can Invoke Except Who Initialized The Resource Nobody Can Invoke Except Whom The Module Belongs to Only structs with the key ability can be saved directly in persistent global storage. All Values stored within those key structs must have the store abilities. See Type Abilities.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20220705071653-move_resources_permissions/","summary":"tags: Move,Starcoin Web3 StarTrek Bedrock \u0026ndash; Object-capability model In my words, Move is kind of a Resource-Oriented Programming language. The resource is represented by struct in Move, aka object in other programming language. By the way, the resource in Move is the struct which cannot be copied and cannot be dropped1.\nDistinct from other programming language, objects are stored in memory, resource in Move can store to the chain\u0026rsquo;s global storage.","title":"Move Resources Permissions"},{"content":" tags: How to Write,Online Tools source: https://brevity500.com/ ","permalink":"https://notes.0081800.xyz/notes/20220630120053-brevity_500_500_mini_games_to_help_you_learn_powerful_writing_skills/","summary":" tags: How to Write,Online Tools source: https://brevity500.com/ ","title":"Brevity 500: 500 mini-games to help you learn powerful writing skills"},{"content":" tags: Assembly source: https://github.com/hackclub/some-assembly-required What do we mean by an abstraction? Well, an abstraction is a layer above something else that makes that thing easier to do.\n","permalink":"https://notes.0081800.xyz/notes/20220629071413-github_hackclub_some_assembly_required/","summary":"tags: Assembly source: https://github.com/hackclub/some-assembly-required What do we mean by an abstraction? Well, an abstraction is a layer above something else that makes that thing easier to do.","title":"GitHub: hackclub/some-assembly-required"},{"content":" tags: Starcoin Web3 StarTrek,Move When I start learning Move and looking at the stdlib starcoin-framework and starcoin-framework-commons. Then I realized there are must some magic during the block execution in runtime. To roll the world, the runtime should provide some built in types and call some function in the stdlib.\nHow does StarcoinVM Validate Transactions? As a miner, it\u0026rsquo;s responsible for executing block, it follows:\nReceived some transactions from P2P network: EventHandler of PeerTransactionsMessage.\nImport transactions into transactions pool as pending transactions: txpool::pool::queue::TransactionQueue::import\nDuring importing, it\u0026rsquo;ll verify those transactions by calling verify_transaction.\nRetrieve pending transactions and put it into the a block prepare to execute.\nIn the step 2, the miner need to verify the received transactions before put it into queue as pending transactions.\nThe actually verify logic are defined at StarcoinVM::verify_transaction, it follows:\nCheck signature. Load configs from chain by calling some smart contract functions, see below. Verify transactions. Run 0x01::TransactionManager::prologue smart contract. How is StarcoinVM be Involved? The main functionality is provided by a struct StarcoinVM which is a wrapper of MoveVM.\nA starcoin_open_block::OpenedBlock will be created, when a block is created on chain by starcoin_chain::chain::BlockChain::create_block_template. Some pending transactions (if have any) will push into it by its push_txns, then it\u0026rsquo;s time to get StarcoinVM involved.\nStarcoinVM is on duty to execute those transactions.\nHow does StarcoinVM Execute Transactions in Block? StarcoinVM::execute_block_transactions will be invoked to execute transactions.\nPreparation Inject natives to MoveVM When we created a StarcoinVM by StarcoinVM::new, its will create MoveVM by:\npub fn new(metrics: Option\u0026lt;VMMetrics\u0026gt;) -\u0026gt; Self { let inner = MoveVM::new(super::natives::starcoin_natives()) .expect(\u0026#34;should be able to create Move VM; check if there are duplicated natives\u0026#34;); Self { move_vm: Arc::new(inner), vm_config: None, version: None, move_version: None, metrics, } } All the natives that been injected to MoveVM are defined at starcoin_natives::starcoin_natives().\nLoad Configs by Calling Move Module Defined in stdlib The first thing it will do is load configs and call some functions in stdlib(Here we will skip the operations of genesis, there in different branch).\nThose smart contract functions are invoked by StarcoinVM::execute_readonly_function:\n0x1::VMConfig::instruction_schedule() defines how many gas will be cost to execute each Move instruction. 0x1::VMConfig::native_schedule() defines how many gas will be cost to execute each native Move expression. 0x1::VMConfig::gas_constants() some constans about gas. With those configurations, the StarcoinVM knows how many gas will be cost during a execution. I think this way to maintain config is very smart, as it can change the gas cost way without change the node(Rust). Further more, can change it with DAO.\nWait a minute, How those smart contract functions are executed?\nExecute Readonly Function Let\u0026rsquo;s see what have done in StarcoinVM::execute_readonly_function:\nIn short words, provide a StateViewCache to a new session of MoveVM, then call session.execute_function.\nStateViewCache implements some necessary resolver traits that help MoveVM session to locate the module and resource:\nModuleResolver find module by ModuleID ResourceResolver find resource by address and type As the stdlib has already deployed on the chain at 0x01 address in the genesis process, so the StateViewCache with those resolver resolver implementations will lead MoveVM locate the stdlib module.\nExecute Block Transactions Now it\u0026rsquo;s time to check the remain logic, there two types of transactions we need to care about:\nTransactionBlock::Prologue Each block whether it contains transactions or not, a prologue always need to be done, mainly invoke a smart contract function in stdlib:\n0x01::TransactionManager::block_prologue TransactionBlock::UserTransaction When a block contains transactions, it have three kinds of payload, which are defined as:\n#[derive(Clone, Debug, Hash, Eq, PartialEq, Serialize, Deserialize, JsonSchema)] pub enum TransactionPayload { /// A transaction that executes code. Script(Script), /// A transaction that publish or update module code by a package. Package(Package), /// A transaction that executes an existing script function published on-chain. ScriptFunction(ScriptFunction), } TransactionPayload::Script and TransactionPayload::ScriptFuntion have the same behaviour, that defined in StarcoinVM::execute_script_or_script_function. Before the script or script funciton been executed, a prologue which defined in stdlib will be executed first, and then an epilogue will be executed when the transactions is exeucted successfully:\n0x01::TransactionManager::prologue\n0x01::TransactionManager::epilogue or 0x01::TransactionManager::epilogue_v2, it depends on which version of stdlib is used in current runtime.\nTransactionPayload::Package invovled the same smart contract functions, but it\u0026rsquo;s code logic is more complex, check StarcoinVM::execute_package:\nPublish the package as move module bundle. session .publish_module_bundle_with_option( package .modules() .iter() .map(|m| m.code().to_vec()) .collect(), package.package_address(), // be careful with the sender. cost_strategy, PublishModuleBundleOption { force_publish: enforced, only_new_module, }, ) .map_err(|e| e.into_vm_status())?; Invoke init_script of the package if has any. Same question as above, how this module stored into chain? Let\u0026rsquo;s check StateViewCache again, it haven\u0026rsquo;t the corresponding traits. After doing some research, I found the session we are used isn\u0026rsquo;t in the offcial Move language, it defined as move_vm::move_vm_runtime::move_vm_adapter::SessionAdapter. It\u0026rsquo;ll invoke DataStore::publish_module, it just put our package into our account cache. This explains how a smart contract is deployed.\nHow does a Smart Contract Be Executed I\u0026rsquo;m curious about how a smart contract been executed.\nSo, with those questions, let\u0026rsquo;s see how a block is executed on chain.\nTo execute a smart contract, or in starcoin to invoke Move modules from a Move script, we can simply make a RPC invocation contract.call_v2, which defines at rpc/server/src/module/contract_rpc.rs#L145:\nfn call_v2(\u0026amp;self, call: ContractCall) -\u0026gt; FutureResult\u0026lt;Vec\u0026lt;DecodedMoveValue\u0026gt;\u0026gt; { let service = self.chain_state.clone(); let storage = self.storage.clone(); let ContractCall { function_id, type_args, args, } = call; let metrics = self.playground.metrics.clone(); let f = async move { let state_root = service.state_root().await?; let state = ChainStateDB::new(storage, Some(state_root)); let output = call_contract( \u0026amp;state, function_id.0.module, function_id.0.function.as_str(), type_args.into_iter().map(|v| v.0).collect(), args.into_iter().map(|v| v.0).collect(), metrics, )?; let annotator = MoveValueAnnotator::new(\u0026amp;state); output .into_iter() .map(|(ty, v)| annotator.view_value(\u0026amp;ty, \u0026amp;v).map(Into::into)) .collect::\u0026lt;anyhow::Result\u0026lt;Vec\u0026lt;_\u0026gt;\u0026gt;\u0026gt;() } .map_err(map_err); Box::pin(f.boxed()) } The call_contract will eventually call StarcoinVM::execute_readonly_function which we have already discussed above.\nMint Block Once the block had been created and executed, the miner is going to mint the block: generate nounces to meet the diffculty. When it has been done, the block is ready to append to the chain, which means all the transactions in the block are take effect.\n","permalink":"https://notes.0081800.xyz/notes/20220624172625-how_a_block_is_executed/","summary":"tags: Starcoin Web3 StarTrek,Move When I start learning Move and looking at the stdlib starcoin-framework and starcoin-framework-commons. Then I realized there are must some magic during the block execution in runtime. To roll the world, the runtime should provide some built in types and call some function in the stdlib.\nHow does StarcoinVM Validate Transactions? As a miner, it\u0026rsquo;s responsible for executing block, it follows:\nReceived some transactions from P2P network: EventHandler of PeerTransactionsMessage.","title":"How is a Block Executed"},{"content":" tags: Starcoin Web3 StarTrek Start node with console:\n$ ./target/debug/starcoin -d ~/.starcoin -n dev console In console type:\nstarcoin% dev log level debug Note: starcoin% is the prompt.\nThen we can see debug log in ~/.starcoin/dev/starcoin.log.\n","permalink":"https://notes.0081800.xyz/notes/20220621153549-starcoin_node_debug/","summary":"tags: Starcoin Web3 StarTrek Start node with console:\n$ ./target/debug/starcoin -d ~/.starcoin -n dev console In console type:\nstarcoin% dev log level debug Note: starcoin% is the prompt.\nThen we can see debug log in ~/.starcoin/dev/starcoin.log.","title":"Starcoin Node Debug"},{"content":" tags: Move,Starcoin Web3 StarTrek source: Blackshear, Sam, Evan Cheng, David L Dill, Victor Gao, Ben Maurer, Todd Nowacki, Alistair Pott, et al. â€œMove: A Language With Programmable Resources,â€ n.d., 26. ","permalink":"https://notes.0081800.xyz/notes/20220618163332-move_a_language_with_programmable_resources/","summary":" tags: Move,Starcoin Web3 StarTrek source: Blackshear, Sam, Evan Cheng, David L Dill, Victor Gao, Ben Maurer, Todd Nowacki, Alistair Pott, et al. â€œMove: A Language With Programmable Resources,â€ n.d., 26. ","title":"Move: A Language With Programmable Resources"},{"content":" tags: Starcoin Web3 StarTrek,Blockchain,Smart contracts ","permalink":"https://notes.0081800.xyz/notes/20220618163155-move/","summary":" tags: Starcoin Web3 StarTrek,Blockchain,Smart contracts ","title":"Move"},{"content":" tags: Starcoin Web3 StarTrek,Account-Model Blockchain Systems We can create an account by wallet like MetaMask or StarMask, but I\u0026rsquo;m curious about how an account is created on the blockchain system.\nAs a wallet has been embedded in the starcoin node, we can use it to create an account as follow:\n$ ./target/debug/starcoin -d ~/.starcoin -n dev account create -p my-pass { \u0026#34;ok\u0026#34;: { \u0026#34;address\u0026#34;: \u0026#34;0x2f1aeb63bd30d8eb841d6a941c5d6df3\u0026#34;, \u0026#34;is_default\u0026#34;: false, \u0026#34;is_readonly\u0026#34;: false, \u0026#34;public_key\u0026#34;: \u0026#34;0x91f79bdd9ced49332bf85b751d02339e05aff047c386d0c14b380d8519d2fb4b\u0026#34;, \u0026#34;receipt_identifier\u0026#34;: \u0026#34;stc1p9udwkcaaxrvwhpqad22pchtd7vy2276p\u0026#34; } } As above we can see our account has been created, and the address is: 0x2f1aeb63bd30d8eb841d6a941c5d6df3. We\u0026rsquo;ll find some files are created, if we check our local directory at ~/.starcoin/dev:\n$ ls -l ~/.starcoin/dev drwxr-xr-x 10 wh staff 320 Jun 16 18:32 account_vaults -rw-r--r-- 1 wh staff 257 Jun 16 18:32 config.toml -rw-r--r-- 1 wh staff 89048 Jun 16 18:32 genesis -rw-r--r-- 1 wh staff 10710 Jun 16 18:32 genesis_config.json -rw------- 1 wh staff 64 Jun 16 18:32 network_key srw------- 1 wh staff 0 Jun 16 18:32 starcoin.ipc -rw-r--r-- 1 wh staff 14678 Jun 16 18:32 starcoin.log drwxr-xr-x 3 wh staff 96 Jun 16 18:32 starcoindb We\u0026rsquo;ll meet them later, for now, let\u0026rsquo;s follow the source code to find how an account is created.\nTwo Account Provider Strategies From the code here we can see:\nIf there is a account_dir configured, then it should be AccountProviderStrategy::Local Otherwise AccountProviderStrategy::RPC is used. As we specify the -d ~/.starcoin to run above command to create an account, so I think the account_dir could be ~/.starcoin/dev/account_vaults. Just simply add a print statement in account/provider/src/provider/mod.rs, and remove the directory, then build \u0026amp; run it again:\n$ rm -rf ~/.starcoin/dev/ $ cargo build $ ./target/debug/starcoin -d ~/.starcoin -n dev account create -p my-pass +++++++ RPC { \u0026#34;ok\u0026#34;: { \u0026#34;address\u0026#34;: \u0026#34;0x7760d5c787b9918005d82cca6d8225a9\u0026#34;, \u0026#34;is_default\u0026#34;: false, \u0026#34;is_readonly\u0026#34;: false, \u0026#34;public_key\u0026#34;: \u0026#34;0xa8459efd0f6becd563bca5ea6d8b930e9f6f19a30aef1b9632baa62f59e2a21d\u0026#34;, \u0026#34;receipt_identifier\u0026#34;: \u0026#34;stc1pwasdt3u8hxgcqpwc9n9xmq394y0qwh24\u0026#34; } } Emmm, things don\u0026rsquo;t always happen as your thoughts, aren\u0026rsquo;t they? AccountProviderStrategy only will be used if we run command and pass --local-account-dir option:\n$ ./target/debug/starcoin -d ~/.starcoin/ --local-account-dir=~/.starcoin/dev/account_vaults/ -n dev account create -p my-pass +++++++ LOCAL { \u0026#34;ok\u0026#34;: { \u0026#34;address\u0026#34;: \u0026#34;0x18d44098682869343f232d6cf0bdf9a9\u0026#34;, \u0026#34;is_default\u0026#34;: true, \u0026#34;is_readonly\u0026#34;: false, \u0026#34;public_key\u0026#34;: \u0026#34;0x17e9deb0b3784b5abebad3a7cb8030c23360d6b7f8d108a8186d20e2a23b51ff\u0026#34;, \u0026#34;receipt_identifier\u0026#34;: \u0026#34;stc1prr2ypxrg9p5ng0er94k0p00e4yhnhgw0\u0026#34; } } There it is.\nAccountManager \u0026amp; AccountStorage I\u0026rsquo;m tracing the invocation path, and find that no matter which strategy is used, then eventually, the AccountManager is used to do the actually job. And it mainly relys on AccountStorage.\nNow let\u0026rsquo;s check the defination of AccountManager.create_account:\npub fn create_account(\u0026amp;self, password: \u0026amp;str) -\u0026gt; AccountResult\u0026lt;Account\u0026gt; { let private_key = gen_private_key(); let private_key = AccountPrivateKey::Single(private_key); let address = private_key.public_key().derived_address(); self.save_account( address, private_key.public_key(), Some((private_key, password.to_string())), ) } It\u0026rsquo;s very simple, just generate a private key, and use it\u0026rsquo;s public key to derive an address, that\u0026rsquo;s how your account address comes out.\nTwo more invocations are involved: generate_private_key and AccountManager.save_account. Let\u0026rsquo;s check the first one:\ngenerate_private_key pub(crate) fn gen_private_key() -\u0026gt; Ed25519PrivateKey { let mut seed_rng = rand::rngs::OsRng; let seed_buf: [u8; 32] = seed_rng.gen(); let mut rng: StdRng = SeedableRng::from_seed(seed_buf); Ed25519PrivateKey::generate(\u0026amp;mut rng) } Emmm, we are using Ed25519, as konwn as EdDSA(Edwards-curve Digital Signature Algorithm).\nThen how an address is derived? As we can see, the address is derived by a public key, which defined in starcoin_vm_types::transaction::authenticator::AccountPublicKey.derived_address. The main function of this invocation is use starcoin_vm_types::transaction::authenticator::AuthenticationKey::from_preimage create and AuthenticationKey can call derived_address that bind to it:\n/// Create an authentication key from a preimage by taking its sha3 hash pub fn from_preimage(preimage: \u0026amp;AuthenticationKeyPreimage) -\u0026gt; AuthenticationKey { AuthenticationKey::new(*HashValue::sha3_256_of(\u0026amp;preimage.0).as_ref()) } /// Return an address derived from the last `AccountAddress::LENGTH` bytes of this /// authentication key. pub fn derived_address(\u0026amp;self) -\u0026gt; AccountAddress { // keep only last 16 bytes let mut array = [0u8; AccountAddress::LENGTH]; array.copy_from_slice(\u0026amp;self.0[Self::LENGTH - AccountAddress::LENGTH..]); AccountAddress::new(array) } How to avoid collision of address? TODO\nHow is an Account be Saved? It\u0026rsquo;s mainly implemented in AccountManager.save_account:\nCheck existence. Verify private key and password. Invoke Account::create to create the account: store it to corresponding place, and change the corresponding settings. Add to store. Set it to default, if it\u0026rsquo;s the first address. Conclusion So, an account has been created. There is no magic happens, which means no on chain operations are involved. Just generates a private key and public key pair, and derives an address.\nThe key pair is just a way that proof you own the address. So on the blockchain, you can send coins to any address, if nobody can proof that his owns that address, then the coins some how is lost forever.\n","permalink":"https://notes.0081800.xyz/notes/20220616181130-how_a_account_is_created/","summary":"tags: Starcoin Web3 StarTrek,Account-Model Blockchain Systems We can create an account by wallet like MetaMask or StarMask, but I\u0026rsquo;m curious about how an account is created on the blockchain system.\nAs a wallet has been embedded in the starcoin node, we can use it to create an account as follow:\n$ ./target/debug/starcoin -d ~/.starcoin -n dev account create -p my-pass { \u0026#34;ok\u0026#34;: { \u0026#34;address\u0026#34;: \u0026#34;0x2f1aeb63bd30d8eb841d6a941c5d6df3\u0026#34;, \u0026#34;is_default\u0026#34;: false, \u0026#34;is_readonly\u0026#34;: false, \u0026#34;public_key\u0026#34;: \u0026#34;0x91f79bdd9ced49332bf85b751d02339e05aff047c386d0c14b380d8519d2fb4b\u0026#34;, \u0026#34;receipt_identifier\u0026#34;: \u0026#34;stc1p9udwkcaaxrvwhpqad22pchtd7vy2276p\u0026#34; } } As above we can see our account has been created, and the address is: 0x2f1aeb63bd30d8eb841d6a941c5d6df3.","title":"How is an Account Created"},{"content":" tags: Career,How To Get Rich (without getting lucky) source: Frontera. â€œLuck Surface Area: How to Get Lucky In Life,â€ May 31, 2022. https://fronterablog.com/luck-surface-area/. 5 ways to expand your luck surface area:\nDo \u0026amp; Tell, don\u0026rsquo;t miss the \u0026ldquo;telling\u0026rdquo; part. Follow your curiosity Talk to new peopli Build a personal brand Take luck as a skill ","permalink":"https://notes.0081800.xyz/notes/20220615183503-luck_surface_area_how_to_get_lucky_in_life_a_note_of_how_to_get_rich/","summary":" tags: Career,How To Get Rich (without getting lucky) source: Frontera. â€œLuck Surface Area: How to Get Lucky In Life,â€ May 31, 2022. https://fronterablog.com/luck-surface-area/. 5 ways to expand your luck surface area:\nDo \u0026amp; Tell, don\u0026rsquo;t miss the \u0026ldquo;telling\u0026rdquo; part. Follow your curiosity Talk to new peopli Build a personal brand Take luck as a skill ","title":"Luck Surface Area: How to Get Lucky In Life(a Note of \"How to Get Rich\")"},{"content":" tags: libp2p,Starcoin Web3 StarTrek source: https://docs.rs/libp2p/0.45.1/libp2p/tutorials/index.html Ping: Four necessary traits Identity: PeerId and corresponding Keypair Transport: send and receive bytes on the network. NetworkBehaviour: decode or encode the bytes from the Transport. Swarm: drives both a Transport and a NetworkBehaviour forward. use futures::StreamExt; use libp2p::ping::{Ping, PingConfig}; use libp2p::{identity, Multiaddr, PeerId, Swarm}; use std::error::Error; #[async_std::main] async fn main() -\u0026gt; Result\u0026lt;(), Box\u0026lt;dyn Error\u0026gt;\u0026gt; { // First we need to create a network identity. let local_key = identity::Keypair::generate_ed25519(); let local_peer_id = PeerId::from(local_key.public()); println!(\u0026#34;Local peer id: {:?}\u0026#34;, local_peer_id); // Then construct a transport: defines how to send bytes on the network. let transport = libp2p::development_transport(local_key).await?; // NetworkBehaviour defines what bytes to send on the network. let behaviour = Ping::new(PingConfig::new().with_keep_alive(true)); // Swarm connects transport and behaviour together: // // 1. Passing commands from NetworkBehaviour to the Transport. // 2. As well ass events from the Transport to the NetworkBehaviour. let mut swarm = Swarm::new(transport, behaviour, local_peer_id); swarm.listen_on(\u0026#34;/ip4/0.0.0.0/tcp/0\u0026#34;.parse()?)?; if let Some(addr) = std::env::args().nth(1) { let remote: Multiaddr = addr.parse()?; swarm.dial(remote)?; println!(\u0026#34;Dialed {}\u0026#34;, addr); } loop { match swarm.select_next_some().await { libp2p::swarm::SwarmEvent::NewListenAddr { listener_id: _, address, } =\u0026gt; println!(\u0026#34;Listening on {:?}\u0026#34;, address), libp2p::swarm::SwarmEvent::Behaviour(event) =\u0026gt; println!(\u0026#34;{:?}\u0026#34;, event), _ =\u0026gt; {} } } Ok(()) } ","permalink":"https://notes.0081800.xyz/notes/20220615073334-rust_libp2p/","summary":"tags: libp2p,Starcoin Web3 StarTrek source: https://docs.rs/libp2p/0.45.1/libp2p/tutorials/index.html Ping: Four necessary traits Identity: PeerId and corresponding Keypair Transport: send and receive bytes on the network. NetworkBehaviour: decode or encode the bytes from the Transport. Swarm: drives both a Transport and a NetworkBehaviour forward. use futures::StreamExt; use libp2p::ping::{Ping, PingConfig}; use libp2p::{identity, Multiaddr, PeerId, Swarm}; use std::error::Error; #[async_std::main] async fn main() -\u0026gt; Result\u0026lt;(), Box\u0026lt;dyn Error\u0026gt;\u0026gt; { // First we need to create a network identity.","title":"Rust libp2p"},{"content":" tags: P2P,libp2p,Starcoin Web3 StarTrek ","permalink":"https://notes.0081800.xyz/notes/20220615072945-distributed_hash_table_dht/","summary":" tags: P2P,libp2p,Starcoin Web3 StarTrek ","title":"Distributed Hash Table"},{"content":" tags: P2P,Starcoin Web3 StarTrek,Network source: https://docs.libp2p.io/ A set of protocols for peer identity, discover, routing, transport and more.\nPeer-to-peer network Peers or nodes communicate with oen another directly, it\u0026rsquo;s different from the client-server architecture.\nlibp2p Solved Transport abstract data transmission and receipt to adapte many protocols, include the future protocols.\nIdentity use public key cryptography as the basis of peer identityï¼Œ with this:\nIt gives each peer a globally unique \u0026ldquo;name\u0026rdquo;, in the form of a PeerId. PeerId allows anyone to retreve the public key for the identified peer, which enables secure communication between peers. Security libp2p supports \u0026ldquo;upgrading\u0026rdquo; a connection provided by a transport into a securely encrypted channel. Currently support;\nTLS 1.3 Noise Peer Routing: Distributed Hash Table(DHT)\nTwo key pieces:\nPeerId The way to locate them on the network to open a connection. Content Discovery content routing interface by using DHT.\nMessaging / PubSub\n","permalink":"https://notes.0081800.xyz/notes/20220615071057-libp2p/","summary":"tags: P2P,Starcoin Web3 StarTrek,Network source: https://docs.libp2p.io/ A set of protocols for peer identity, discover, routing, transport and more.\nPeer-to-peer network Peers or nodes communicate with oen another directly, it\u0026rsquo;s different from the client-server architecture.\nlibp2p Solved Transport abstract data transmission and receipt to adapte many protocols, include the future protocols.\nIdentity use public key cryptography as the basis of peer identityï¼Œ with this:\nIt gives each peer a globally unique \u0026ldquo;name\u0026rdquo;, in the form of a PeerId.","title":"libp2p"},{"content":" tags: Starcoin Web3 StarTrek,Blockchain ","permalink":"https://notes.0081800.xyz/notes/20220615070942-p2p/","summary":" tags: Starcoin Web3 StarTrek,Blockchain ","title":"P2P"},{"content":" tags: Starcoin Web3 StarTrek,starcoin issue solving Today I saw this issue: starcoin#3450 at GitHub, I decide to give it a try.\nThe corresponding type VMStatus is defined out of starcoin\u0026rsquo;s reposiotry, here.\nThe work need to be done seems are:\nconvert function from u16 to a readable string. convert status_code from StatusCode to a readable string. Let\u0026rsquo;s take a look at StatusCode first, StatusCode is a enum that contains lot of variants, WOW! My intuition is that can we just get the name of the variant by it\u0026rsquo;s value. Or I\u0026rsquo;ll write an ugly match that contains tons of arms. Maybe there already existed some similar code, Let me do a search.\nIn further research, I found the related struct of this issue is KeptVMStatus, starcoin returns it as TransactionStatusView.\nKeptVMStatus is defined in move, at here. The variant ExecutionFailure of it doesn\u0026rsquo;t contain status_code and function_name fields like VmStatus does. The status_code was removed in this commit.\nAs the commit message says:\n[vm] Filter StatusCodes away from TransactionOutput\nChanges the information kept in TransactionStatus Kept transactions have a new KeptVMStatus. Runtime errors have detailed information, but no error codes. All other errors are bucketed Discarded transactions have a StatusCode Closes: #5071 Approved by: sblackshear\nEmmm, how to get the detailed information from Runtime errors?\n","permalink":"https://notes.0081800.xyz/notes/20220611164505-starcoin_3450/","summary":"tags: Starcoin Web3 StarTrek,starcoin issue solving Today I saw this issue: starcoin#3450 at GitHub, I decide to give it a try.\nThe corresponding type VMStatus is defined out of starcoin\u0026rsquo;s reposiotry, here.\nThe work need to be done seems are:\nconvert function from u16 to a readable string. convert status_code from StatusCode to a readable string. Let\u0026rsquo;s take a look at StatusCode first, StatusCode is a enum that contains lot of variants, WOW!","title":"starcoin#3450"},{"content":" tags: Starcoin Web3 StarTrek ","permalink":"https://notes.0081800.xyz/notes/20220611154932-starcoin_issue_solving/","summary":" tags: Starcoin Web3 StarTrek ","title":"starcoin issue solving"},{"content":" tags: Merkle tree,Blockchain,Starcoin Web3 StarTrek source: Gao, Zhenhuan, Yuxuan Hu, and Qinfan Wu. â€œJellyfish Merkle Tree,â€ n.d., 12. What is Addressable mean? It means the leaf node in the tree can be found by an address. The address encoded the path to the leaf node, for example, a leaf node in a binary tree, which has 3 level. Its address may be encoded to 010, the corresponding path is: left-\u0026gt;right-\u0026gt;left:\n0 1 0 + + + v v v left right left root / \\ H1 H2 /\\ /\\ D1 D2 D3 D4 As we can see, the address 010 leads us to the leaf node D2.\nThis may explain what a colleague told me about the lower the address we got the lower gas we cost.\nHow does AMT work? The main goal of AMT is to let a verifier V can verify a large data structure D without holding it, which D provided by an untrusted prover P, which holds D.\nP computes \\(f(D) \\rightarrow r\\) and \\(\\pi\\) to the verifier.\nBoth:\n\\(r\\) the result of the computation of some function \\(f\\) on \\(D\\)(e.g. SHA1). \\(\\pi\\) a proof of the correct computation of the result. V can run \\(Verify(a, f, r, \\pi)\\), which returns true if and only if \\(f(D) = r\\).\n\\(a\\) holds by V is a short authenticator, forms a binding commitment to the large data structure D. As above shown, this is a Merkle tree stroing \\(D = \\{0: s0, 1: s1, 2: s2, 3: s3\\}\\). If we want to verify the third item(at the bottom of the tree, from left to right, shown with a dashed line), then \\(r = s2\\) and \\(\\pi = [h3, h4]\\)(shown with a dotted line). \\(Verify(a, f, r, \\pi)\\) returns if and only if the result of below equals to a:\n\\(hash(h4 || hash(hash(2 || r) || h3))\\)\n","permalink":"https://notes.0081800.xyz/notes/20220607191822-addressable_merkle_tree_amt/","summary":"tags: Merkle tree,Blockchain,Starcoin Web3 StarTrek source: Gao, Zhenhuan, Yuxuan Hu, and Qinfan Wu. â€œJellyfish Merkle Tree,â€ n.d., 12. What is Addressable mean? It means the leaf node in the tree can be found by an address. The address encoded the path to the leaf node, for example, a leaf node in a binary tree, which has 3 level. Its address may be encoded to 010, the corresponding path is: left-\u0026gt;right-\u0026gt;left:","title":"Addressable Merkle Tree(AMT)"},{"content":" tags: Starcoin Web3 StarTrek,Account-Model Blockchain Systems source: https://academy.horizen.io/technology/expert/utxo-vs-account-model/ ","permalink":"https://notes.0081800.xyz/notes/20220607185225-utxo_vs_account_model/","summary":" tags: Starcoin Web3 StarTrek,Account-Model Blockchain Systems source: https://academy.horizen.io/technology/expert/utxo-vs-account-model/ ","title":"UTXO VS. ACCOUNT MODEL"},{"content":" tags: Starcoin Web3 StarTrek,Ethereum,Merkle tree ","permalink":"https://notes.0081800.xyz/notes/20220607185130-account_model_blockchain_systems/","summary":" tags: Starcoin Web3 StarTrek,Ethereum,Merkle tree ","title":"Account-Model Blockchain Systems"},{"content":" tags: Starcoin Web3 StarTrek,Merkle tree,Ethereum Powers the widely known Ethereum network.\n","permalink":"https://notes.0081800.xyz/notes/20220607184852-patricia_merkle_tree/","summary":"tags: Starcoin Web3 StarTrek,Merkle tree,Ethereum Powers the widely known Ethereum network.","title":"Patricia Merkle Tree"},{"content":" tags: Let\u0026rsquo;s Encrypt,Merkle tree source: https://docs.planet.ink/data/seal/ This idea is genius, it use a merkle tree to combine serval notes. And use the root hash of merkel tree to obtain a certificate from Let\u0026rsquo;s Encrypt.\n","permalink":"https://notes.0081800.xyz/notes/20220606141221-seal_is_a_verifiable_timestamp_mechanism_for_cryptographically_proving_that_a_note_is_created_before_a_specific_time/","summary":"tags: Let\u0026rsquo;s Encrypt,Merkle tree source: https://docs.planet.ink/data/seal/ This idea is genius, it use a merkle tree to combine serval notes. And use the root hash of merkel tree to obtain a certificate from Let\u0026rsquo;s Encrypt.","title":"Seal is a verifiable timestamp mechanism for cryptographically proving that a note is created before a specific time."},{"content":" tags: Binary Search,LeetCodeNJ YouTube: https://www.youtube.com/watch?v=LPFhl65R7ww The most difficult thing is doing binary search among two sorted arrays, in this video Tushar Roy given us a straightforward method of how to do binary search among tow sorted arrays.\nAssume we have two sorted arrays, X and Y, and cut them between at x2,x3 and y3,y4:\nIf we meet the conditions:\nx2 \u0026lt;= y3 y2 \u0026lt;= x3 then we find the median postion, as the merged arrays of the four elements may be order by:\nAs above shows, in the left side: x1,y1,y2, and in the right side: x4,x5,y5. Both sides have the same number of elements, and in the left side are less than or equal those four elements, and in the right side are greater than or equal those four elements.\n","permalink":"https://notes.0081800.xyz/notes/20220606071010-binary_search_median_of_two_sorted_arrays_of_different_sizes/","summary":"tags: Binary Search,LeetCodeNJ YouTube: https://www.youtube.com/watch?v=LPFhl65R7ww The most difficult thing is doing binary search among two sorted arrays, in this video Tushar Roy given us a straightforward method of how to do binary search among tow sorted arrays.\nAssume we have two sorted arrays, X and Y, and cut them between at x2,x3 and y3,y4:\nIf we meet the conditions:\nx2 \u0026lt;= y3 y2 \u0026lt;= x3 then we find the median postion, as the merged arrays of the four elements may be order by:","title":"Binary Search : Median of two sorted arrays of different sizes."},{"content":" tags: Algorithm,Data Structures Make my best effort to move to Nanjing for my son. This is a successor of LeetCode101.\n","permalink":"https://notes.0081800.xyz/notes/20220606071040-leetcodenj/","summary":"tags: Algorithm,Data Structures Make my best effort to move to Nanjing for my son. This is a successor of LeetCode101.","title":"LeetCodeNJ"},{"content":" tags: Starcoin Web3 StarTrek,Blockchain Overview Block is the basic element in a blockchain system, as we known blockchain system is just a ledger, which means a bookkeeping1 that recording of financial transactions. In the blockchain system, those transactions are stored in the blocks. In each block, the data stored in may look like:\nTXN FROM TO VALUE #0 God Cale 100 #1 Cale Alice 10 #2 Alice Bob 1 #3 Bob Mike 0.5 Then what\u0026rsquo;s a blockchain? Just simply chain the blocks together, usually add a field to point to its parent:\nBlocks #0\nParent: None\nData:\nTXN FROM TO VALUE #0 God Cale 100 Blocks #1\nParent: #0\nData:\nTXN FROM TO VALUE #0 Cale Alice 10 #1 Cale Mike 1 Blocks #2 Parent: #1\nData:\nTXN FROM TO VALUE #0 Alice Bob 1 #1 Mike David 0.5 Blocks #3\nParent: #2\nData:\nTXN FROM TO VALUE #0 Bob David 0.5 As above shows, we can figure out each person\u0026rsquo;s balance:\nACCOUNT BALANCE WHY? Cale 89 +100 from god, -10 to Alice, -1 to Mike Alice 9 +10 from Cale, -1 to Bob Bob 0 +1 from Alice, -0.5 to Mike, -0.5 to David Mike 0 +0.5 from Bob, -0.5 to David David 1 +0.5 from Bob, +0.5 from Mike https://en.wikipedia.org/wiki/Bookkeeping\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20220602110916-starcoin_blockchain/","summary":"tags: Starcoin Web3 StarTrek,Blockchain Overview Block is the basic element in a blockchain system, as we known blockchain system is just a ledger, which means a bookkeeping1 that recording of financial transactions. In the blockchain system, those transactions are stored in the blocks. In each block, the data stored in may look like:\nTXN FROM TO VALUE #0 God Cale 100 #1 Cale Alice 10 #2 Alice Bob 1 #3 Bob Mike 0.","title":"Starcoin Blockchain from Scartch"},{"content":" tags: Merkle tree,Starcoin Web3 StarTrek ","permalink":"https://notes.0081800.xyz/notes/20220602102655-sparse_merkle_tree/","summary":" tags: Merkle tree,Starcoin Web3 StarTrek ","title":"Sparse Merkle Tree"},{"content":" tags: Starcoin Web3 StarTrek,Sparse Merkle Tree,Merkle tree,LSM-Tree,Account-Model Blockchain Systems source: Gao, Zhenhuan, Yuxuan Hu, and Qinfan Wu. â€œJellyfish Merkle Tree,â€ n.d., 12. JMT(Jellyfish Merkle Tree) a LSM-tree based Implementation of Sparse Merkle Tree Inspired by Patricia Merkle Tree and has been implemented in Rust, but it is language-independent.\nMerkel tree fits pretty well as an authenticated key-value store holding a huge amount of data in a tamper-proof way.\nTwo major concerns where people have been trying to achieve some enhnacements:\nComputation cost\nStorage footprint\nAmong above: Sparse Merkel Tree cut off unnecessary complexity in more compact and efficient merkel tree design, to provide a more compact and efficient merkel tree.\nWith sparseness can benefit:\nEscape from excessive computation and space overhead.\nLess CPU time in generation and verification: Smaller tree sizes, shorter proofs.\nLess network bandwidth in transmission.\nJMT(Jellyfish Merkle Tree) is built on top of a LSM-tree based key-value storage, featuring version-based key prevent heavy I/O.\n","permalink":"https://notes.0081800.xyz/notes/20220602102439-jellyfish_merkle_tree/","summary":"tags: Starcoin Web3 StarTrek,Sparse Merkle Tree,Merkle tree,LSM-Tree,Account-Model Blockchain Systems source: Gao, Zhenhuan, Yuxuan Hu, and Qinfan Wu. â€œJellyfish Merkle Tree,â€ n.d., 12. JMT(Jellyfish Merkle Tree) a LSM-tree based Implementation of Sparse Merkle Tree Inspired by Patricia Merkle Tree and has been implemented in Rust, but it is language-independent.\nMerkel tree fits pretty well as an authenticated key-value store holding a huge amount of data in a tamper-proof way.\nTwo major concerns where people have been trying to achieve some enhnacements:","title":"Jellyfish Merkle Tree"},{"content":" tags: Starcoin Web3 StarTrek, Proof-of-work Generate nonce (random data) as salt to join to the data of block to be hash. The goal is to find a hash value that less than target. The target is influenced by difficulty. As the difficulty gets bigger and the target will be smaller, which means more difficult to find.\npub fn difficult_to_target(difficulty: U256) -\u0026gt; U256 { U256::max_value() / difficulty } ","permalink":"https://notes.0081800.xyz/notes/20220601190052-starcoin_pow/","summary":" tags: Starcoin Web3 StarTrek, Proof-of-work Generate nonce (random data) as salt to join to the data of block to be hash. The goal is to find a hash value that less than target. The target is influenced by difficulty. As the difficulty gets bigger and the target will be smaller, which means more difficult to find.\npub fn difficult_to_target(difficulty: U256) -\u0026gt; U256 { U256::max_value() / difficulty } ","title":"Starcoin PoW"},{"content":" tags: Starcoin Web3 StarTrek,Blockchain source: Wikipedia: Merkle tree Starcoin Cookbook What is a Merkle tree. Merkle tree is a hash tree, named after Ralph Merkle, who patented in 1979.\nMost implementations of them are binary, which means two child nodes under each node.\nWhy the merkle tree is important to the peer-to-peer network? The main purpose of a merkle tree is to ensure the data we received from a peer-to-peer network are undamaged and unaltered, it\u0026rsquo;s important as the data were splitted into many blocks and stored in multiple nodes in the network.\nIt\u0026rsquo;s also provide a mechanism to check the data without to receive all the data.\nHow does a merkle tree work. Let\u0026rsquo;s check the follow image that download from Wikipedia:\nFrom bottom to top:\nL1,L2,L3,L4: The data are splitted into 4 blocks, and stored as leaf node in the merkle tree. Hash 0-0,Hash 0-1,Hash 1-0,Hash 1-1: Each parent of the data blocks stores the hash of each data block, usually by a cryptographic hash function such as SHA-2. Hash 0, Hash 1: Hash of their children\u0026rsquo;s hash. Top Hash: Hash of their children\u0026rsquo;s hash. As we can see, if any data block is changed, then the root hash or top hash will be changed too. So we can simply compare any two root hash or top hash values to check if the data are changed or not.\nHow does a blockchain industry use the merkel tree? Addressable Merkle Tree(AMT) ","permalink":"https://notes.0081800.xyz/notes/20220601110304-merkle_tree/","summary":"tags: Starcoin Web3 StarTrek,Blockchain source: Wikipedia: Merkle tree Starcoin Cookbook What is a Merkle tree. Merkle tree is a hash tree, named after Ralph Merkle, who patented in 1979.\nMost implementations of them are binary, which means two child nodes under each node.\nWhy the merkle tree is important to the peer-to-peer network? The main purpose of a merkle tree is to ensure the data we received from a peer-to-peer network are undamaged and unaltered, it\u0026rsquo;s important as the data were splitted into many blocks and stored in multiple nodes in the network.","title":"Merkle tree"},{"content":" tags: Starcoin Web3 StarTrek The documentation of Starcoin are written in multiple places:\nThe Developers Documentation on the main site English Version Chinese Version The Starcoin Cookbook English Version Chinese Version ","permalink":"https://notes.0081800.xyz/notes/20220601104619-starcoin_learn_resource/","summary":" tags: Starcoin Web3 StarTrek The documentation of Starcoin are written in multiple places:\nThe Developers Documentation on the main site English Version Chinese Version The Starcoin Cookbook English Version Chinese Version ","title":"Starcoin Learn Resource"},{"content":" tags: Starcoin Web3 StarTrek Why compile starcoin from source? Why not download a released binary? Because I want to contribute code to it, maybe in the future.\nBut the toolchain is awesome, the progress is very simple. Just two steps:\nClone the code from GitHub\ngit clone git@github.com:starcoinorg/starcoin.git Run scripts/dev_setup.sh:\ncd starcoin ./scripts/dev_setup.sh Then we are ready to compile:\ncargo build Wait? You haven\u0026rsquo;t install Rust yet? Please refer to Getting started.\nWhen it have done, then we can run our dev node:\n./target/debug/starcoin -n dev console A starcoin% is waiting for you.\n","permalink":"https://notes.0081800.xyz/notes/20220531133557-compile_starcoin_and_setup_a_dev_node/","summary":"tags: Starcoin Web3 StarTrek Why compile starcoin from source? Why not download a released binary? Because I want to contribute code to it, maybe in the future.\nBut the toolchain is awesome, the progress is very simple. Just two steps:\nClone the code from GitHub\ngit clone git@github.com:starcoinorg/starcoin.git Run scripts/dev_setup.sh:\ncd starcoin ./scripts/dev_setup.sh Then we are ready to compile:\ncargo build Wait? You haven\u0026rsquo;t install Rust yet? Please refer to Getting started.","title":"Compile Starcoin from Source And Setup a Dev Node"},{"content":" tags: Web3 Learn journal of Starcoin Web3 StarTrek Program, check the follow \u0026ldquo;Links to this note\u0026rdquo;.\n","permalink":"https://notes.0081800.xyz/notes/20220531104515-starcoin_web3_startrek/","summary":"tags: Web3 Learn journal of Starcoin Web3 StarTrek Program, check the follow \u0026ldquo;Links to this note\u0026rdquo;.","title":"Starcoin Web3 StarTrek"},{"content":" tags: ipfs source: https://blogchain.app/home ","permalink":"https://notes.0081800.xyz/notes/20220531102226-blogchain/","summary":" tags: ipfs source: https://blogchain.app/home ","title":"Blogchain"},{"content":" source: https://github.com/ipfs/ipfs site: https://ipfs.io/ ","permalink":"https://notes.0081800.xyz/notes/20220531102232-ipfs/","summary":" source: https://github.com/ipfs/ipfs site: https://ipfs.io/ ","title":"ipfs"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220531102139-ipfs/","summary":"","title":"IPFS"},{"content":"Some words that I always forget util I wrote it down:\ndiscipline collapse phantom ","permalink":"https://notes.0081800.xyz/notes/20220514204502-words_that_i_always_forgot/","summary":"Some words that I always forget util I wrote it down:\ndiscipline collapse phantom ","title":"Words that I always forgot"},{"content":" tags: High Performance,SIMD source: Lemire, Author Daniel. â€œFast Bitset Decoding Using Intel AVX-512.â€ Daniel Lemireâ€™s Blog (blog). Accessed May 12, 2022. https://lemire.me/blog/2022/05/06/fast-bitset-decoding-using-intel-avx-512/. ","permalink":"https://notes.0081800.xyz/notes/20220512182310-fast_bitset_decoding_using_intel_avx_512/","summary":" tags: High Performance,SIMD source: Lemire, Author Daniel. â€œFast Bitset Decoding Using Intel AVX-512.â€ Daniel Lemireâ€™s Blog (blog). Accessed May 12, 2022. https://lemire.me/blog/2022/05/06/fast-bitset-decoding-using-intel-avx-512/. ","title":"Fast bitset decoding using Intel AVX-512"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220506111914-master_s_degree_in_computer_science/","summary":"","title":"Masterâ€™s Degree in Computer Science"},{"content":" tags: Degree source: evanprodromou. â€œMasterâ€™s Degree in Computer Science.â€ Evan Prodromouâ€™s Blog (blog), May 4, 2022. https://evanp.me/2022/05/04/masters-degree-in-computer-science/. ","permalink":"https://notes.0081800.xyz/notes/20220506111923-master_s_degree_in_computer_science/","summary":" tags: Degree source: evanprodromou. â€œMasterâ€™s Degree in Computer Science.â€ Evan Prodromouâ€™s Blog (blog), May 4, 2022. https://evanp.me/2022/05/04/masters-degree-in-computer-science/. ","title":"Masterâ€™s Degree in Computer Science"},{"content":" tags: Degree source: â€œã€01B0801ã€‘ è®¡ç®—æœºåŠåº”ç”¨ï¼ˆç‹¬ç«‹æœ¬ç§‘æ®µï¼‰.â€ Accessed May 6, 2022. http://zkxcx.bjeea.cn/portal/kszylb.jsp?zydm=01B0801\u0026amp;amp;tab=2. Required Courses Code Name Credit Type Level1 Status2 Free Online Courses 03708 ä¸­å›½è¿‘ç°ä»£å²çº²è¦ 2 Political 5 pending 03708 é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†æ¦‚è®º 4 Political 5 pending 00015 è‹±è¯­ï¼ˆäºŒï¼‰ 14 Basic 1 passed 00023 é«˜ç­‰æ•°å­¦ï¼ˆå·¥æœ¬ï¼‰ 10 Basic 7 pending 02197 æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ï¼ˆäºŒï¼‰ 3 Basic 7 pending 02324 ç¦»æ•£æ•°å­¦ 4 CS 7 pending è…¾è®¯è¯¾å ‚ 04737 C++ç¨‹åºè®¾è®¡ 3 CS 1 pending 04738 C++ç¨‹åºè®¾è®¡ï¼ˆå®è·µï¼‰ 2 CS - pending 02326 æ“ä½œç³»ç»Ÿ 4 CS 2 pending 02327 æ“ä½œç³»ç»Ÿï¼ˆå®è·µï¼‰ 1 CS - pending 02331 æ•°æ®ç»“æ„ 3 CS 2 pending 04734 æ•°æ®ç»“æ„ï¼ˆå®è·µï¼‰ 2 CS - pending 02325 è®¡ç®—æœºç³»ç»Ÿç»“æ„ 4 CS 3 pending 04735 æ•°æ®åº“ç³»ç»ŸåŸç† 4 CS 1 pending 04736 æ•°æ®åº“ç³»ç»ŸåŸç†ï¼ˆå®è·µï¼‰ 2 CS - pending 02333 è½¯ä»¶å·¥ç¨‹ 3 CS 3 pending 02334 è½¯ä»¶å·¥ç¨‹ï¼ˆå®è·µï¼‰ 1 CS - pending 04741 è®¡ç®—æœºç½‘ç»œåŸç† 4 CS 2 pending 04747 Javaè¯­è¨€ç¨‹åºè®¾è®¡ï¼ˆä¸€ï¼‰ 3 CS 1 pending 04748 Javaè¯­è¨€ç¨‹åºè®¾è®¡ï¼ˆä¸€ï¼‰ï¼ˆå®è·µï¼‰ 1 CS 1 pending 10027 è®¡ç®—æœºåŠåº”ç”¨ä¸“ä¸šæ¯•ä¸šè®¾è®¡ 0 CS 1 wait Summary:\nThere are 5 courses were marked as hard: 2 political courses and 3 further mathematic courses. We make levels more distinct by using the fibonacci numbers: 1: don\u0026rsquo;t need care. 2: shall take a look. 3: shall study. 5: shall study hard. 7: shall study really hard. Materials We can buy those materials in the e-shop, named JD or Taobao in China. Just search the code of the speciality in those platforms, here is what I input: 01B0801.\nMoney Tracking Item Cost Time Let\u0026rsquo;s Sprint Sprint 2022/10 I found some examination papers that used before to evaluate the level.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\npending, processing, passed\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20220506104347-01b0801_%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%8F%8A%E5%BA%94%E7%94%A8_%E7%8B%AC%E7%AB%8B%E6%9C%AC%E7%A7%91%E6%AE%B5/","summary":"tags: Degree source: â€œã€01B0801ã€‘ è®¡ç®—æœºåŠåº”ç”¨ï¼ˆç‹¬ç«‹æœ¬ç§‘æ®µï¼‰.â€ Accessed May 6, 2022. http://zkxcx.bjeea.cn/portal/kszylb.jsp?zydm=01B0801\u0026amp;amp;tab=2. Required Courses Code Name Credit Type Level1 Status2 Free Online Courses 03708 ä¸­å›½è¿‘ç°ä»£å²çº²è¦ 2 Political 5 pending 03708 é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†æ¦‚è®º 4 Political 5 pending 00015 è‹±è¯­ï¼ˆäºŒï¼‰ 14 Basic 1 passed 00023 é«˜ç­‰æ•°å­¦ï¼ˆå·¥æœ¬ï¼‰ 10 Basic 7 pending 02197 æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ï¼ˆäºŒï¼‰ 3 Basic 7 pending 02324 ç¦»æ•£æ•°å­¦ 4 CS 7 pending è…¾è®¯è¯¾å ‚ 04737 C++ç¨‹åºè®¾è®¡ 3 CS 1 pending 04738 C++ç¨‹åºè®¾è®¡ï¼ˆå®è·µï¼‰ 2 CS - pending 02326 æ“ä½œç³»ç»Ÿ 4 CS 2 pending 02327 æ“ä½œç³»ç»Ÿï¼ˆå®è·µï¼‰ 1 CS - pending 02331 æ•°æ®ç»“æ„ 3 CS 2 pending 04734 æ•°æ®ç»“æ„ï¼ˆå®è·µï¼‰ 2 CS - pending 02325 è®¡ç®—æœºç³»ç»Ÿç»“æ„ 4 CS 3 pending 04735 æ•°æ®åº“ç³»ç»ŸåŸç† 4 CS 1 pending 04736 æ•°æ®åº“ç³»ç»ŸåŸç†ï¼ˆå®è·µï¼‰ 2 CS - pending 02333 è½¯ä»¶å·¥ç¨‹ 3 CS 3 pending 02334 è½¯ä»¶å·¥ç¨‹ï¼ˆå®è·µï¼‰ 1 CS - pending 04741 è®¡ç®—æœºç½‘ç»œåŸç† 4 CS 2 pending 04747 Javaè¯­è¨€ç¨‹åºè®¾è®¡ï¼ˆä¸€ï¼‰ 3 CS 1 pending 04748 Javaè¯­è¨€ç¨‹åºè®¾è®¡ï¼ˆä¸€ï¼‰ï¼ˆå®è·µï¼‰ 1 CS 1 pending 10027 è®¡ç®—æœºåŠåº”ç”¨ä¸“ä¸šæ¯•ä¸šè®¾è®¡ 0 CS 1 wait Summary:","title":"ã€01B0801ã€‘ è®¡ç®—æœºåŠåº”ç”¨ï¼ˆç‹¬ç«‹æœ¬ç§‘æ®µï¼‰"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220506102543-carr/","summary":"","title":"Carr"},{"content":" tags: Degree, Career I haven\u0026rsquo;t got a CS degree, it wasn\u0026rsquo;t a big deal when I was yonger, as I was cheap and many employers could affort, and didn\u0026rsquo;t care too much about it.\nBut now days, when I\u0026rsquo;m 30+ years old, and not cheap anymore. The employers who can affort me are much less. And most of them are required a CS degree, so the degree is important to me now.\nIn China, there are three ways to get a degree after leave school, which are provided by Education Examinations Authority. As I live in Beijing, it names Beijing Education Examinations Authority(BEEA). The three ways are similar: All of them have courses to study, and pass the examination to get credit, then get the degree when credit is enough.\nBut they are diffent in the diffcult level:\nThe easiest is study from network, follow the schedule of university, and go to the proper university to take examinations, it easy because the teacher will tell you the answer before the examination. It takes about 4 years, as it like the normal school, but over internet. The second one is study at school, follow the schedule of university, take examinations. The difference between above is you need study in the university. The most hard is study by yourself, and take the proper examinations, pass them, get the credit. The time flexible, you can make your own schedule. I choose the most hard way: self study and take examinations, as I could pass a lot courses without study.\nThe most hard parts are:\nSome political courses which can\u0026rsquo;t avoid in China, it has no logics, must force remember. Further Mathematics. Now we need a plan and I\u0026rsquo;ll record all the time costs.\n","permalink":"https://notes.0081800.xyz/notes/20220506102535-why_i_decide_to_get_a_computer_science_degree_in_2022/","summary":"tags: Degree, Career I haven\u0026rsquo;t got a CS degree, it wasn\u0026rsquo;t a big deal when I was yonger, as I was cheap and many employers could affort, and didn\u0026rsquo;t care too much about it.\nBut now days, when I\u0026rsquo;m 30+ years old, and not cheap anymore. The employers who can affort me are much less. And most of them are required a CS degree, so the degree is important to me now.","title":"Why I Decide to Get A Computer Science Degree in 2022"},{"content":" tags: Degree source: Engineer, Lowly Midwestern. â€œMy Experience Getting a Tech Job with No Degree or Relevant Work Experience.â€ Substack newsletter. Lowly Midwestern Engineersâ€™ Newsletter (blog), May 2, 2022. https://lowlyswe.substack.com/p/my-experience-getting-a-tech-job. ","permalink":"https://notes.0081800.xyz/notes/20220506101358-my_experience_getting_a_tech_job_with_no_degree_or_relevant_work_experience/","summary":" tags: Degree source: Engineer, Lowly Midwestern. â€œMy Experience Getting a Tech Job with No Degree or Relevant Work Experience.â€ Substack newsletter. Lowly Midwestern Engineersâ€™ Newsletter (blog), May 2, 2022. https://lowlyswe.substack.com/p/my-experience-getting-a-tech-job. ","title":"My experience getting a tech job with no degree or relevant work experience"},{"content":" tags: Degree source: â€œHow I Got a Computer Science Degree in 3 Months for Less Than $5000 | Miguel Rochefort.â€ Accessed April 28, 2022. https://miguelrochefort.com/blog/cs-degree/. ","permalink":"https://notes.0081800.xyz/notes/20220506101023-how_i_got_a_computer_science_degree_in_3_months_for_less_than_5000_miguel_rochefort/","summary":" tags: Degree source: â€œHow I Got a Computer Science Degree in 3 Months for Less Than $5000 | Miguel Rochefort.â€ Accessed April 28, 2022. https://miguelrochefort.com/blog/cs-degree/. ","title":"How I Got a Computer Science Degree in 3 Months for Less Than $5000 | Miguel Rochefort"},{"content":" tags: Career ","permalink":"https://notes.0081800.xyz/notes/20220506100932-degree/","summary":" tags: Career ","title":"Degree"},{"content":" tags: SIMD,High Performance source: â€œLuhn Algorithm Using SWAR and SIMD.â€ Accessed May 5, 2022. https://nullprogram.com/blog/2022/04/30/. 3x increase after used SIMD.\n","permalink":"https://notes.0081800.xyz/notes/20220505144135-luhn_algorithm_using_swar_and_simd/","summary":"tags: SIMD,High Performance source: â€œLuhn Algorithm Using SWAR and SIMD.â€ Accessed May 5, 2022. https://nullprogram.com/blog/2022/04/30/. 3x increase after used SIMD.","title":"Luhn algorithm using SWAR and SIMD"},{"content":" tags: SSE/AVX/AVX2/AVX512,High Performance source: Lemire, Author Daniel. â€œRemoving Characters from Strings Faster with AVX-512.â€ Daniel Lemireâ€™s Blog (blog). Accessed May 5, 2022. https://lemire.me/blog/2022/04/28/removing-characters-from-strings-faster-with-avx-512/. It\u0026rsquo;s 21.25 times faster with AVX-152: 0.4 GB/s to 8.5 GB/s.\n","permalink":"https://notes.0081800.xyz/notes/20220505141919-removing_characters_from_strings_faster_with_avx_512/","summary":"tags: SSE/AVX/AVX2/AVX512,High Performance source: Lemire, Author Daniel. â€œRemoving Characters from Strings Faster with AVX-512.â€ Daniel Lemireâ€™s Blog (blog). Accessed May 5, 2022. https://lemire.me/blog/2022/04/28/removing-characters-from-strings-faster-with-avx-512/. It\u0026rsquo;s 21.25 times faster with AVX-152: 0.4 GB/s to 8.5 GB/s.","title":"Removing characters from strings faster with AVX-512"},{"content":" tags: Emacs,GnuPG Pinentry,GnuPG,GnuPG Agent There is a little bit more background here: I\u0026rsquo;m using Windows Subsystem Linux(WSL) now, which means I was running Emacs in a virtual machine with Debian Linux distro.\nAnd also I ran Emacs in GUI mode with WSL, the pinentry for GnuPG Agent is: /usr/bin/pinentry-gtk2, everything was prefect.\nThis morning I couldn\u0026rsquo;t commit with Magit in Emacs, when I was running my Emacs in Terminal Text Mode.\nThe first thing I had done is change the pinentry:\nsudo apt install pinentry-tty sudo update-alternatives --config pinentry # Choice /usr/bin/pinentry-tty That not work, even in the bash without Magit, then I tried:\nexport GPG_TTY=$(tty) gpg-connect-agent updatestartuptty /bye \u0026gt;/dev/null Then I could commit in bash, but still couldn\u0026rsquo;t commit with Magit.\nFinally I realized that I executed above commands that still in the Emacs, with vterm. So:\nI quit the Emacs. Executed the above commands. Start Emacs again. And it works, for temporary, as GnuPG Agent has cached the credential, we just didn\u0026rsquo;t need to enter password.\n","permalink":"https://notes.0081800.xyz/notes/20220501082812-gnupg_can_not_sign_commit_with_magit_in_terminal_text_mode/","summary":"tags: Emacs,GnuPG Pinentry,GnuPG,GnuPG Agent There is a little bit more background here: I\u0026rsquo;m using Windows Subsystem Linux(WSL) now, which means I was running Emacs in a virtual machine with Debian Linux distro.\nAnd also I ran Emacs in GUI mode with WSL, the pinentry for GnuPG Agent is: /usr/bin/pinentry-gtk2, everything was prefect.\nThis morning I couldn\u0026rsquo;t commit with Magit in Emacs, when I was running my Emacs in Terminal Text Mode.","title":"GnuPG Can not Sign Commit with Magit in Terminal Text Mode"},{"content":" tags: Unix,Tools ","permalink":"https://notes.0081800.xyz/notes/20220501082607-gnupg/","summary":" tags: Unix,Tools ","title":"GnuPG"},{"content":" tags: GnuPG ","permalink":"https://notes.0081800.xyz/notes/20220501082647-gnupg_agent/","summary":" tags: GnuPG ","title":"GnuPG Agent"},{"content":" tags: GnuPG,GnuPG Agent ","permalink":"https://notes.0081800.xyz/notes/20220501082558-gnupg_pinentry/","summary":" tags: GnuPG,GnuPG Agent ","title":"GnuPG Pinentry"},{"content":" tags: Data Structures,Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220427074209-graph/","summary":" tags: Data Structures,Algorithm ","title":"Graph"},{"content":" tags: Algorithm,Tree,Graph source: https://en.wikipedia.org/wiki/Minimum%5Fspanning%5Ftree ","permalink":"https://notes.0081800.xyz/notes/20220427074048-minimum_spanning_tree/","summary":" tags: Algorithm,Tree,Graph source: https://en.wikipedia.org/wiki/Minimum%5Fspanning%5Ftree ","title":"Minimum spanning tree"},{"content":" tags: High Performance source: https://en.wikipedia.org/wiki/Non-uniform_memory_access ","permalink":"https://notes.0081800.xyz/notes/20220416080519-numa/","summary":" tags: High Performance source: https://en.wikipedia.org/wiki/Non-uniform_memory_access ","title":"NUMA"},{"content":" tags: Linux,Network,Tools netstat -s: show network status(errors) # show udp status $ netstat -s --udp Udp: 437.0k/s packets received 0.0/s packets to unknown port received. 386.9k/s packet receive errors 0.0/s packets sent RcvbufErrors: 123.8k/s SndbufErrors: 0 InCsumErrors: 0 ","permalink":"https://notes.0081800.xyz/notes/20220416075544-netstat/","summary":" tags: Linux,Network,Tools netstat -s: show network status(errors) # show udp status $ netstat -s --udp Udp: 437.0k/s packets received 0.0/s packets to unknown port received. 386.9k/s packet receive errors 0.0/s packets sent RcvbufErrors: 123.8k/s SndbufErrors: 0 InCsumErrors: 0 ","title":"netstat"},{"content":" tags: Linux,Network,TCP,UDP,Tools ethtool -S: Reveal where the packets actuaaly went receiver$ watch \u0026#39;sudo ethtool -S eth2 |grep rx\u0026#39; rx_nodesc_drop_cnt: 451.3k/s rx-0.rx_packets: 8.0/s rx-1.rx_packets: 0.0/s rx-2.rx_packets: 0.0/s rx-3.rx_packets: 0.5/s rx-4.rx_packets: 355.2k/s rx-5.rx_packets: 0.0/s rx-6.rx_packets: 0.0/s rx-7.rx_packets: 0.5/s rx-8.rx_packets: 0.0/s rx-9.rx_packets: 0.0/s rx-10.rx_packets: 0.0/s ","permalink":"https://notes.0081800.xyz/notes/20220416073825-ethtool/","summary":" tags: Linux,Network,TCP,UDP,Tools ethtool -S: Reveal where the packets actuaaly went receiver$ watch \u0026#39;sudo ethtool -S eth2 |grep rx\u0026#39; rx_nodesc_drop_cnt: 451.3k/s rx-0.rx_packets: 8.0/s rx-1.rx_packets: 0.0/s rx-2.rx_packets: 0.0/s rx-3.rx_packets: 0.5/s rx-4.rx_packets: 355.2k/s rx-5.rx_packets: 0.0/s rx-6.rx_packets: 0.0/s rx-7.rx_packets: 0.5/s rx-8.rx_packets: 0.0/s rx-9.rx_packets: 0.0/s rx-10.rx_packets: 0.0/s ","title":"ethtool"},{"content":" tags: Linux,High Performance,Network,ethtool source: The Cloudflare Blog. â€œHow to Receive a Million Packets per Second,â€ June 16, 2015. http://blog.cloudflare.com/how-to-receive-a-million-packets/. What are Multi-queue NICs RX queue was used to pass packets between hardware and kernel. Now days NICs support multiple RX queues: Each RX queue is pinned to a separate CPU.\nMulti-queue hashing algorithms Use a hash from packet to decide the RX queue number. The hash is usually counted from a tuple (src IP, dst IP, src port, dst port). This guarantees that packets for a single flow will always end up on exactly the same RX queue, and reordering of packets within a single flow can\u0026rsquo;t happen.\nThe hash algorithm is configurable with ethtool\nreceiver$ ethtool -n eth2 rx-flow-hash udp4 UDP over IPV4 flows use these fields for computing Hash flow key: IP SA IP DA Reads as\nRX_queue_number = hash(\u0026#39;192.168.254.30\u0026#39;, \u0026#39;192.168.254.1\u0026#39;) % number_of_queues ","permalink":"https://notes.0081800.xyz/notes/20220416073757-multi_queue_nics/","summary":"tags: Linux,High Performance,Network,ethtool source: The Cloudflare Blog. â€œHow to Receive a Million Packets per Second,â€ June 16, 2015. http://blog.cloudflare.com/how-to-receive-a-million-packets/. What are Multi-queue NICs RX queue was used to pass packets between hardware and kernel. Now days NICs support multiple RX queues: Each RX queue is pinned to a separate CPU.\nMulti-queue hashing algorithms Use a hash from packet to decide the RX queue number. The hash is usually counted from a tuple (src IP, dst IP, src port, dst port).","title":"Multi-queue NICs"},{"content":" tags: Network,Linux,Tools ","permalink":"https://notes.0081800.xyz/notes/20220416073414-iptables/","summary":" tags: Network,Linux,Tools ","title":"iptables"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220415065058-assembly/","summary":"","title":"Assembly"},{"content":" tags: Network,UDP,High Performance,iptables,ethtool,netstat,NUMA source: The Cloudflare Blog. â€œHow to Receive a Million Packets per Second,â€ June 16, 2015. http://blog.cloudflare.com/how-to-receive-a-million-packets/. Keys:\nMake sure traffic won\u0026rsquo;t be interfered with by the iptables\niptables -I INPUT 1 -p udp --dport 4321 -j ACCEPT iptables -t raw -I PREROUTING 1 -p udp --dport 4321 -j NOTRACK #+end_src[[id:C471A6FF-7F4E-4E23-B070-14CE146BFA14][Multi-queue NICs]] 2. The first bottleneck â€‹\t+ All packets are received by a signal RX queue, checked out with =ethtool -S=. â€‹\t+ How to solve: according to [[id:C471A6FF-7F4E-4E23-B070-14CE146BFA14][Multi-queue NICs]], change the hash algorithm with =ethtool=: #+begin_src bash ethtool -N eth2 rx-flow-hash udp4 sdfn Multiple threads with NUMA, and with multiple receiver ips to fit in multi-queue hash algorithm. Also note that there is a lock contention on the UDP receive buffer side, see Rivera, Diego, Eduardo Acha, Jose Piquer, and Javier Bustos-Jimenez. â€œAnalysis of Linux UDP Sockets Concurrent Performance.â€ In 2014 33rd International Conference of the Chilean Computer Science Society (SCCC), 65â€“69. Talca: IEEE, 2014. https://doi.org/10.1109/SCCC.2014.8.\nSO_REUSEPORT to avoid the lock on the UDP receive buffer.\nWhen this flag is set on a socket descriptor, Linux will allow many processes to bind to the same port. In fact, any number of processes will be allowed to bind and the load will be spread across them.\nWith SO_REUSEPORT each of the processes will have a separate socket descriptor. Therefore each will own a dedicated UDP receive buffer. This avoids the contention issues previously encountered:\n","permalink":"https://notes.0081800.xyz/notes/20220414185003-how_to_receive_a_million_packets_per_second/","summary":"tags: Network,UDP,High Performance,iptables,ethtool,netstat,NUMA source: The Cloudflare Blog. â€œHow to Receive a Million Packets per Second,â€ June 16, 2015. http://blog.cloudflare.com/how-to-receive-a-million-packets/. Keys:\nMake sure traffic won\u0026rsquo;t be interfered with by the iptables\niptables -I INPUT 1 -p udp --dport 4321 -j ACCEPT iptables -t raw -I PREROUTING 1 -p udp --dport 4321 -j NOTRACK #+end_src[[id:C471A6FF-7F4E-4E23-B070-14CE146BFA14][Multi-queue NICs]] 2. The first bottleneck â€‹\t+ All packets are received by a signal RX queue, checked out with =ethtool -S=.","title":"How to receive a million packets per second"},{"content":" tags: Network ","permalink":"https://notes.0081800.xyz/notes/20220414185017-udp/","summary":" tags: Network ","title":"UDP"},{"content":" tags: Network ","permalink":"https://notes.0081800.xyz/notes/20220414161423-multicast/","summary":" tags: Network ","title":"Multicast"},{"content":" tags: Distributed Systems ","permalink":"https://notes.0081800.xyz/notes/20220414150932-clock_synchronization/","summary":" tags: Distributed Systems ","title":"Clock Synchronization"},{"content":" tags: C/C++ Capture a map with reference If we capture a map by value, then we can\u0026rsquo;t use the operator []:\nunordered_map\u0026lt;int, int\u0026gt; freq; // Won\u0026#39;t compile // auto comp_by_map = [freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b];}; auto comp_by_map = [\u0026amp;freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b];}; ","permalink":"https://notes.0081800.xyz/notes/20220409082936-c_lambda/","summary":" tags: C/C++ Capture a map with reference If we capture a map by value, then we can\u0026rsquo;t use the operator []:\nunordered_map\u0026lt;int, int\u0026gt; freq; // Won\u0026#39;t compile // auto comp_by_map = [freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b];}; auto comp_by_map = [\u0026amp;freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b];}; ","title":"C++ Lambda"},{"content":" tags: Hash Table,Heap (data structure),LeetCode101,Priority Queue,C++ Lambda class Solution { public: vector\u0026lt;int\u0026gt; topKFrequent(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { vector\u0026lt;int\u0026gt; res; unordered_map\u0026lt;int, int\u0026gt; freq; // Note that: we need caputre a map by reference, // otherwise we can\u0026#39;t use the operator[]. // See also: https://stackoverflow.com/a/6281071 auto comp_by_map = [\u0026amp;freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b]; }; // Note that: here we need pass our lambda /comp_by_map/ to the // constructor of std::priority_queue. priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, decltype(comp_by_map)\u0026gt; pq(comp_by_map); for (auto n: nums) { freq[n] = freq.find(n) == freq.end() ? 1 : freq[n] + 1; } for (auto iter: freq) { pq.push(iter.first); } while (k \u0026gt; 0) { res.push_back(pq.top()); pq.pop(); k--; } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220409082813-leetcode101_347_top_k_frequent_elements/","summary":"tags: Hash Table,Heap (data structure),LeetCode101,Priority Queue,C++ Lambda class Solution { public: vector\u0026lt;int\u0026gt; topKFrequent(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { vector\u0026lt;int\u0026gt; res; unordered_map\u0026lt;int, int\u0026gt; freq; // Note that: we need caputre a map by reference, // otherwise we can\u0026#39;t use the operator[]. // See also: https://stackoverflow.com/a/6281071 auto comp_by_map = [\u0026amp;freq](const int\u0026amp; a, const int\u0026amp; b) { return freq[a] \u0026lt; freq[b]; }; // Note that: here we need pass our lambda /comp_by_map/ to the // constructor of std::priority_queue.","title":"LeetCode101: 347. Top K Frequent Elements"},{"content":" tags: LeetCode101,In-place Travel array in reverse order, and record how many times need to swap, which is how many elements not equal val.\nclass Solution { public: int removeElement(vector\u0026lt;int\u0026gt;\u0026amp; nums, int val) { int k = 0; for (int j = nums.size() - 1; j \u0026gt;= 0; --j) { if (nums[j] == val) { for (int i = 0; i \u0026lt; k; ++i) { swap(nums[i + j], nums[j + i + 1]); } } else { k++; } } return k; } }; ","permalink":"https://notes.0081800.xyz/notes/20220408131130-leetcode101_27_remove_element/","summary":" tags: LeetCode101,In-place Travel array in reverse order, and record how many times need to swap, which is how many elements not equal val.\nclass Solution { public: int removeElement(vector\u0026lt;int\u0026gt;\u0026amp; nums, int val) { int k = 0; for (int j = nums.size() - 1; j \u0026gt;= 0; --j) { if (nums[j] == val) { for (int i = 0; i \u0026lt; k; ++i) { swap(nums[i + j], nums[j + i + 1]); } } else { k++; } } return k; } }; ","title":"LeetCode101: 27. Remove Element"},{"content":" tags: Two Pointers,Three Pointers,LeetCode101,Sorting Based on:\nLeetCode101: 167. Two Sum II - Input Array Is Sorted LeetCode101: 15. 3Sum We create a new loop:\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; fourSum(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { sort(nums.begin(), nums.end()); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; int T, S, r, l; for (int i = 0; i \u0026lt; nums.size(); ++i) { if (i \u0026gt; 0 \u0026amp;\u0026amp; nums[i] == nums[i - 1]) { continue; } for (int j = i + 1; j \u0026lt; nums.size(); ++j) { if (j \u0026gt; i + 1 \u0026amp;\u0026amp; nums[j] == nums[j - 1]) { continue; } l = j + 1; r = nums.size() - 1; T = target - nums[i] - nums[j]; while (l \u0026lt; r) { S = nums[l] + nums[r]; if (S == T) { res.push_back({nums[i], nums[j], nums[l], nums[r]}); while (l \u0026lt; r \u0026amp;\u0026amp; nums[l] == nums[l + 1]) { l++; } while (l \u0026lt; r \u0026amp;\u0026amp; nums[r] == nums[r - 1]) { r--; } l++; r--; } else if (S \u0026lt; T) { l++; } else { r--; } } } } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220408125015-leetcode101_18_4sum/","summary":"tags: Two Pointers,Three Pointers,LeetCode101,Sorting Based on:\nLeetCode101: 167. Two Sum II - Input Array Is Sorted LeetCode101: 15. 3Sum We create a new loop:\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; fourSum(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { sort(nums.begin(), nums.end()); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; int T, S, r, l; for (int i = 0; i \u0026lt; nums.size(); ++i) { if (i \u0026gt; 0 \u0026amp;\u0026amp; nums[i] == nums[i - 1]) { continue; } for (int j = i + 1; j \u0026lt; nums.","title":"LeetCode101: 18. 4Sum"},{"content":" tags: Priority Queue,LeetCode101 Using a min heap to keep k elements, top is the Kth largest element.\nclass KthLargest { private: // min heap priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, std::greater\u0026lt;int\u0026gt;\u0026gt; pq; int K; public: KthLargest(int k, vector\u0026lt;int\u0026gt;\u0026amp; nums) { K = k; for (auto n: nums) { add(n); } } int add(int val) { pq.push(val); while (pq.size() \u0026gt; K) { pq.pop(); } return pq.top(); } }; /** * Your KthLargest object will be instantiated and called as such: * KthLargest* obj = new KthLargest(k, nums); * int param_1 = obj-\u0026gt;add(val); */ ","permalink":"https://notes.0081800.xyz/notes/20220408123913-leetcode101_703_kth_largest_element_in_a_stream/","summary":" tags: Priority Queue,LeetCode101 Using a min heap to keep k elements, top is the Kth largest element.\nclass KthLargest { private: // min heap priority_queue\u0026lt;int, vector\u0026lt;int\u0026gt;, std::greater\u0026lt;int\u0026gt;\u0026gt; pq; int K; public: KthLargest(int k, vector\u0026lt;int\u0026gt;\u0026amp; nums) { K = k; for (auto n: nums) { add(n); } } int add(int val) { pq.push(val); while (pq.size() \u0026gt; K) { pq.pop(); } return pq.top(); } }; /** * Your KthLargest object will be instantiated and called as such: * KthLargest* obj = new KthLargest(k, nums); * int param_1 = obj-\u0026gt;add(val); */ ","title":"LeetCode101: 703. Kth Largest Element in a Stream"},{"content":" tags: Heap (data structure),LeetCode101 Find top k values, classical heap problems.\nHere we need find top 2 values, and pop them from heap, then we will meet two cases:\nIf they are not same, put back the differ between them, continue. Otherwise, continue directly. ","permalink":"https://notes.0081800.xyz/notes/20220408070926-leetcode101_1046_last_stone_weight/","summary":" tags: Heap (data structure),LeetCode101 Find top k values, classical heap problems.\nHere we need find top 2 values, and pop them from heap, then we will meet two cases:\nIf they are not same, put back the differ between them, continue. Otherwise, continue directly. ","title":"LeetCode101: 1046. Last Stone Weight"},{"content":" tags: LeetCode101,Sorting,Two Pointers Key ideas:\nMove both sides to inwards. If the sum value less than target, move left pointer. Otherwise move right poinger. class Solution { public: vector\u0026lt;int\u0026gt; twoSum(vector\u0026lt;int\u0026gt;\u0026amp; numbers, int target) { int S, l = 0, r = numbers.size() - 1; vector\u0026lt;int\u0026gt; res(2, 0); while (l \u0026lt; r) { S = numbers[l] + numbers[r]; if (S == target) { break; } if (S \u0026lt; target) { l++; } else { r--; } } res[0] = l + 1; res[1] = r + 1; return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220407081954-leetcode101_167_two_sum_ii_input_array_is_sorted/","summary":" tags: LeetCode101,Sorting,Two Pointers Key ideas:\nMove both sides to inwards. If the sum value less than target, move left pointer. Otherwise move right poinger. class Solution { public: vector\u0026lt;int\u0026gt; twoSum(vector\u0026lt;int\u0026gt;\u0026amp; numbers, int target) { int S, l = 0, r = numbers.size() - 1; vector\u0026lt;int\u0026gt; res(2, 0); while (l \u0026lt; r) { S = numbers[l] + numbers[r]; if (S == target) { break; } if (S \u0026lt; target) { l++; } else { r--; } } res[0] = l + 1; res[1] = r + 1; return res; } }; ","title":"LeetCode101: 167. Two Sum II - Input Array Is Sorted"},{"content":" tags: LeetCode101,Sorting,Two Pointers,Three Pointers Key ideas see LeetCode101: 15. 3Sum\nclass Solution { public: int threeSumClosest(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { sort(nums.begin(), nums.end()); int closest = INT_MAX, l, r, sum, T, res; for (int i = 0; i \u0026lt; nums.size(); i++) { l = i + 1; r = nums.size() - 1; T = target - nums[i]; while (l \u0026lt; r) { sum = nums[l] + nums[r]; if (abs(sum - T) \u0026lt; closest) { res = sum + nums[i]; closest = abs(sum - T); } if (sum == T) { return target; } if (sum \u0026lt; T) { l++; } else { r--; } } } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220407081015-leetcode101_16_3sum_closest/","summary":" tags: LeetCode101,Sorting,Two Pointers,Three Pointers Key ideas see LeetCode101: 15. 3Sum\nclass Solution { public: int threeSumClosest(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { sort(nums.begin(), nums.end()); int closest = INT_MAX, l, r, sum, T, res; for (int i = 0; i \u0026lt; nums.size(); i++) { l = i + 1; r = nums.size() - 1; T = target - nums[i]; while (l \u0026lt; r) { sum = nums[l] + nums[r]; if (abs(sum - T) \u0026lt; closest) { res = sum + nums[i]; closest = abs(sum - T); } if (sum == T) { return target; } if (sum \u0026lt; T) { l++; } else { r--; } } } return res; } }; ","title":"LeetCode101: 16. 3Sum Closest"},{"content":" tags: LeetCode101,Sorting,Two Pointers,Three Pointers Key ideas:\nSort the nums first. Then, we travel the nums, pick current element as nums[i], and apply LeetCode101: 167. Two Sum II - Input Array Is Sorted to the remains. We skip the same numbers to avoid duplicate. class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; threeSum(vector\u0026lt;int\u0026gt;\u0026amp; nums) { sort(nums.begin(), nums.end()); int l, r, sum, T; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; for (int i = 0; i \u0026lt; nums.size(); i++) { // Skip same numbers to avoid duplicate if(i \u0026gt; 0 \u0026amp;\u0026amp; nums[i] == nums[i-1]) { continue; } l = i + 1; r = nums.size() - 1; T = 0 - nums[i]; while (l \u0026lt; r) { sum = nums[l] + nums[r]; if (sum == T) { res.push_back({nums[i], nums[l], nums[r]}); // Skip same numbers in each side to avoid duplicate while (l \u0026lt; r \u0026amp;\u0026amp; nums[l] == nums[l + 1]) l++; while (l \u0026lt; r \u0026amp;\u0026amp; nums[r] == nums[r - 1]) r--; l++; r--; } else if (sum \u0026lt; T) { l++; } else { r--; } } } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220407080010-leetcode101_15_3sum/","summary":"tags: LeetCode101,Sorting,Two Pointers,Three Pointers Key ideas:\nSort the nums first. Then, we travel the nums, pick current element as nums[i], and apply LeetCode101: 167. Two Sum II - Input Array Is Sorted to the remains. We skip the same numbers to avoid duplicate. class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; threeSum(vector\u0026lt;int\u0026gt;\u0026amp; nums) { sort(nums.begin(), nums.end()); int l, r, sum, T; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; for (int i = 0; i \u0026lt; nums.size(); i++) { // Skip same numbers to avoid duplicate if(i \u0026gt; 0 \u0026amp;\u0026amp; nums[i] == nums[i-1]) { continue; } l = i + 1; r = nums.","title":"LeetCode101: 15. 3Sum"},{"content":" tags: Two Pointers ","permalink":"https://notes.0081800.xyz/notes/20220407080033-three_pointers/","summary":" tags: Two Pointers ","title":"Three Pointers"},{"content":" tags: String,Two Pointers,LeetCode101 Two pointers move inwards, when we meet two different characters:\nRemove left character to see if the remains string still satisfied a valid palindrome. Remove right character to see if the remains string still satisfied a valid palindrome. Returns true if either one above two is true.\nclass Solution { public: bool validPalindrome(string s) { for (int i = 0, j = s.size() -1; i \u0026lt; j; i++,j--) { if (s[i] != s[j]) { // remove left auto left = isPalindrome(s, i + 1, j); // remove right auto right = isPalindrome(s, i, j - 1); // return at here as we have traveled the string in the // invocation of isPalindrome. return right || left; } } return true; } private: bool isPalindrome(string \u0026amp; s, int i, int j) { for (; i \u0026lt; j; i++,j--) { if (s[i] != s[j]) { return false; } } return true; } }; ","permalink":"https://notes.0081800.xyz/notes/20220402143729-leetcode101_680_valid_palindrome_ii/","summary":"tags: String,Two Pointers,LeetCode101 Two pointers move inwards, when we meet two different characters:\nRemove left character to see if the remains string still satisfied a valid palindrome. Remove right character to see if the remains string still satisfied a valid palindrome. Returns true if either one above two is true.\nclass Solution { public: bool validPalindrome(string s) { for (int i = 0, j = s.size() -1; i \u0026lt; j; i++,j--) { if (s[i] !","title":"LeetCode101: 680. Valid Palindrome II"},{"content":" tags: In-place WikiPedia: https://en.wikipedia.org/wiki/In-place%5Falgorithm Let see two examples before we go further:\nAs above we can see, to reverse a array in-place, we just need swap each two elements in the array from both side to middle.\nThe pseudo code from WikiPedia:\nfunction reverse_in_place(a[0..n-1]) for i from 0 to floor((n-2)/2) tmp := a[i] a[i] := a[n âˆ’ 1 âˆ’ i] a[n âˆ’ 1 âˆ’ i] := tmp The loop travels the array to the middle and swap each other in the list, two points we must be noticed:\nWe stop the element at(not before): floor((n - 2) / 2), It\u0026rsquo;s both 1 of the two above figures. We swap current element with n - 1 - i. ","permalink":"https://notes.0081800.xyz/notes/20220401104307-in_place_reverse/","summary":"tags: In-place WikiPedia: https://en.wikipedia.org/wiki/In-place%5Falgorithm Let see two examples before we go further:\nAs above we can see, to reverse a array in-place, we just need swap each two elements in the array from both side to middle.\nThe pseudo code from WikiPedia:\nfunction reverse_in_place(a[0..n-1]) for i from 0 to floor((n-2)/2) tmp := a[i] a[i] := a[n âˆ’ 1 âˆ’ i] a[n âˆ’ 1 âˆ’ i] := tmp The loop travels the array to the middle and swap each other in the list, two points we must be noticed:","title":"In-place Reverse"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220401104238-in_place/","summary":" tags: Algorithm ","title":"In-place"},{"content":" tags: In-place,LeetCode101,In-place Reverse class Solution { public: void reverseString(vector\u0026lt;char\u0026gt;\u0026amp; s) { if (s.size() == 1) { return; } for (int i = 0; i \u0026lt;= (s.size() - 2) / 2; ++i) { swap(s[s.size() - 1 - i], s[i]); } } }; ","permalink":"https://notes.0081800.xyz/notes/20220401104229-leetcode101_344_reverse_string/","summary":" tags: In-place,LeetCode101,In-place Reverse class Solution { public: void reverseString(vector\u0026lt;char\u0026gt;\u0026amp; s) { if (s.size() == 1) { return; } for (int i = 0; i \u0026lt;= (s.size() - 2) / 2; ++i) { swap(s[s.size() - 1 - i], s[i]); } } }; ","title":"LeetCode101: 344. Reverse String"},{"content":" tags: Binary Search,LeetCode101 There is three corner cases must be handled if we don\u0026rsquo;t find target in nums:\nReturn r + 1 if target is greater than right. Or return mid + 1 if target is greater than mid. Otherwise return mid. class Solution { public: int searchInsert(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { int l = 0, r = nums.size() - 1; int mid = r / 2; while (l != r) { mid = l + (r - l) / 2; if (target == nums[mid]) { return mid; } if (target \u0026lt; nums[mid]) { r = mid; } else { l = mid + 1; } } if (target \u0026gt; nums[r]) { return r + 1; } if (target \u0026gt; nums[mid]) { return mid + 1; } return mid; } }; ","permalink":"https://notes.0081800.xyz/notes/20220330165507-leetcode101_35_search_insert_position/","summary":"tags: Binary Search,LeetCode101 There is three corner cases must be handled if we don\u0026rsquo;t find target in nums:\nReturn r + 1 if target is greater than right. Or return mid + 1 if target is greater than mid. Otherwise return mid. class Solution { public: int searchInsert(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { int l = 0, r = nums.size() - 1; int mid = r / 2; while (l !","title":"LeetCode101: 35. Search Insert Position"},{"content":" tags: Divide-and-Conquer,LeetCode101,Binary Search class Solution { public: bool searchMatrix(vector\u0026lt;vector\u0026lt;int\u0026gt; \u0026gt; \u0026amp;matrix, int target) { int n = matrix.size(); int m = matrix[0].size(); int l = 0, r = m * n - 1; while (l != r){ int mid = l + (r - l) / 2; if (matrix[mid / m][mid % m] \u0026lt; target) l = mid + 1; else r = mid; } return matrix[r / m][r % m] == target; } }; ","permalink":"https://notes.0081800.xyz/notes/20220330160157-leetcode101_74_search_a_2d_matrix/","summary":" tags: Divide-and-Conquer,LeetCode101,Binary Search class Solution { public: bool searchMatrix(vector\u0026lt;vector\u0026lt;int\u0026gt; \u0026gt; \u0026amp;matrix, int target) { int n = matrix.size(); int m = matrix[0].size(); int l = 0, r = m * n - 1; while (l != r){ int mid = l + (r - l) / 2; if (matrix[mid / m][mid % m] \u0026lt; target) l = mid + 1; else r = mid; } return matrix[r / m][r % m] == target; } }; ","title":"LeetCode101: 74. Search a 2D Matrix"},{"content":" tags: Algorithm WIKIEPEDIA: https://en.wikipedia.org/wiki/Divide-and-conquer%5Falgorithm The points should been noted:\nThe middle position is not (right - left) / 2, it must be left + ((right - left) / 2). ","permalink":"https://notes.0081800.xyz/notes/20220330155829-divide_and_conquer/","summary":" tags: Algorithm WIKIEPEDIA: https://en.wikipedia.org/wiki/Divide-and-conquer%5Falgorithm The points should been noted:\nThe middle position is not (right - left) / 2, it must be left + ((right - left) / 2). ","title":"Divide-and-Conquer"},{"content":" tags: Bit Manipulation,Bitwise Operator: XOR According to bitwise operator XOR:\nx ^ x = 0 y ^ 0 = y We apply the XOR operator to all the nums, all the same numbers will apply x ^ x = 0, and then y ^ 0 = y will result the single number.\nclass Solution { public: int singleNumber(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int xorN = 0; for (auto iter = nums.begin(); iter != nums.end(); ++iter) { xorN ^= *iter; } return xorN; } }; ","permalink":"https://notes.0081800.xyz/notes/20220330070916-leetcode101_136_single_number/","summary":"tags: Bit Manipulation,Bitwise Operator: XOR According to bitwise operator XOR:\nx ^ x = 0 y ^ 0 = y We apply the XOR operator to all the nums, all the same numbers will apply x ^ x = 0, and then y ^ 0 = y will result the single number.\nclass Solution { public: int singleNumber(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int xorN = 0; for (auto iter = nums.begin(); iter !","title":"LeetCode101: 136. Single Number"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220330070500-bit_manipulation/","summary":" tags: Algorithm ","title":"Bit Manipulation"},{"content":" tags: Bitwise Operators 0101 (decimal 5) XOR 0011 (decimal 3) = 0110 (decimal 6)\n0010 (decimal 2) XOR 1010 (decimal 10) = 1000 (decimal 8)\nUseful features:\n1 ^ 1 = 0 2 ^ 0 = 2 ","permalink":"https://notes.0081800.xyz/notes/20220330070545-bitwise_operator_xor/","summary":" tags: Bitwise Operators 0101 (decimal 5) XOR 0011 (decimal 3) = 0110 (decimal 6)\n0010 (decimal 2) XOR 1010 (decimal 10) = 1000 (decimal 8)\nUseful features:\n1 ^ 1 = 0 2 ^ 0 = 2 ","title":"Bitwise Operator: XOR"},{"content":" tags: Cycle detection,Fast \u0026amp; Slow Pointers,LeetCode101 Treat as A Linked List with circle According to the length of nums is n + 1, and integer range is [1, n], so we can treat each element as a index that point to some next value. For example:\n[1,3,4,2,2] It can be treated as(format is element(index)):\n1(0) -\u0026gt; 3(1) -\u0026gt; 2(3) -\u0026gt; 4(3) -\u0026gt; 2(4) -\u0026gt; 4(3)\nWe can see there is a circle in it, so:\nclass Solution { public: int findDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int slow = nums[nums[0]]; // 1 step int fast = nums[slow]; // 2 steps while (slow != fast) { slow = nums[slow]; // 1 step fast = nums[nums[fast]]; // move 2 steps } slow = nums[0]; // put tortoise back to beginning. while (slow != fast) { slow = nums[slow]; fast = nums[fast]; } return slow; } }; ","permalink":"https://notes.0081800.xyz/notes/20220329181423-leetcode101_287_find_the_duplicate_number/","summary":"tags: Cycle detection,Fast \u0026amp; Slow Pointers,LeetCode101 Treat as A Linked List with circle According to the length of nums is n + 1, and integer range is [1, n], so we can treat each element as a index that point to some next value. For example:\n[1,3,4,2,2] It can be treated as(format is element(index)):\n1(0) -\u0026gt; 3(1) -\u0026gt; 2(3) -\u0026gt; 4(3) -\u0026gt; 2(4) -\u0026gt; 4(3)\nWe can see there is a circle in it, so:","title":"LeetCode101: 287. Find the Duplicate Number"},{"content":" tags: Cycle detection,Fast \u0026amp; Slow Pointers,LeetCode101 /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ class Solution { public: ListNode *detectCycle(ListNode *head) { if (head == nullptr || head-\u0026gt;next == nullptr) { return nullptr; } // tortoise move 1 step auto slow = head-\u0026gt;next; // hare move 2 steps auto fast = head-\u0026gt;next-\u0026gt;next; while (slow != fast) { if (slow == nullptr || fast == nullptr || fast-\u0026gt;next == nullptr) { return nullptr; } slow = slow-\u0026gt;next; fast = fast-\u0026gt;next-\u0026gt;next; } slow = head; while (slow != fast) { slow = slow-\u0026gt;next; fast = fast-\u0026gt;next; } return slow; } }; ","permalink":"https://notes.0081800.xyz/notes/20220329180222-leetcode101_142_linked_list_cycle_ii/","summary":"tags: Cycle detection,Fast \u0026amp; Slow Pointers,LeetCode101 /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode(int x) : val(x), next(NULL) {} * }; */ class Solution { public: ListNode *detectCycle(ListNode *head) { if (head == nullptr || head-\u0026gt;next == nullptr) { return nullptr; } // tortoise move 1 step auto slow = head-\u0026gt;next; // hare move 2 steps auto fast = head-\u0026gt;next-\u0026gt;next; while (slow !","title":"LeetCode101: 142. Linked List Cycle II"},{"content":" tags: Algorithm,Two Pointers ","permalink":"https://notes.0081800.xyz/notes/20220329171337-fast_slow_pointers/","summary":" tags: Algorithm,Two Pointers ","title":"Fast \u0026 Slow Pointers"},{"content":" tags: Algorithm,Linked List,Fast \u0026amp; Slow Pointers source: https://en.wikipedia.org/wiki/Cycle%5Fdetection Floyd\u0026rsquo;s tortoise and hare With two pointers:\ntortoise move slow: move 1 step in each loop. hare move fast: move 2 steps in each loop. If there is a circle existed, tortoise and hare will meet eventually in the circle. Now both tortoise and hare are in the circle, how to figure out the beginning of the circle?\nWe put tortoise back to the beginning they both started. Such as, the first element of the linked list. Then we move both tortoise and hare step by step, they will meet in the beginning of the circle. ","permalink":"https://notes.0081800.xyz/notes/20220329171237-cycle_detection/","summary":"tags: Algorithm,Linked List,Fast \u0026amp; Slow Pointers source: https://en.wikipedia.org/wiki/Cycle%5Fdetection Floyd\u0026rsquo;s tortoise and hare With two pointers:\ntortoise move slow: move 1 step in each loop. hare move fast: move 2 steps in each loop. If there is a circle existed, tortoise and hare will meet eventually in the circle. Now both tortoise and hare are in the circle, how to figure out the beginning of the circle?\nWe put tortoise back to the beginning they both started.","title":"Cycle detection"},{"content":" tags: Data Structures ","permalink":"https://notes.0081800.xyz/notes/20220329160804-tree/","summary":" tags: Data Structures ","title":"Tree"},{"content":" tags: Tree ","permalink":"https://notes.0081800.xyz/notes/20220329160754-binary_tree/","summary":" tags: Tree ","title":"Binary Tree"},{"content":" tags: Binary Tree,Tree A complete binary tree is a binary tree in which every level, except possibly the last, is completely filled, and all nodes in the last level are as far left as possible.\n","permalink":"https://notes.0081800.xyz/notes/20220329160738-complete_binary_tree/","summary":"tags: Binary Tree,Tree A complete binary tree is a binary tree in which every level, except possibly the last, is completely filled, and all nodes in the last level are as far left as possible.","title":"Complete Binary Tree"},{"content":" tags: Heap (data structure),Data Structures,Complete Binary Tree,Tree source: https://en.wikipedia.org/wiki/Binary%5Fheap Binary tree with two additional constraints:\nShape property: complete binary tree. Heap property: the key stored in each node is greater or equal(max-heaps) to or less than or equal to(min-heaps) the keys in the node\u0026rsquo;s children, according to some total order. Heap operations Insert Steps to add an element to a heap:\nAdd element to the bottom level of the heap at the leftmost open space. Compare to its parent, if they are in the correct the order, stop. If not, swap element with its parent and return to the previous step. Extract: Delete the root from heap Replace the root of heap with the last element on the bottom level. Compare the new root with its children; if they are in the correct order, stop. If not, swap the element with one of its children and return to the previous step. Search Delete Decrease or increase key Heap implementation with array each element a at index i has\nchildren at indices 2i + 1 and 2i + 2. Its parent at index floor((i - 1) / 2). ","permalink":"https://notes.0081800.xyz/notes/20220329160438-binary_heap/","summary":"tags: Heap (data structure),Data Structures,Complete Binary Tree,Tree source: https://en.wikipedia.org/wiki/Binary%5Fheap Binary tree with two additional constraints:\nShape property: complete binary tree. Heap property: the key stored in each node is greater or equal(max-heaps) to or less than or equal to(min-heaps) the keys in the node\u0026rsquo;s children, according to some total order. Heap operations Insert Steps to add an element to a heap:\nAdd element to the bottom level of the heap at the leftmost open space.","title":"Binary heap"},{"content":" tags: Priority Queue,LeetCode101 Max heap priority queue class Solution { public: int findKthLargest(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { // max heap priority_queue\u0026lt;int\u0026gt; pq; for (auto iter = nums.begin(); iter != nums.end(); ++iter) { pq.push(*iter); } // The Kth largest element should let k \u0026gt; 1 not k \u0026gt; 0 for (; k \u0026gt; 1; --k) { pq.pop(); } return pq.top(); } }; ","permalink":"https://notes.0081800.xyz/notes/20220329072317-leetcode101_215_kth_largest_element_in_an_array/","summary":" tags: Priority Queue,LeetCode101 Max heap priority queue class Solution { public: int findKthLargest(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { // max heap priority_queue\u0026lt;int\u0026gt; pq; for (auto iter = nums.begin(); iter != nums.end(); ++iter) { pq.push(*iter); } // The Kth largest element should let k \u0026gt; 1 not k \u0026gt; 0 for (; k \u0026gt; 1; --k) { pq.pop(); } return pq.top(); } }; ","title":"LeetCode101: 215. Kth Largest Element in an Array"},{"content":" tags: Priority Queue,LeetCode101 The key ideas:\nUse a std::pair to hold {count, index}, so it can compare count first then the index. Use a min heap priority queue to get the K weakest rows. class Solution { public: vector\u0026lt;int\u0026gt; kWeakestRows(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; mat, int k) { // min heap priority_queue\u0026lt; std::pair\u0026lt;int, int\u0026gt;, vector\u0026lt;std::pair\u0026lt;int, int\u0026gt; \u0026gt;, std::greater\u0026lt;std::pair\u0026lt;int, int\u0026gt; \u0026gt; \u0026gt; pq; for (auto iter = mat.begin(); iter != mat.end(); ++iter) { int c = count((*iter).begin(), (*iter).end(), 1); pq.push({c, iter - mat.begin()}); } vector\u0026lt;int\u0026gt; ret; for (; k \u0026gt; 0; --k) { ret.push_back(pq.top().second); pq.pop(); } return ret; } }; ","permalink":"https://notes.0081800.xyz/notes/20220329071403-leetcode101_1337_the_k_weakest_rows_in_a_matrix/","summary":"tags: Priority Queue,LeetCode101 The key ideas:\nUse a std::pair to hold {count, index}, so it can compare count first then the index. Use a min heap priority queue to get the K weakest rows. class Solution { public: vector\u0026lt;int\u0026gt; kWeakestRows(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; mat, int k) { // min heap priority_queue\u0026lt; std::pair\u0026lt;int, int\u0026gt;, vector\u0026lt;std::pair\u0026lt;int, int\u0026gt; \u0026gt;, std::greater\u0026lt;std::pair\u0026lt;int, int\u0026gt; \u0026gt; \u0026gt; pq; for (auto iter = mat.begin(); iter != mat.end(); ++iter) { int c = count((*iter).","title":"LeetCode101: 1337. The K Weakest Rows in a Matrix"},{"content":" tags: Data Structures,Heap (data structure) The priority queue is solved:\nThe K smallest/largest/weakest X. ","permalink":"https://notes.0081800.xyz/notes/20220329070523-priority_queue/","summary":" tags: Data Structures,Heap (data structure) The priority queue is solved:\nThe K smallest/largest/weakest X. ","title":"Priority Queue"},{"content":" tags: Learning English,è¯»ä¹¦ç¬”è®° source: Joseph Devlin. How to Speak and Write Correctly, 2007. http://archive.org/details/how_to_speak_and_write_correctly_librivox. I found this book in my Kindle on the subway to work this morning. And remembered that I downloaded it free from the Kindle store years ago. For some reasons, maybe my English was not good enough to read it, I haven\u0026rsquo;t read it yet. After read a little, I think it\u0026rsquo;s prefect for me for now.\nThe reasons is:\nWith Kindle, it provides some tooltips over the new words, so I can read it without a barrier. Also it provided me some new words to remember, as I don\u0026rsquo;t like to remember new words one by one from some apps, which I will never use them and then forget them. I found some audios from archive.org, so I can listen to it how to pronounce the new words. The steps I read this book should be:\nRead it on my Kindle, mark some words to remember. Listen to the audios, and read again. Take notes with my own words. CHAPTER I: REQUIREMENTS OF SPEECH Only about 2,000 Words Are Required The key of master English is knowing where to place them, that also let us master how to speak and write correctly. Use simple words as possible as you can, because great scholars and writers and polite do so. Simple words made your speech or the things you write easy to understand. Nine Great Classes of Words Article - Only two: a or an and the. Noun - Proper and Common. The most important. Nouns are varied by:\nPerson - First(I), Second(You), Third(She,He,It) Number - Singular(å•æ•°) and Plural(å¤æ•°) Gender - two sexes, but four genders masculineï¼ˆç”·æ€§ï¼‰ - male kind feminineï¼ˆå¥³æ€§ï¼‰- female kind neuterï¼ˆæ— æ€§ï¼‰ - inanimate things or whatever is without life commonï¼ˆä¸­æ€§ï¼‰ - indeterminable, such as fish, mouse, bird, etc. Case Nominative - I,You,He,She Possessive - My,Your,His,Her Objective - Me,You,Him,Her Adjective - A word which qualifies a noun. Pronounï¼ˆä»£è¯ï¼‰ Three kinds of pronouns:\npersonal I,Thou,He,She,It(We, You, They) relative adjective Verb - signifies action or the doing of something. Adverb (Adjust Verb) - modifies a verb, an adjective and sometimes another adverb. Preposition - connect words and to show the relation between the objects. Conjunction - join words, phrases, clauses and sentences together. Interjectionï¼ˆæ„Ÿå¹è¯ï¼‰- expresses surprise or some sudden emotion of the mind. THREE ESSENTIALS Purityï¼ˆçº¯æ­£ï¼‰ - precludes the use of: all slang(ä¿šè¯­) words vulgar(ç²—é²) phrases obsolete terms foreign idioms ambiguous expressions or any ungrammatical(ä¸åˆè¯­æ³•) language. Perspicuityï¼ˆæ¸…æ™°ï¼‰- clearest expression. Precisionï¼ˆç²¾å‡†ï¼‰- concise(ç²¾å‡†) and exact expression. Neither too long nor too short. ","permalink":"https://notes.0081800.xyz/notes/20220328110642-how_to_speak_and_write_correctly/","summary":"tags: Learning English,è¯»ä¹¦ç¬”è®° source: Joseph Devlin. How to Speak and Write Correctly, 2007. http://archive.org/details/how_to_speak_and_write_correctly_librivox. I found this book in my Kindle on the subway to work this morning. And remembered that I downloaded it free from the Kindle store years ago. For some reasons, maybe my English was not good enough to read it, I haven\u0026rsquo;t read it yet. After read a little, I think it\u0026rsquo;s prefect for me for now.","title":"How to Speak and Write Correctly"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220328074013-heapsort/","summary":"","title":"Heapsort"},{"content":" tags: Data Structures,Tree WHAT is a heap? Tree-based data structure which is essentially an almost complete tree that statifies the heap property.\nMax heap For any given node C, if P is a parent node of C, then the key(the value) of P is greater than or equal to the key of C.\nMin heap The P is less than or equal to the key C.\nWhen to use a heap? Priority queue. Heapsort. ","permalink":"https://notes.0081800.xyz/notes/20220328073805-heap_data_structure/","summary":"tags: Data Structures,Tree WHAT is a heap? Tree-based data structure which is essentially an almost complete tree that statifies the heap property.\nMax heap For any given node C, if P is a parent node of C, then the key(the value) of P is greater than or equal to the key of C.\nMin heap The P is less than or equal to the key C.\nWhen to use a heap?","title":"Heap (data structure)"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220324120212-sorting/","summary":" tags: Algorithm ","title":"Sorting"},{"content":" tags: Hash Table,LeetCode101,Sorting,Two Pointers Intuition with HashMap class Solution { public: int numRescueBoats(vector\u0026lt;int\u0026gt;\u0026amp; people, int limit) { unordered_map\u0026lt;int, int\u0026gt; cntOfWeights; for (auto iter = people.begin(); iter != people.end(); ++iter) { cntOfWeights[*iter]++; } int r = 0; for (int i = 0; i \u0026lt; people.size(); i++) { if (cntOfWeights[people[i]] == 0) { continue; } cntOfWeights[people[i]]--; for (int j = (limit - people[i]); j \u0026gt; 0; --j) { if (cntOfWeights.find(j) != cntOfWeights.end() \u0026amp;\u0026amp; cntOfWeights[j] \u0026gt; 0) { cntOfWeights[j]--; break; } } r++; } return r; } }; Sorting and Two Pointers class Solution { public: int numRescueBoats(vector\u0026lt;int\u0026gt;\u0026amp; people, int limit) { int i = 0; int j = people.size() - 1; // heaviest go first sort(people.rbegin(), people.rend()); for (; i \u0026lt;= j; i++) { if (people[i] + people[j] \u0026lt;= limit) j--; } return i; } }; ","permalink":"https://notes.0081800.xyz/notes/20220324114305-881_boats_to_save_people/","summary":"tags: Hash Table,LeetCode101,Sorting,Two Pointers Intuition with HashMap class Solution { public: int numRescueBoats(vector\u0026lt;int\u0026gt;\u0026amp; people, int limit) { unordered_map\u0026lt;int, int\u0026gt; cntOfWeights; for (auto iter = people.begin(); iter != people.end(); ++iter) { cntOfWeights[*iter]++; } int r = 0; for (int i = 0; i \u0026lt; people.size(); i++) { if (cntOfWeights[people[i]] == 0) { continue; } cntOfWeights[people[i]]--; for (int j = (limit - people[i]); j \u0026gt; 0; --j) { if (cntOfWeights.find(j) != cntOfWeights.","title":"LeetCode101: 881. Boats to Save People"},{"content":" tags: Math,backtracking,LeetCode101 Backtracking and stack overflow Intuition:\nWe can abstract all the operations to a Tree, then apply DFS on it.\nFor example: startValue=2, target=3, the tree looks like:\n/* 2 /\\ / \\ / \\ 1(-1) 4(x2) /\\ /\\--+ / \\ / \\ 0(-1) 2(x2) 3(-1) 8(x2) */ class Solution { public: int brokenCalc(int startValue, int target) { unordered_set\u0026lt;int\u0026gt; visited; return backtracking(0, startValue, target, visited); } int backtracking(int count, int val, int target, unordered_set\u0026lt;int\u0026gt; \u0026amp; visited) { if (val == target) { return count; } if (visited.find(val) != visited.end()) { return -1; } int left = -1, right = -1; count++; visited.insert(val); if (val \u0026gt; 0) { left = backtracking(count, val - 1, target, visited); } if (val \u0026lt;= target * 2) { right = backtracking(count, val * 2, target, visited); } visited.erase(val); if (left != -1 \u0026amp;\u0026amp; right != -1) { return min(left, right); } else if (left != -1) { return left; } return right; } }; Change target to startValue class Solution { public: int brokenCalc(int startValue, int target) { int r = 0; while (target \u0026gt; startValue) { target = target % 2 \u0026gt; 0 ? target + 1 : target / 2; r++; } return r + startValue - target; } }; ","permalink":"https://notes.0081800.xyz/notes/20220323175835-leetcode101_991_broken_calculator/","summary":"tags: Math,backtracking,LeetCode101 Backtracking and stack overflow Intuition:\nWe can abstract all the operations to a Tree, then apply DFS on it.\nFor example: startValue=2, target=3, the tree looks like:\n/* 2 /\\ / \\ / \\ 1(-1) 4(x2) /\\ /\\--+ / \\ / \\ 0(-1) 2(x2) 3(-1) 8(x2) */ class Solution { public: int brokenCalc(int startValue, int target) { unordered_set\u0026lt;int\u0026gt; visited; return backtracking(0, startValue, target, visited); } int backtracking(int count, int val, int target, unordered_set\u0026lt;int\u0026gt; \u0026amp; visited) { if (val == target) { return count; } if (visited.","title":"LeetCode101: 991. Broken Calculator"},{"content":" tags: String,LeetCode101,Tricky Initialize a string that fills 'a' in it. Then we turn it to the expected string from end to start.\nThe maximal value of each position in the string is 26. If we start from all elements is 'a' in the string. Then the represent value of the string is n. If it\u0026rsquo;s not equal to k. Then we need turn the last character of string to r = k - n. Two cases must be handled:\nFill z and continue, if r is greater than 25(25 as there is already a 'a' character there). Fill the corresponding character and done, if r is less than or equal 25. class Solution { public: string getSmallestString(int n, int k) { string r(n, \u0026#39;a\u0026#39;); int j = n - 1; k -= r.size(); while (k \u0026gt; 0) { if (k \u0026gt; 25) { k -= 25; r[j--] = \u0026#39;z\u0026#39;; } else { r[j] = \u0026#39;a\u0026#39; + k; k = 0; } } return r; } }; ","permalink":"https://notes.0081800.xyz/notes/20220322162250-leetcode101_1663_smallest_string_with_a_given_numeric_value/","summary":"tags: String,LeetCode101,Tricky Initialize a string that fills 'a' in it. Then we turn it to the expected string from end to start.\nThe maximal value of each position in the string is 26. If we start from all elements is 'a' in the string. Then the represent value of the string is n. If it\u0026rsquo;s not equal to k. Then we need turn the last character of string to r = k - n.","title":"LeetCode101: 1663. Smallest String With A Given Numeric Value"},{"content":" tags: Math,Hash Table,LeetCode101 class Solution { public: string intToRoman(int num) { vector\u0026lt;string\u0026gt; roman {\u0026#34;M\u0026#34;, \u0026#34;CM\u0026#34;, \u0026#34;D\u0026#34;, \u0026#34;CD\u0026#34;, \u0026#34;C\u0026#34;, \u0026#34;XC\u0026#34;, \u0026#34;L\u0026#34;, \u0026#34;XL\u0026#34;, \u0026#34;X\u0026#34;, \u0026#34;IX\u0026#34;, \u0026#34;V\u0026#34;, \u0026#34;IV\u0026#34;, \u0026#34;I\u0026#34;}; vector\u0026lt;int\u0026gt; integers {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1 }; string r; int times = 0; for (int i = 0; i \u0026lt; integers.size(); ++i) { if (num \u0026gt;= integers[i]) { times = num / integers[i]; num -= times * integers[i]; for (int j = times; j \u0026gt; 0; --j) { r.append(roman[i]); } } } return r; } }; ","permalink":"https://notes.0081800.xyz/notes/20220322155933-leetcode101_12_integer_to_roman/","summary":"tags: Math,Hash Table,LeetCode101 class Solution { public: string intToRoman(int num) { vector\u0026lt;string\u0026gt; roman {\u0026#34;M\u0026#34;, \u0026#34;CM\u0026#34;, \u0026#34;D\u0026#34;, \u0026#34;CD\u0026#34;, \u0026#34;C\u0026#34;, \u0026#34;XC\u0026#34;, \u0026#34;L\u0026#34;, \u0026#34;XL\u0026#34;, \u0026#34;X\u0026#34;, \u0026#34;IX\u0026#34;, \u0026#34;V\u0026#34;, \u0026#34;IV\u0026#34;, \u0026#34;I\u0026#34;}; vector\u0026lt;int\u0026gt; integers {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1 }; string r; int times = 0; for (int i = 0; i \u0026lt; integers.size(); ++i) { if (num \u0026gt;= integers[i]) { times = num / integers[i]; num -= times * integers[i]; for (int j = times; j \u0026gt; 0; --j) { r.","title":"LeetCode101: 12. Integer to Roman"},{"content":" tags: Two Pointers,Tricky,LeetCode101 The key ideas are:\nWe start from two edges and move to the middle with two pointers. Move the pointer to the middle which side is smaller. class Solution { public: int maxArea(vector\u0026lt;int\u0026gt;\u0026amp; height) { int i = 0, j = height.size() - 1; int water = 0; while (i \u0026lt; j) { water = max(water, (j - i) * min(height[i], height[j])); if (height[i] \u0026gt; height[j]) { --j; } else { ++i; } } return water; } }; ","permalink":"https://notes.0081800.xyz/notes/20220321183809-leetcode_11_container_with_most_water/","summary":" tags: Two Pointers,Tricky,LeetCode101 The key ideas are:\nWe start from two edges and move to the middle with two pointers. Move the pointer to the middle which side is smaller. class Solution { public: int maxArea(vector\u0026lt;int\u0026gt;\u0026amp; height) { int i = 0, j = height.size() - 1; int water = 0; while (i \u0026lt; j) { water = max(water, (j - i) * min(height[i], height[j])); if (height[i] \u0026gt; height[j]) { --j; } else { ++i; } } return water; } }; ","title":"LeetCode101: 11. Container With Most Water"},{"content":" tags: String,LeetCode101,Stack,Hash Table,Hash Set I have solved this problem years before, LeetCode: 316.Remove Duplicate Letters, but still stuck on it.\nThe key idea is not only about stack, but also required a map to record how many same letters behind current one. Which helps us to decide if drop current letter or not, when the new letter is less than the top of stack, which means smaller in lexicographical order.\nclass Solution { public: string removeDuplicateLetters(string s) { vector\u0026lt;int\u0026gt; countOfLetters(26, 0); vector\u0026lt;bool\u0026gt; pickedLetters(26, false); stack\u0026lt;char\u0026gt; st; for (auto iter = s.begin(); iter != s.end(); ++iter) { countOfLetters[*iter - \u0026#39;a\u0026#39;]++; } for (int i = 0; i \u0026lt; s.size(); ++i) { countOfLetters[s[i] - \u0026#39;a\u0026#39;]--; if (pickedLetters[s[i] - \u0026#39;a\u0026#39;]) { continue; } while (!st.empty() \u0026amp;\u0026amp; s[i] \u0026lt; st.top() \u0026amp;\u0026amp; countOfLetters[st.top() - \u0026#39;a\u0026#39;] \u0026gt; 0) { pickedLetters[st.top() - \u0026#39;a\u0026#39;] = false; st.pop(); } st.push(s[i]); pickedLetters[s[i] - \u0026#39;a\u0026#39;] = true; } string r; while (!st.empty()) { r.push_back(st.top()); st.pop(); } reverse(r.begin(), r.end()); return r; } }; ","permalink":"https://notes.0081800.xyz/notes/20220321174725-leetcode101_316_remove_duplicate_letters/","summary":"tags: String,LeetCode101,Stack,Hash Table,Hash Set I have solved this problem years before, LeetCode: 316.Remove Duplicate Letters, but still stuck on it.\nThe key idea is not only about stack, but also required a map to record how many same letters behind current one. Which helps us to decide if drop current letter or not, when the new letter is less than the top of stack, which means smaller in lexicographical order.","title":"LeetCode101: 316. Remove Duplicate Letters"},{"content":" tags: String,LeetCode101,Hash Set,Hash Table,Stack The key idea is similar to LeetCode101: 316. Remove Duplicate Letters, we use a HashMap to track how many letters which is same in the string. Then we use a HashSet to store appeared letters. When there is no more letters appeared in the HashSet, it\u0026rsquo;s time to partition.\nclass Solution { public: vector\u0026lt;int\u0026gt; partitionLabels(string s) { unordered_map\u0026lt;char, int\u0026gt; cntOfLetters; unordered_set\u0026lt;char\u0026gt; appearedLetters; vector\u0026lt;int\u0026gt; r; int count = 0; for (auto iter = s.begin(); iter != s.end(); ++iter) { cntOfLetters[*iter]++; } for (auto iter = s.begin(); iter != s.end(); ++iter) { appearedLetters.insert(*iter); cntOfLetters[*iter]--; count++; // Append current count to result if there is no appeared letters // behind. bool behind = false; for (auto si = appearedLetters.begin(); si != appearedLetters.end(); ++si) { if (cntOfLetters[*si]){ behind = true; break; } } if (!behind) { r.push_back(count); count = 0; } } if (count \u0026gt; 1) { r.push_back(count); } return r; } }; ","permalink":"https://notes.0081800.xyz/notes/20220321174504-leetcode101_763_partition_labels/","summary":"tags: String,LeetCode101,Hash Set,Hash Table,Stack The key idea is similar to LeetCode101: 316. Remove Duplicate Letters, we use a HashMap to track how many letters which is same in the string. Then we use a HashSet to store appeared letters. When there is no more letters appeared in the HashSet, it\u0026rsquo;s time to partition.\nclass Solution { public: vector\u0026lt;int\u0026gt; partitionLabels(string s) { unordered_map\u0026lt;char, int\u0026gt; cntOfLetters; unordered_set\u0026lt;char\u0026gt; appearedLetters; vector\u0026lt;int\u0026gt; r; int count = 0; for (auto iter = s.","title":"LeetCode101: 763. Partition Labels"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220321174510-string/","summary":" tags: Algorithm ","title":"String"},{"content":" tags: LeetCode101,Math The key idea is:\nTo use \\(log10(10^n) = n\\) to get how many digits in the number. Then we need iterate \\(n + 1\\) times to compare each side. The digit in the left is \\(\\frac{x}{10^{n-i}} \\mod 10\\). The digit in the right is \\(\\frac{x}{10^i} \\mod 10\\). class Solution { public: bool isPalindrome(int x) { if (x \u0026lt; 0) { return false; } // failed at here if (x \u0026lt; 10) { return true; } int n = log10(x); int ld = pow(10, n); // left div int rd = 1; // right div for (int i = 0; i \u0026lt; (n + 1) / 2; i++) { // left right if (x / ld % 10 != x / rd % 10) { return false; } ld /= 10; rd *= 10; } return true; } }; ","permalink":"https://notes.0081800.xyz/notes/20220318084438-leetcode101_9_palindrome_number/","summary":"tags: LeetCode101,Math The key idea is:\nTo use \\(log10(10^n) = n\\) to get how many digits in the number. Then we need iterate \\(n + 1\\) times to compare each side. The digit in the left is \\(\\frac{x}{10^{n-i}} \\mod 10\\). The digit in the right is \\(\\frac{x}{10^i} \\mod 10\\). class Solution { public: bool isPalindrome(int x) { if (x \u0026lt; 0) { return false; } // failed at here if (x \u0026lt; 10) { return true; } int n = log10(x); int ld = pow(10, n); // left div int rd = 1; // right div for (int i = 0; i \u0026lt; (n + 1) / 2; i++) { // left right if (x / ld % 10 !","title":"LeetCode101: 9. Palindrome Number"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220318084456-math/","summary":" tags: Algorithm ","title":"Math"},{"content":" tags: C/C++ In some problems, we need to detect is our result overflow in a 32-bit integer. The key ideas is check our value before it becomes bigger.\nFor example:\n// INT_MAX 2147483647 // INT_MIN -2147483648 // INT_MAX\u0026#39;s suffix is 7 if (res \u0026gt; INT_MAX / 10 || (res == INT_MAX / 10 \u0026amp;\u0026amp; pop \u0026gt; 7)) { return 0; } // INT_MIN\u0026#39;s suffix is -8 if (res \u0026lt; INT_MIN / 10 || (res == INT_MIN / 10 \u0026amp;\u0026amp; pop \u0026lt; -8)) { return 0; } res = res * 10 + pop; Our final result need a 10 times current value and plus a value, then we check:\nIf our result greater than INT_MAX / 10, which means overflow. Then if our result equals to INT_MAX / 10, we continue compare the plus value to the suffix of INT_MAX. ","permalink":"https://notes.0081800.xyz/notes/20220318072424-integer_overflow/","summary":"tags: C/C++ In some problems, we need to detect is our result overflow in a 32-bit integer. The key ideas is check our value before it becomes bigger.\nFor example:\n// INT_MAX 2147483647 // INT_MIN -2147483648 // INT_MAX\u0026#39;s suffix is 7 if (res \u0026gt; INT_MAX / 10 || (res == INT_MAX / 10 \u0026amp;\u0026amp; pop \u0026gt; 7)) { return 0; } // INT_MIN\u0026#39;s suffix is -8 if (res \u0026lt; INT_MIN / 10 || (res == INT_MIN / 10 \u0026amp;\u0026amp; pop \u0026lt; -8)) { return 0; } res = res * 10 + pop; Our final result need a 10 times current value and plus a value, then we check:","title":"Integer Overflow"},{"content":" tags: Tricky,LeetCode101,Integer Overflow The key idea is how to detect integer overflow, it\u0026rsquo;s same to: LeetCode101: 7. Reverse Integer.\nclass Solution { public: int myAtoi(string s) { auto iter = s.begin(); int base = 1, r = 0, p = 0; // Skip whitespace for (; iter != s.end() \u0026amp;\u0026amp; *iter == \u0026#39; \u0026#39;; ++iter) { } // negative or positive if (*iter == \u0026#39;-\u0026#39; || *iter == \u0026#39;+\u0026#39;) { if (*iter == \u0026#39;-\u0026#39;) { base = -1; } ++iter; } for (; iter != s.end(); ++iter) { // failed at here: the logic between conditions is OR not AND if (*iter \u0026gt; \u0026#39;9\u0026#39; || *iter \u0026lt; \u0026#39;0\u0026#39;) { break; } p = (*iter - \u0026#39;0\u0026#39;) * base; // 7 is the INX_MAX\u0026#39;s suffix, remember? if (r \u0026gt; INT_MAX / 10 || (r == INT_MAX / 10 \u0026amp;\u0026amp; p \u0026gt; 7)) { return INT_MAX; } // 8 is the INT_MIN\u0026#39;s suffix, too. if (r \u0026lt; INT_MIN / 10 || (r == INT_MIN / 10 \u0026amp;\u0026amp; p \u0026lt; -8)) { return INT_MIN; } r = r * 10 + p; } return r; } }; ","permalink":"https://notes.0081800.xyz/notes/20220318072345-leetcode101_8_string_to_integer_atoi/","summary":"tags: Tricky,LeetCode101,Integer Overflow The key idea is how to detect integer overflow, it\u0026rsquo;s same to: LeetCode101: 7. Reverse Integer.\nclass Solution { public: int myAtoi(string s) { auto iter = s.begin(); int base = 1, r = 0, p = 0; // Skip whitespace for (; iter != s.end() \u0026amp;\u0026amp; *iter == \u0026#39; \u0026#39;; ++iter) { } // negative or positive if (*iter == \u0026#39;-\u0026#39; || *iter == \u0026#39;+\u0026#39;) { if (*iter == \u0026#39;-\u0026#39;) { base = -1; } ++iter; } for (; iter !","title":"LeetCode101: 8. String to Integer (atoi)"},{"content":" tags: Tricky,LeetCode101 Make\nR = total required rows d = R - 2 2 is contains head line and tail line that not need insert a character between two columns. r = current row offset, which starts from 0. c = current column offset, which starts from 0. We can use a formula to make columns, which is \\(c(R+d)+r\\).\nFor example, \u0026quot;PAYPALISHIRING\u0026quot;, numRows=3:\nP A H N A P L S I I G Y I R The columns only the head and tail rows is correct should be:\nR=3,d=1\nc=0 c=1 c=2 c=3 c=4 r=0 0 = 0(3+1)+0 4 = 1(3+1)+0 8 = 2(3+1)+0 12 = 3(3+1)+0 start new row r=1 1 = 0(3+1)+1 5 = 1(3+1)+1 9 = 2(3+1)+1 13 = 3(3+1)+1 start new row r=2 2 = 0(3+1)+2 6 = 1(3+1)+2 10 = 2(3+1)+2 end Now we need consider how to insert a character between tow columns in the middle rows.\nWe can see, the r is larger, the insert character is more near by left. For example, \u0026quot;PAYPALISHIRING\u0026quot;, numRows=4:\nP I N A L S I G Y A H R P I c=0 c=1 c=2 r=0 0 6 12 r=1 1 5 7 11 13 r=2 2 4 8 10 r=3 3 9 Assume we insert a character to left, the current index is i. Then the inserted character is: \\(i - 2r\\)\nclass Solution { public: string convert(string s, int numRows) { // The another corner case we should noticed if (numRows == 1) { return s; } int c = 0; int r = 0; int i = 0, j = 0; int d = numRows - 2; string res; while (true) { i = c * (numRows + d) + r; // neither head nor tail if (r \u0026gt; 0 \u0026amp;\u0026amp; r \u0026lt; numRows - 1) { j = i - (2 * r); if (j \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; s.size()) { res.push_back(s[j]); } } if (i \u0026lt; s.size()) { res.push_back(s[i]); c++; } else { r++; if (r \u0026gt;= numRows) { break; } c = 0; } } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220317073333-leetcode101_6_zigzag_conversion/","summary":"tags: Tricky,LeetCode101 Make\nR = total required rows d = R - 2 2 is contains head line and tail line that not need insert a character between two columns. r = current row offset, which starts from 0. c = current column offset, which starts from 0. We can use a formula to make columns, which is \\(c(R+d)+r\\).\nFor example, \u0026quot;PAYPALISHIRING\u0026quot;, numRows=3:\nP A H N A P L S I I G Y I R The columns only the head and tail rows is correct should be:","title":"LeetCode101: 6. Zigzag Conversion"},{"content":" tags: Tricky,Stack,LeetCode101,Integer Overflow The key is how to detect integer overflow without store to a larger size integer.\nFor this purpose, we could detect integer overflow before carry:\nThe maximal of INT_MAX before carry is \\(\\frac{INT\\_MAX}{10}\\). We continue compare pop with the suffix of INT_MAX, 7, if maximal before carry is equal to \\(\\frac{INT\\_MAX}{10}\\).\nThe minimal of INT_MIN before carry is \\(\\frac{INT\\_MIN}{10}\\) too. We continue compare pop with the suffix of INT_MIN, -8, if minimal before carry is equal to \\(\\frac{INT\\_MIN}{10}\\).\nclass Solution { public: int reverse(int x) { // INT_MAX 2147483647 // INT_MIN -2147483648 int res = 0, pop = 0; while (abs(x) \u0026gt; 0) { pop = x % 10; x /= 10; // INT_MAX\u0026#39;s suffix is 7 if (res \u0026gt; INT_MAX / 10 || (res == INT_MAX / 10 \u0026amp;\u0026amp; pop \u0026gt; 7)) { return 0; } // INT_MIN\u0026#39;s suffix is -8 if (res \u0026lt; INT_MIN / 10 || (res == INT_MIN / 10 \u0026amp;\u0026amp; pop \u0026lt; -8)) { return 0; } res = res * 10 + pop; } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220316215304-leetcode101_7_reverse_integer/","summary":"tags: Tricky,Stack,LeetCode101,Integer Overflow The key is how to detect integer overflow without store to a larger size integer.\nFor this purpose, we could detect integer overflow before carry:\nThe maximal of INT_MAX before carry is \\(\\frac{INT\\_MAX}{10}\\). We continue compare pop with the suffix of INT_MAX, 7, if maximal before carry is equal to \\(\\frac{INT\\_MAX}{10}\\).\nThe minimal of INT_MIN before carry is \\(\\frac{INT\\_MIN}{10}\\) too. We continue compare pop with the suffix of INT_MIN, -8, if minimal before carry is equal to \\(\\frac{INT\\_MIN}{10}\\).","title":"LeetCode101: 7. Reverse Integer"},{"content":" tags: Stack Intuition for (int i = 0; i \u0026lt; pushed.size(); i++) { if (pushed[i] != popped[pushed.size() - 1 - i]) { return false; } } But the pop/push operations can happend in any sequence.\nStack Using a stack. Returns false, IF the next value neither the popped nor pushed.\nIn each sequence we must do a operation: push or pop. When to push:\nstack is empty, or top of stack is not current popped value When to pop:\ntop of stack is current popped value If no operation could do, returns false.\nclass Solution { public: bool validateStackSequences(vector\u0026lt;int\u0026gt;\u0026amp; pushed, vector\u0026lt;int\u0026gt;\u0026amp; popped) { stack\u0026lt;int\u0026gt; st; int i = 0, j = 0; while (i \u0026lt; pushed.size() || j \u0026lt; popped.size()) { // we end push, but still not meet the popped value. if (i == pushed.size() \u0026amp;\u0026amp; (st.empty() || st.top() != popped[j])) { return false; } if (st.empty()) { st.push(pushed[i++]); } if (st.top() != popped[j]) { st.push(pushed[i++]); } else { st.pop(); j++; } } return true; } }; ","permalink":"https://notes.0081800.xyz/notes/20220316085247-leetcode101_946_validate_stack_sequences/","summary":"tags: Stack Intuition for (int i = 0; i \u0026lt; pushed.size(); i++) { if (pushed[i] != popped[pushed.size() - 1 - i]) { return false; } } But the pop/push operations can happend in any sequence.\nStack Using a stack. Returns false, IF the next value neither the popped nor pushed.\nIn each sequence we must do a operation: push or pop. When to push:\nstack is empty, or top of stack is not current popped value When to pop:","title":"LeetCode101: 946. Validate Stack Sequences"},{"content":" tags: Stack,LeetCode101 Stack class Solution { public: string minRemoveToMakeValid(string s) { stack\u0026lt;char\u0026gt; st; char open = \u0026#39;(\u0026#39;, close = \u0026#39;)\u0026#39;; int open_count = 0; string res; // forward to remove unnecessary close parentheses for (auto iter = s.begin(); iter != s.end(); ++iter) { if (*iter == open) { open_count++; } if (open_count == 0 \u0026amp;\u0026amp; *iter == close) { continue; } if (*iter == close) { open_count--; } st.push(*iter); } int close_count = 0; // backward to remove unnecessary open parentheses while (!st.empty()) { if (st.top() == close) { close_count++; } if (st.top() == open) { if (close_count == 0 ) { st.pop(); continue; } close_count--; } res.push_back(st.top()); st.pop(); } reverse(res.begin(), res.end()); return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220316080026-leetcode101_1249_minimum_remove_to_make_valid_parentheses/","summary":"tags: Stack,LeetCode101 Stack class Solution { public: string minRemoveToMakeValid(string s) { stack\u0026lt;char\u0026gt; st; char open = \u0026#39;(\u0026#39;, close = \u0026#39;)\u0026#39;; int open_count = 0; string res; // forward to remove unnecessary close parentheses for (auto iter = s.begin(); iter != s.end(); ++iter) { if (*iter == open) { open_count++; } if (open_count == 0 \u0026amp;\u0026amp; *iter == close) { continue; } if (*iter == close) { open_count--; } st.push(*iter); } int close_count = 0; // backward to remove unnecessary open parentheses while (!","title":"LeetCode101: 1249. Minimum Remove to Make Valid Parentheses"},{"content":" tags: Tricky,LeetCode101 original: 0, 2, 1, 4, 3, 5, 7, 6 max: 0, 2, 2, 4, 4, 5, 7, 7 sorted: 0, 1, 2, 3, 4, 5, 6, 7 index: 0, 1, 2, 3, 4, 5, 6, 7\nAs shown above, the position of break point is same to the position of max value of chunks. So here:\nWe track chunks\u0026rsquo;s max value. Break at the position of max value lives in sorted array, which means the index in this case. class Solution { public: int maxChunksToSorted(vector\u0026lt;int\u0026gt;\u0026amp; arr) { int count = 0, m = 0; for (int i = 0; i \u0026lt; arr.size(); i++) { m = max(arr[i], m); if (m == i) { count++; } } return count; } }; ","permalink":"https://notes.0081800.xyz/notes/20220315152142-leetcode101_769_max_chunks_to_make_sorted/","summary":"tags: Tricky,LeetCode101 original: 0, 2, 1, 4, 3, 5, 7, 6 max: 0, 2, 2, 4, 4, 5, 7, 7 sorted: 0, 1, 2, 3, 4, 5, 6, 7 index: 0, 1, 2, 3, 4, 5, 6, 7\nAs shown above, the position of break point is same to the position of max value of chunks. So here:\nWe track chunks\u0026rsquo;s max value. Break at the position of max value lives in sorted array, which means the index in this case.","title":"LeetCode101: 769. Max Chunks To Make Sorted"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220315152159-tricky/","summary":" tags: Algorithm ","title":"Tricky"},{"content":" tags: Monotonic Stack,LeetCode101,LeetCode101: 496. Next Greater Element I Mono-descreasing stack class Solution { public: vector\u0026lt;int\u0026gt; dailyTemperatures(vector\u0026lt;int\u0026gt;\u0026amp; temperatures) { vector\u0026lt;int\u0026gt; res(temperatures.size(), 0); stack\u0026lt;int\u0026gt; st; for (int i = 0; i \u0026lt; temperatures.size(); i++) { while (!st.empty() \u0026amp;\u0026amp; temperatures[st.top()] \u0026lt; temperatures[i]) { res[st.top()] = i - st.top(); st.pop(); } st.push(i); } return res; } }; [73,74,75,71,69,72,76,73]\n","permalink":"https://notes.0081800.xyz/notes/20220315112303-leetcode101_739_daily_temperatures/","summary":"tags: Monotonic Stack,LeetCode101,LeetCode101: 496. Next Greater Element I Mono-descreasing stack class Solution { public: vector\u0026lt;int\u0026gt; dailyTemperatures(vector\u0026lt;int\u0026gt;\u0026amp; temperatures) { vector\u0026lt;int\u0026gt; res(temperatures.size(), 0); stack\u0026lt;int\u0026gt; st; for (int i = 0; i \u0026lt; temperatures.size(); i++) { while (!st.empty() \u0026amp;\u0026amp; temperatures[st.top()] \u0026lt; temperatures[i]) { res[st.top()] = i - st.top(); st.pop(); } st.push(i); } return res; } }; [73,74,75,71,69,72,76,73]","title":"LeetCode101: 739. Daily Temperatures"},{"content":" tags: Monotonic Stack,LeetCode101,Binary Search Tree Mono-descreasing stack Key:\nThe largest number is the root, that we can observe in by iteration. We must clear the stack to fill the right side of BST after loop. The last popped element is the left of current node. From top to bottom, the top element is the right side of the element that under the top. class Solution { public: TreeNode* constructMaximumBinaryTree(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;TreeNode*\u0026gt; res(nums.size(), nullptr); stack\u0026lt;int\u0026gt; st; // mono-descreasing stack, remove smaller elements before pushing. TreeNode* root = nullptr; for (int i = 0;i \u0026lt; nums.size(); i++) { res[i] = new TreeNode(nums[i]); while (!st.empty() \u0026amp;\u0026amp; nums[st.top()] \u0026lt; nums[i]) { int j = st.top(); st.pop(); if (!st.empty() \u0026amp;\u0026amp; nums[st.top()] \u0026lt; nums[i]) { res[st.top()]-\u0026gt;right = res[j]; } else { res[i]-\u0026gt;left = res[j]; } } if (root == nullptr || res[i]-\u0026gt;val \u0026gt; root-\u0026gt;val) { root = res[i]; } st.push(i); } while (st.size() \u0026gt; 1) { int j = st.top(); st.pop(); res[st.top()]-\u0026gt;right = res[j]; } return root; } }; ","permalink":"https://notes.0081800.xyz/notes/20220315105116-leetcode101_654_maximum_binary_tree/","summary":"tags: Monotonic Stack,LeetCode101,Binary Search Tree Mono-descreasing stack Key:\nThe largest number is the root, that we can observe in by iteration. We must clear the stack to fill the right side of BST after loop. The last popped element is the left of current node. From top to bottom, the top element is the right side of the element that under the top. class Solution { public: TreeNode* constructMaximumBinaryTree(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;TreeNode*\u0026gt; res(nums.","title":"LeetCode101: 654. Maximum Binary Tree"},{"content":" tags: Monotonic Stack,LeetCode101 Mono-increasing stack Key:\nSome case should move backward as the new value we meeted is larger than it. When we meet 2 in the stack, and here we need move backward. Some case we need move forward, as the following values are the mono-increaing stack: [1, 2, 5, 3, 4] class Solution { public: int findUnsortedSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums) { stack\u0026lt;int\u0026gt; st; // mono-increasing int left = -1, right = -2; for (int i = 0; i \u0026lt; nums.size(); i++) { while (!st.empty() \u0026amp;\u0026amp; nums[st.top()] \u0026gt; nums[i]) { // move backward if (left == -1 || st.top() \u0026lt; left) { left = st.top(); // left should be the previous index } // move forward for (int j = i; j \u0026lt; nums.size() \u0026amp;\u0026amp; nums[j] \u0026lt; nums[st.top()]; j++) { if (j \u0026gt; right) { right = j; } } st.pop(); } st.push(i); } return (right - left) + 1; } }; Failed test cases [2,6,4,8,10,9,15] [1, 2, 3, 4] [1] [2,1] [1,3,2,2,2] [1,2,3,3,3] [2,3,3,2,4] [1,2,5,3,4] [1,3,5,2,4] ","permalink":"https://notes.0081800.xyz/notes/20220315071351-leetcode101_581_shortest_unsorted_continuous_subarray/","summary":"tags: Monotonic Stack,LeetCode101 Mono-increasing stack Key:\nSome case should move backward as the new value we meeted is larger than it. When we meet 2 in the stack, and here we need move backward. Some case we need move forward, as the following values are the mono-increaing stack: [1, 2, 5, 3, 4] class Solution { public: int findUnsortedSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums) { stack\u0026lt;int\u0026gt; st; // mono-increasing int left = -1, right = -2; for (int i = 0; i \u0026lt; nums.","title":"LeetCode101: 581. Shortest Unsorted Continuous Subarray"},{"content":" tags: Monotonic Stack,LeetCode101 related: LeetCode101: 496. Next Greater Element I Mono-descreasing stack / normal order loop twice Loop twice to solve circular interger array Mono-descreasing stack to store index, avoid HashMap in Next Greater Element I, as there is a cicular array. class Solution { public: vector\u0026lt;int\u0026gt; nextGreaterElements(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt; res(nums.size(), -1); stack\u0026lt;int\u0026gt; st; for (int j = 0, i = 0; j \u0026lt; nums.size() * 2; ++j) { i = j \u0026gt;= nums.size() ? j - nums.size() : j; while (!st.empty() \u0026amp;\u0026amp; nums[st.top()] \u0026lt; nums[i]) { res[st.top()] = nums[i]; st.pop(); } st.push(i); } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20220315063008-leetcode101_503_next_greater_element_ii/","summary":"tags: Monotonic Stack,LeetCode101 related: LeetCode101: 496. Next Greater Element I Mono-descreasing stack / normal order loop twice Loop twice to solve circular interger array Mono-descreasing stack to store index, avoid HashMap in Next Greater Element I, as there is a cicular array. class Solution { public: vector\u0026lt;int\u0026gt; nextGreaterElements(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;int\u0026gt; res(nums.size(), -1); stack\u0026lt;int\u0026gt; st; for (int j = 0, i = 0; j \u0026lt; nums.size() * 2; ++j) { i = j \u0026gt;= nums.","title":"LeetCode101: 503. Next Greater Element II"},{"content":" tags: Monotonic Stack,Hash Table,LeetCode101 Mono-descreasing and reverse order travel class Solution { public: vector\u0026lt;int\u0026gt; nextGreaterElement(vector\u0026lt;int\u0026gt;\u0026amp; nums1, vector\u0026lt;int\u0026gt;\u0026amp; nums2) { // Mono-descreasing and reverse order travel. // The next greater of the popped value is the top of the stack, if it has any. // // For example: [1,3,4,2] // the stack goes: // [2] // [4] -\u0026gt; 2 // [4, 3, 1] stack\u0026lt;int\u0026gt; st; vector\u0026lt;int\u0026gt; res; unordered_map\u0026lt;int, int\u0026gt; m; for (int i = nums2.size() - 1; i \u0026gt;= 0; i--) { while (!st.empty() \u0026amp;\u0026amp; st.top() \u0026lt; nums2[i]) { int c = st.top(); st.pop(); if (!st.empty()) { m[c] = st.top(); } } st.push(nums2[i]); } while (st.size() \u0026gt; 1) { int c = st.top(); st.pop(); m[c] = st.top(); } for (int i = 0; i \u0026lt; nums1.size(); i++) { if (m.find(nums1[i]) != m.end()) { res.push_back(m[nums1[i]]); } else { res.push_back(-1); } } return res; } }; /* [1,3,5,2,4] [6,5,4,3,2,1,7] The stack goes: [7, 1] [7, 2] -\u0026gt; 1 and 1 is next greater is the top of the stack */ ","permalink":"https://notes.0081800.xyz/notes/20220314085847-leetcode101_496_next_greater_element_i/","summary":"tags: Monotonic Stack,Hash Table,LeetCode101 Mono-descreasing and reverse order travel class Solution { public: vector\u0026lt;int\u0026gt; nextGreaterElement(vector\u0026lt;int\u0026gt;\u0026amp; nums1, vector\u0026lt;int\u0026gt;\u0026amp; nums2) { // Mono-descreasing and reverse order travel. // The next greater of the popped value is the top of the stack, if it has any. // // For example: [1,3,4,2] // the stack goes: // [2] // [4] -\u0026gt; 2 // [4, 3, 1] stack\u0026lt;int\u0026gt; st; vector\u0026lt;int\u0026gt; res; unordered_map\u0026lt;int, int\u0026gt; m; for (int i = nums2.","title":"LeetCode101: 496. Next Greater Element I"},{"content":" tags: Monotonic Stack,LeetCode101 Mono-increasing stack and reverse order travel (Not Work) Notes:\nWe attempt to remove the most large numbers in the left, first, we use the right n numbers to meet the requirements, which is num.length - k and then, using a monotonic increasing stack to keep the result as samller as we can. (A monotonic increasing stack will remove larger elements before pushing.)\nAlso note that: the result\u0026rsquo;s length is not actually equal num.length - k, it\u0026rsquo;s less than or equal num.length - k, like num = \u0026ldquo;10200\u0026rdquo;, k = 1. Which means the result in stack could be longer than the required or leading \u0026lsquo;0\u0026rsquo;.\nWe failed at:\nThe result is an empty string, that the \u0026ldquo;0\u0026rdquo; should be returned. num = \u0026ldquo;10\u0026rdquo;, k = 2 num = \u0026ldquo;112\u0026rdquo;, k = 1 class Solution { public: string removeKdigits(string num, int k) { if (num.size() \u0026lt;= k) { return \u0026#34;0\u0026#34;; } // A monotonic increasing stack will remove larger elements before pushing. stack\u0026lt;char\u0026gt; mst; int n = num.size() - k; string r; for (int i = num.size() - 1; i \u0026gt;= 0; i--) { while (mst.size() \u0026gt;= n \u0026amp;\u0026amp; mst.top() \u0026gt; num[i]) { mst.pop(); } mst.push(num[i]); } // Pop surplus and the leading \u0026#39;0\u0026#39; while (mst.size() \u0026gt; n || (!mst.empty() \u0026amp;\u0026amp; mst.top() == \u0026#39;0\u0026#39;)) { mst.pop(); } while (!mst.empty()) { r.push_back(mst.top()); mst.pop(); } return r.size() \u0026gt; 0 ? r : \u0026#34;0\u0026#34;; } }; Mono-increasing stack and normal order travel We are not focus on keep n - k numbers from right to left, but focus on remove k numbers from left to right.\nA more detail explanation to see: https://leetcode.com/problems/remove-k-digits/discuss/1779458/C%2B%2B-oror-Easy-To-Understand-oror-Stack-oror-Short-and-Simple\nclass Solution { public: string removeKdigits(string num, int k) { if (num.size() \u0026lt;= k) { return \u0026#34;0\u0026#34;; } // A monotonic increasing stack will remove bigger elements before pushing. stack\u0026lt;char\u0026gt; mst; int n = num.size() - k; string r; mst.push(num[0]); for (int i = 1; i \u0026lt; num.size(); i++) { while (k \u0026amp;\u0026amp; !mst.empty() \u0026amp;\u0026amp; mst.top() \u0026gt; num[i]) { mst.pop(); k--; } // the leading zero if (mst.size() == 1 \u0026amp;\u0026amp; mst.top() == \u0026#39;0\u0026#39;) { mst.pop(); } mst.push(num[i]); } while (k \u0026amp;\u0026amp; !mst.empty()) { k--; mst.pop(); } while (!mst.empty()) { r.push_back(mst.top()); mst.pop(); } reverse(r.begin(), r.end()); return r.size() \u0026gt; 0 ? r : \u0026#34;0\u0026#34;; } }; ","permalink":"https://notes.0081800.xyz/notes/20220314074324-leetcode101_402_remove_k_digits/","summary":"tags: Monotonic Stack,LeetCode101 Mono-increasing stack and reverse order travel (Not Work) Notes:\nWe attempt to remove the most large numbers in the left, first, we use the right n numbers to meet the requirements, which is num.length - k and then, using a monotonic increasing stack to keep the result as samller as we can. (A monotonic increasing stack will remove larger elements before pushing.)\nAlso note that: the result\u0026rsquo;s length is not actually equal num.","title":"LeetCode101: 402. Remove K Digits"},{"content":" tags: Monotonic Stack,LeetCode101,Tricky We travel the numbers in the reverse order:\nUse a mono-increasing stack to find the largest number(3 in the 132 pattern), the value popped from stack is the second large number(2 in the 132 pattern), if any value less than the second large number, returns true. // Note: // // - subsequence is not contiguous, is i \u0026lt; j \u0026lt; k, not i + 1 = j, j + 1 = k // class Solution { public: bool find132pattern(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int K = INT_MIN; stack\u0026lt;int\u0026gt; mst; // mono-increasing stack for (int i = nums.size() - 1; i \u0026gt;= 0; i--) { if (nums[i] \u0026lt; K) { return true; } while (!mst.empty() \u0026amp;\u0026amp; mst.top() \u0026lt; nums[i]) { K = mst.top(); mst.pop(); } mst.push(nums[i]); } return false; } }; ","permalink":"https://notes.0081800.xyz/notes/20220313153222-456_132_pattern/","summary":"tags: Monotonic Stack,LeetCode101,Tricky We travel the numbers in the reverse order:\nUse a mono-increasing stack to find the largest number(3 in the 132 pattern), the value popped from stack is the second large number(2 in the 132 pattern), if any value less than the second large number, returns true. // Note: // // - subsequence is not contiguous, is i \u0026lt; j \u0026lt; k, not i + 1 = j, j + 1 = k // class Solution { public: bool find132pattern(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int K = INT_MIN; stack\u0026lt;int\u0026gt; mst; // mono-increasing stack for (int i = nums.","title":"LeetCode101: 456. 132 Pattern"},{"content":" tags: Data Structures,Stack source: â€œMonotonic Stack.â€ Accessed March 13, 2022. https://liuzhenglaichn.gitbook.io/algorithm/monotonic-stack. A monotonic stack is a stack whose elements are monotonically increasing or descreasing.\nIt\u0026rsquo;s not only about the order in the stack, it\u0026rsquo;s also about remove larger/smaller elements before pushing.\nMonotonically descreasing we need to pop smaller elements from the stack before pushing a new element:\nvector\u0026lt;int\u0026gt; nums; // fill nums stack\u0026lt;int\u0026gt; st; for (auto i = nums.size() - 1; i \u0026gt;= 0; i--) { while (!st.empty() \u0026amp;\u0026amp; st.top() \u0026gt; nums[i]) { st.pop(); } st.push(nums[i]) } To push 3 to [5, 4, 2, 1], we need pop 2, 1 out first. Then the stack become [5, 4, 3] Monotonically increasing vice versa.\nvector\u0026lt;int\u0026gt; nums; // fill nums stack\u0026lt;int\u0026gt; st; for (auto i = nums.size() - 1; i \u0026gt;= 0; i--) { while (!st.empty() \u0026amp;\u0026amp; st.top() \u0026lt; nums[i]) { st.pop(); } st.push(nums[i]); } Increasing vs Decreasing Mono-increasing attempt to keep the result as greater as possible. Vice versa. ","permalink":"https://notes.0081800.xyz/notes/20220313145125-monotonic_stack/","summary":"tags: Data Structures,Stack source: â€œMonotonic Stack.â€ Accessed March 13, 2022. https://liuzhenglaichn.gitbook.io/algorithm/monotonic-stack. A monotonic stack is a stack whose elements are monotonically increasing or descreasing.\nIt\u0026rsquo;s not only about the order in the stack, it\u0026rsquo;s also about remove larger/smaller elements before pushing.\nMonotonically descreasing we need to pop smaller elements from the stack before pushing a new element:\nvector\u0026lt;int\u0026gt; nums; // fill nums stack\u0026lt;int\u0026gt; st; for (auto i = nums.size() - 1; i \u0026gt;= 0; i--) { while (!","title":"Monotonic Stack"},{"content":" tags: Binary Search Tree,Binary Tree,Tree ","permalink":"https://notes.0081800.xyz/notes/20220312215308-avl_tree/","summary":" tags: Binary Search Tree,Binary Tree,Tree ","title":"AVL Tree"},{"content":" tags: Data Structures,Binary Tree,Tree ","permalink":"https://notes.0081800.xyz/notes/20220312215158-binary_search_tree/","summary":" tags: Data Structures,Binary Tree,Tree ","title":"Binary Search Tree"},{"content":" tags: Binary Search Tree, AVL Tree,Tree ","permalink":"https://notes.0081800.xyz/notes/20220312215140-red_black_tree/","summary":" tags: Binary Search Tree, AVL Tree,Tree ","title":"Red-Black Tree"},{"content":" tags: C/C++ source: GeeksforGeeks. â€œSet vs Unordered_set in C++ STL,â€ May 28, 2018. https://www.geeksforgeeks.org/set-vs-unordered_set-c-stl/. set Ordered set that implemented by a \u0026ldquo;Self balancing BST\u0026rdquo; like Red-Black Tree.\nExtra find operations equal_range returns range of elements matching a specific key lower_bound returns an iterator to the first element not less than the given key upper_bound returns an iterator to the first element greater than the given key #include \u0026lt;iostream\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;assert.h\u0026gt; using namespace std; int main(void) { set\u0026lt;int\u0026gt; hset; hset.insert(5); hset.insert(8); hset.insert(13); { // Lower bound equal or greater than auto iter = hset.lower_bound(5); assert(*iter == 5); // 5\u0026#39;s lower bound is 5 itself in the set } { // Upper bound greater than 5 auto iter = hset.upper_bound(5); assert(*iter == 8); // 5\u0026#39;s upper bound is the first value greater than itself } } unordered_set Set that implemented by Hash Table.\n","permalink":"https://notes.0081800.xyz/notes/20220312215003-set_vs_unordered_set_in_c_stl/","summary":"tags: C/C++ source: GeeksforGeeks. â€œSet vs Unordered_set in C++ STL,â€ May 28, 2018. https://www.geeksforgeeks.org/set-vs-unordered_set-c-stl/. set Ordered set that implemented by a \u0026ldquo;Self balancing BST\u0026rdquo; like Red-Black Tree.\nExtra find operations equal_range returns range of elements matching a specific key lower_bound returns an iterator to the first element not less than the given key upper_bound returns an iterator to the first element greater than the given key #include \u0026lt;iostream\u0026gt; #include \u0026lt;set\u0026gt; #include \u0026lt;assert.","title":"set vs unordered_set in C++ STL"},{"content":" tags: C/C++,Java,Data Structures In C++ the set container is an ordered or sorted set, unordered_set is the normal set in C++. Differences between them please check set vs unordered_set in C++ STL.\nIn Java there is an java.util.SortedSet interface.\n","permalink":"https://notes.0081800.xyz/notes/20220312213701-orderedset/","summary":"tags: C/C++,Java,Data Structures In C++ the set container is an ordered or sorted set, unordered_set is the normal set in C++. Differences between them please check set vs unordered_set in C++ STL.\nIn Java there is an java.util.SortedSet interface.","title":"OrderedSet"},{"content":" tags: Sliding Window,OrderedSet Use HashSet to attempt to meet the requirements in the window class Solution { public: bool containsNearbyAlmostDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k, int t) { auto left = 0; auto K = 0; set\u0026lt;long\u0026gt; hset; // set in cpp is an sorted set for (auto right = 0; right \u0026lt; nums.size(); right++) { K = right - left; if (K \u0026gt; k) { hset.erase(nums[left]); left++; } hset.insert(nums[right]); // some numbers are the same. if (hset.size() \u0026lt; (right - left + 1)) { return true; } // abs less than or equal t auto prev = hset.begin(); for (auto iter = hset.begin(); iter != hset.end(); iter++) { if (iter != prev \u0026amp;\u0026amp; abs(*prev - *iter) \u0026lt;= t) { return true; } prev = iter; } } return false; } }; // 1. find previous value that meet the requirement, which is abs(nums[i] - nums[j]) \u0026lt;= t // 2. See if also meet the requirement, which is abs(i - j) \u0026lt;= k, otherwise slide left // // Use a fixed window, which size is ~k~. And maintain a set of numbers in the window. // To check if there numbers meet the requirement. It\u0026rsquo;s too slow and got \u0026ldquo;Time Limit Exceeded\u0026rdquo;: https://leetcode.com/submissions/detail/658425251/testcase/. In this case the t is 0, so we can avoid the embed for loop with a if condition:\nif (t != 0 ) { // abs less than or equal t auto prev = hset.begin(); for (auto iter = hset.begin(); iter != hset.end(); iter++) { if (iter != prev \u0026amp;\u0026amp; abs(*prev - *iter) \u0026lt;= t) { return true; } prev = iter; } } But then we got: https://leetcode.com/submissions/detail/658426815/testcase/.\nUse SortedSet lower_bound/uppoer_bound to meet the requirements of abs(nums[i] - nums[j]) \u0026lt; t After a search of OrderedSet. As we known nums[j] and t, we need find which range of nums[i] is meeting the requirement. Then we can find it in the OrderedSet.\nclass Solution { public: bool containsNearbyAlmostDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k, int t) { auto left = 0; auto K = 0; set\u0026lt;long\u0026gt; hset; // set in cpp is an sorted set for (auto right = 0; right \u0026lt; nums.size(); right++) { long n = nums[right]; if ((right - left) \u0026gt; k) { hset.erase(nums[left++]); } // Find a value that equal or greater than required. // According to abs(nums[i] - nums[j]) \u0026lt;= t, the differ between // nums[i] and nums[j] less than t. // Which means nums[i] - nums[j] \u0026lt;= t and nums[j] - nums[i] \u0026lt;= t. // So here, we find back /t/ based on current value, as we are using // sorted set, so a bigger value could be found too. // For example, now the value is 5, t is 2. Then we found the value // greater than or equal to 3, the possible values may found: 3, 4, 5, 6, 7. // Any of them is meeting the requirements. auto iter = hset.lower_bound(n - t); if (iter != hset.end() and (*iter - n) \u0026lt;= t) { return true; } hset.insert(nums[right]); } return false; } }; ","permalink":"https://notes.0081800.xyz/notes/20220312212227-leetcode101_220_contains_duplicate_iii/","summary":"tags: Sliding Window,OrderedSet Use HashSet to attempt to meet the requirements in the window class Solution { public: bool containsNearbyAlmostDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k, int t) { auto left = 0; auto K = 0; set\u0026lt;long\u0026gt; hset; // set in cpp is an sorted set for (auto right = 0; right \u0026lt; nums.size(); right++) { K = right - left; if (K \u0026gt; k) { hset.erase(nums[left]); left++; } hset.insert(nums[right]); // some numbers are the same.","title":"LeetCode101: 220. Contains Duplicate III"},{"content":" tags: Sliding Window,Hash Table,LeetCode101 This is an \u0026ldquo;near by\u0026rdquo; problem that can be solved by Sliding Window. The k in the problem is somehow means contiguous.\nAnd using a HashTable to indicate that two values in the different position are equal.\nThe steps is following:\nFind two values at each side of window are equal. Return true if the offset between their indices is less than or equal k. Otherwise set left to the new position and continue. class Solution { public: bool containsNearbyDuplicate(vector\u0026lt;int\u0026gt;\u0026amp; nums, int k) { int left = 0; unordered_map\u0026lt;int, int\u0026gt; indices; for (auto right = 0; right \u0026lt; nums.size(); right++) { auto iter = indices.find(nums[right]); if (iter != indices.end()) { if (abs(right - iter-\u0026gt;second) \u0026lt;= k) { return true; } left = iter-\u0026gt;second + 1; } indices[nums[right]] = right; } return false; } }; ","permalink":"https://notes.0081800.xyz/notes/20220312073726-219_contains_duplicate_ii/","summary":"tags: Sliding Window,Hash Table,LeetCode101 This is an \u0026ldquo;near by\u0026rdquo; problem that can be solved by Sliding Window. The k in the problem is somehow means contiguous.\nAnd using a HashTable to indicate that two values in the different position are equal.\nThe steps is following:\nFind two values at each side of window are equal. Return true if the offset between their indices is less than or equal k. Otherwise set left to the new position and continue.","title":"LeetCode101: 219. Contains Duplicate II"},{"content":" tags: Data Structures ","permalink":"https://notes.0081800.xyz/notes/20220311221617-hash_table/","summary":" tags: Data Structures ","title":"Hash Table"},{"content":" tags: Sliding Window,LeetCode101 Key:\nsum is greater than or equal to target Compute minimal must above slide left window, as decrease may cause sum less than target. See also 1695. Maximum Erasure Value class Solution { public: int minSubArrayLen(int target, vector\u0026lt;int\u0026gt;\u0026amp; nums) { int left = 0; int sum = 0; int minimal = INT_MAX; for (auto right = 0; right \u0026lt; nums.size(); right++) { sum += nums[right]; while (sum \u0026gt;= target) { minimal = min(minimal, right - left + 1); sum -= nums[left++]; } } return minimal == INT_MAX ? 0 : minimal; } }; ","permalink":"https://notes.0081800.xyz/notes/20220311220839-209_minimum_size_subarray_sum/","summary":"tags: Sliding Window,LeetCode101 Key:\nsum is greater than or equal to target Compute minimal must above slide left window, as decrease may cause sum less than target. See also 1695. Maximum Erasure Value class Solution { public: int minSubArrayLen(int target, vector\u0026lt;int\u0026gt;\u0026amp; nums) { int left = 0; int sum = 0; int minimal = INT_MAX; for (auto right = 0; right \u0026lt; nums.size(); right++) { sum += nums[right]; while (sum \u0026gt;= target) { minimal = min(minimal, right - left + 1); sum -= nums[left++]; } } return minimal == INT_MAX ?","title":"LeetCode101: 209. Minimum Size Subarray Sum"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220311213000-187_repeated_dna_sequences/","summary":"","title":"187. Repeated DNA Sequences"},{"content":" tags: Sliding Window,LeetCode101,Hash Set Key:\nFixed size window, right should start from 9 class Solution { public: vector\u0026lt;string\u0026gt; findRepeatedDnaSequences(string s) { int left = 0; unordered_set\u0026lt;string\u0026gt; results; unordered_set\u0026lt;string\u0026gt; hset; for (auto right = 9; right \u0026lt; s.size(); right++) { string sub(s, left, 10); if (hset.find(sub) != hset.end()) { results.insert(sub); } hset.insert(sub); left++; } return vector\u0026lt;string\u0026gt;(results.begin(), results.end()); } }; ","permalink":"https://notes.0081800.xyz/notes/20220311213045-187_repeated_dna_sequences/","summary":" tags: Sliding Window,LeetCode101,Hash Set Key:\nFixed size window, right should start from 9 class Solution { public: vector\u0026lt;string\u0026gt; findRepeatedDnaSequences(string s) { int left = 0; unordered_set\u0026lt;string\u0026gt; results; unordered_set\u0026lt;string\u0026gt; hset; for (auto right = 9; right \u0026lt; s.size(); right++) { string sub(s, left, 10); if (hset.find(sub) != hset.end()) { results.insert(sub); } hset.insert(sub); left++; } return vector\u0026lt;string\u0026gt;(results.begin(), results.end()); } }; ","title":"LeetCode101: 187. Repeated DNA Sequences"},{"content":" tags: Data Structures ","permalink":"https://notes.0081800.xyz/notes/20220311183913-hash_set/","summary":" tags: Data Structures ","title":"Hash Set"},{"content":" tags: Sliding Window,LeetCode101,Hash Set Use HashMap to store indices See also: 3. Longest Substring Without Repeating Characters\nclass Solution { public: int maximumUniqueSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int maximum = 0; int left = 0, right = 0; unordered_map\u0026lt;int, int\u0026gt; indices; for (; right \u0026lt; nums.size(); right++) { int n = nums[right]; if (indices.find(n) != indices.end() \u0026amp;\u0026amp; indices[n] + 1 \u0026gt; left) { left = indices[n] + 1; } maximum = max(maximum, std::accumulate(nums.begin() + left, nums.begin() + right + 1, 0)); indices[n] = right; } return maximum; } }; It is too slow, as there is a \\(O(n^2)\\) time complexity(std::accmulate is the embed \\(O(n)\\) ).\nSlide left window step by step and use HashSet to store numbers The keys we should noted:\nWe must decrease all the numbers that behind the new left position(a while loop is used here). class Solution { public: int maximumUniqueSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int maximum = 0; int left = 0, right = 0, sum = 0; unordered_set\u0026lt;int\u0026gt; hset; for (; right \u0026lt; nums.size(); right++) { int n = nums[right]; while (hset.find(n) != hset.end()) { hset.erase(nums[left]); sum -= nums[left]; left++; } sum += n; maximum = max(maximum, sum); hset.insert(n); } return maximum; } }; ","permalink":"https://notes.0081800.xyz/notes/20220311183843-1695_maximum_erasure_value/","summary":"tags: Sliding Window,LeetCode101,Hash Set Use HashMap to store indices See also: 3. Longest Substring Without Repeating Characters\nclass Solution { public: int maximumUniqueSubarray(vector\u0026lt;int\u0026gt;\u0026amp; nums) { int maximum = 0; int left = 0, right = 0; unordered_map\u0026lt;int, int\u0026gt; indices; for (; right \u0026lt; nums.size(); right++) { int n = nums[right]; if (indices.find(n) != indices.end() \u0026amp;\u0026amp; indices[n] + 1 \u0026gt; left) { left = indices[n] + 1; } maximum = max(maximum, std::accumulate(nums.","title":"LeetCode101: 1695. Maximum Erasure Value"},{"content":" tags: Sliding Window source: Moore, Jordan. â€œAn Introduction to Sliding Window Algorithms.â€ Medium, July 26, 2020. https://levelup.gitconnected.com/an-introduction-to-sliding-window-algorithms-5533c4fe1cc7. Efficientive algorithm:\nPerfection is achieved, not when there is nothing more to add, but when there is nothing left to take away. \u0026ndash; Antoine de Saint-ExupÃ©ry\nThe following return values can use a sliding window:\nMinimum value Maximum value Longest value Shortest value K-sized value And contiguous is one of the biggest clues.\nCommon data structures are strings, arrays and even linked lists.\nFramework:\nSlide right window to move forward Slide left window to meet the requirements. Compare to result. ","permalink":"https://notes.0081800.xyz/notes/20220311083843-an_introduction_to_sliding_window_algorithms/","summary":"tags: Sliding Window source: Moore, Jordan. â€œAn Introduction to Sliding Window Algorithms.â€ Medium, July 26, 2020. https://levelup.gitconnected.com/an-introduction-to-sliding-window-algorithms-5533c4fe1cc7. Efficientive algorithm:\nPerfection is achieved, not when there is nothing more to add, but when there is nothing left to take away. \u0026ndash; Antoine de Saint-ExupÃ©ry\nThe following return values can use a sliding window:\nMinimum value Maximum value Longest value Shortest value K-sized value And contiguous is one of the biggest clues.","title":"An Introduction to Sliding Window Algorithms"},{"content":" tags: Sliding Window,Brute Force Approach source: GeeksforGeeks. â€œWindow Sliding Technique,â€ April 16, 2017. https://www.geeksforgeeks.org/window-sliding-technique/. Use a Sliding Window to instead Brute Force Approach, improve time complexity big O from \\(O(n^2)\\) to \\(O(n)\\).\n","permalink":"https://notes.0081800.xyz/notes/20220311081613-window_sliding_technique/","summary":"tags: Sliding Window,Brute Force Approach source: GeeksforGeeks. â€œWindow Sliding Technique,â€ April 16, 2017. https://www.geeksforgeeks.org/window-sliding-technique/. Use a Sliding Window to instead Brute Force Approach, improve time complexity big O from \\(O(n^2)\\) to \\(O(n)\\).","title":"Window Sliding Technique"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220311081528-brute_force_approach/","summary":" tags: Algorithm ","title":"Brute Force Approach"},{"content":" tags: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20220311075423-two_pointer/","summary":" tags: Algorithm ","title":"Two Pointers"},{"content":" tags: Sliding Window,Two Pointers source: åŠ›æ‰£ LeetCode. â€œé¢˜è§£ï¼šå€Ÿè¿™ä¸ªé—®é¢˜ç§‘æ™®ä¸€ä¸‹ã€Œæ»‘åŠ¨çª—å£ã€å’Œã€ŒåŒæŒ‡é’ˆã€çš„åŒºåˆ« - åŠ›æ‰£ï¼ˆLeetCodeï¼‰.â€ Accessed March 11, 2022. https://leetcode-cn.com/problems/get-equal-substrings-within-budget/solution/jie-zhe-ge-wen-ti-ke-pu-yi-xia-hua-dong-6128z/. https://stackoverflow.com/a/64078338 Two Pointer to slove the problem of two elements that two pointes pointed.\nSliding Window to slove the problem of all elements that in the window.\n","permalink":"https://notes.0081800.xyz/notes/20220311075357-differences_between_sliding_window_and_two_pointer/","summary":"tags: Sliding Window,Two Pointers source: åŠ›æ‰£ LeetCode. â€œé¢˜è§£ï¼šå€Ÿè¿™ä¸ªé—®é¢˜ç§‘æ™®ä¸€ä¸‹ã€Œæ»‘åŠ¨çª—å£ã€å’Œã€ŒåŒæŒ‡é’ˆã€çš„åŒºåˆ« - åŠ›æ‰£ï¼ˆLeetCodeï¼‰.â€ Accessed March 11, 2022. https://leetcode-cn.com/problems/get-equal-substrings-within-budget/solution/jie-zhe-ge-wen-ti-ke-pu-yi-xia-hua-dong-6128z/. https://stackoverflow.com/a/64078338 Two Pointer to slove the problem of two elements that two pointes pointed.\nSliding Window to slove the problem of all elements that in the window.","title":"Differences between Sliding Window and Two Pointers"},{"content":" tags: Sliding Window,LeetCode101,Hash Table Use HashMap to store counts of letters Two points we should be noticed:\nThe length of substring should be (right - left) + 1, as one side must be counted.\nWe must decrese the number in the counts first, and then slide the left window, or we must decrese the wrong one, please compare between Wrong and Correct.\nWrong\nleft++; counts[s[left]]--; Correct\ncounts[s[left]]--; left++; The full code see:\nclass Solution { public: int lengthOfLongestSubstring(string s) { int left = 0; int longest = 0; char c; map\u0026lt;char, int\u0026gt; counts; // for loop to slide the right side of window. for (int right = 0; right \u0026lt; s.size(); right++) { c = s[right]; if (counts.find(c) == counts.end()) { counts[c] = 0; } counts[c]++; // slide the left side of window to meet the requirements, // here is \u0026#34;Without Repeating Characters\u0026#34;. for (auto iter = counts.begin(); iter != counts.end(); ++iter) { if (iter-\u0026gt;second \u0026gt; 1) { counts[s[left]]--; left++; break; } } // compare to result. longest = max(longest, right - left + 1); } return longest; } }; See also: An Introduction to Sliding Window Algorithms\nUse HashMap to store index of letters Points that should be noticed:\nThe whole string without repeating, that will not meet the condition: letter is indexed already.\n\u0026quot; \u0026quot; \u0026quot;au\u0026quot; // no duplicated if (indices.find(l) != indices.end()) { left = indices[l] + 1; longest = max(longest, right - left + 1); } In those cases longest will be 0, if this is the only one block to compute the longest.\nMove compute the longest out of the if block, the problem should be sloved.\n// no duplicated if (indices.find(l) != indices.end()) { left = indices[l] + 1; } longest = max(longest, right - left + 1); The left may go backward from a HashTable, and that must be avoid.\n\u0026ldquo;abba\u0026rdquo; if (indices.find(l) != indices.end() \u0026amp;\u0026amp; indices[l] + 1 \u0026gt; left) { left = indices[l] + 1; } longest = max(longest, right - left + 1); And notice that +1 must exists in the condition, the WRONG edition:\nif (indices.find(l) != indices.end() \u0026amp;\u0026amp; indices[l] \u0026gt; left) { left = indices[l] + 1; } longest = max(longest, right - left + 1); Finally code:\nclass Solution { public: int lengthOfLongestSubstring(string s) { int left = 0; int longest = 0; map\u0026lt;char, int\u0026gt; indices; for (auto right = 0; right \u0026lt; s.size(); right++) { char l = s[right]; if (indices.find(l) != indices.end() \u0026amp;\u0026amp; indices[l] + 1 \u0026gt; left) { left = indices[l] + 1; } longest = max(longest, right - left + 1); indices[l] = right; } return longest; } }; Full with failed:\nclass Solution { public: int lengthOfLongestSubstring(string s) { int left = 0; int longest = 0; map\u0026lt;char, int\u0026gt; indices; for (auto right = 0; right \u0026lt; s.size(); right++) { char l = s[right]; /* // failed on string without repeating: \u0026#34; \u0026#34; \u0026#34;au\u0026#34; if (indices.find(l) != indices.end()) { left = indices[l] + 1; longest = max(longest, right - left + 1); } */ /* // failed on left go backward: \u0026#34;abba\u0026#34; if (indices.find(l) != indices.end()) { left = indices[l] + 1; } longest = max(longest, right - left + 1); */ if (indices.find(l) != indices.end() \u0026amp;\u0026amp; indices[l] + 1 \u0026gt; left) { left = indices[l] + 1; } longest = max(longest, right - left + 1); indices[l] = right; } return longest; } }; Optimization: use the unordered_map to instead map.\nclass Solution { public: int lengthOfLongestSubstring(string s) { int left = 0; int longest = 0; unordered_map\u0026lt;char, int\u0026gt; indices; for (auto right = 0; right \u0026lt; s.size(); right++) { char l = s[right]; if (indices.find(l) != indices.end() \u0026amp;\u0026amp; indices[l] + 1 \u0026gt; left) { left = indices[l] + 1; } longest = max(longest, right - left + 1); indices[l] = right; } return longest; } }; ","permalink":"https://notes.0081800.xyz/notes/20220311074801-3_longest_substring_without_repeating_characters/","summary":"tags: Sliding Window,LeetCode101,Hash Table Use HashMap to store counts of letters Two points we should be noticed:\nThe length of substring should be (right - left) + 1, as one side must be counted.\nWe must decrese the number in the counts first, and then slide the left window, or we must decrese the wrong one, please compare between Wrong and Correct.\nWrong\nleft++; counts[s[left]]--; Correct\ncounts[s[left]]--; left++; The full code see:","title":"LeetCode101: 3. Longest Substring Without Repeating Characters"},{"content":" tags: Algorithm Slide right to move forward to find the solution. Slide left to keep the solution, and collect to the results. Must avoid left go to backward. ","permalink":"https://notes.0081800.xyz/notes/20220311074820-sliding_window/","summary":" tags: Algorithm Slide right to move forward to find the solution. Slide left to keep the solution, and collect to the results. Must avoid left go to backward. ","title":"Sliding Window"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220311073803-445_add_two_numbers_ii/","summary":"","title":"445. Add Two Numbers II"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/projects/20220311073856-data_structures/","summary":" tags: Computer Systems ","title":"Data Structures"},{"content":" tags: Linked List,Stack, LeetCode101,2. Add Two Numbers ä¸¤æ•°ä¹‹å’Œçš„è¿›é˜¶ç‰ˆï¼Œä½é«˜çš„æ•°å­—åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œå¸¸è§„è§£æ³•æ˜¯é€šè¿‡ã€Œæ ˆã€è¿›è¡Œåè½¬é“¾è¡¨ï¼Œç„¶åå›é€€åˆ°2. Add Two Numbersçš„è§£æ³•ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220311073810-445_add_two_numbers_ii/","summary":"tags: Linked List,Stack, LeetCode101,2. Add Two Numbers ä¸¤æ•°ä¹‹å’Œçš„è¿›é˜¶ç‰ˆï¼Œä½é«˜çš„æ•°å­—åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œå¸¸è§„è§£æ³•æ˜¯é€šè¿‡ã€Œæ ˆã€è¿›è¡Œåè½¬é“¾è¡¨ï¼Œç„¶åå›é€€åˆ°2. Add Two Numbersçš„è§£æ³•ã€‚","title":"LeetCode101: 445. Add Two Numbers II"},{"content":" tags: Data Structures ","permalink":"https://notes.0081800.xyz/notes/20220311073821-stack/","summary":" tags: Data Structures ","title":"Stack"},{"content":" tags: Data Structures ","permalink":"https://notes.0081800.xyz/notes/20220311070813-linked_list/","summary":" tags: Data Structures ","title":"Linked List"},{"content":" tags: Linked List, LeetCode101 æ­£å¸¸çš„ã€Œé“¾è¡¨ã€éå†æ“ä½œï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ä¸è¦åœ¨æœ«å°¾å¿˜è®°å¤„ç†è¿›ä½ï¼Œå¦‚æœ carry å¤§äº 0 éœ€è¦è¿½åŠ åˆ°ç»“æœé“¾è¡¨æœ«å°¾ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220311070727-2_add_two_numbers/","summary":"tags: Linked List, LeetCode101 æ­£å¸¸çš„ã€Œé“¾è¡¨ã€éå†æ“ä½œï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ä¸è¦åœ¨æœ«å°¾å¿˜è®°å¤„ç†è¿›ä½ï¼Œå¦‚æœ carry å¤§äº 0 éœ€è¦è¿½åŠ åˆ°ç»“æœé“¾è¡¨æœ«å°¾ã€‚","title":"LeetCode101: 2. Add Two Numbers"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220311070749-linked_list/","summary":"","title":"Linked List"},{"content":" tags: Algorithm,Data Structures åˆè¦å¼€å§‹æ‰¾å·¥ä½œäº†ï¼Œåˆ·é¢˜ã€åˆ·é¢˜ã€åˆ·é¢˜ï¼æ­¥éª¤ï¼š\næŒ‰é¡ºåºæ‰¾åˆ°é¢˜ç›® è§£é¢˜/å­¦ä¹  æ€»ç»“è€ƒå¯Ÿçš„ç‚¹ï¼ˆæ ‘ã€åŒæŒ‡é’ˆã€å›æº¯ã€DPã€æ¨¡æ‹Ÿç°å®ã€é€’å½’ï¼‰ åˆ·ç›¸åŒè§£æ³•æ¡†æ¶çš„é¢˜ ä¸€äº›æ¨¡ç³Šçš„æ„Ÿè§‰ï¼š\nå°è¯•ä¸åŒçš„éå†é¡ºåºå¯èƒ½æ˜¯è§£é¢˜å…³é”®ï¼Œæ­£åºéå†ä¸è¡Œè¯•ä¸€ä¸‹ååºéå†ï¼Œåä¹‹äº¦ç„¶ï¼ ä»¥ä¸Šåˆ°è¾¾ä¸€å®šé‡ä¹‹ååœ¨ LeetCode åˆ›å»ºä¸€ä¸ªæ–°çš„ session é‡æ–°åˆ·èµ·ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220311065137-leetcode101/","summary":"tags: Algorithm,Data Structures åˆè¦å¼€å§‹æ‰¾å·¥ä½œäº†ï¼Œåˆ·é¢˜ã€åˆ·é¢˜ã€åˆ·é¢˜ï¼æ­¥éª¤ï¼š\næŒ‰é¡ºåºæ‰¾åˆ°é¢˜ç›® è§£é¢˜/å­¦ä¹  æ€»ç»“è€ƒå¯Ÿçš„ç‚¹ï¼ˆæ ‘ã€åŒæŒ‡é’ˆã€å›æº¯ã€DPã€æ¨¡æ‹Ÿç°å®ã€é€’å½’ï¼‰ åˆ·ç›¸åŒè§£æ³•æ¡†æ¶çš„é¢˜ ä¸€äº›æ¨¡ç³Šçš„æ„Ÿè§‰ï¼š\nå°è¯•ä¸åŒçš„éå†é¡ºåºå¯èƒ½æ˜¯è§£é¢˜å…³é”®ï¼Œæ­£åºéå†ä¸è¡Œè¯•ä¸€ä¸‹ååºéå†ï¼Œåä¹‹äº¦ç„¶ï¼ ä»¥ä¸Šåˆ°è¾¾ä¸€å®šé‡ä¹‹ååœ¨ LeetCode åˆ›å»ºä¸€ä¸ªæ–°çš„ session é‡æ–°åˆ·èµ·ã€‚","title":"LeetCode101"},{"content":" tags: Computer Systems,Linux source: 262588213843476. â€œFork() Is Evil; Vfork() Is Goodness; Afork() Would Be Better; Clone() Is Stupid.â€ Gist. Accessed March 2, 2022. https://gist.github.com/nicowilliams/a8a07b0fc75df05f684c23c18d7db234. ","permalink":"https://notes.0081800.xyz/notes/20220302114010-fork_is_evil_vfork_is_goodness_afork_would_be_better_clone_is_stupid/","summary":" tags: Computer Systems,Linux source: 262588213843476. â€œFork() Is Evil; Vfork() Is Goodness; Afork() Would Be Better; Clone() Is Stupid.â€ Gist. Accessed March 2, 2022. https://gist.github.com/nicowilliams/a8a07b0fc75df05f684c23c18d7db234. ","title":"fork() is evil; vfork() is goodness; afork() would be better; clone() is stupid"},{"content":" tags: English Listening Practice source: https://www.youtube.com/channel/UCSHZKyawb77ixDdsGog4iWA ","permalink":"https://notes.0081800.xyz/notes/20220228105442-podcast_youtube_lex_fridman/","summary":" tags: English Listening Practice source: https://www.youtube.com/channel/UCSHZKyawb77ixDdsGog4iWA ","title":"Podcast/YouTube: Lex Fridman"},{"content":" tags: Learning English ","permalink":"https://notes.0081800.xyz/notes/20220228104819-english_listening_practice/","summary":" tags: Learning English ","title":"English Listening Practice"},{"content":" ç‰©å‰ç™½ åŠ¨å‰åœŸ è¡ŒåŠ¨åé¢åŒäººæ¥ ","permalink":"https://notes.0081800.xyz/notes/20220226070756-%E7%9A%84%E5%9C%B0%E5%BE%97/","summary":" ç‰©å‰ç™½ åŠ¨å‰åœŸ è¡ŒåŠ¨åé¢åŒäººæ¥ ","title":"çš„åœ°å¾—"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220221084730-wealth/","summary":"","title":"Wealth"},{"content":" tags: Financial Management,Wealth,English Listening Practice source: Naval. â€œHow to Get Rich,â€ December 28, 2019. https://nav.al/rich. YouTube: https://www.youtube.com/watch?v=1-TZqOsVCNM ","permalink":"https://notes.0081800.xyz/notes/20220221083059-how_to_get_rich_without_getting_lucky/","summary":" tags: Financial Management,Wealth,English Listening Practice source: Naval. â€œHow to Get Rich,â€ December 28, 2019. https://nav.al/rich. YouTube: https://www.youtube.com/watch?v=1-TZqOsVCNM ","title":"How To Get Rich (without getting lucky)"},{"content":" tags: Design ","permalink":"https://notes.0081800.xyz/notes/20220212074018-material_design/","summary":" tags: Design ","title":"Material Design"},{"content":" tags: Online Tools,Material Design,Design source: https://material.io/design/color/the-color-system.html#tools-for-picking-colors full: https://material.io/resources/color/#!/?view.left=0\u0026amp;view.right=0\u0026amp;primary.color=b3e4ff ","permalink":"https://notes.0081800.xyz/notes/20220212074044-material_design_tools_for_picking_colors/","summary":" tags: Online Tools,Material Design,Design source: https://material.io/design/color/the-color-system.html#tools-for-picking-colors full: https://material.io/resources/color/#!/?view.left=0\u0026amp;view.right=0\u0026amp;primary.color=b3e4ff ","title":"Material Design:  Tools for picking colors"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220212073844-design/","summary":"","title":"Design"},{"content":" tags: Design,Material Design: Tools for picking colorsMaterial Design source: Material Design. â€œMaterial Design.â€ Accessed February 12, 2022. https://material.io/design/color/the-color-system.html#color-usage-and-palettes. Principles Hierarchical\nColor indicates which elements are interactive, how they relate to other elements, and their level of prominence. Important elements should stand out the most.\nLegible\nText and import elements, like icons, should meet legibility standards when appearing on colored backgrounds.\nExpressive\nShow brand colors at memorable moments that reinforce your brand\u0026rsquo;s style.\nColors we need Primary colors\nscreens and components Variants of primary colors\nDark and light primary variants Secondary colors\nFloating action buttons Selection controls, like sliders and switches Highlighting selected text Progress bars Links and headlines Variants of secondary colors (optional)\nAdditional UI colors, such as colors for backgrounds, surfaces, errors, typography, and iconography.\nSurface colors affect surfaces of components, such as cards, sheets, and menus. The background color appears behind scrollable content. The baseline background and surface color is #FFFFFF. Error color indicates errors in components, such as invalid text in a text field. The baseline error color is #B00020. ","permalink":"https://notes.0081800.xyz/notes/20220212073824-material_design_the_color_system/","summary":"tags: Design,Material Design: Tools for picking colorsMaterial Design source: Material Design. â€œMaterial Design.â€ Accessed February 12, 2022. https://material.io/design/color/the-color-system.html#color-usage-and-palettes. Principles Hierarchical\nColor indicates which elements are interactive, how they relate to other elements, and their level of prominence. Important elements should stand out the most.\nLegible\nText and import elements, like icons, should meet legibility standards when appearing on colored backgrounds.\nExpressive\nShow brand colors at memorable moments that reinforce your brand\u0026rsquo;s style.","title":"Material Design: The color system"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220209130912-gtk/","summary":"","title":"GTK"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220209130903-gui/","summary":"","title":"GUI"},{"content":" tags: GUI,GTK source: â€œText Widget Overview.â€ Accessed February 9, 2022. https://docs.huihoo.com/gtk/3.0.3/TextWidget.html. GtkTextBuffer for the text to edit. GtkTextIter to manipulate text, can\u0026rsquo;t be used to preserve positions across buffer modifications GtkTextMark can be used to preserve a position. GtkTextView to show GtkTextBuffer. GtkTextTagTable to control the appearence of text, like bold/color/etc. ","permalink":"https://notes.0081800.xyz/notes/20220209130852-gtk_3_text_widget_overview/","summary":" tags: GUI,GTK source: â€œText Widget Overview.â€ Accessed February 9, 2022. https://docs.huihoo.com/gtk/3.0.3/TextWidget.html. GtkTextBuffer for the text to edit. GtkTextIter to manipulate text, can\u0026rsquo;t be used to preserve positions across buffer modifications GtkTextMark can be used to preserve a position. GtkTextView to show GtkTextBuffer. GtkTextTagTable to control the appearence of text, like bold/color/etc. ","title":"GTK+ 3 Text Widget Overview"},{"content":" tags: Rust GUI,Elm,GTK ","permalink":"https://notes.0081800.xyz/notes/20220208150754-github_antoyo_relm_idiomatic_gtk_based_gui_library_inspired_by_elm_written_in_rust/","summary":" tags: Rust GUI,Elm,GTK ","title":"GitHub: antoyo/relm  â€“ Idiomatic, GTK+-based, GUI library, inspired by Elm, written in Rust"},{"content":" source: https://elm-lang.org/ A delightful language for reliable web applications.\n","permalink":"https://notes.0081800.xyz/notes/20220208150622-elm/","summary":"source: https://elm-lang.org/ A delightful language for reliable web applications.","title":"Elm"},{"content":" tags: Rust GUI,Elm The most popular GUI library for Rust.\n","permalink":"https://notes.0081800.xyz/notes/20220208150550-github_iced_rs_iced_a_cross_platform_gui_library_for_rust_inspired_by_elm/","summary":"tags: Rust GUI,Elm The most popular GUI library for Rust.","title":"GitHub: iced-rs/iced â€“ A cross-platform GUI library for Rust, inspired by Elm"},{"content":" tags: Rust GUI source: â€œAre We GUI Yet?â€ Accessed February 8, 2022. https://www.areweguiyet.com/. The answer is no, it seems the most popular GUI libraries are beta and not production ready.\nGitHub: antoyo/relm \u0026ndash; Idiomatic, GTK+-based, GUI library, inspired by Elm, written in Rust GitHub: iced-rs/iced \u0026ndash; A cross-platform GUI library for Rust, inspired by Elm GitHub: linebender/druid \u0026ndash; A data-first Rust-native UI design toolkit. GitHub: redox-os/orbtk \u0026ndash; The Rust UI-Toolkit. ","permalink":"https://notes.0081800.xyz/notes/20220208150415-are_we_gui_yet/","summary":"tags: Rust GUI source: â€œAre We GUI Yet?â€ Accessed February 8, 2022. https://www.areweguiyet.com/. The answer is no, it seems the most popular GUI libraries are beta and not production ready.\nGitHub: antoyo/relm \u0026ndash; Idiomatic, GTK+-based, GUI library, inspired by Elm, written in Rust GitHub: iced-rs/iced \u0026ndash; A cross-platform GUI library for Rust, inspired by Elm GitHub: linebender/druid \u0026ndash; A data-first Rust-native UI design toolkit. GitHub: redox-os/orbtk \u0026ndash; The Rust UI-Toolkit.","title":"Are we GUI Yet?"},{"content":" tags: Rust,Rust GUI Overview Platform Documentation Community Activity Most Activity Period Native UI Cross platform Leak 5.7k stars Yes 2019-2021 No Conclusion Use the the platform-native widgets or mimic them. (Relm, SixtyFPS) Embed easily into custom render pipelines. (Conrod) Adhere to a specific architectural style such as Elm. (Iced, Relm) Support rendering to HTML when targeting the web. (Iced, Moxie) ","permalink":"https://notes.0081800.xyz/notes/20220208133213-github_linebender_druid_a_data_first_rust_native_ui_design_toolkit/","summary":" tags: Rust,Rust GUI Overview Platform Documentation Community Activity Most Activity Period Native UI Cross platform Leak 5.7k stars Yes 2019-2021 No Conclusion Use the the platform-native widgets or mimic them. (Relm, SixtyFPS) Embed easily into custom render pipelines. (Conrod) Adhere to a specific architectural style such as Elm. (Iced, Relm) Support rendering to HTML when targeting the web. (Iced, Moxie) ","title":"GitHub: linebender/druid â€“ A data-first Rust-native UI design toolkit."},{"content":" tags: Rust,Rust GUI Overview Platform Documentation Community Activity Most Activity Period Native UI Cross platform Leak 3.5k stars Kind of 2020 No Conclusion Highlights \u0026ndash; Cross platform Downsides \u0026ndash; Documentation leak and not in activity development. ","permalink":"https://notes.0081800.xyz/notes/20220208121018-github_redox_os_orbtk_the_rust_ui_toolkit/","summary":" tags: Rust,Rust GUI Overview Platform Documentation Community Activity Most Activity Period Native UI Cross platform Leak 3.5k stars Kind of 2020 No Conclusion Highlights \u0026ndash; Cross platform Downsides \u0026ndash; Documentation leak and not in activity development. ","title":"GitHub: redox-os/orbtk â€“  The Rust UI-Toolkit."},{"content":" tags: Rust,GUI ","permalink":"https://notes.0081800.xyz/notes/20220208121029-rust_gui/","summary":" tags: Rust,GUI ","title":"Rust GUI"},{"content":" tags: Smart contracts source: Business Tech Guides. â€œThe Dark Side Of Smart Contracts.â€ Accessed February 7, 2022. https://businesstechguides.co/smart-contracts. WHAT are Smart Contracts? Blockchain-based programmes that execute agreements once certain criteria are fulfilled by all parties involved.\nA self-executing piece of code. When it\u0026rsquo;s deployed on blockchain, meaning nobody controls it.\nAnalog a contract in the real world, for example, the contract you are signed with your landloard to lease an apartment. More like a vending machine: insert coins and receive a drink.\nWHY are Smart Contracts Popular? Operate on the blockchain. Immutable. Simple and fast. What are the Problems With Smart Contracts? Reliance on External Data Sources\nNot all data stored in the blockchain, and blockchain cannot communicate with the outside world. Oracles are needed, but how can we trust the oracles?\nFor example, I was received some tokens from The Open Source Software DAO, the oracle it relayed on is GitHub account.\nRigidity - The other side of immutable.\nConfidentiality of Information - everybody can access the information on the blockchain.\nLegal Status\nSecurity Flaws - Bugs \u0026amp; Immutable.\nSimplistic Operation - Too simple can\u0026rsquo;t carry too much functionality.\n","permalink":"https://notes.0081800.xyz/notes/20220208070254-the_dark_side_of_smart_contracts/","summary":"tags: Smart contracts source: Business Tech Guides. â€œThe Dark Side Of Smart Contracts.â€ Accessed February 7, 2022. https://businesstechguides.co/smart-contracts. WHAT are Smart Contracts? Blockchain-based programmes that execute agreements once certain criteria are fulfilled by all parties involved.\nA self-executing piece of code. When it\u0026rsquo;s deployed on blockchain, meaning nobody controls it.\nAnalog a contract in the real world, for example, the contract you are signed with your landloard to lease an apartment.","title":"The Dark Side Of Smart Contracts"},{"content":" tags: slip-box,PKM source: David Kadavy. 250. My Zettelkasten: An Authorâ€™s Digital Slip-Box Method Example (Using Plain-Text Software), 2021. https://www.youtube.com/watch?v=Ji96vbaCT-s. Using a GTD pattern to collect notes:\nAn Inbox to collect Fleeting Notes.\nReview the Inbox periodically.\na. If it\u0026rsquo;s still interesting, then move it to the Permanent Notes. b. Otherwise move it to \u0026ldquo;Some day\u0026rdquo;\n","permalink":"https://notes.0081800.xyz/notes/20220123081120-youtube_250_my_zettelkasten_an_author_s_digital_slip_box_method_example_using_plain_text_software/","summary":"tags: slip-box,PKM source: David Kadavy. 250. My Zettelkasten: An Authorâ€™s Digital Slip-Box Method Example (Using Plain-Text Software), 2021. https://www.youtube.com/watch?v=Ji96vbaCT-s. Using a GTD pattern to collect notes:\nAn Inbox to collect Fleeting Notes.\nReview the Inbox periodically.\na. If it\u0026rsquo;s still interesting, then move it to the Permanent Notes. b. Otherwise move it to \u0026ldquo;Some day\u0026rdquo;","title":"YouTube: 250. My Zettelkasten: An Authorâ€™s Digital Slip-Box Method Example (Using Plain-Text Software)"},{"content":" tags: slip-box,How to Take Smart Notes,PKM å‚è€ƒï¼šYouTube: 250. My Zettelkasten: An Authorâ€™s Digital Slip-Box Method Example (Using Plain-Text Software) æˆ‘èº«è¾¹æœ‰å¾ˆå¤šäººåŒ…æ‹¬æˆ‘è‡ªå·±éƒ½å¾ˆå–œæ¬¢æ”¶è—æ–‡ç« ã€è¯¾ç¨‹å’Œæ•™å­¦è§†é¢‘ç­‰å­¦ä¹ ç±»èµ„æºï¼Œå½“ç„¶è¿˜åŒ…æ‹¬ç»™ GitHub ä¸Šçš„é¡¹ç›®æ·»åŠ æ˜Ÿæ˜Ÿã€‚ä¸€äº›æ›´åŠªåŠ›çš„äººä¼šåœ¨æ”¶è—åè¿›è¡Œé˜…è¯»å¹¶è®°å½•ç¬”è®°ï¼Œæˆ‘ä»¬çš„å­¦ä¹ ç„¦è™‘è¢«å¾—åˆ°äº†æ»¡è¶³ã€‚ ç„¶åå‘¢ï¼Ÿä½ ä¼šå»çœ‹æ”¶è—çš„å­¦ä¹ èµ„æºå—ï¼Ÿä¼šå®šæœŸæŸ¥çœ‹è‡ªå·±çš„ç¬”è®°å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ›´åƒæ˜¯ä¸€ç§è‡ªæˆ‘æ¬ºéª—æˆ–è€…éº»ç—¹ï¼Œä¸€ç§ã€Œæˆ‘å­¦ä¼šäº†ã€çš„å‡è±¡è¢«åˆ¶é€ å‡ºæ¥ã€‚\nå®šæœŸå›é¡¾æ€»ç»“å¯ä»¥é¿å…è¿™ç§å‡è±¡ï¼Œè¿™æ˜¯æˆ‘æœ€è¿‘å®è·µ Luhmann çš„ Zettelkasten æ‰€å­¦ä¹ åˆ°çš„ã€‚ å…ˆé€šè¿‡ Overaching workflow è®°ä¸‹æ‰€æœ‰æˆ‘ä»¬éœ€è¦å…³æ³¨çš„ä¸»é¢˜åˆ° Inbox ä¸­ï¼Œç„¶åé€šè¿‡å›é¡¾çš„æ–¹å¼æ¥æ€»ç»“è½¬åŒ–æˆè‡ªå·±çš„çŸ¥è¯†ï¼Œè®°å½•åˆ° PKM ä¸­å»ã€‚ ä¹Ÿå°±æ˜¯ä¾ç„¶å¯ä»¥å»â€œæ”¶è—â€ï¼Œä½†æ˜¯è¦å®šæœŸçš„å»æŸ¥çœ‹è‡ªå·±çš„æ”¶è—ï¼Œæœ€å¥½ä¸è¦å¤ªä¹…ä»¥å…å¿˜è®°è‡ªå·±ä¸ºä»€ä¹ˆæ”¶è—ã€‚ å¦‚æœæ”¶è—äº†å¾ˆå¤šå¤§éƒ¨åˆ†å·²ç»æ²¡æœ‰å…´è¶£äº†ï¼Œå¯ä»¥å‚è€ƒ GTD å°†å†…å®¹æ•´ç†åˆ° Some day ä¸­å»ï¼Œé¿å… Inbox è¿‡å¤§è®©æˆ‘ä»¬äº§ç”Ÿç•æƒ§æ„Ÿä»è€Œå¯¼è‡´æˆ‘ä»¬æ”¾å¼ƒã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220123080003-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AE%9A%E6%9C%9F%E5%9B%9E%E9%A1%BE_%E9%81%BF%E5%85%8D_%E6%88%91%E5%AD%A6%E4%BC%9A%E4%BA%86_%E7%9A%84%E5%81%87%E8%B1%A1/","summary":"tags: slip-box,How to Take Smart Notes,PKM å‚è€ƒï¼šYouTube: 250. My Zettelkasten: An Authorâ€™s Digital Slip-Box Method Example (Using Plain-Text Software) æˆ‘èº«è¾¹æœ‰å¾ˆå¤šäººåŒ…æ‹¬æˆ‘è‡ªå·±éƒ½å¾ˆå–œæ¬¢æ”¶è—æ–‡ç« ã€è¯¾ç¨‹å’Œæ•™å­¦è§†é¢‘ç­‰å­¦ä¹ ç±»èµ„æºï¼Œå½“ç„¶è¿˜åŒ…æ‹¬ç»™ GitHub ä¸Šçš„é¡¹ç›®æ·»åŠ æ˜Ÿæ˜Ÿã€‚ä¸€äº›æ›´åŠªåŠ›çš„äººä¼šåœ¨æ”¶è—åè¿›è¡Œé˜…è¯»å¹¶è®°å½•ç¬”è®°ï¼Œæˆ‘ä»¬çš„å­¦ä¹ ç„¦è™‘è¢«å¾—åˆ°äº†æ»¡è¶³ã€‚ ç„¶åå‘¢ï¼Ÿä½ ä¼šå»çœ‹æ”¶è—çš„å­¦ä¹ èµ„æºå—ï¼Ÿä¼šå®šæœŸæŸ¥çœ‹è‡ªå·±çš„ç¬”è®°å—ï¼Ÿæˆ‘è§‰å¾—è¿™æ›´åƒæ˜¯ä¸€ç§è‡ªæˆ‘æ¬ºéª—æˆ–è€…éº»ç—¹ï¼Œä¸€ç§ã€Œæˆ‘å­¦ä¼šäº†ã€çš„å‡è±¡è¢«åˆ¶é€ å‡ºæ¥ã€‚\nå®šæœŸå›é¡¾æ€»ç»“å¯ä»¥é¿å…è¿™ç§å‡è±¡ï¼Œè¿™æ˜¯æˆ‘æœ€è¿‘å®è·µ Luhmann çš„ Zettelkasten æ‰€å­¦ä¹ åˆ°çš„ã€‚ å…ˆé€šè¿‡ Overaching workflow è®°ä¸‹æ‰€æœ‰æˆ‘ä»¬éœ€è¦å…³æ³¨çš„ä¸»é¢˜åˆ° Inbox ä¸­ï¼Œç„¶åé€šè¿‡å›é¡¾çš„æ–¹å¼æ¥æ€»ç»“è½¬åŒ–æˆè‡ªå·±çš„çŸ¥è¯†ï¼Œè®°å½•åˆ° PKM ä¸­å»ã€‚ ä¹Ÿå°±æ˜¯ä¾ç„¶å¯ä»¥å»â€œæ”¶è—â€ï¼Œä½†æ˜¯è¦å®šæœŸçš„å»æŸ¥çœ‹è‡ªå·±çš„æ”¶è—ï¼Œæœ€å¥½ä¸è¦å¤ªä¹…ä»¥å…å¿˜è®°è‡ªå·±ä¸ºä»€ä¹ˆæ”¶è—ã€‚ å¦‚æœæ”¶è—äº†å¾ˆå¤šå¤§éƒ¨åˆ†å·²ç»æ²¡æœ‰å…´è¶£äº†ï¼Œå¯ä»¥å‚è€ƒ GTD å°†å†…å®¹æ•´ç†åˆ° Some day ä¸­å»ï¼Œé¿å… Inbox è¿‡å¤§è®©æˆ‘ä»¬äº§ç”Ÿç•æƒ§æ„Ÿä»è€Œå¯¼è‡´æˆ‘ä»¬æ”¾å¼ƒã€‚","title":"ä¸ºä»€ä¹ˆè¦å®šæœŸå›é¡¾ï¼šé¿å…ã€Œæˆ‘å­¦ä¼šäº†ã€çš„å‡è±¡"},{"content":" tags: slip-box,How to Take Smart Notes source: è±†ç“£. â€œè®°ç¬”è®°å°±åƒç¼–ç›¸å£°.â€ Accessed January 22, 2022. https://book.douban.com/review/12678970/. é€šè¿‡ã€Œæ”¶é›† -\u0026gt; æ•´ç† -\u0026gt; å›é¡¾ -\u0026gt; è¾“å‡ºã€å°†å¬åˆ°çš„æ®µå­è½¬åŒ–æˆè‡ªå·±çš„æ•…äº‹ã€‚æ‰€ä»¥è¯´ä¹¦ä¸­æ‰€è¯´çš„ â€œWritingâ€ ä¸èƒ½åªå±€é™äºå†™ä½œï¼Œåº”è¯¥æ‰©å±•ä¸ºè¾“å‡ºæ›´å¥½ã€‚\næ¯”å¦‚æˆ‘ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œå¾ˆå¤šç ”ç©¶éƒ½æ˜¯ä¸ºäº†è½åœ°æˆä¸ºå…·ä½“çš„äº§å“æˆ–è€…æŠ€æœ¯æ–¹æ¡ˆï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±æ˜¯åœ¨è¾“å‡ºï¼ˆWritingï¼‰ï¼Œè€Œä¸”æœ‰æ›´åŠ æ˜æ˜¾çš„åé¦ˆã€‚ é€šè¿‡æ‰€å­¦çš„çŸ¥è¯†èƒ½ä¸èƒ½æ­å»ºå…·ä½“çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå®ç°å…·ä½“çš„äº§å“éœ€æ±‚ã€‚\nã€Œè¾“å‡ºã€æˆ–è€…æŒ‰ç…§ â€œHow to Take Smart Notesâ€ ä¸­è¯´çš„ â€œWritingâ€ã€‚è¾“å‡ºç»™äº†ä½ ä¸€ä¸ªæ˜ç¡®çš„ç›®æ ‡ï¼Œè®©ä½ åœ¨çœ‹åˆ°ã€å¬åˆ°ã€è¯»åˆ°çš„æ—¶å€™æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç›®æ ‡ï¼Œ é©±åŠ¨ä½ ç”¨è‡ªå·±çš„è¯­è¨€å°†çŸ¥è¯†è¿›è¡Œè½¬åŒ–ï¼Œå¹¶åœ¨å…¶ä¹‹ä¸Šè¿›è¡Œæ€è€ƒã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220123075328-%E8%AE%B0%E7%AC%94%E8%AE%B0%E5%B0%B1%E5%83%8F%E7%BC%96%E7%9B%B8%E5%A3%B0/","summary":"tags: slip-box,How to Take Smart Notes source: è±†ç“£. â€œè®°ç¬”è®°å°±åƒç¼–ç›¸å£°.â€ Accessed January 22, 2022. https://book.douban.com/review/12678970/. é€šè¿‡ã€Œæ”¶é›† -\u0026gt; æ•´ç† -\u0026gt; å›é¡¾ -\u0026gt; è¾“å‡ºã€å°†å¬åˆ°çš„æ®µå­è½¬åŒ–æˆè‡ªå·±çš„æ•…äº‹ã€‚æ‰€ä»¥è¯´ä¹¦ä¸­æ‰€è¯´çš„ â€œWritingâ€ ä¸èƒ½åªå±€é™äºå†™ä½œï¼Œåº”è¯¥æ‰©å±•ä¸ºè¾“å‡ºæ›´å¥½ã€‚\næ¯”å¦‚æˆ‘ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œå¾ˆå¤šç ”ç©¶éƒ½æ˜¯ä¸ºäº†è½åœ°æˆä¸ºå…·ä½“çš„äº§å“æˆ–è€…æŠ€æœ¯æ–¹æ¡ˆï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±æ˜¯åœ¨è¾“å‡ºï¼ˆWritingï¼‰ï¼Œè€Œä¸”æœ‰æ›´åŠ æ˜æ˜¾çš„åé¦ˆã€‚ é€šè¿‡æ‰€å­¦çš„çŸ¥è¯†èƒ½ä¸èƒ½æ­å»ºå…·ä½“çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå®ç°å…·ä½“çš„äº§å“éœ€æ±‚ã€‚\nã€Œè¾“å‡ºã€æˆ–è€…æŒ‰ç…§ â€œHow to Take Smart Notesâ€ ä¸­è¯´çš„ â€œWritingâ€ã€‚è¾“å‡ºç»™äº†ä½ ä¸€ä¸ªæ˜ç¡®çš„ç›®æ ‡ï¼Œè®©ä½ åœ¨çœ‹åˆ°ã€å¬åˆ°ã€è¯»åˆ°çš„æ—¶å€™æœ‰ä¸€ä¸ªæ˜ç¡®çš„ç›®æ ‡ï¼Œ é©±åŠ¨ä½ ç”¨è‡ªå·±çš„è¯­è¨€å°†çŸ¥è¯†è¿›è¡Œè½¬åŒ–ï¼Œå¹¶åœ¨å…¶ä¹‹ä¸Šè¿›è¡Œæ€è€ƒã€‚","title":"è®°ç¬”è®°å°±åƒç¼–ç›¸å£°"},{"content":" tags: How to Take Smart Notes,slip-box,PKM source: Part 2: \u0026ldquo;THE FOUR UNDERLYING PRINCIPLES\u0026rdquo; from Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. Writing Is the Only Thing That Matters Don\u0026rsquo;t be afraid to writing ideas down and push them public, as there is no private knowledge in the academia area, and there is no such thing as a history of unwritten ideas. Writing to answer question, in a specific angle on a problem.\nWith this purpose, reading will be the main source of material for writing, and lectures or seminars will provide the ideas to write about and questions worth answering. So writing doesn\u0026rsquo;t mean to stop doing everything less well.\nWriting changes the way you read and learn:\nFor finding ideas, questions worth answering, feedbacks and what you should learn: you will have a clear, tangible purpose when you attend a lecture, discussion or seminar. For writing it down: you will be more focused on the most relevant aspects of reading and learning. For using your own words: you will be more engaged way to read and learning. For turning it into something new: you will think beyond the things you read. Simplicity Is Paramount Change the way of organising notes, don\u0026rsquo;t store notes under topics, instead to ask youself \u0026ldquo;In which context will I want to stumble upon it again?\u0026rdquo;.\nA simple idea can shape the world. The slip-box is the shipping container1 that helps to organise notes and achieve a critical mass. To do so, there are three types of notes to avoid lose its value when notes are added to it indiscriminately:\nFleeting notes, which to remind, need to review within a day or two, then move to trash.\nWhich is the best you can do without interruputing what you are in the middle of doing. And they are only useful if you review them within a day or two to turn them into proper notes you can use later.\nPermanent notes, which will never be thrown away and contain the necessary information in themselves in a permanently understandable way.\nAlways stored in the same way in the same place. Which are written in a way that can still be understood even when you have forgotten the context they are taken from.\nProject notes, which only relevant to on particular project. Kept within a project-specific folder.\nWhich can be:\ncomments in the manuscript collections of projecte-related literature outlines sinppets of drafts reminders to-do lists and of course the draft itself. And there some typical mistakes we should avoid:\nTreat all notes as permanent notes, for example, a journal that kept everything. Only take notes related to specific projects: That means that everything you found, thought or encountered during the time of a project will be lost. Treat all notes as fleetings notes, never review or understand the fleeting notes and convert them to permanent notes. Nobody Ever Starts From Scratch Let the Work Carry You Forward Malcom McLean and Containerisation | Maersk Line\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20220123075024-the_four_underlying_priciples/","summary":"tags: How to Take Smart Notes,slip-box,PKM source: Part 2: \u0026ldquo;THE FOUR UNDERLYING PRINCIPLES\u0026rdquo; from Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. Writing Is the Only Thing That Matters Don\u0026rsquo;t be afraid to writing ideas down and push them public, as there is no private knowledge in the academia area, and there is no such thing as a history of unwritten ideas.","title":"The Four Underlying Principles of Taking Smart Notes"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220122071820-personal_knowledge_management/","summary":"","title":"Personal Knowledge Management"},{"content":" tags: Zettelkasten,Note-Taking,How to Take Smart Notes source: æœ±é¨. â€œZettelkastenå¡ç‰‡ç›’ç­†è¨˜æ³•ï¼Œå»ºç«‹çŸ¥è­˜é€£çµç¶²è·¯ä¾†æ´»ç”¨ç­†è¨˜.â€ PMçš„ç”Ÿç”¢åŠ›å·¥å…·ç®± (blog), October 16, 2021. https://medium.com/pm%E7%9A%84%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7%E7%AE%B1/zettelkasten%E5%8D%A1%E7%89%87%E7%9B%92%E7%AD%86%E8%A8%98%E6%B3%95-%E5%BB%BA%E7%AB%8B%E7%9F%A5%E8%AD%98%E9%80%A3%E7%B5%90%E7%B6%B2%E8%B7%AF%E4%BE%86%E6%B4%BB%E7%94%A8%E7%AD%86%E8%A8%98-f85a91729521. æ–‡ç« ä¸­é™„ä¸Šäº†ä¸€åˆ™è§†é¢‘æ›´å¥½çš„å±•ç° Luhmann å¦‚ä½•ç®¡ç†æ–‡ä»¶ç¬”è®°ï¼ŒåŒæ—¶å»ºç«‹äº†æˆ‘å¯¹ Slip-box çš„ä¸­æ–‡ç†è§£ã€‚å®Œå–„äº†æˆ‘è„‘ä¸­çš„ä¸€éƒ¨åˆ†å›¾åƒã€‚\nSee also: https://youtu.be/mCFP5i_0ibE\n","permalink":"https://notes.0081800.xyz/notes/20220120084941-zettelkasten_%E5%8D%A1%E7%89%87%E7%9B%92%E7%AD%86%E8%A8%98%E6%B3%95_%E5%BB%BA%E7%AB%8B%E7%9F%A5%E8%AD%98%E9%80%A3%E7%B5%90%E7%B6%B2%E8%B7%AF%E4%BE%86%E6%B4%BB%E7%94%A8%E7%AD%86%E8%A8%98/","summary":"tags: Zettelkasten,Note-Taking,How to Take Smart Notes source: æœ±é¨. â€œZettelkastenå¡ç‰‡ç›’ç­†è¨˜æ³•ï¼Œå»ºç«‹çŸ¥è­˜é€£çµç¶²è·¯ä¾†æ´»ç”¨ç­†è¨˜.â€ PMçš„ç”Ÿç”¢åŠ›å·¥å…·ç®± (blog), October 16, 2021. https://medium.com/pm%E7%9A%84%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7%E7%AE%B1/zettelkasten%E5%8D%A1%E7%89%87%E7%9B%92%E7%AD%86%E8%A8%98%E6%B3%95-%E5%BB%BA%E7%AB%8B%E7%9F%A5%E8%AD%98%E9%80%A3%E7%B5%90%E7%B6%B2%E8%B7%AF%E4%BE%86%E6%B4%BB%E7%94%A8%E7%AD%86%E8%A8%98-f85a91729521. æ–‡ç« ä¸­é™„ä¸Šäº†ä¸€åˆ™è§†é¢‘æ›´å¥½çš„å±•ç° Luhmann å¦‚ä½•ç®¡ç†æ–‡ä»¶ç¬”è®°ï¼ŒåŒæ—¶å»ºç«‹äº†æˆ‘å¯¹ Slip-box çš„ä¸­æ–‡ç†è§£ã€‚å®Œå–„äº†æˆ‘è„‘ä¸­çš„ä¸€éƒ¨åˆ†å›¾åƒã€‚\nSee also: https://youtu.be/mCFP5i_0ibE","title":"Zettelkasten å¡ç‰‡ç›’ç­†è¨˜æ³•ï¼Œå»ºç«‹çŸ¥è­˜é€£çµç¶²è·¯ä¾†æ´»ç”¨ç­†è¨˜"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220120080936-gtd/","summary":"","title":"GTD"},{"content":" tags: How to Take Smart Notes,slip-box,GTD source: Part 1: \u0026ldquo;INTRODUCTION\u0026rdquo; from Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. To Keep a Good Structure First, it\u0026rsquo;s about the flow, and a good structure enables the flow. The flow is:\nIt is the state in which you get so completely immersed in you work that you lose track of time and can just on going as the work becomes effortless.\nAnd how to be in a good structure? It\u0026rsquo;s must be a simple tool, because \u0026ldquo;The complexity is an issue\u0026rdquo;. Here we got, the slip box from Luhman and the overarching workflow from GTD:\nUse the slip box to take and organise notes.\nAnd the overarching workflow to take care of everything we need.\nEven the best tool will not improve your productivity considerably if you don\u0026rsquo;t change your daily routes the tool is embedded in, just as the fastest car won\u0026rsquo;t help you much if you don\u0026rsquo;t have proper roads to drive it on.\nSo how does the slip box work? Luhman taken notes with two slip boxes:\nbibliographic one: fleeting notes: thoughts and ideas from reading books,talks or something else. main slip-box: shortly after bibliographic notes were taked, review notes in bibliographic slip-box and write down some new. â€œI never force myself to do anything I donâ€™t feel like. Whenever I am stuck, I do something else.â€ \u0026ndash; The son of a brewer, most productive and reverd social sientists of the 20^th century.\nSo with the above two well-known and proven ideas we can be in a good structure and enabling the flow.\nStep by Step Note-taking is not the main work, the main work is: Reading, Writing, Understanding and coming up with ideas. The notes are just the tangible outcome of it.\nWith the above steps you can write multiple papers/articles at a time.\nTools Pen and paper or keyboard and computer: to write with and to write on A reference management system: Zotero The slip-box: Daniel LÃ¼deckeâ€™s Zettelkasten The editor: Microsoft Word, OpenOffice,LibreOffice or NeoOffice Keep in Mind If we try to use a tool without putting any thought into the way we work with it, even the best tool would not be of much help.\nDon\u0026rsquo;t make the slip-box as a graveyard for thoughts.\n","permalink":"https://notes.0081800.xyz/notes/20220120080908-with_the_slip_box_and_overarching_workflow_to_keep_a_good_structure/","summary":"tags: How to Take Smart Notes,slip-box,GTD source: Part 1: \u0026ldquo;INTRODUCTION\u0026rdquo; from Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. To Keep a Good Structure First, it\u0026rsquo;s about the flow, and a good structure enables the flow. The flow is:\nIt is the state in which you get so completely immersed in you work that you lose track of time and can just on going as the work becomes effortless.","title":"Introduction: The slip-box and Overarching workflow"},{"content":" tags: Note-Taking,Personal Knowledge Management ","permalink":"https://notes.0081800.xyz/notes/20220120080920-slip_box/","summary":" tags: Note-Taking,Personal Knowledge Management ","title":"slip-box"},{"content":" tags: Rust â€œWhy Rust Strings Seem Hard | Brandonâ€™s Website.â€ Accessed January 17, 2022. https://www.brandons.me/blog/why-rust-strings-seem-hard. ","permalink":"https://notes.0081800.xyz/notes/20220117170333-why_rust_strings_seem_hard/","summary":" tags: Rust â€œWhy Rust Strings Seem Hard | Brandonâ€™s Website.â€ Accessed January 17, 2022. https://www.brandons.me/blog/why-rust-strings-seem-hard. ","title":"Why Rust strings seem hard"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/notes/20220117165224-thread_safety/","summary":" tags: Computer Systems ","title":"Thread Safety"},{"content":" tags: Rust,Thread Safety source: Hexi. â€œå¦‚ä½•ç†è§£ Sync å’Œ Send?â€ ææ™¨æ›¦çš„åšå®¢ | Hexi Blog, May 5, 2019. https://hexilee.me/2019/05/05/how-to-understand-sync-and-send-in-rust/. è¯­ä¹‰ï¼š\nå®ç°äº† Send çš„ç±»å‹ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨çº¿ç¨‹é—´ä¼ é€’æ‰€æœ‰æƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ å¯ä»¥è·¨çº¿ç¨‹ç§»åŠ¨ã€‚ å®ç°äº† Sync çš„ç±»å‹ï¼Œ å¯ä»¥å®‰å…¨åœ°åœ¨çº¿ç¨‹é—´ä¼ é€’ä¸å¯å˜å€Ÿç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥è·¨çº¿ç¨‹å…±äº«ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20220117165142-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3_sync_%E5%92%8C_send/","summary":" tags: Rust,Thread Safety source: Hexi. â€œå¦‚ä½•ç†è§£ Sync å’Œ Send?â€ ææ™¨æ›¦çš„åšå®¢ | Hexi Blog, May 5, 2019. https://hexilee.me/2019/05/05/how-to-understand-sync-and-send-in-rust/. è¯­ä¹‰ï¼š\nå®ç°äº† Send çš„ç±»å‹ï¼Œå¯ä»¥å®‰å…¨åœ°åœ¨çº¿ç¨‹é—´ä¼ é€’æ‰€æœ‰æƒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ å¯ä»¥è·¨çº¿ç¨‹ç§»åŠ¨ã€‚ å®ç°äº† Sync çš„ç±»å‹ï¼Œ å¯ä»¥å®‰å…¨åœ°åœ¨çº¿ç¨‹é—´ä¼ é€’ä¸å¯å˜å€Ÿç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥è·¨çº¿ç¨‹å…±äº«ã€‚ ","title":"å¦‚ä½•ç†è§£ Sync å’Œ Send?"},{"content":" tags: Rust,Rust Macro,Online Tutorial source: https://danielkeep.github.io/tlborm/book/index.html ","permalink":"https://notes.0081800.xyz/notes/20220117164736-the_little_book_of_rust_macros/","summary":" tags: Rust,Rust Macro,Online Tutorial source: https://danielkeep.github.io/tlborm/book/index.html ","title":"The Little Book of Rust Macros"},{"content":" tags: Rust,Online Tutorial source: fasterthanli.me. â€œA Half-Hour to Learn Rust.â€ Accessed January 17, 2022. https://fasterthanli.me/articles/a-half-hour-to-learn-rust. ","permalink":"https://notes.0081800.xyz/notes/20220117164630-a_half_hour_to_learn_rust/","summary":" tags: Rust,Online Tutorial source: fasterthanli.me. â€œA Half-Hour to Learn Rust.â€ Accessed January 17, 2022. https://fasterthanli.me/articles/a-half-hour-to-learn-rust. ","title":"A half-hour to learn Rust"},{"content":" tags: Rust ","permalink":"https://notes.0081800.xyz/notes/20220117164506-rust_macro/","summary":" tags: Rust ","title":"Rust Macro"},{"content":" tags: Rust,Rust Macro,Learning ","permalink":"https://notes.0081800.xyz/notes/20220117164450-github_dtolnay_proc_macro_workshop_learn_to_write_rust_procedural_macros/","summary":" tags: Rust,Rust Macro,Learning ","title":"GitHub: dtolnay/proc-macro-workshop - Learn to write Rust procedural macros"},{"content":" tags: Rust,Distributed Systems,Online Tutorial,Learning source: https://github.com/pingcap/talent-plan ","permalink":"https://notes.0081800.xyz/notes/20220117164352-github_pingcap_talent_plan_open_source_training_courses_about_distributed_database_and_distributed_systemes/","summary":" tags: Rust,Distributed Systems,Online Tutorial,Learning source: https://github.com/pingcap/talent-plan ","title":"GitHub: pingcap/talent-plan - open source training courses about distributed database and distributed systemes"},{"content":" tags: Rust,Online Tutorial,Learning source: https://github.com/rust-lang/rustlings ","permalink":"https://notes.0081800.xyz/notes/20220117164303-github_rust_lang_rustlings_small_exercises_to_get_you_used_to_reading_and_writing_rust_code/","summary":" tags: Rust,Online Tutorial,Learning source: https://github.com/rust-lang/rustlings ","title":"GitHub: rust-lang/rustlings â€“ Small exercises to get you used to reading and writing Rust code!"},{"content":" tags: Blockchain,Web3 source: White, Molly. â€œItâ€™s Not Still the Early Days.â€ Molly White, January 14, 2022. https://blog.mollywhite.net/its-not-still-the-early-days/. For blockchains, some thoughts are false, like:\n\u0026ldquo;It\u0026rsquo;s the early days.\u0026rdquo; \u0026ldquo;Give it a chance.\u0026rdquo; The reason is long time have passed, but no bright changes happened, the long time means Bitcoin began to be used in 2009, and Ethereum lanched in 2015.\nTo compare:\nSmartphones from 2009 to 2015: Nokia -\u0026gt; iPhone/Android. Blogs: Google Reader -\u0026gt; Twitter. Fully-electric cars: Tesla. CPU: i3/i5 -\u0026gt; i9/M1 GPU Operating System. a lot has changed in the technology world in the past six to twelve years.\n","permalink":"https://notes.0081800.xyz/notes/20220117110536-blockchain_it_s_not_still_the_early_days/","summary":"tags: Blockchain,Web3 source: White, Molly. â€œItâ€™s Not Still the Early Days.â€ Molly White, January 14, 2022. https://blog.mollywhite.net/its-not-still-the-early-days/. For blockchains, some thoughts are false, like:\n\u0026ldquo;It\u0026rsquo;s the early days.\u0026rdquo; \u0026ldquo;Give it a chance.\u0026rdquo; The reason is long time have passed, but no bright changes happened, the long time means Bitcoin began to be used in 2009, and Ethereum lanched in 2015.\nTo compare:\nSmartphones from 2009 to 2015: Nokia -\u0026gt; iPhone/Android.","title":"Blockchain: It's not still the early days"},{"content":" tags: Network,Message Queue ","permalink":"https://notes.0081800.xyz/notes/20220114071913-aqm/","summary":" tags: Network,Message Queue ","title":"AQM"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220114071952-message_queue/","summary":"","title":"Message Queue"},{"content":" tags: Network,Bufferbloat source: â€œBufferbloat - Dark Buffers in the Internet,â€ 2011, 36. ","permalink":"https://notes.0081800.xyz/notes/20220114070627-bufferbloat_dark_buffers_in_the_internet/","summary":" tags: Network,Bufferbloat source: â€œBufferbloat - Dark Buffers in the Internet,â€ 2011, 36. ","title":"Bufferbloat Dark Buffers in the Internet"},{"content":" tags: Network ","permalink":"https://notes.0081800.xyz/notes/20220114070451-bufferbloat/","summary":" tags: Network ","title":"Bufferbloat"},{"content":" tags: Learning Ask 6 questions to familiar a new thing:\nWhy What Where When Who How ","permalink":"https://notes.0081800.xyz/notes/20220112070827-5w1h/","summary":" tags: Learning Ask 6 questions to familiar a new thing:\nWhy What Where When Who How ","title":"5W1H"},{"content":" tags: TCP,Network,5W1H TCP Fast Open(TFO):\nWHY TFO is proposed?\nTCP Three-Way Handshake for every new TCP connection is too expensive.\nWHAT is the TFO?\nTCP Fast Open (TFO) is a mechanism that aims to reduce the latency penalty imposed on new TCP connections.\nHOW the TFO reduce the latency on new TCP connections?\nTFO allows data transfer within the SYN packet.\nWHEN the TFO is avaiable.\nTFO support is now avaiable in Linux 3.7+ kernels, and should be enabled by a viable option in both client and server side.\nWHAT limitations does TFO have?\nMaximum size limited. ","permalink":"https://notes.0081800.xyz/notes/20220112070151-tcp_fast_open/","summary":"tags: TCP,Network,5W1H TCP Fast Open(TFO):\nWHY TFO is proposed?\nTCP Three-Way Handshake for every new TCP connection is too expensive.\nWHAT is the TFO?\nTCP Fast Open (TFO) is a mechanism that aims to reduce the latency penalty imposed on new TCP connections.\nHOW the TFO reduce the latency on new TCP connections?\nTFO allows data transfer within the SYN packet.\nWHEN the TFO is avaiable.\nTFO support is now avaiable in Linux 3.","title":"TCP Fast Open"},{"content":" tags: CoDel,Network source: â€œControlling Queue Delay - ACM Queue.â€ Accessed January 11, 2022. https://queue.acm.org/detail.cfm?id=2209336. Bufferbloat What is the bufferbloat? In the internet, large buffer is used everywhere:\nPC Router/Swtich/ISP Server The large may cause delay.\nWhy the bufferbloat still with us and made increaingly critical by two trends?\nCheap memory. Complicate network paths. How to sloves the problem? AQM(active queue management) is the known solution, but it\u0026rsquo;s difficult to implement, so even it has been known two decades but still not been widely deployed.\n","permalink":"https://notes.0081800.xyz/notes/20220111081756-controlling_queue_delay/","summary":"tags: CoDel,Network source: â€œControlling Queue Delay - ACM Queue.â€ Accessed January 11, 2022. https://queue.acm.org/detail.cfm?id=2209336. Bufferbloat What is the bufferbloat? In the internet, large buffer is used everywhere:\nPC Router/Swtich/ISP Server The large may cause delay.\nWhy the bufferbloat still with us and made increaingly critical by two trends?\nCheap memory. Complicate network paths. How to sloves the problem? AQM(active queue management) is the known solution, but it\u0026rsquo;s difficult to implement, so even it has been known two decades but still not been widely deployed.","title":"Controlling Queue Delay"},{"content":" tags: Network,Bufferbloat,AQM ","permalink":"https://notes.0081800.xyz/notes/20220111081657-codel/","summary":" tags: Network,Bufferbloat,AQM ","title":"CoDel"},{"content":" tags: Fun Story ","permalink":"https://notes.0081800.xyz/notes/20220111072413-fun_bugs/","summary":" tags: Fun Story ","title":"Fun Bugs"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220111072424-fun_story/","summary":"","title":"Fun Story"},{"content":" tags: Networking 101: Primer on Latency and Bandwidth,Fun Bugs source: https://web.mit.edu/jemorris/humor/500-miles I remember this story when I\u0026rsquo;m reading the section \u0026ldquo;Speed of Light and Propagation Latency\u0026rdquo; in High Performance Browser Networking. It\u0026rsquo;s funny to record it.\n","permalink":"https://notes.0081800.xyz/notes/20220111072354-speed_of_light_we_can_t_send_mail_more_than_500_miles/","summary":"tags: Networking 101: Primer on Latency and Bandwidth,Fun Bugs source: https://web.mit.edu/jemorris/humor/500-miles I remember this story when I\u0026rsquo;m reading the section \u0026ldquo;Speed of Light and Propagation Latency\u0026rdquo; in High Performance Browser Networking. It\u0026rsquo;s funny to record it.","title":"Speed of Light: We can't send mail more than 500 miles"},{"content":" tags: High Performance Browser Networking,Network Defination:\nLatency - Time cost between sending and receiving, lower is better. Bandwitdh - throughtput, higher is better. Things affect to Latency:\nDistance of fiber, Speed of Light, that could be optimized by CDN. Bufferbloat of router, large buffer make queue delay, addressed by CoDel. ISP gateway. ","permalink":"https://notes.0081800.xyz/notes/20220111071605-networking_101_primer_on_latency_and_bandwidth/","summary":" tags: High Performance Browser Networking,Network Defination:\nLatency - Time cost between sending and receiving, lower is better. Bandwitdh - throughtput, higher is better. Things affect to Latency:\nDistance of fiber, Speed of Light, that could be optimized by CDN. Bufferbloat of router, large buffer make queue delay, addressed by CoDel. ISP gateway. ","title":"Networking 101: Primer on Latency and Bandwidth"},{"content":" tags: Org Mode,How to Write source: https://github.com/vikasrawal/orgpaper ","permalink":"https://notes.0081800.xyz/notes/20220110121108-reproducible_research_papers_using_org_mode_and_r_a_guide/","summary":" tags: Org Mode,How to Write source: https://github.com/vikasrawal/orgpaper ","title":"Reproducible Research Papers using Org-mode and R: A Guide"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/projects/20220110112848-high_performance/","summary":" tags: Computer Systems ","title":"High Performance"},{"content":" tags: Note-Taking,How to Write,Zettelkasten,è¯»ä¹¦ç¬”è®° source: Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. ","permalink":"https://notes.0081800.xyz/notes/20220110110642-how_to_take_smart_notes/","summary":" tags: Note-Taking,How to Write,Zettelkasten,è¯»ä¹¦ç¬”è®° source: Ahrens, SÃ¶nke. How to Take Smart Notes: One Simple Technique to Boost Writing, Learning and Thinking: For Students, Academics and Nonfiction Book Writers. North Charleston, SC: CreateSpace, 2017. ","title":"How to Take Smart Notes"},{"content":" tags: Distributed Systems source: https://martinfowler.com/articles/patterns-of-distributed-systems/ ","permalink":"https://notes.0081800.xyz/projects/20220110110515-patterns_of_distributed_systems/","summary":" tags: Distributed Systems source: https://martinfowler.com/articles/patterns-of-distributed-systems/ ","title":"Patterns of Distributed Systems"},{"content":" tags: TCP ","permalink":"https://notes.0081800.xyz/notes/20220110082953-http/","summary":" tags: TCP ","title":"HTTP"},{"content":" tags: Title Case,Emacs source: https://github.com/duckwork/titlecase.el ","permalink":"https://notes.0081800.xyz/notes/20220110071604-github_duckwork_titlecase_el_titlecase_things_in_emacs/","summary":" tags: Title Case,Emacs source: https://github.com/duckwork/titlecase.el ","title":"GitHub: duckwork/titlecase.el -  Titlecase things in Emacs"},{"content":"","permalink":"https://notes.0081800.xyz/projects/20220110071453-writing/","summary":"","title":"How to Write"},{"content":" tags: Learning English,Online: Title Case source: The Chicago Manual of Style. Seventeenth edition. Chicago: The University of Chicago Press, 2017. ","permalink":"https://notes.0081800.xyz/notes/20220110071319-chicago_manual_of_style_chaper_8_names_terms_and_titles_of_works/","summary":" tags: Learning English,Online: Title Case source: The Chicago Manual of Style. Seventeenth edition. Chicago: The University of Chicago Press, 2017. ","title":"Chicago Manual of Style: Chapter 8 Names, Terms, and Titles of Works"},{"content":" tags: Online Tools,Title Case source: https://titlecase.com/ ","permalink":"https://notes.0081800.xyz/notes/20220110070643-online_title_case/","summary":" tags: Online Tools,Title Case source: https://titlecase.com/ ","title":"Online: Title Case"},{"content":" tags: Learning English,Writing ","permalink":"https://notes.0081800.xyz/notes/20220110070124-title_case/","summary":" tags: Learning English,Writing ","title":"Title Case"},{"content":" tags: Learning English,Title Case source: â€œThe Programmerâ€™s Way to Write in Title Case Using Emacs Lisp.â€ Accessed January 10, 2022. https://hungyi.net/posts/programmers-way-to-title-case. Genernal correct title cased phrase:\nUppercase the first letter of most words\ne.g. \u0026ldquo;There Is No Spoon\u0026rdquo;\nNot capitalize \u0026lsquo;small\u0026rsquo; and \u0026lsquo;unimportant\u0026rsquo; words\ne.g. \u0026ldquo;Long Live the King\u0026rdquo;\nAlways capitalize the first and the last words, even if they\u0026rsquo;re small\ne.g. \u0026ldquo;The Land and Save We Live On\u0026rdquo;\nCapitalize sub-phrase as if they were their own title\ne.g. \u0026ldquo;The Lonely Reindeer: A Christmas Story\u0026rdquo;\n","permalink":"https://notes.0081800.xyz/notes/20220110070044-the_programmer_s_way_to_write_in_title_case_using_emacs_lisp/","summary":"tags: Learning English,Title Case source: â€œThe Programmerâ€™s Way to Write in Title Case Using Emacs Lisp.â€ Accessed January 10, 2022. https://hungyi.net/posts/programmers-way-to-title-case. Genernal correct title cased phrase:\nUppercase the first letter of most words\ne.g. \u0026ldquo;There Is No Spoon\u0026rdquo;\nNot capitalize \u0026lsquo;small\u0026rsquo; and \u0026lsquo;unimportant\u0026rsquo; words\ne.g. \u0026ldquo;Long Live the King\u0026rdquo;\nAlways capitalize the first and the last words, even if they\u0026rsquo;re small\ne.g. \u0026ldquo;The Land and Save We Live On\u0026rdquo;","title":"The Programmer's Way to Write in Title Case Using Emacs Lisp"},{"content":" tags: quorum,ä¸€è‡´æ€§ï¼ŒDistributed Systems,Patterns of Distributed Systems,Paxos,Patterns of Distributed Systems: Paxos source: martinfowler.com. â€œQuorum.â€ Accessed January 7, 2022. https://martinfowler.com/articles/patterns-of-distributed-systems/quorum.html. ","permalink":"https://notes.0081800.xyz/notes/20220107113911-patterns_of_distributed_systems_quorum/","summary":" tags: quorum,ä¸€è‡´æ€§ï¼ŒDistributed Systems,Patterns of Distributed Systems,Paxos,Patterns of Distributed Systems: Paxos source: martinfowler.com. â€œQuorum.â€ Accessed January 7, 2022. https://martinfowler.com/articles/patterns-of-distributed-systems/quorum.html. ","title":"Patterns of Distributed Systems: Quorum"},{"content":" tags: Paxos,åˆ†å¸ƒå¼,Patterns of Distributed Systems source: martinfowler.com. â€œPaxos.â€ Accessed January 7, 2022. https://martinfowler.com/articles/patterns-of-distributed-systems/paxos.html. ","permalink":"https://notes.0081800.xyz/notes/20220107113056-patterns_of_distributed_systems_paxos/","summary":" tags: Paxos,åˆ†å¸ƒå¼,Patterns of Distributed Systems source: martinfowler.com. â€œPaxos.â€ Accessed January 7, 2022. https://martinfowler.com/articles/patterns-of-distributed-systems/paxos.html. ","title":"Patterns of Distributed Systems: Paxos"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220107110909-career/","summary":"","title":"Career"},{"content":" tags: Career source: â€œHow to Quit like a Boss.â€ Accessed January 7, 2022. https://jmsbrdy.com/blog/leaving-spring/. HN: https://news.ycombinator.com/item?id=29830296 From the article:\nAvoid communication failures: your manager should not be surprised by your leaving.\nDo have regular, clear, frank conversations about your career with your direct manager. Do tell your manager clearly if thereâ€™s something youâ€™re looking for in your career which your current role isnâ€™t providing. Don\u0026rsquo;t withhold concerns or aspirations from your manager. The worst you do above:\nBut how can I avoid afraid of leaving?\nMatch your notice period to the handover period\nHand over: key services and systems, knowledge, documentation, helping hire replacement,helping communicate your departure to the wider team. Avoid giving to much notice Team without you\nDon\u0026rsquo;t sabotage Help other people take on larger roles Fresh thiking ","permalink":"https://notes.0081800.xyz/notes/20220107110859-how_to_quit_like_a_boss/","summary":"tags: Career source: â€œHow to Quit like a Boss.â€ Accessed January 7, 2022. https://jmsbrdy.com/blog/leaving-spring/. HN: https://news.ycombinator.com/item?id=29830296 From the article:\nAvoid communication failures: your manager should not be surprised by your leaving.\nDo have regular, clear, frank conversations about your career with your direct manager. Do tell your manager clearly if thereâ€™s something youâ€™re looking for in your career which your current role isnâ€™t providing. Don\u0026rsquo;t withhold concerns or aspirations from your manager.","title":"How to quit like a boss"},{"content":" tags: Blockchain,Smart contracts,Web3 source: â€œCrypto: The Good, the Bad and the Ugly.â€ Accessed January 7, 2022. https://seldo.com/posts/crypto-the-good-the-bad-and-the-ugly. The good:\nSmart contracts allows anybody to execute arbitrary code in the network. And use money to avoid abuse, as every action in the smart contract cost money(computing resource). Finaacial engineering: new money. Entertainment: NFT, a big dream(culture) for everybody who loves crypto. True cloud computing: Smart contracts again. Web3 The bad:\nEnvironmental impact: the grievously wateful nature of PoW. But it\u0026rsquo;s changing. Interactions at boundaries: private(isolate) network. DAOs have a major boundary problem: not a legally binding contract, without goverment support. Governace GAS fee limit scale Incentives for participation: how money come in to this system? Web3: is a currency a practical model for general computing? The ugly: NFTs, ICOS.\n","permalink":"https://notes.0081800.xyz/notes/20220107103820-crypto_the_good_the_bad_and_the_ugly/","summary":"tags: Blockchain,Smart contracts,Web3 source: â€œCrypto: The Good, the Bad and the Ugly.â€ Accessed January 7, 2022. https://seldo.com/posts/crypto-the-good-the-bad-and-the-ugly. The good:\nSmart contracts allows anybody to execute arbitrary code in the network. And use money to avoid abuse, as every action in the smart contract cost money(computing resource). Finaacial engineering: new money. Entertainment: NFT, a big dream(culture) for everybody who loves crypto. True cloud computing: Smart contracts again. Web3 The bad:","title":"Crypto: the good, the bad and the ugly"},{"content":" tags: Ethereum ","permalink":"https://notes.0081800.xyz/notes/20220107072021-ethereum_development/","summary":" tags: Ethereum ","title":"Ethereum development"},{"content":" tags: Smart contracts,Ethereum,Ethereum development source: ethereum.org. â€œEthereum Local Development Setup.â€ Accessed January 7, 2022. https://ethereum.org. Local development node:\nUse Hardhat to build the ethereum development environment.\nAnd also there are some tools that based on Hardhat:\nscaffold-eth: forkable Ethereum dev stack focused on fast product iterations Ganache: A tool for creating a local blockchain for fast Ethereum development.\nTools that based on Ganache:\nPython based: brownie Testing tools:\nWaffle: ethers.js Truffle: Web3.js ","permalink":"https://notes.0081800.xyz/notes/20220107070826-set_up_your_local_development_environment/","summary":"tags: Smart contracts,Ethereum,Ethereum development source: ethereum.org. â€œEthereum Local Development Setup.â€ Accessed January 7, 2022. https://ethereum.org. Local development node:\nUse Hardhat to build the ethereum development environment.\nAnd also there are some tools that based on Hardhat:\nscaffold-eth: forkable Ethereum dev stack focused on fast product iterations Ganache: A tool for creating a local blockchain for fast Ethereum development.\nTools that based on Ganache:\nPython based: brownie Testing tools:\nWaffle: ethers.","title":"Set up your local development environment"},{"content":" tags: Smart contracts,Ethereum,Ethereum development source: ethereum.org. â€œDeploying Your First Smart Contract.â€ Accessed January 7, 2022. https://ethereum.org. ","permalink":"https://notes.0081800.xyz/notes/20220107070103-ethereum_deploying_your_first_smart_contract/","summary":" tags: Smart contracts,Ethereum,Ethereum development source: ethereum.org. â€œDeploying Your First Smart Contract.â€ Accessed January 7, 2022. https://ethereum.org. ","title":"Ethereum: Deploying your first smart contract"},{"content":" tags: Blockchain Proof,Ethereum ","permalink":"https://notes.0081800.xyz/notes/20220107065931-poa/","summary":" tags: Blockchain Proof,Ethereum ","title":"PoA"},{"content":" tags: PoA source: https://en.wikipedia.org/wiki/Proof%5Fof%5Fauthority ","permalink":"https://notes.0081800.xyz/notes/20220107065917-wikipedia_proof_of_authority/","summary":" tags: PoA source: https://en.wikipedia.org/wiki/Proof%5Fof%5Fauthority ","title":"Wikipedia: Proof of authority"},{"content":" tags: IRT,CTT,Educational Measurement source: Hambleton, Ronald K, and Russell W Jones. â€œComparison of Classical Test Theory and Item Response Theory and Their Applications to Test Development,â€ 1993, 11. ","permalink":"https://notes.0081800.xyz/notes/20220106173433-comparison_of_classical_test_theory_and_item_response_theory_and_their_applications_to_test_development/","summary":" tags: IRT,CTT,Educational Measurement source: Hambleton, Ronald K, and Russell W Jones. â€œComparison of Classical Test Theory and Item Response Theory and Their Applications to Test Development,â€ 1993, 11. ","title":"Comparison of Classical Test Theory and Item Response Theory and Their Applications to Test Development"},{"content":" tags: Educational Measurement ","permalink":"https://notes.0081800.xyz/notes/20220106173441-ctt/","summary":" tags: Educational Measurement ","title":"CTT"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220106173353-educational/","summary":"","title":"Educational"},{"content":" tags: Educational ","permalink":"https://notes.0081800.xyz/notes/20220106173334-educational_measurement/","summary":" tags: Educational ","title":"Educational Measurement"},{"content":" tags: IRT,è¯»ä¹¦ç¬”è®° source: Yu, Chong Ho. â€œA Simple Guide to the Item Response Theory ( IRT ) and Rasch Modeling.â€ Accessed January 6, 2022. https://www.semanticscholar.org/paper/A-Simple-Guide-to-the-Item-Response-Theory-(-IRT-)-Yu/f42efb1bcf38f6650a8b16650e2811e8803cd4ec. IRT is about fitness or simplicity for test. There are two versions of IRT:\nIRT - three parameters. Rasch modeling - one parameter only. Three parameters:\nA - discrimination, how effectively this item can discriminate students\u0026rsquo;s proficient between highly and less. B - difficulty, or the threshold, tells us how easy or how difficult an item is. G or C - guessing, indicates the item correct by guess. One parameter: keep the A parameter constant and ignoring the G parameter.\nNew words tentatively fc position ease box interval due front 2.5 0 0 2022-01-06T08:56:49Z Back Adverb ËˆtÉ›ntÉ™tÉªvli\nsubject to further confirmation; not definitely Examples:\nthe project is tentatively scheduled for next year unions tentatively agreed to a three-year contract proficiency fc position ease box interval due front 2.5 0 0 2022-01-06T09:06:43Z Back Noun prÉ™ËˆfÉªÊƒnsi\na high degree of skill; expertise\nSynonyms: skill/skilfulness/expertise/experience/ability/capability/capacity/competence/competency/adeptness/adroitness/excellence/mastery/prowess/professionalism/aptitude/deftness/dexterity/finesse/facility/effectiveness/accomplishment/aptness/expertness/talent\nExamples:\nhe demonstrated his proficiency in Chinese characteristic fc position ease box interval due front 2.5 0 0 2022-01-06T09:07:38Z Back Adjective ËŒkarÉªktÉ™ËˆrÉªstÉªk\ntypical of a particular person, place, or thing\nSynonyms: typical/usual/normal/predictable/habitual/in character\nExamples:\nhe began with a characteristic attack on extremism Noun ËŒkarÉªktÉ™ËˆrÉªstÉªk\na feature or quality belonging typically to a person, place, or thing and serving to identify them\nSynonyms: attribute/feature\nExamples:\ncertain defining characteristics of the school emerge from the study the whole number or integral part of a logarithm, which gives the order of magnitude of the original number.\ncurve fc position ease box interval due front 2.5 0 0 2022-01-06T09:08:21Z Back Noun kÉ™Ëv\na line or outline which gradually deviates from being straight for some or all of its length\nSynonyms: curve/bend/bow/arch\nExamples:\nthe parapet wall sweeps down in a bold curve Verb kÉ™Ëv\nform or cause to form a curve\nSynonyms: bend/turn/loop/wind/meander/undulate/snake/spiral/twist/coil/curl/bent/arched/bowed/crescent/curving/recurved/wavy/twisted/twisty/sinuous/serpentine/meandering/undulating/curvilinear/curvy\nExamples:\nher mouth curved in a smile starting with arms outstretched, curve the body sideways discrimination fc position ease box interval due front 2.5 0 0 2022-01-06T09:13:29Z Back Noun dÉªËŒskrÉªmÉªËˆneÉªÊƒn\nthe unjust or prejudicial treatment of different categories of people, especially on the grounds of ethnicity, age, sex, or disability\nSynonyms: prejudice/bias/bigotry/intolerance/narrow-mindedness/unfairness/inequity/favouritism/one-sidedness/partisanship\nExamples:\nvictims of racial discrimination there is widespread discrimination against women recognition and understanding of the difference between one thing and another\nSynonyms: differentiation/distinction/telling the difference\nExamples:\ndiscrimination between right and wrong young children have difficulties in making fine discriminations the selection of a signal having a required characteristic, such as frequency or amplitude, by means of a discriminator.\n","permalink":"https://notes.0081800.xyz/notes/20220106164610-a_simple_guide_to_the_item_response_theory_irt/","summary":"tags: IRT,è¯»ä¹¦ç¬”è®° source: Yu, Chong Ho. â€œA Simple Guide to the Item Response Theory ( IRT ) and Rasch Modeling.â€ Accessed January 6, 2022. https://www.semanticscholar.org/paper/A-Simple-Guide-to-the-Item-Response-Theory-(-IRT-)-Yu/f42efb1bcf38f6650a8b16650e2811e8803cd4ec. IRT is about fitness or simplicity for test. There are two versions of IRT:\nIRT - three parameters. Rasch modeling - one parameter only. Three parameters:\nA - discrimination, how effectively this item can discriminate students\u0026rsquo;s proficient between highly and less. B - difficulty, or the threshold, tells us how easy or how difficult an item is.","title":"A Simple Guide to the Item Response Theory (IRT)"},{"content":" tags: Algorithm,Bigdata,Educational Measurement ","permalink":"https://notes.0081800.xyz/notes/20220106164620-irt/","summary":" tags: Algorithm,Bigdata,Educational Measurement ","title":"IRT"},{"content":" tags: Freelance source: â€œHow I Took My SaaS from Idea to Sold in 14 Months | Masilotti.Com.â€ Accessed January 6, 2022. https://masilotti.com/idea-to-sold-in-14-months/. Building in public: teased new designs and features, documented decisions, UX with polls.\n","permalink":"https://notes.0081800.xyz/notes/20220106121912-how_i_took_my_saas_from_idea_to_sold_in_14_months/","summary":"tags: Freelance source: â€œHow I Took My SaaS from Idea to Sold in 14 Months | Masilotti.Com.â€ Accessed January 6, 2022. https://masilotti.com/idea-to-sold-in-14-months/. Building in public: teased new designs and features, documented decisions, UX with polls.","title":"How I took my SaaS from idea to sold in 14 months"},{"content":" tags: Python source: â€œinit_subclass.â€ Accessed January 6, 2022. https://til.simonwillison.net/til/til/python_init-subclass.md. ","permalink":"https://notes.0081800.xyz/notes/20220106121656-problems_once_solved_by_a_metaclass_can_be_solved_by_init_subclass/","summary":" tags: Python source: â€œinit_subclass.â€ Accessed January 6, 2022. https://til.simonwillison.net/til/til/python_init-subclass.md. ","title":"Problems once solved by a metaclass can be solved by init_subclass"},{"content":" tags: Rust,Online Tutorial source: https://cheats.rs/ ","permalink":"https://notes.0081800.xyz/notes/20220105190301-rust_language_cheat_sheet/","summary":" tags: Rust,Online Tutorial source: https://cheats.rs/ ","title":"Rust Language Cheat Sheet"},{"content":" tags: Bigdata ","permalink":"https://notes.0081800.xyz/notes/20220105165615-streaming/","summary":" tags: Bigdata ","title":"Streaming"},{"content":" tags: Bigdata,Streaming,Stateful Stream Processing source: Kreps, Jay. â€œWhy Local State Is a Fundamental Primitive in Stream Processing - Oâ€™Reilly Radar.â€ Accessed January 5, 2022. http://radar.oreilly.com/2014/07/why-local-state-is-a-fundamental-primitive-in-stream-processing.html. Why\nlocal state is much faster than a distribut database. local state can easily restore by some middleware like Kafka: by writing changes to a Kafka topic. ","permalink":"https://notes.0081800.xyz/notes/20220105165604-why_local_state_is_a_fundamental_primitive_in_stream_processing/","summary":" tags: Bigdata,Streaming,Stateful Stream Processing source: Kreps, Jay. â€œWhy Local State Is a Fundamental Primitive in Stream Processing - Oâ€™Reilly Radar.â€ Accessed January 5, 2022. http://radar.oreilly.com/2014/07/why-local-state-is-a-fundamental-primitive-in-stream-processing.html. Why\nlocal state is much faster than a distribut database. local state can easily restore by some middleware like Kafka: by writing changes to a Kafka topic. ","title":"Why local state is a fundamental primitive in stream processing"},{"content":" tags: Bigdata,Flink,Dataflow Model,Streaming source: â€œStreaming 102: The World beyond Batch â€“ Oâ€™Reilly.â€ Accessed January 5, 2022. https://www.oreilly.com/radar/the-world-beyond-batch-streaming-102/. Three more concepts:\nWatermarks: Useful for event time windowing. All input data with event times less than watermark have been observed. Triggers: Signal for a window to produce output. Accumulation: The way to handle multiple results that are observed for the same window. Streaming 101 Redux What: Transformations Where: windowing Make a temporal boundary for a unbounded data source.\nFixed window Sliding window Session window Streaming 102 When: watermarks Watermarks is a function: \\(F(P) -\u0026gt; E\\)\nP - processing time E - event time, all inputs with event time less than E have been observed. The guarantee of watermarks:\nPerfect watermarks: no late data, all inputs with event time less than watermarks have been observed. Heuristic watermarks: may have late data, as accurate as possible. The data may late if the gap between processing time and event time is too large. When: windows are materialized? The watermark passes the end of the window.\nShortcomings of watermarks:\nToo slow: will be very slow to konwn unprocessed data. Too fast: window may miss data that cause late data. When: triggers Triggers complete watermarks that answered: When in processing time are results materialized?\nTriggers:\nWatermark progress: implicit version that will be trigger when the watermark passed the end of the window. Processing time progress Element counts: Triggering when some finite number of elements have been observed in a window. Punctuations: data-dependent triggers Composite triggers:\nRepetitions Conjunctions (logical AND) Disjunctions (logical OR) Sequences How: accumulation Do refinements of results relate when multiple panes are produced by triggers in a single window.\nThree different modes of accumulation:\nDiscarding Accumulating Accumulatin \u0026amp; retracting Where: session windows Captures a period of activity, terminated by a gap of inactivity.\nIntermezzo What results are calculated? Answered via transformations. Where in event time are results calculated? Answered via windowing. When in processing time are results materialized? Answered via watermarks and triggers. How do refinements of results relate? Answered via accumulation modes. ","permalink":"https://notes.0081800.xyz/notes/20220105164146-streaming_102_the_world_beyond_batch/","summary":"tags: Bigdata,Flink,Dataflow Model,Streaming source: â€œStreaming 102: The World beyond Batch â€“ Oâ€™Reilly.â€ Accessed January 5, 2022. https://www.oreilly.com/radar/the-world-beyond-batch-streaming-102/. Three more concepts:\nWatermarks: Useful for event time windowing. All input data with event times less than watermark have been observed. Triggers: Signal for a window to produce output. Accumulation: The way to handle multiple results that are observed for the same window. Streaming 101 Redux What: Transformations Where: windowing Make a temporal boundary for a unbounded data source.","title":"Streaming 102: The world beyond batch"},{"content":" tags: Bigdata,Streaming source: Akidau, Tyler, Robert Bradshaw, Craig Chambers, Slava Chernyak, Rafael J. FernÃ¡ndez-Moctezuma, Reuven Lax, Sam McVeety, et al. â€œThe Dataflow Model: A Practical Approach to Balancing Correctness, Latency, and Cost in Massive-Scale, Unbounded, out-of-Order Data Processing.â€ Proceedings of the VLDB Endowment 8, no. 12 (August 2015): 1792â€“1803. https://doi.org/10.14778/2824032.2824076. ","permalink":"https://notes.0081800.xyz/notes/20220105163640-dataflow_model/","summary":" tags: Bigdata,Streaming source: Akidau, Tyler, Robert Bradshaw, Craig Chambers, Slava Chernyak, Rafael J. FernÃ¡ndez-Moctezuma, Reuven Lax, Sam McVeety, et al. â€œThe Dataflow Model: A Practical Approach to Balancing Correctness, Latency, and Cost in Massive-Scale, Unbounded, out-of-Order Data Processing.â€ Proceedings of the VLDB Endowment 8, no. 12 (August 2015): 1792â€“1803. https://doi.org/10.14778/2824032.2824076. ","title":"Dataflow Model"},{"content":" tags: Bigdata,Flink,Streaming source: Akidau, Tyler. â€œStreaming 101: The World beyond Batch.â€ Oâ€™Reilly Media, August 5, 2015. https://www.oreilly.com/radar/the-world-beyond-batch-streaming-101/. Streaming: a type of data processing engine that is designed with infinite data sets in mind. Other common uses of \u0026ldquo;streaming\u0026rdquo; that will be avoid in the rest of the post:\nUnbounded data: A type of ever-growing, essentially infinite data set. Unbounded data processing: An ongoing mode of data processing, applied to the aforementioned type of unbounded data. Low-latency, approximate, and/or speculative results: These types of results are most often associated with streaming engines. Limitations of streaming To beat batch at its own game, you really only need two things:\nCorrectness: exactly-once requires strongly consistent state. Tools for reasoning about time - This gets you beyond batch.Good tools for reasoning about time are essential for dealing with unbounded, unordered data of varying event-time skew. Event time vs. processing time Within any data processing system, there are typically two domains of time we care about:\nEvent time, which is the time at which events actually occurred. Processing time, which is the time at which events are abserved in the system. Skew always exists between Event time and Processing time.\nIf you care about event times, you cannot analyzer your data solely within the contxt of when they are abserved in your pipeline.\nIf you care about correctness and are interested in analyzing your data in the context of their event times, you cannot define those temporal boundaries using processing time.\nData processing patterns Bounded data Unbounded data â€” batch Fixed windows Sessions Sessions are typically defined as periods of activity (e.g., for a specific user) terminated by a gap of inactivity.\nUnbounded data â€” streaming Four groups of dealing data Time-agnostic Filtering Just look at each record as it arrived, and drop the records that we are not interested. We don\u0026rsquo;t care about the time.\nInner-joins When joining two unbounded data sources, if you only care about the results of a join when an element from both sources arrive, thereâ€™s no temporal element to the logic.\nApproximation algorithms Windowing by processing time Windowing by event time ","permalink":"https://notes.0081800.xyz/notes/20220105163321-streaming_101_the_world_beyond_batch/","summary":"tags: Bigdata,Flink,Streaming source: Akidau, Tyler. â€œStreaming 101: The World beyond Batch.â€ Oâ€™Reilly Media, August 5, 2015. https://www.oreilly.com/radar/the-world-beyond-batch-streaming-101/. Streaming: a type of data processing engine that is designed with infinite data sets in mind. Other common uses of \u0026ldquo;streaming\u0026rdquo; that will be avoid in the rest of the post:\nUnbounded data: A type of ever-growing, essentially infinite data set. Unbounded data processing: An ongoing mode of data processing, applied to the aforementioned type of unbounded data.","title":"Streaming 101: The world beyond batch"},{"content":" tags: DAO,Web3 source: Foundation, Ethereum. â€œDAOs, DACs, DAs and More: An Incomplete Terminology Guide.â€ Accessed January 5, 2022. https://blog.ethereum.org/2014/05/06/daos-dacs-das-and-more-an-incomplete-terminology-guide/. ","permalink":"https://notes.0081800.xyz/notes/20220105145433-daos_dacs_das_and_more_an_incomplete_terminology_guide/","summary":" tags: DAO,Web3 source: Foundation, Ethereum. â€œDAOs, DACs, DAs and More: An Incomplete Terminology Guide.â€ Accessed January 5, 2022. https://blog.ethereum.org/2014/05/06/daos-dacs-das-and-more-an-incomplete-terminology-guide/. ","title":"DAOs, DACs, DAs and More: An Incomplete Terminology Guide"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220105144742-online_tutorial/","summary":"","title":"Online Tutorial"},{"content":" tags: DAO,Online Tutorial source: https://aragon.org/dao ","permalink":"https://notes.0081800.xyz/notes/20220105144616-level_up_your_knowledge_of_daos/","summary":" tags: DAO,Online Tutorial source: https://aragon.org/dao ","title":"DAO  Education: Level Up Your Knowledge of DAOs"},{"content":" tags: Freelance source: Dan. â€œMy Writing Finances, 2021 | Dan Moren.â€ Accessed January 5, 2022. https://dmoren.com/2022/01/03/my-writing-finances-2021/. ","permalink":"https://notes.0081800.xyz/notes/20220105135009-my_writing_finances_2021/","summary":" tags: Freelance source: Dan. â€œMy Writing Finances, 2021 | Dan Moren.â€ Accessed January 5, 2022. https://dmoren.com/2022/01/03/my-writing-finances-2021/. ","title":"My writing finances, 2021"},{"content":" tags: Freelance source: â€œI Make $3K/Mo from a Browser Extension! (+ December 2021 Updates).â€ Accessed January 5, 2022. http://newsletter.tonydinh.com/issues/i-make-3k-mo-from-a-browser-extension-december-2021-updates-966892. HN: https://news.ycombinator.com/item?id=29803817 ","permalink":"https://notes.0081800.xyz/notes/20220105134652-hn_i_make_3k_mo_from_a_browser_extension/","summary":" tags: Freelance source: â€œI Make $3K/Mo from a Browser Extension! (+ December 2021 Updates).â€ Accessed January 5, 2022. http://newsletter.tonydinh.com/issues/i-make-3k-mo-from-a-browser-extension-december-2021-updates-966892. HN: https://news.ycombinator.com/item?id=29803817 ","title":"HN: I make $3K/mo from a browser extension!"},{"content":" tags: Web3 source: Continuations by Albert Wenger. â€œWeb3/Crypto: Why Bother?â€ Accessed January 5, 2022. https://continuations.com/post/671863718643105792/web3crypto-why-bother. ","permalink":"https://notes.0081800.xyz/notes/20220105134324-web3_crypto_why_bother/","summary":" tags: Web3 source: Continuations by Albert Wenger. â€œWeb3/Crypto: Why Bother?â€ Accessed January 5, 2022. https://continuations.com/post/671863718643105792/web3crypto-why-bother. ","title":"Web3/Crypto: Why Bother?"},{"content":" tags: Ethereum,MetaMask,Online Tools source: https://www.skiff.org/updates/skiff-ens ","permalink":"https://notes.0081800.xyz/notes/20220105120811-skiff_x_ethereum_naming_service/","summary":" tags: Ethereum,MetaMask,Online Tools source: https://www.skiff.org/updates/skiff-ens ","title":"Skiff x Ethereum Naming Service"},{"content":" tags: Web3,Online Tools,Real Problems That Web3 Solves, Part 1 source: https://metamask.io/ MetaMask has implemented private key login via a Chrome extension and now has 21 million users. In theory, something like this could have existed a long time ago. In practice, the existence of blockchains and the need for better UX for cryptocurrency incentivized much more investmenets in these tools.\n","permalink":"https://notes.0081800.xyz/notes/20220105120401-metamask/","summary":"tags: Web3,Online Tools,Real Problems That Web3 Solves, Part 1 source: https://metamask.io/ MetaMask has implemented private key login via a Chrome extension and now has 21 million users. In theory, something like this could have existed a long time ago. In practice, the existence of blockchains and the need for better UX for cryptocurrency incentivized much more investmenets in these tools.","title":"MetaMask"},{"content":" tags: Web3,Smart contracts source: Bill Prinâ€™s Personal Page. â€œReal Problems That Web3 Solves, Part 1,â€ January 3, 2022. https://billprin.com/2022/01/03/real-problems-web3-solves.html. What exactly is the difference between Web3, blockchain, and cryptocurrency You can think of blockchain and cryptocurrency as technological implementation details, and Web3 as the communities, businesses, and social relationships that form on top of that technology. A similar analogy would be the original World Wide Web, which could have been construed as a rebrand of the underlying technologies of HTML over HTTP over TCP/IP. Those protocols have served as the foundation for virtually all web content for the last 30 years, but itâ€™d certainly be unfair to describe â€œthe Webâ€ as merely a rebranding of HTML/HTTP/TCP/IP since what happens on top of those protocols is much bigger than just the protocols themselves.\nUsing blockchain as a database to store personal data in account?\nAuthentication Before Web3 Username and password OAuth protocols(namely OAuth2) Web3 Wallets that use asymmetric cryptographic algorithm(public key and private key). Smart contracts enables advances features, like recovery your lost key. MetaMask. ","permalink":"https://notes.0081800.xyz/notes/20220105114740-real_problems_that_web3_solves_part_1/","summary":"tags: Web3,Smart contracts source: Bill Prinâ€™s Personal Page. â€œReal Problems That Web3 Solves, Part 1,â€ January 3, 2022. https://billprin.com/2022/01/03/real-problems-web3-solves.html. What exactly is the difference between Web3, blockchain, and cryptocurrency You can think of blockchain and cryptocurrency as technological implementation details, and Web3 as the communities, businesses, and social relationships that form on top of that technology. A similar analogy would be the original World Wide Web, which could have been construed as a rebrand of the underlying technologies of HTML over HTTP over TCP/IP.","title":"Real Problems That Web3 Solves, Part 1"},{"content":" tags: Blockchain,Ethereum source: https://ethereum.org/en/developers/docs/smart-contracts/ A type of Ethereum account. Some code deployed and running in some VM, like Ethereum Virtual Machine.\n","permalink":"https://notes.0081800.xyz/notes/20220105113810-smart_contracts/","summary":"tags: Blockchain,Ethereum source: https://ethereum.org/en/developers/docs/smart-contracts/ A type of Ethereum account. Some code deployed and running in some VM, like Ethereum Virtual Machine.","title":"Smart contracts"},{"content":" tags: Ethereum,Smart contracts,Blockchain,Web3 source: https://ethereum.org/en/dao/ Based on smart contracts and use tokens for voting. Tokens can be exchanged in the market.\n","permalink":"https://notes.0081800.xyz/notes/20220105112648-decentralized_autonomous_organizations_daos/","summary":"tags: Ethereum,Smart contracts,Blockchain,Web3 source: https://ethereum.org/en/dao/ Based on smart contracts and use tokens for voting. Tokens can be exchanged in the market.","title":"Decentralized autonomous organizations (DAOs)"},{"content":" tags: AI,Deep Learning source: â€œNeural Network From Scratch.â€ Accessed January 5, 2022. https://sirupsen.com/napkin/neural-net. ","permalink":"https://notes.0081800.xyz/notes/20220105105024-neural_network_from_scratch/","summary":" tags: AI,Deep Learning source: â€œNeural Network From Scratch.â€ Accessed January 5, 2022. https://sirupsen.com/napkin/neural-net. ","title":"Neural Network From Scratch"},{"content":" tags: Taking Notes,RoamResearch source: â€œMy Personal Note Taking Journey.â€ Accessed January 5, 2022. https://phonetonote.com/blog/my-personal-note-taking-journey/. ","permalink":"https://notes.0081800.xyz/notes/20220105104616-my_personal_note_taking_journey/","summary":" tags: Taking Notes,RoamResearch source: â€œMy Personal Note Taking Journey.â€ Accessed January 5, 2022. https://phonetonote.com/blog/my-personal-note-taking-journey/. ","title":"my personal note taking journey"},{"content":" tags: Zotero,Emacs I got an error when I\u0026rsquo;m inserting Zotero ref to Emacs by M-x org-zotxt-insert-reference-link RET\n[error] request--callback: peculiar error: 500 I got the error of zotxt by follow the instruction Debug Output Logging:\n(5)(+0000003): HTTP/1.0 500 Internal Server Error X-Zotero-Version: 5.0.96.3 X-Zotero-Connector-API-Version: 2 Content-Type: text/plain; charset=UTF-8 csl is nullTypeError: csl is null buildBibliographyResponse/responseData\u0026lt;@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:220:9 buildBibliographyResponse@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:219:24 buildResponse/\u0026lt;@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:156:20 tryCatcher@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/util.js:16:16 module.exports/Promise.prototype._settlePromiseFromHandler@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:547:13 module.exports/Promise.prototype._settlePromise@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:604:13 module.exports/Promise.prototype._settlePromise0@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:649:5 module.exports/Promise.prototype._settlePromises@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:729:13 module.exports/Promise.prototype._fulfill@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:673:13 module.exports/PromiseArray.prototype._resolve@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise_array.js:127:5 module.exports/MappingPromiseArray.prototype._promiseFulfilled@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/map.js:108:13 module.exports/Promise.prototype._settlePromise@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:609:17 module.exports/Promiseâ€¦ (3613 chars) And I found this issue: zotxt api does not work for non-latin references. By looking at the reply, I think it\u0026rsquo;s the same issue I\u0026rsquo;m got: I did\u0026rsquo;nt install the style which I setted in my Emacs config:\n(use-package org-zotxt :straight (:host github :repo \u0026#34;egh/zotxt-emacs\u0026#34;) :bind (:map org-mode-map (\u0026#34;C-c z i\u0026#34; . org-zotxt-insert-reference-link) (\u0026#34;C-c z a\u0026#34; . org-zotxt-open-attachment)) :custom (zotxt-default-bibliography-style \u0026#34;mkbehr-short\u0026#34;) :hook (org-mode . org-zotxt-mode)) By removing the :custom, issue resolved:\n(use-package org-zotxt :straight (:host github :repo \u0026#34;egh/zotxt-emacs\u0026#34;) :bind (:map org-mode-map (\u0026#34;C-c z i\u0026#34; . org-zotxt-insert-reference-link) (\u0026#34;C-c z a\u0026#34; . org-zotxt-open-attachment)) :hook (org-mode . org-zotxt-mode)) ","permalink":"https://notes.0081800.xyz/notes/20220105090334-zotero_zotxt_500/","summary":"tags: Zotero,Emacs I got an error when I\u0026rsquo;m inserting Zotero ref to Emacs by M-x org-zotxt-insert-reference-link RET\n[error] request--callback: peculiar error: 500 I got the error of zotxt by follow the instruction Debug Output Logging:\n(5)(+0000003): HTTP/1.0 500 Internal Server Error X-Zotero-Version: 5.0.96.3 X-Zotero-Connector-API-Version: 2 Content-Type: text/plain; charset=UTF-8 csl is nullTypeError: csl is null buildBibliographyResponse/responseData\u0026lt;@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:220:9 buildBibliographyResponse@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:219:24 buildResponse/\u0026lt;@resource://gre/modules/addons/XPIProvider.jsm -\u0026gt; jar:file:///Users/wanghui/Library/Application%20Support/Zotero/Profiles/34hkbjfm.default/extensions/zotxt@e6h.org.xpi!/bootstrap.js:156:20 tryCatcher@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/util.js:16:16 module.exports/Promise.prototype._settlePromiseFromHandler@resource://zotero/loader.jsm -\u0026gt; resource://zotero/bluebird/promise.js:547:13 module.","title":"Zotero zotxt's api 500 as the specify style is not installed"},{"content":" tags: Org Mode,Taking Notes,Zotero,Research,Emacs source: â€œScientific Writing with Zotero and Org Mode | Irreal.â€ Accessed January 5, 2022. https://irreal.org/blog/?p=5771. ","permalink":"https://notes.0081800.xyz/notes/20220105080634-scientific_writing_with_zotero_and_org_mode/","summary":" tags: Org Mode,Taking Notes,Zotero,Research,Emacs source: â€œScientific Writing with Zotero and Org Mode | Irreal.â€ Accessed January 5, 2022. https://irreal.org/blog/?p=5771. ","title":"Scientific Writing with Zotero and Org Mode"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220105065739-research/","summary":"","title":"Research"},{"content":" tags: Org Mode,Taking Notes,Zotero,Research,Emacs source: â€œA Research Workflow with Zotero and Org Mode | Mkbehr.Com.â€ Accessed January 5, 2022. http://www.mkbehr.com/posts/a-research-workflow-with-zotero-and-org-mode/. Gluing zotero and Org mode together with zotxt(zotxt-emacs).\nWorkflow:\nStore papers into zotero by its browser plugin, that may also download the PDF. Create a page in Emacs and link to zotero via zotxt-emacs C-c \u0026quot; \u0026quot;. When I want to read the paper. Go to the page in Emacs and type C-c \u0026quot; a. When I\u0026rsquo;m reading a paper and see a citation that might be useful, I look it up on the internet and repeat this process to store a note linking to it. ","permalink":"https://notes.0081800.xyz/notes/20220105065621-a_research_workflow_with_zotero_and_org_mode/","summary":"tags: Org Mode,Taking Notes,Zotero,Research,Emacs source: â€œA Research Workflow with Zotero and Org Mode | Mkbehr.Com.â€ Accessed January 5, 2022. http://www.mkbehr.com/posts/a-research-workflow-with-zotero-and-org-mode/. Gluing zotero and Org mode together with zotxt(zotxt-emacs).\nWorkflow:\nStore papers into zotero by its browser plugin, that may also download the PDF. Create a page in Emacs and link to zotero via zotxt-emacs C-c \u0026quot; \u0026quot;. When I want to read the paper. Go to the page in Emacs and type C-c \u0026quot; a.","title":"A research workflow with Zotero and Org mode"},{"content":" tags: Tools,Learning,Taking Notes ","permalink":"https://notes.0081800.xyz/notes/20220105065640-zotero/","summary":" tags: Tools,Learning,Taking Notes ","title":"Zotero"},{"content":" tags: Rust,ä¼˜åŒ–,High Performance source: https://blog.datalust.co/deserializing-json-really-fast/ ","permalink":"https://notes.0081800.xyz/notes/20220104184242-deserializing_json_really_fast/","summary":" tags: Rust,ä¼˜åŒ–,High Performance source: https://blog.datalust.co/deserializing-json-really-fast/ ","title":"Deserializing JSON really fast"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220104184051-database/","summary":"","title":"Database"},{"content":" tags: TCP source: https://arthurchiao.art/blog/rfc1180-a-tcp-ip-tutorial-zh/ ","permalink":"https://notes.0081800.xyz/notes/20220104183852-%E8%AF%91_rfc_1180_%E6%9C%B4%E7%B4%A0_tcp_ip_%E6%95%99%E7%A8%8B_1991/","summary":" tags: TCP source: https://arthurchiao.art/blog/rfc1180-a-tcp-ip-tutorial-zh/ ","title":"[è¯‘] RFC 1180ï¼šæœ´ç´  TCP/IP æ•™ç¨‹ï¼ˆ1991ï¼‰"},{"content":" tags: Assembly,NASM Assembly Language Tutorials source: https://ratfactor.com/assembly-nights ","permalink":"https://notes.0081800.xyz/notes/20220104183330-assembly_nights/","summary":" tags: Assembly,NASM Assembly Language Tutorials source: https://ratfactor.com/assembly-nights ","title":"Assembly Nights"},{"content":" tags: Web3 source: https://blog.wesleyac.com/posts/web3-centralized ","permalink":"https://notes.0081800.xyz/notes/20220104183132-web3_is_centralized/","summary":" tags: Web3 source: https://blog.wesleyac.com/posts/web3-centralized ","title":"web3 is Centralized"},{"content":" tags: Algorithm source: https://malisper.me/an-algorithm-for-passing-programming-interviews/ ","permalink":"https://notes.0081800.xyz/notes/20220104182458-an_algorithm_for_passing_programming_interviews/","summary":" tags: Algorithm source: https://malisper.me/an-algorithm-for-passing-programming-interviews/ ","title":"An Algorithm for Passing Programming Interviews"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/projects/20220104182327-algorithm/","summary":" tags: Computer Systems ","title":"Algorithm"},{"content":" tags: Blockchain,Web3 source: https://www.kooslooijesteijn.net/blog/web3 ","permalink":"https://notes.0081800.xyz/notes/20220104181901-a_not_so_gentle_intro_to_web3/","summary":" tags: Blockchain,Web3 source: https://www.kooslooijesteijn.net/blog/web3 ","title":"A not so gentle intro to web3"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20220104181911-web3/","summary":" tags: Blockchain ","title":"Web3"},{"content":" tags: Go source: https://tip.golang.org/doc/fuzz/ ","permalink":"https://notes.0081800.xyz/notes/20220104181647-go_fuzzing/","summary":" tags: Go source: https://tip.golang.org/doc/fuzz/ ","title":"Go Fuzzing"},{"content":" tags: Freelance source: https://www.hellobonsai.com/ HN: https://news.ycombinator.com/item?id=29782097 ","permalink":"https://notes.0081800.xyz/notes/20220104181343-bonsai_offers_freelance_contracts_proposals_invoices/","summary":" tags: Freelance source: https://www.hellobonsai.com/ HN: https://news.ycombinator.com/item?id=29782097 ","title":"Bonsai offers freelance contracts, proposals, invoices"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/notes/20220104180603-assembly/","summary":" tags: Computer Systems ","title":"Assembly"},{"content":" tags: Computer Systems,Assembly,Linux,Online Tutorial source: â€œNASM Assembly Language Tutorials - Asmtutor.Com.â€ Accessed January 5, 2022. https://asmtutor.com/. ","permalink":"https://notes.0081800.xyz/notes/20220104180539-nasm_assembly_language_tutorials/","summary":" tags: Computer Systems,Assembly,Linux,Online Tutorial source: â€œNASM Assembly Language Tutorials - Asmtutor.Com.â€ Accessed January 5, 2022. https://asmtutor.com/. ","title":"NASM Assembly Language Tutorials"},{"content":" tags: Freelance ","permalink":"https://notes.0081800.xyz/notes/20220104175722-microstartup/","summary":" tags: Freelance ","title":"Microstartup"},{"content":"","permalink":"https://notes.0081800.xyz/projects/20220104175356-freelance/","summary":"","title":"Freelance"},{"content":" tags: Freelance,Microstartup source: https://news.ycombinator.com/item?id=29790964 Comments:\nRelated:\n\u0026ldquo;Tell HN: My Microstartups make $500/day while I\u0026rsquo;m sleeping\u0026rdquo; (this): https://news.ycombinator.com/item?id=29790964\n\u0026ldquo;AMA: I make $100K+ ARR from my microstartups\u0026rdquo; (3 months ago): https://news.ycombinator.com/item?id=28561132\n\u0026ldquo;Show HN: I passed up an opportunity to make $200K from my microstartup\u0026rdquo; (2020): https://twitter.com/1HaKr/status/1301142901510995969\n\u0026ldquo;Show HN: My Indie Hacker goal - Earn $100 a day to keep your desk job away\u0026rdquo; (2020): https://news.ycombinator.com/item?id=24304674\n\u0026ldquo;Show HN: I made $9000 posting on Hacker News about my microstartup\u0026rdquo; (2020): https://news.ycombinator.com/submitted?id=1hakr\nAnd so on: https://news.ycombinator.com/submitted?id=1hakr\nTo answer the question \u0026ldquo;how do you advertise your products?\u0026rdquo;, clearly it is to spam Hacker News until you get lucky.\nHow to validate ideas?\nNot OP, but validating ideas is (relatively) easy. First, you figure out who will use your product. Then, you get a few of those people to use or discuss your product. You only need a few people, and they can be close acquaintances. After showing the product to a few people you imagine to use your product, you come to a determination of whether or not they liked your product. This part is a little subtle. You don\u0026rsquo;t ask them \u0026ldquo;did you like my product?\u0026rdquo; Instead, you try to figure out if your product seems like something they were excited about, would continue to use, and, most importantly, tell others about.\nThink about it like this. If you show the product to a handful of people that you imagine to be ideal users, and NONE of those people are excited enough about your business to share it with others, then what chance of success do you really have?\nTo give you a concrete example. I made an app that was a pretty revolutionary take on reading short stories. I had a few friends try it out, all of whom were passionate readers. They said they liked it, but I could see that none of them opened it again after their initial test. To me, that was all the signal I needed to pivot to something else.\n","permalink":"https://notes.0081800.xyz/notes/20220104175332-hn_my_microstartups_make_500_day_while_i_m_sleeping/","summary":"tags: Freelance,Microstartup source: https://news.ycombinator.com/item?id=29790964 Comments:\nRelated:\n\u0026ldquo;Tell HN: My Microstartups make $500/day while I\u0026rsquo;m sleeping\u0026rdquo; (this): https://news.ycombinator.com/item?id=29790964\n\u0026ldquo;AMA: I make $100K+ ARR from my microstartups\u0026rdquo; (3 months ago): https://news.ycombinator.com/item?id=28561132\n\u0026ldquo;Show HN: I passed up an opportunity to make $200K from my microstartup\u0026rdquo; (2020): https://twitter.com/1HaKr/status/1301142901510995969\n\u0026ldquo;Show HN: My Indie Hacker goal - Earn $100 a day to keep your desk job away\u0026rdquo; (2020): https://news.ycombinator.com/item?id=24304674\n\u0026ldquo;Show HN: I made $9000 posting on Hacker News about my microstartup\u0026rdquo; (2020): https://news.","title":"HN: My Microstartups make $500/day while I'm sleeping"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20220104174944-ledger_the_first_peer_reviewed_journal_dedicated_to_the_study_of_blockchains_and_cryptocurrencies/","summary":" tags: Blockchain ","title":"Ledger, the first peer-reviewed journal dedicated to the study of blockchains and cryptocurrencies!"},{"content":" tags: Privoxy,Over the Wall source: https://wiki.archlinux.org/title/Privoxy%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%BD%AC%E5%8F%91%E5%8D%8F%E8%AE%AE ","permalink":"https://notes.0081800.xyz/notes/20220104163050-privoxy_socks5_to_http/","summary":" tags: Privoxy,Over the Wall source: https://wiki.archlinux.org/title/Privoxy%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E8%BD%AC%E5%8F%91%E5%8D%8F%E8%AE%AE ","title":"Privoxy socks5 to HTTP"},{"content":" tags: Tools,Unix home: https://www.privoxy.org/ ","permalink":"https://notes.0081800.xyz/notes/20220104162722-privoxy/","summary":" tags: Tools,Unix home: https://www.privoxy.org/ ","title":"Privoxy"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220104162549-tools/","summary":"","title":"Tools"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220104162448-https/","summary":"","title":"HTTPs"},{"content":" tags: Bigdata source: https://beam.apache.org/ ","permalink":"https://notes.0081800.xyz/notes/20220104150531-beam/","summary":" tags: Bigdata source: https://beam.apache.org/ ","title":"Beam"},{"content":" tags: Flink State Snapshots source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/stateful-stream-processing/#keyed-state Keyed state is maintained in what can be thought of as an embedded key/value store.\n","permalink":"https://notes.0081800.xyz/notes/20220104120927-flink_keyed_state/","summary":"tags: Flink State Snapshots source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/stateful-stream-processing/#keyed-state Keyed state is maintained in what can be thought of as an embedded key/value store.","title":"Flink: Keyed State"},{"content":" tags: Flink State Snapshots,Fault Tolerance via State Snapshots source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#exactly-once-guarantees Depending on the choices you make, Flink possiable outcomes:\nFlink makes no effort to recover from failures (at most once) Nothing is lost, but you may experience duplicated results (at least once) Nothing is lost or duplicated (exactly once) Given that Flink recovers from faults by rewinding and replaying the source data streams, when the ideal situation is described as exactly once this does not mean that every event will be processed exactly once. Instead, it means that every event will affect the state being managed by Flink exactly once.\nExactly Once End-to-end To achieve exactly once end-to-end, so that every event from the sources affects the sinks exactly once, the following must be true:\nyour sources must be replayable, and your sinks must be transactional (or idempotent) ","permalink":"https://notes.0081800.xyz/notes/20220104113644-flink_exactly_once_guarantees/","summary":"tags: Flink State Snapshots,Fault Tolerance via State Snapshots source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#exactly-once-guarantees Depending on the choices you make, Flink possiable outcomes:\nFlink makes no effort to recover from failures (at most once) Nothing is lost, but you may experience duplicated results (at least once) Nothing is lost or duplicated (exactly once) Given that Flink recovers from faults by rewinding and replaying the source data streams, when the ideal situation is described as exactly once this does not mean that every event will be processed exactly once.","title":"Flink: Exactly Once Guarantees"},{"content":" tags: åˆ†å¸ƒå¼ source: https://en.wikipedia.org/wiki/Chandy%E2%80%93Lamport%5Falgorithm ","permalink":"https://notes.0081800.xyz/notes/20220104112626-wikipedia_chandy_lamport_algorithm/","summary":" tags: åˆ†å¸ƒå¼ source: https://en.wikipedia.org/wiki/Chandy%E2%80%93Lamport%5Falgorithm ","title":"Wikipedia: Chandyâ€“Lamport algorithm"},{"content":" tags: Fault Tolerance via State Snapshots,Flink State Snapshots,Wikipedia: Chandyâ€“Lamport algorithm source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#how-does-state-snapshotting-work Workflow:\nCheckpoint coordinator (part of the job manager) instructs a task manager to begin a checkpoint.\nInsert numbered checkpoint barriers into their streams of all the sources record their offsets.\ncheckpoint barriers flow through the job graph, indicating the part of the stream before and after each checkpoint.\nCheckpoint n will contain the state of each operator that resulted from having consumed every event before checkpoint barrier n, and none of the events after it.\nAs each operator in the job graph receives one of these barriers, it records its state.\nOperators with two input streams (such as a CoProcessFunction) perform barrier alignment so that the snapshot will reflect the state resulting from consuming events from both input streams up to (but not past) both barriers.\nAsynchronously snapshot Flinkâ€™s state backends use a copy-on-write mechanism to allow stream processing to continue unimpeded while older versions of the state are being asynchronously snapshotted. Only when the snapshots have been durably persisted will these older versions of the state be garbage collected.\n","permalink":"https://notes.0081800.xyz/notes/20220104112527-flink_how_does_state_snapshotting_work/","summary":"tags: Fault Tolerance via State Snapshots,Flink State Snapshots,Wikipedia: Chandyâ€“Lamport algorithm source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#how-does-state-snapshotting-work Workflow:\nCheckpoint coordinator (part of the job manager) instructs a task manager to begin a checkpoint.\nInsert numbered checkpoint barriers into their streams of all the sources record their offsets.\ncheckpoint barriers flow through the job graph, indicating the part of the stream before and after each checkpoint.\nCheckpoint n will contain the state of each operator that resulted from having consumed every event before checkpoint barrier n, and none of the events after it.","title":"Flink: How does State Snapshotting Work?"},{"content":" tags: Flink State Snapshots,Fault Tolerance via State Snapshots a snapshot taken automatically by Flink for the purpose of being able to recover from faults. Checkpoints can be incremental, and are optimized for being restored quickly.\n","permalink":"https://notes.0081800.xyz/notes/20220104112356-flink_checkpoint/","summary":"tags: Flink State Snapshots,Fault Tolerance via State Snapshots a snapshot taken automatically by Flink for the purpose of being able to recover from faults. Checkpoints can be incremental, and are optimized for being restored quickly.","title":"Flink Checkpoint"},{"content":" tags: Flink State Snapshots a snapshot triggered manually by a user (or an API call) for some operational purpose, such as a stateful redeploy/upgrade/rescaling operation. Savepoints are always complete, and are optimized for operational flexibility.\n","permalink":"https://notes.0081800.xyz/notes/20220104112301-flink_savepoint/","summary":"tags: Flink State Snapshots a snapshot triggered manually by a user (or an API call) for some operational purpose, such as a stateful redeploy/upgrade/rescaling operation. Savepoints are always complete, and are optimized for operational flexibility.","title":"Flink Savepoint"},{"content":" tags: Flink State Snapshots,Fault Tolerance via State Snapshots,Flink Checkpoint source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#checkpoint-storage Flink periodically takes persistent snapshots of all the state in every operator and copies these snapshots somewhere more durable, such as a distributed file system. In the event of the failure, Flink can restore the complete state of your application and resume processing as though nothing had gone wrong.\nTwo implementations:\nA distributed file system. JobManagerâ€™s heap. ","permalink":"https://notes.0081800.xyz/notes/20220104111922-flink_checkpoint_storage/","summary":" tags: Flink State Snapshots,Fault Tolerance via State Snapshots,Flink Checkpoint source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/#checkpoint-storage Flink periodically takes persistent snapshots of all the state in every operator and copies these snapshots somewhere more durable, such as a distributed file system. In the event of the failure, Flink can restore the complete state of your application and resume processing as though nothing had gone wrong.\nTwo implementations:\nA distributed file system. JobManagerâ€™s heap. ","title":"Flink Checkpoint Storage"},{"content":" tags: Flink State Snapshots,Fault Tolerance via State Snapshots,Stateful Stream Processing Two implementations of state backends are available:\nRocksDB An embedded key/value store keeps its working state on disk.\nOverhead Accesses and updates involve serialization and deserialization.\nJava heap-based state backend Keeps its working state in memory, on the Java heap.\nRisk Large amount state will cause OOM.\nConclusion Both of these state backends are able to do asynchronous snapshotting, meaning that they can take a snapshot without impeding the ongoing stream processing.\n","permalink":"https://notes.0081800.xyz/notes/20220104111432-state_backends/","summary":"tags: Flink State Snapshots,Fault Tolerance via State Snapshots,Stateful Stream Processing Two implementations of state backends are available:\nRocksDB An embedded key/value store keeps its working state on disk.\nOverhead Accesses and updates involve serialization and deserialization.\nJava heap-based state backend Keeps its working state in memory, on the Java heap.\nRisk Large amount state will cause OOM.\nConclusion Both of these state backends are able to do asynchronous snapshotting, meaning that they can take a snapshot without impeding the ongoing stream processing.","title":"State Backends"},{"content":" tags: Flink State Snapshots,Stateful Stream Processing source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/ ","permalink":"https://notes.0081800.xyz/notes/20220104111325-fault_tolerance_via_state_snapshots/","summary":" tags: Flink State Snapshots,Stateful Stream Processing source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/fault%5Ftolerance/ ","title":"Fault Tolerance via State Snapshots"},{"content":" tags: Stateful Stream Processing ","permalink":"https://notes.0081800.xyz/notes/20220104111119-flink_state_snapshots/","summary":" tags: Stateful Stream Processing ","title":"Flink State Snapshots"},{"content":" tags: Stream processing,Flink source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/overview/#stateful-stream-processing https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/stateful-stream-processing/ This means that how one event is handled can depend on the accumulated effect of all the events that came before it.\nHow the stateful streaming processing works on a distributed cluster? The set of parallel instances of a stateful operator is effectively a sharded key-value store. Each parallel instance is responsible for handling events for a specific group of keys, and the state for those keys is kept locally.\nState are stored and accessed locally by sharded key-value store, A fully-connected network shuffle will be occurring between all the instances, All of the events that will be processed together. State is always accessed locally, which helps Flink applications achieve high throughput and low-latency. You can choose to keep state on the JVM heap, or if it is too large, in efficiently organized on-disk data structures.\nSome examples of stateful operations When an application searches for certain event patterns, the state will store the sequence of events encountered so far. When aggregating events per minute/hour/day, the state holds the pending aggregates. When training a machine learning model over a stream of data points, the state holds the current version of the model parameters. When historic data needs to be managed, the state allows efficient access to events that occurred in the past. ","permalink":"https://notes.0081800.xyz/notes/20220104105853-stateful_stream_processing/","summary":"tags: Stream processing,Flink source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/overview/#stateful-stream-processing https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/concepts/stateful-stream-processing/ This means that how one event is handled can depend on the accumulated effect of all the events that came before it.\nHow the stateful streaming processing works on a distributed cluster? The set of parallel instances of a stateful operator is effectively a sharded key-value store. Each parallel instance is responsible for handling events for a specific group of keys, and the state for those keys is kept locally.","title":"Stateful Stream Processing"},{"content":" tags: Stream processing,Flink source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/overview/#timely-stream-processing Flink timely stream processing support by using event timestamps that are recorded in data stream, rather than using the clocks of the machines processing the data.\n","permalink":"https://notes.0081800.xyz/notes/20220104105829-timely_stream_processing/","summary":"tags: Stream processing,Flink source: https://nightlies.apache.org/flink/flink-docs-release-1.14/docs/learn-flink/overview/#timely-stream-processing Flink timely stream processing support by using event timestamps that are recorded in data stream, rather than using the clocks of the machines processing the data.","title":"Timely Stream Processing"},{"content":" tags: Flink Parallel Dataflows Redistributing streams (as between map() and keyBy/window above, as well as between keyBy/window and Sink) change the partitioning of streams. Each operator subtask sends data to different target subtasks, depending on the selected transformation. Examples are keyBy() (which re-partitions by hashing the key), broadcast(), or rebalance() (which re-partitions randomly). In a redistributing exchange the ordering among the elements is only preserved within each pair of sending and receiving subtasks (for example, subtask[1] of map() and subtask[2] of keyBy/window). So, for example, the redistribution between the keyBy/window and the Sink operators shown above introduces non-determinism regarding the order in which the aggregated results for different keys arrive at the Sink.\n","permalink":"https://notes.0081800.xyz/notes/20220104105758-flink_redistributing/","summary":"tags: Flink Parallel Dataflows Redistributing streams (as between map() and keyBy/window above, as well as between keyBy/window and Sink) change the partitioning of streams. Each operator subtask sends data to different target subtasks, depending on the selected transformation. Examples are keyBy() (which re-partitions by hashing the key), broadcast(), or rebalance() (which re-partitions randomly). In a redistributing exchange the ordering among the elements is only preserved within each pair of sending and receiving subtasks (for example, subtask[1] of map() and subtask[2] of keyBy/window).","title":"Flink Redistributing"},{"content":" tags: Flink Parallel Dataflows One-to-one streams (for example between the Source and the map() operators in the figure above) preserve the partitioning and ordering of the elements. That means that subtask[1] of the map() operator will see the same elements in the same order as they were produced by subtask[1] of the Source operator.\n","permalink":"https://notes.0081800.xyz/notes/20220104105704-one_to_one/","summary":"tags: Flink Parallel Dataflows One-to-one streams (for example between the Source and the map() operators in the figure above) preserve the partitioning and ordering of the elements. That means that subtask[1] of the map() operator will see the same elements in the same order as they were produced by subtask[1] of the Source operator.","title":"One-to-one"},{"content":" tags: Flink Streams can transport data between two operators in a one-to-one (or forwarding) pattern, or in a redistributing pattern:\n","permalink":"https://notes.0081800.xyz/notes/20220104105628-flink_parallel_dataflows/","summary":"tags: Flink Streams can transport data between two operators in a one-to-one (or forwarding) pattern, or in a redistributing pattern:","title":"Flink Parallel Dataflows"},{"content":" tags: Flink Stream processing, on the other hand, involves unbounded data streams. Conceptually, at least, the input may never end, and so you are forced to continuously process the data as it arrives.\n","permalink":"https://notes.0081800.xyz/notes/20220104105119-stream_processing/","summary":"tags: Flink Stream processing, on the other hand, involves unbounded data streams. Conceptually, at least, the input may never end, and so you are forced to continuously process the data as it arrives.","title":"Stream processing"},{"content":" tags: Spark Batch processing is the paradigm at work when you process a bounded data stream. In this mode of operation you can choose to ingest the entire dataset before producing any results, which means that it is possible, for example, to sort the data, compute global statistics, or produce a final report that summarizes all of the input.\n","permalink":"https://notes.0081800.xyz/notes/20220104105030-batch_processing/","summary":"tags: Spark Batch processing is the paradigm at work when you process a bounded data stream. In this mode of operation you can choose to ingest the entire dataset before producing any results, which means that it is possible, for example, to sort the data, compute global statistics, or produce a final report that summarizes all of the input.","title":"Batch processing"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20220104104436-flink%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97_%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3_checkpoint%E5%92%8Csavepoint/","summary":"","title":"Flinkå®æ—¶è®¡ç®—-æ·±å…¥ç†è§£ Checkpointå’ŒSavepoint"},{"content":" tags: Flink,Flink State Snapshots,Flink Checkpoint,Flink Savepoint source: https://zhuanlan.zhihu.com/p/79526638 ","permalink":"https://notes.0081800.xyz/notes/20220104104450-%E7%9F%A5%E4%B9%8E_flink%E5%AE%9E%E6%97%B6%E8%AE%A1%E7%AE%97_%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3_checkpoint%E5%92%8Csavepoint/","summary":" tags: Flink,Flink State Snapshots,Flink Checkpoint,Flink Savepoint source: https://zhuanlan.zhihu.com/p/79526638 ","title":"çŸ¥ä¹ï¼šFlinkå®æ—¶è®¡ç®—-æ·±å…¥ç†è§£ Checkpointå’ŒSavepoint"},{"content":" tags: Linux source: https://github.com/sunym1993/flash-linux0.11-talk ","permalink":"https://notes.0081800.xyz/notes/20220104104331-github_%E5%83%8F%E5%B0%8F%E8%AF%B4%E4%B8%80%E6%A0%B7%E5%93%81%E8%AF%BB_linux_0_11_%E6%A0%B8%E5%BF%83%E4%BB%A3%E7%A0%81/","summary":" tags: Linux source: https://github.com/sunym1993/flash-linux0.11-talk ","title":"GitHub: åƒå°è¯´ä¸€æ ·å“è¯» Linux 0.11 æ ¸å¿ƒä»£ç "},{"content":" tags: Linux source: https://archive.org/details/199405-decusnew-orleans/1994050DECUSNewOrleansLinuxImplementationIssuesInLinux.ogg ","permalink":"https://notes.0081800.xyz/notes/20220104104134-audio_the_lost_talks_from_linus_torvalds_at_decus_94/","summary":" tags: Linux source: https://archive.org/details/199405-decusnew-orleans/1994050DECUSNewOrleansLinuxImplementationIssuesInLinux.ogg ","title":"Audio: The lost talks from Linus Torvalds at DECUS'94"},{"content":" tags: Operating system ","permalink":"https://notes.0081800.xyz/notes/20220104103936-linux/","summary":" tags: Operating system ","title":"Linux"},{"content":" tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/eth2/shard-chains/ Sharding is the process of splitting a database horizontally to spread the load â€“ itâ€™s a common concept in computer science. In an Ethereum context, sharding will reduce network congestion and increase transactions per second by creating new chains, known as â€œshardsâ€.\nThis is important for reasons other than scalability.\n","permalink":"https://notes.0081800.xyz/notes/20220104083051-ethereum_shard_chains/","summary":"tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/eth2/shard-chains/ Sharding is the process of splitting a database horizontally to spread the load â€“ itâ€™s a common concept in computer science. In an Ethereum context, sharding will reduce network congestion and increase transactions per second by creating new chains, known as â€œshardsâ€.\nThis is important for reasons other than scalability.","title":"Ethereum: Shard chains"},{"content":" tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/eth2/beacon-chain/ Extra coordination for the Ethereum: Shard chains.\nThe beacon chain receives state information from shards and makes it available for other shards, allowing the network to stay in sync. The beacon chain will also manage the validators from registering their stake deposits to issuing their rewards and penalties.\n","permalink":"https://notes.0081800.xyz/notes/20220104082350-ethereum_the_beacon_chain/","summary":"tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/eth2/beacon-chain/ Extra coordination for the Ethereum: Shard chains.\nThe beacon chain receives state information from shards and makes it available for other shards, allowing the network to stay in sync. The beacon chain will also manage the validators from registering their stake deposits to issuing their rewards and penalties.","title":"Ethereum: The Beacon Chain"},{"content":" tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/#how-does-pos-work When you submit a transaction on a shard, a validator will be responsible for adding your transaction to a shard block. Validators are algorithmically chosen by Ethereum: The Beacon Chain to propose new blocks.\nAttestation\nIf a validator isn\u0026rsquo;t chosen to propose a new shard block, they\u0026rsquo;ll have to attest to another validator\u0026rsquo;s proposal and confirm that everything looks as it should. It\u0026rsquo;s the attestation that is recorded in the beacon chain rather than the transaction itself.\nAt least 128 validators are required to attest to each shard block â€“ this is known as a \u0026ldquo;committee.\u0026rdquo; The committee has a time-frame in which to propose and validate a shard block. This is known as a \u0026ldquo;slot.\u0026rdquo; Only one valid block is created per slot, and there are 32 slots in an \u0026ldquo;epoch.\u0026rdquo; After each epoch, the committee is disbanded and reformed with different, random participants. This helps keep shards safe from committees of bad actors.\nCrosslinks\nOnce a new shard block proposal has enough attestations, a \u0026ldquo;crosslink\u0026rdquo; is created which confirms the inclusion of the block and your transaction in the beacon chain.\nOnce there\u0026rsquo;s a crosslink, the validator who proposed the block gets their reward.\nFinality\nIn distributed networks, a transaction has \u0026ldquo;finality\u0026rdquo; when it\u0026rsquo;s part of a block that can\u0026rsquo;t change.\nTo do this in proof-of-stake, Casper, a finality protocol, gets validators to agree on the state of a block at certain checkpoints. So long as 2/3 of the validators agree, the block is finalised. Validators will lose their entire stake if they try and revert this later on via a 51% attack.\n","permalink":"https://notes.0081800.xyz/notes/20220104082123-how_does_ehtereum_s_proof_of_stake_work/","summary":"tags: Ethereum,Proof-of-stake source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/#how-does-pos-work When you submit a transaction on a shard, a validator will be responsible for adding your transaction to a shard block. Validators are algorithmically chosen by Ethereum: The Beacon Chain to propose new blocks.\nAttestation\nIf a validator isn\u0026rsquo;t chosen to propose a new shard block, they\u0026rsquo;ll have to attest to another validator\u0026rsquo;s proposal and confirm that everything looks as it should. It\u0026rsquo;s the attestation that is recorded in the beacon chain rather than the transaction itself.","title":"How does Ethereum's proof-of-stake work?"},{"content":" tags: Ethereum ","permalink":"https://notes.0081800.xyz/notes/20220104081524-eth/","summary":" tags: Ethereum ","title":"ETH"},{"content":" tags: Blockchain Proof,Solana,Proof-of-stake Solana is a Proof of Stake network. This short phrase - \u0026ldquo;Proof of Stake\u0026rdquo; - represents a much larger concept with considerable complexity behind it, and even more so for Solana, which adds the unique properties of Proof of History to the mix to enable fast, low-latency transactions while still maintaining censorship resistance.\n","permalink":"https://notes.0081800.xyz/notes/20220104081314-proof_of_history/","summary":"tags: Blockchain Proof,Solana,Proof-of-stake Solana is a Proof of Stake network. This short phrase - \u0026ldquo;Proof of Stake\u0026rdquo; - represents a much larger concept with considerable complexity behind it, and even more so for Solana, which adds the unique properties of Proof of History to the mix to enable fast, low-latency transactions while still maintaining censorship resistance.","title":"Proof-of-history"},{"content":" tags: Blockchain,Blockchain Proof,Ethereum,Solana source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/ Proof workflow:\nUsers stake money(ETH) to become a validator.\nValidators are chosen at random to create blocks and are responsible for checking and confirming blocks they don\u0026rsquo;t create.\nuser\u0026rsquo;s stake is also used as a way to incentivise good validator behavior. For example, a user can lose a portion of their stake for things like going offline (failing to validate) or their entire stake for deliberate collusion.\nIf you attest to malicious blocks, you lose your stake.\n","permalink":"https://notes.0081800.xyz/notes/20220104071052-proof_of_stake/","summary":"tags: Blockchain,Blockchain Proof,Ethereum,Solana source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/ Proof workflow:\nUsers stake money(ETH) to become a validator.\nValidators are chosen at random to create blocks and are responsible for checking and confirming blocks they don\u0026rsquo;t create.\nuser\u0026rsquo;s stake is also used as a way to incentivise good validator behavior. For example, a user can lose a portion of their stake for things like going offline (failing to validate) or their entire stake for deliberate collusion.","title":"Proof-of-stake"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/projects/20220104070947-ethereum/","summary":" tags: Blockchain ","title":"Ethereum"},{"content":" tags: Blockchain Proof,Blockchain,Ethereum source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/ Wikipedia: https://en.wikipedia.org/wiki/Proof%5Fof%5Fwork A key feature of proof-of-work schemes is their asymmetry: the work â€“ the computation â€“ must be moderately hard (yet feasible) on the prover or requester side but easy to check for the verifier or service provider.\nWith a hash function, let\u0026rsquo;s say SHA-1. For example, to do PoW, we need to generate a SHA-1 hash of the given data that must begins 52 binary zeros, that is 13 hexadecimal zeros:\n0000000000000756af69e2ffbdb930261873cd71 How? By using a random or increasing nounce number can do that:\nimport hashlib difficulty = 13 given_data = b\u0026#39;transactions in the block\u0026#39; for nounce in range(int(1e100)): work = hashlib.sha1(bytes(nounce) + given_data).hexdigest() if work[:difficulty] == b\u0026#39;0\u0026#39; * difficulty: print(\u0026#39;We have proof the work, nounce: {}, hash: {}\u0026#39;, nounce, work) Now we can use the nounce to show our proof, anyone else can use the nounce to check our proof on the given data, and also it\u0026rsquo;s easy to check.\n","permalink":"https://notes.0081800.xyz/notes/20220104070857-proof_of_work/","summary":"tags: Blockchain Proof,Blockchain,Ethereum source: https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/ Wikipedia: https://en.wikipedia.org/wiki/Proof%5Fof%5Fwork A key feature of proof-of-work schemes is their asymmetry: the work â€“ the computation â€“ must be moderately hard (yet feasible) on the prover or requester side but easy to check for the verifier or service provider.\nWith a hash function, let\u0026rsquo;s say SHA-1. For example, to do PoW, we need to generate a SHA-1 hash of the given data that must begins 52 binary zeros, that is 13 hexadecimal zeros:","title":"Proof-of-work"},{"content":" tags: Blockchain ","permalink":"https://notes.0081800.xyz/notes/20220104070749-blockchain_proof/","summary":" tags: Blockchain ","title":"Blockchain Proof"},{"content":" tags: Blockchain,Solana,Proof-of-stake,Proof-of-history source: â€œShinobi Systemsâ€™ Solana Proof of Stake + Proof of History Primer.â€ Accessed January 5, 2022. https://www.shinobi-systems.com/primer.html. ","permalink":"https://notes.0081800.xyz/notes/20220104070408-shinobi_systems_solana_proof_of_stake_proof_of_history_primer/","summary":" tags: Blockchain,Solana,Proof-of-stake,Proof-of-history source: â€œShinobi Systemsâ€™ Solana Proof of Stake + Proof of History Primer.â€ Accessed January 5, 2022. https://www.shinobi-systems.com/primer.html. ","title":"Shinobi Systems' Solana Proof of Stake + Proof of History Primer"},{"content":" tags: åŒºå—é“¾ POST https://node.onekey.so/sol Content-Type: application/json { \u0026#34;id\u0026#34;: 1, \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;getSignaturesForAddress\u0026#34;, \u0026#34;params\u0026#34;: [\u0026#34;35wyEANtpzPJMUvEKXkK8HRriieTxkSanQtKWk6H9ZoY\u0026#34;] } ","permalink":"https://notes.0081800.xyz/projects/20220104070432-solana/","summary":" tags: åŒºå—é“¾ POST https://node.onekey.so/sol Content-Type: application/json { \u0026#34;id\u0026#34;: 1, \u0026#34;jsonrpc\u0026#34;: \u0026#34;2.0\u0026#34;, \u0026#34;method\u0026#34;: \u0026#34;getSignaturesForAddress\u0026#34;, \u0026#34;params\u0026#34;: [\u0026#34;35wyEANtpzPJMUvEKXkK8HRriieTxkSanQtKWk6H9ZoY\u0026#34;] } ","title":"Solana"},{"content":" tags: Video: Blockchain 101 - A Visual Demoï¼ŒåŒºå—é“¾, Online Tools source: https://andersbrownworth.com/blockchain/hash ","permalink":"https://notes.0081800.xyz/notes/20220103082057-blockchain_demo/","summary":" tags: Video: Blockchain 101 - A Visual Demoï¼ŒåŒºå—é“¾, Online Tools source: https://andersbrownworth.com/blockchain/hash ","title":"Blockchain Demo"},{"content":" tags: åŒºå—é“¾ source: https://youtu.be/%5F160oMzblY8 It\u0026rsquo;s like Git but not support merge. The progress of changing blocks like git rebase.\n","permalink":"https://notes.0081800.xyz/notes/20220103081929-video_blockchain_101_a_visual_demo/","summary":"tags: åŒºå—é“¾ source: https://youtu.be/%5F160oMzblY8 It\u0026rsquo;s like Git but not support merge. The progress of changing blocks like git rebase.","title":"Video: Blockchain 101 - A Visual Demo"},{"content":" tags: C/C++ åªèƒ½é€šè¿‡æŠ½è±¡ç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨åŠ¨æ€è§£æå­ç±»å‡½æ•°ï¼Œè™šå‡½æ•°è¡¨ç¤ºéœ€è¦åŠ¨æ€è§£æï¼Œçº¯è™šå‡½æ•°å¿…é¡»è¢«å­ç±»è¦†ç›–ï¼Œå¦åˆ™æ— æ³•å®ä¾‹åŒ–ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20220102074500-c_c_%E5%A4%9A%E6%80%81/","summary":"tags: C/C++ åªèƒ½é€šè¿‡æŠ½è±¡ç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨åŠ¨æ€è§£æå­ç±»å‡½æ•°ï¼Œè™šå‡½æ•°è¡¨ç¤ºéœ€è¦åŠ¨æ€è§£æï¼Œçº¯è™šå‡½æ•°å¿…é¡»è¢«å­ç±»è¦†ç›–ï¼Œå¦åˆ™æ— æ³•å®ä¾‹åŒ–ã€‚","title":"C/C++ å¤šæ€"},{"content":" tags: Tools ","permalink":"https://notes.0081800.xyz/topics/20220102074329-programming_tools/","summary":" tags: Tools ","title":"Programming Tools"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20220102074112-operating_system/","summary":"","title":"Operating system"},{"content":" tags: Operating system ","permalink":"https://notes.0081800.xyz/topics/20220102074038-macos/","summary":" tags: Operating system ","title":"macOS"},{"content":" tags: Programming Language ","permalink":"https://notes.0081800.xyz/notes/20220102073737-javascript/","summary":" tags: Programming Language ","title":"JavaScript"},{"content":" tags: Programming Language ","permalink":"https://notes.0081800.xyz/notes/20220102073640-swift/","summary":" tags: Programming Language ","title":"Swift"},{"content":" tags: Computer Systems,è¯»ä¹¦ç¬”è®° ","permalink":"https://notes.0081800.xyz/notes/20220102072835-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F_%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","summary":" tags: Computer Systems,è¯»ä¹¦ç¬”è®° ","title":"ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®°"},{"content":" tags: Computer Systems ","permalink":"https://notes.0081800.xyz/topics/20220102072550-memory_model/","summary":" tags: Computer Systems ","title":"Memory Model"},{"content":" tags: Rust source: https://stackoverflow.com/a/34745885/2873718 ","permalink":"https://notes.0081800.xyz/notes/20220101082142-so_what_is_the_difference_between_iter_and_into_iter/","summary":" tags: Rust source: https://stackoverflow.com/a/34745885/2873718 ","title":"SO: What is the difference between iter and into_iter?"},{"content":" tags: Rust Wrapper Types,Rust source: Rust Memory Container Cheat-sheet ","permalink":"https://notes.0081800.xyz/notes/20220101082045-github_rust_memory_container_cheat_sheet/","summary":" tags: Rust Wrapper Types,Rust source: Rust Memory Container Cheat-sheet ","title":"GitHub: Rust Memory Container Cheat-sheet"},{"content":" tags: Rust,Rust Wrapper Types source: https://manishearth.github.io/blog/2015/05/27/wrapper-types-in-rust-choosing-your-guarantees/ ","permalink":"https://notes.0081800.xyz/notes/20220101081950-wrapper_types_in_rust_choosing_your_guarantees/","summary":" tags: Rust,Rust Wrapper Types source: https://manishearth.github.io/blog/2015/05/27/wrapper-types-in-rust-choosing-your-guarantees/ ","title":"Wrapper Types in Rust: Choosing Your Guarantees"},{"content":" tags: Tokio source: https://github.com/tony612/tokio-internals ","permalink":"https://notes.0081800.xyz/notes/20220101081722-github_internal_details_of_tokio_from_code_to_designs/","summary":" tags: Tokio source: https://github.com/tony612/tokio-internals ","title":"GitHub: Internal details of Tokio from code to designs"},{"content":" tags: Raft source: https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf ","permalink":"https://notes.0081800.xyz/notes/20220101080713-paper_raft/","summary":" tags: Raft source: https://web.stanford.edu/~ouster/cgi-bin/papers/OngaroPhD.pdf ","title":"PAPER: Raft"},{"content":" tags: åˆ†å¸ƒå¼,ä¸€è‡´æ€§ source: https://lamport.azurewebsites.net/pubs/time-clocks.pdf The Big Problem The event order in a distributed system.\nThe defination of a distributed system: the order of its events occurred is unpredictable, sometimes it\u0026rsquo;s impossiable to say a event occurred before another.\nHow this paper try to solve this problem: use a \u0026ldquo;happened before\u0026rdquo; relation to define a partial ordering and distributed algorithm.\nBackground ","permalink":"https://notes.0081800.xyz/notes/20220101080622-paper_time_clocks_and_the_ordering_of_events_in_a_distributed_system/","summary":" tags: åˆ†å¸ƒå¼,ä¸€è‡´æ€§ source: https://lamport.azurewebsites.net/pubs/time-clocks.pdf The Big Problem The event order in a distributed system.\nThe defination of a distributed system: the order of its events occurred is unpredictable, sometimes it\u0026rsquo;s impossiable to say a event occurred before another.\nHow this paper try to solve this problem: use a \u0026ldquo;happened before\u0026rdquo; relation to define a partial ordering and distributed algorithm.\nBackground ","title":"PAPER: Time, Clocks, and the Ordering of Events in a Distributed System"},{"content":" tags: Paxos source: https://blog.csdn.net/qq%5F35440678/article/details/78080431 ","permalink":"https://notes.0081800.xyz/notes/20220101080340-csdn_%E7%90%86%E8%A7%A3%E8%BF%99%E4%B8%A4%E7%82%B9_%E4%B9%9F%E5%B0%B1%E7%90%86%E8%A7%A3%E4%BA%86paxos%E5%8D%8F%E8%AE%AE%E7%9A%84%E7%B2%BE%E9%AB%93/","summary":" tags: Paxos source: https://blog.csdn.net/qq%5F35440678/article/details/78080431 ","title":"CSDN:  ç†è§£è¿™ä¸¤ç‚¹ï¼Œä¹Ÿå°±ç†è§£äº†paxosåè®®çš„ç²¾é«“"},{"content":" tags: Rust,Raft source: https://github.com/tikv/raft-rs ","permalink":"https://notes.0081800.xyz/notes/20220101080223-github_raft_rs/","summary":" tags: Rust,Raft source: https://github.com/tikv/raft-rs ","title":"GitHub: raft-rs"},{"content":" tags: Raft,åˆ†å¸ƒå¼ï¼Œåˆ†å¸ƒå¼å…±è¯†ï¼ŒOnline Tools source: http://thesecretlivesofdata.com/raft/ ","permalink":"https://notes.0081800.xyz/notes/20220101080054-raft_understandable_distributed_consensus/","summary":" tags: Raft,åˆ†å¸ƒå¼ï¼Œåˆ†å¸ƒå¼å…±è¯†ï¼ŒOnline Tools source: http://thesecretlivesofdata.com/raft/ ","title":"Raft Understandable Distributed Consensus"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯†,Online Tools,åŒºå—é“¾ source: https://web3scout.github.io/forcecons-sim/ ","permalink":"https://notes.0081800.xyz/notes/20220101075156-distributed_consensus_blockchain_simulation_and_visualization/","summary":" tags: åˆ†å¸ƒå¼å…±è¯†,Online Tools,åŒºå—é“¾ source: https://web3scout.github.io/forcecons-sim/ ","title":"Distributed consensus (blockchain) simulation and visualization"},{"content":" tags: åˆ†å¸ƒå¼ ","permalink":"https://notes.0081800.xyz/topics/20220101074955-%E4%B8%80%E8%87%B4%E6%80%A7/","summary":" tags: åˆ†å¸ƒå¼ ","title":"ä¸€è‡´æ€§"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20211231172037-incomplete/","summary":"","title":"Incomplete"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20211231171333-%E8%AE%A1%E5%88%92%E8%AF%BB%E7%9A%84%E4%B9%A6/","summary":"","title":"è®¡åˆ’è¯»çš„ä¹¦"},{"content":" tags: Emacs,Programming Tools source: https://emacs-lsp.github.io/lsp-mode/ ","permalink":"https://notes.0081800.xyz/topics/20211231165951-lsp/","summary":" tags: Emacs,Programming Tools source: https://emacs-lsp.github.io/lsp-mode/ ","title":"LSP"},{"content":" tags: Org Mode ","permalink":"https://notes.0081800.xyz/topics/20211231142654-org_roam/","summary":" tags: Org Mode ","title":"org-roam"},{"content":" tags: org-roam, Org Mode source: https://seds.nl/notes/org%5Froam%5Fexport%5Fbacklinks%5Fon%5Fhugo/ https://seds.nl/notes/export%5Forg%5Froam%5Fbacklinks%5Fwith%5Fgohugo/ åˆ©ç”¨ hugo çš„ partial template layouts/partials/backlinks.html\n{{ $re := $.File.BaseFileName }} {{ $backlinks := slice }} {{ range .Site.AllPages }} {{ if and (findRE $re .RawContent) (not (eq $re .File.BaseFileName)) }} {{ $backlinks = $backlinks | append . }} {{ end }} {{ end }} \u0026lt;hr\u0026gt; {{ if gt (len $backlinks) 0 }} \u0026lt;div class=\u0026#34;bl-section\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;Links to this note\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;backlinks\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; {{ range $backlinks }} \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;{{ .RelPermalink }}\u0026#34;\u0026gt;{{ .Title }}\u0026lt;/a\u0026gt;\u0026lt;/li\u0026gt; {{ end }} \u0026lt;/ul\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{ else }} \u0026lt;div class=\u0026#34;bl-section\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;No notes link to this note\u0026lt;/h4\u0026gt; \u0026lt;/div\u0026gt; {{ end }} ç„¶åæ’å…¥åˆ°çš„ single.html å°±è¡Œ\n{{ partial \u0026#34;backlinks.html\u0026#34; . }} hugo-theme-terminal æ”¾åœ¨é¡¹ç›®çš„ layouts/partials/comments.html ä¸­é¿å…æ±¡æŸ“æ¨¡ç‰ˆã€‚\n","permalink":"https://notes.0081800.xyz/notes/20211231142642-org_roam_export_backlinks_on_hugo/","summary":"tags: org-roam, Org Mode source: https://seds.nl/notes/org%5Froam%5Fexport%5Fbacklinks%5Fon%5Fhugo/ https://seds.nl/notes/export%5Forg%5Froam%5Fbacklinks%5Fwith%5Fgohugo/ åˆ©ç”¨ hugo çš„ partial template layouts/partials/backlinks.html\n{{ $re := $.File.BaseFileName }} {{ $backlinks := slice }} {{ range .Site.AllPages }} {{ if and (findRE $re .RawContent) (not (eq $re .File.BaseFileName)) }} {{ $backlinks = $backlinks | append . }} {{ end }} {{ end }} \u0026lt;hr\u0026gt; {{ if gt (len $backlinks) 0 }} \u0026lt;div class=\u0026#34;bl-section\u0026#34;\u0026gt; \u0026lt;h4\u0026gt;Links to this note\u0026lt;/h4\u0026gt; \u0026lt;div class=\u0026#34;backlinks\u0026#34;\u0026gt; \u0026lt;ul\u0026gt; {{ range $backlinks }} \u0026lt;li\u0026gt;\u0026lt;a href=\u0026#34;{{ .","title":"Org-roam export backlinks on Hugo"},{"content":" tags: Tools ","permalink":"https://notes.0081800.xyz/notes/20211231123329-online_tools/","summary":" tags: Tools ","title":"Online Tools"},{"content":" tags: Taking Notes,Online Tools ","permalink":"https://notes.0081800.xyz/notes/20211231123253-roamresearch/","summary":" tags: Taking Notes,Online Tools ","title":"RoamResearch"},{"content":" tags: Learning,Taking Notes source: https://www.nateliason.com/blog/roam ","permalink":"https://notes.0081800.xyz/notes/20211231122919-roam_why_i_love_it_and_how_i_use_it/","summary":" tags: Learning,Taking Notes source: https://www.nateliason.com/blog/roam ","title":"Roam: Why I Love It and How I Use It"},{"content":" tags: Learning,Taking Notes,RoamResearch source: https://fortelabs.co/blog/how-to-take-smart-notes/ Luhmannâ€™s slip-box: build second brain context \u0026ndash; its network of associations, relationships, and connections to other information.\nBut Luhmann often remarked that he never forced himself to do anything he didnâ€™t feel like doing: â€œI only do what is easy. I only write when I immediately know how to do it. If I falter for a moment, I put the matter aside and do something elseâ€ (Luhmann et al., 1987, 154f).\n10 principles Writing is not the outcome of thinking; it is the medium in which thinking takes place Do your work as if writing is the only thing that matters Nobody ever starts from scratch Our tools and techniques are only as valuable as the workflow Standardization enables creativity Our work only gets better when exposed to high-quality feedback Work on multiple, simultaneous projects Organize your notes by context, not by topic Always follow the most interesting path Save contradictory ideas The 8 Steps of Taking Smart Notes Make fleeting notes Make literature notes Make permanent notes Now add your new permanent notes to the slip-box Develop your topics, questions and research projects bottom up from within the slip-box Decide on a topic to write about from within the slip-box Turn your notes into a rough draft Edit and proofread your manuscript Context Principle #8: Organize your notes by context, not by topic\nSpecifically, the context in which it will be used. The primary question when deciding where to put something becomes â€œIn which context will I want to stumble upon this again?â€\nThoughts I always thought I have not much good ideas. But from now on, I think I will not have much good ideas, if I don\u0026rsquo;t do much research. Or I have not done the research in the correct way. So let me build my second brain.\n","permalink":"https://notes.0081800.xyz/notes/20211231122658-how_to_take_smart_notes_10_principles_to_revolutionize_your_note_taking_and_writing/","summary":"tags: Learning,Taking Notes,RoamResearch source: https://fortelabs.co/blog/how-to-take-smart-notes/ Luhmannâ€™s slip-box: build second brain context \u0026ndash; its network of associations, relationships, and connections to other information.\nBut Luhmann often remarked that he never forced himself to do anything he didnâ€™t feel like doing: â€œI only do what is easy. I only write when I immediately know how to do it. If I falter for a moment, I put the matter aside and do something elseâ€ (Luhmann et al.","title":"How To Take Smart Notes: 10 Principles to Revolutionize Your Note-Taking and Writing"},{"content":" tags: Learning,Taking Notes,org-roam,Org Mode source: https://blog.jethro.dev/posts/how%5Fto%5Ftake%5Fsmart%5Fnotes%5Forg/ Notes arenâ€™t a record of my thinking process. They are my thinking process. â€“ Richard Feynman\nThe primary purpose of note-taking should not be for storing ideas, but for developing them. When we take notes, we should ask: â€œIn what context do I want to see this note again?â€\nNote-taking for writing:\nFind topic/research question Research/find literature Read and take notes Draw conclusions / outline text Write Two types of notes:\nFleeting notes by org-journal. Project notes are basically everything else: a talk a book a paper any topic or thought I\u0026rsquo;ve refined from fleeting notes. Workflow with Org-roam:\nM-x org-roam-node-find RET create new node from anywhere. Link to or create the context nodes as the tag, the context node can be empty. Taking notes in one buffer. Thereafter if we want to see the accociated notes in a context, we can see the Backlinks in the context node: M-x org-roam-buffer-toggle RET. ","permalink":"https://notes.0081800.xyz/notes/20211231122318-how_to_take_smart_notes_with_org_mode/","summary":"tags: Learning,Taking Notes,org-roam,Org Mode source: https://blog.jethro.dev/posts/how%5Fto%5Ftake%5Fsmart%5Fnotes%5Forg/ Notes arenâ€™t a record of my thinking process. They are my thinking process. â€“ Richard Feynman\nThe primary purpose of note-taking should not be for storing ideas, but for developing them. When we take notes, we should ask: â€œIn what context do I want to see this note again?â€\nNote-taking for writing:\nFind topic/research question Research/find literature Read and take notes Draw conclusions / outline text Write Two types of notes:","title":"How To Take Smart Notes With Org-mode"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20211231122121-learning/","summary":"","title":"Learning"},{"content":" tags: Learning,How to Write ","permalink":"https://notes.0081800.xyz/projects/20211231122047-taking_notes/","summary":" tags: Learning,How to Write ","title":"Taking Notes"},{"content":" tags: Rust èƒŒæ™¯ ä»Šå¤©çœ‹äº†ä¸€ä¸‹ actix-web å‘ç°è¯¥æ¡†æ¶æ”¯æŒåŸºäºå‚æ•°çš„ Extractorï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°è§£æå‚æ•°ï¼ˆåŒ…æ‹¬ URIã€Queryã€JSON å’Œ FormDataï¼‰ã€‚\nå…ˆæ¥çœ‹ä¸€ä¸ªåœ¨é¡¹ç›® README.md ä¸­çš„ä¾‹å­ï¼š\nuse actix_web::{get, web, App, HttpServer, Responder}; #[get(\u0026#34;/{id}/{name}/index.html\u0026#34;)] async fn index(web::Path((id, name)): web::Path\u0026lt;(u32, String)\u0026gt;) -\u0026gt; impl Responder { format!(\u0026#34;Hello {}! id:{}\u0026#34;, name, id) } #[actix_web::main] async fn main() -\u0026gt; std::io::Result\u0026lt;()\u0026gt; { HttpServer::new(|| App::new().service(index)) .bind(\u0026#34;127.0.0.1:8080\u0026#34;)? .run() .await } åˆçœ‹ä¹‹ä¸‹è§‰å¾—å¾ˆç¥å¥‡ï¼Œä½†ç»†æƒ³é€šè¿‡å®å®ç°åº”è¯¥ä¸æ˜¯ç‰¹åˆ«å›°éš¾ï¼Œç„¶åå‘ç°å…¶å®˜ç½‘è¿˜æœ‰ä¸æ˜¯åŸºäºå®çš„è¿è¡Œæ—¶è°ƒç”¨ï¼š\nuse actix_web::{web, App, HttpRequest, HttpServer, Responder}; async fn greet(req: HttpRequest) -\u0026gt; impl Responder { let name = req.match_info().get(\u0026#34;name\u0026#34;).unwrap_or(\u0026#34;World\u0026#34;); format!(\u0026#34;Hello {}!\u0026#34;, \u0026amp;name) } #[actix_web::main] async fn main() -\u0026gt; std::io::Result\u0026lt;()\u0026gt; { HttpServer::new(|| { App::new() .route(\u0026#34;/\u0026#34;, web::get().to(greet)) .route(\u0026#34;/{name}\u0026#34;, web::get().to(greet)) }) .bind((\u0026#34;127.0.0.1\u0026#34;, 8080))? .run() .await } çœ‹ä¸‹æ¥æ–¹æ³• to çš„ç­¾åï¼Œå®ç°ä¸€ä¸ªå‚æ•°çš„æå–ä¹Ÿä¸å›°éš¾ï¼š\npub fn to\u0026lt;F, T, R\u0026gt;(mut self, handler: F) -\u0026gt; Self where F: Handler\u0026lt;T, R\u0026gt;, T: FromRequest + \u0026#39;static, R: Future + \u0026#39;static, R::Output: Responder + \u0026#39;static, \u0026lt;R::Output as Responder\u0026gt;::Body: MessageBody, \u0026lt;\u0026lt;R::Output as Responder\u0026gt;::Body as MessageBody\u0026gt;::Error: Into\u0026lt;BoxError\u0026gt;, { self.service = handler_service(handler); self } ä½†æ˜¯å°è¯•ä¹‹åå‘ç° to åŒæ ·å¯ä»¥æ”¯æŒå¤šä¸ªå‚æ•°ï¼ŒåŸºäºå®å®ç°å¯¹äºå¤šä¸ªå‚æ•°çš„æ”¯æŒç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¯¹äºä¸é€šè¿‡å®å®ç°å¯¹å¤šä¸ªå‚æ•°çš„è§£æå°±å¾ˆç¥å¥‡äº†ã€‚\nåŸç†æ¢ç©¶ ç»è¿‡æ·±å…¥äº†è§£ä¹‹åå‘ç°åº•å±‚åŸç†å¤§ä½“å¦‚ä¸‹\ntrait Handler\u0026lt;T, R\u0026gt;: \u0026#39;static { fn call(\u0026amp;self, t: T) -\u0026gt; R; } trait FromRequest { fn from_request() -\u0026gt; Self; } // æ”¯æŒç©ºå‚æ•°çš„å‡½æ•°å½“ä½œ Handler ä¼ é€’ impl\u0026lt;F, R\u0026gt; Handler\u0026lt;(), R\u0026gt; for F where F: Fn() -\u0026gt; R + \u0026#39;static, { fn call(\u0026amp;self, (): ()) -\u0026gt; R { (self)() } } // æ”¯æŒä¸€ä¸ªå‚æ•°çš„å‡½æ•°å½“ä½œ Handler ä¼ é€’ impl\u0026lt;F, A, R\u0026gt; Handler\u0026lt;(A,), R\u0026gt; for F where F: Fn(A) -\u0026gt; R + \u0026#39;static, { fn call(\u0026amp;self, (A,): (A,)) -\u0026gt; R { (self)(A) } } // æ”¯æŒä¸¤ä¸ªå‚æ•°çš„å‡½æ•°ä½œä¸º Handler ä¼ é€’ impl\u0026lt;F, A, B, R\u0026gt; Handler\u0026lt;(A, B), R\u0026gt; for F where F: Fn(A, B) -\u0026gt; R + \u0026#39;static, { fn call(\u0026amp;self, (A, B): (A, B)) -\u0026gt; R { (self)(A, B) } } // æ”¯æŒ 0 å‚æ•°å˜æˆ Tuple åçš„ from_request è°ƒç”¨ impl FromRequest for () { fn from_request() -\u0026gt; () { () } } // æ”¯æŒä¸€ä¸ªå‚æ•°å˜æˆ Tuple åçš„ from_request è°ƒç”¨ impl\u0026lt;A\u0026gt; FromRequest for (A, ) where A: FromRequest { fn from_request() -\u0026gt; (A,) { (A::from_request(), ) } } // æ”¯æŒä¸¤ä¸ªå‚æ•°å˜æˆ Tuple åçš„ from_request è°ƒç”¨ impl\u0026lt;A, B\u0026gt; FromRequest for (A, B) where A: FromRequest, B: FromRequest, { fn from_request() -\u0026gt; (A, B) { (A::from_request(), B::from_request()) } } // å§”æ‰˜è°ƒç”¨å‡½æ•°ï¼Œå¯¹è¢«å§”æ‰˜çš„å‡½æ•°å‚æ•°è¿›è¡Œè§£æåè°ƒç”¨ fn handle\u0026lt;T, R, F\u0026gt;(handler: F) -\u0026gt; R where F: Handler\u0026lt;T, R\u0026gt;, T: FromRequest + \u0026#39;static, R: \u0026#39;static, { handler.call(T::from_request()) } // å¯¹ i32 å®ç° FromRequest æ”¯æŒå‚æ•°æå– impl FromRequest for i32 { fn from_request() -\u0026gt; i32 { 3 } } fn test0() -\u0026gt; i32 { 0 } fn test1(v: i32) -\u0026gt; i32 { println!(\u0026#34;{}\u0026#34;, v); v } fn test2(v: i32, v2: i32) -\u0026gt; i32 { v + v } fn main() { handle(test0); handle(test1); handle(test2); } åŸºæœ¬æ€è·¯å°±æ˜¯ï¼š\né€šè¿‡ä¸€ä¸ªå§”æ‰˜è°ƒç”¨çš„å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª trait Object Handler æ¥æŠ¹æ‰å˜é•¿å‚æ•°ï¼› ä¸ºä¸åŒé•¿åº¦çš„å‚æ•°çš„å‡½æ•°ç±»å‹å…¨éƒ¨å®ç° Handlerï¼Œå¹¶å°†å‚æ•°å˜æˆ Tupleå•ä¸€å‚æ•°ï¼ˆé€šè¿‡å®ç”Ÿæˆï¼‰ï¼› FromRequest å®ç°ä¸åŒé•¿åº¦ Tupleï¼ˆé€šè¿‡å®ç”Ÿæˆï¼‰ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ä¸åŒé•¿åº¦çš„å‚æ•°å˜æˆ Tuple å from_request å¯æ­£å¸¸è°ƒç”¨ã€‚ æºç å‚è§ ä½¿ç”¨å®å®ç° FromRequest æ”¯æŒå¤šå‚æ•° ä½¿ç”¨å®å®ç° Handler æ”¯æŒå¤šå‚æ•° ","permalink":"https://notes.0081800.xyz/articles/20211221174651-actix_web_extractor/","summary":"tags: Rust èƒŒæ™¯ ä»Šå¤©çœ‹äº†ä¸€ä¸‹ actix-web å‘ç°è¯¥æ¡†æ¶æ”¯æŒåŸºäºå‚æ•°çš„ Extractorï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°è§£æå‚æ•°ï¼ˆåŒ…æ‹¬ URIã€Queryã€JSON å’Œ FormDataï¼‰ã€‚\nå…ˆæ¥çœ‹ä¸€ä¸ªåœ¨é¡¹ç›® README.md ä¸­çš„ä¾‹å­ï¼š\nuse actix_web::{get, web, App, HttpServer, Responder}; #[get(\u0026#34;/{id}/{name}/index.html\u0026#34;)] async fn index(web::Path((id, name)): web::Path\u0026lt;(u32, String)\u0026gt;) -\u0026gt; impl Responder { format!(\u0026#34;Hello {}! id:{}\u0026#34;, name, id) } #[actix_web::main] async fn main() -\u0026gt; std::io::Result\u0026lt;()\u0026gt; { HttpServer::new(|| App::new().service(index)) .bind(\u0026#34;127.0.0.1:8080\u0026#34;)? .run() .await } åˆçœ‹ä¹‹ä¸‹è§‰å¾—å¾ˆç¥å¥‡ï¼Œä½†ç»†æƒ³é€šè¿‡å®å®ç°åº”è¯¥ä¸æ˜¯ç‰¹åˆ«å›°éš¾ï¼Œç„¶åå‘ç°å…¶å®˜ç½‘è¿˜æœ‰ä¸æ˜¯åŸºäºå®çš„è¿è¡Œæ—¶è°ƒç”¨ï¼š\nuse actix_web::{web, App, HttpRequest, HttpServer, Responder}; async fn greet(req: HttpRequest) -\u0026gt; impl Responder { let name = req.match_info().get(\u0026#34;name\u0026#34;).unwrap_or(\u0026#34;World\u0026#34;); format!(\u0026#34;Hello {}!","title":"actix-web extractors æ”¯æŒæå–ä»»æ„é•¿åº¦çš„å‚æ•°"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20211210181234-%E8%AF%BB%E8%BF%87%E7%9A%84%E4%B9%A6/","summary":"","title":"è¯»ä¹¦ç¬”è®°"},{"content":"Words of To Kill A Mockingbird hostess position ease box interval due front 2.5 0 0 2021-12-24T14:03:09Z Back Noun ËˆhÉ™ÊŠstÉ™s hÉ™ÊŠËˆstÉ›s\na woman who receives or entertains guests\nSynonyms: party-giver/entertainer/hostess\nExamples:\nthe perfect dinner-party hostess incurable position ease box interval due front 2.5 0 0 2021-12-24T14:02:18Z Back Adjective ÉªnËˆkjÊŠÉ™rÉ™b(É™)l\n(of a sick person or a disease) not able to be cured\nSynonyms: untreatable/inoperable/irremediable/beyond cure\nExamples:\neven when the sick are incurable they are never untreatable incurable diseases Noun ÉªnËˆkjÊŠÉ™rÉ™b(É™)l\na person who cannot be cured. squat position ease box interval due front 2.5 0 0 2021-12-24T14:01:50Z Back Verb skwÉ’t\ncrouch or sit with one\u0026rsquo;s knees bent and one\u0026rsquo;s heels close to or touching one\u0026rsquo;s buttocks or the back of one\u0026rsquo;s thighs\nSynonyms: crouch/crouch down/hunker/hunker down/sit on one\u0026rsquo;s haunches/sit on one\u0026rsquo;s heels/sit/bend down/bob down/duck down/hunch/cower/cringe\nExamples:\nI squatted down in front of him unlawfully occupy an uninhabited building or settle on a piece of land\nExamples:\neight families are squatting in the house Adjective skwÉ’t\nshort and thickset; disproportionately broad or wide\nSynonyms: stocky/dumpy/stubby/stumpy/short/thickset/heavily built/sturdy/sturdily built/heavyset/chunky/solid/low/stumpy/short/small/stocky/stunted\nExamples:\nhe was muscular and squat a squat grey house Noun skwÉ’t\na squatting position.\na building occupied by people living in it without the legal right to do so\nExamples:\na basement room in a North London squat Examples:\nI didn\u0026rsquo;t know squat about writing plays gossip position ease box interval due front 2.5 0 0 2021-12-24T14:01:30Z Back Noun ËˆÉ¡É’sÉªp\ncasual or unconstrained conversation or reports about other people, typically involving details that are not confirmed as being true\nSynonyms: chat/talk/conversation/chatter/heart-to-heart/tÃªte-Ã -tÃªte/blether/blather\nExamples:\nhe became the subject of much local gossip Verb ËˆÉ¡É’sÉªp\nengage in gossip\nSynonyms: spread rumours/spread gossip/circulate rumours/spread stories/tittle-tattle/tattle/talk/whisper/tell tales/muckrake/chat/talk/converse/speak to each other/discuss things/have a talk/have a chat/have a tÃªte-Ã -tÃªte/have a conversation/engage in conversation\nExamples:\nthey would start gossiping about her as soon as she left choir position ease box interval due front 2.5 0 0 2021-12-24T14:00:35Z Back Noun ËˆkwÊŒÉªÉ™\nan organized group of singers, especially one that takes part in church services or performs in public\nSynonyms: singers/chorus/chorale\nExamples:\na church choir the choir of the University of Ulster royal position ease box interval due front 2.5 0 0 2021-12-24T14:00:19Z Back Adjective ËˆrÉ”ÉªÉ™l\nhaving the status of a king or queen or a member of their family\nSynonyms: royal/regal/monarchal/monarchial/monarchical/sovereign/kingly/queenly/princely/majestic\nExamples:\ncontributors included members of the royal family Noun ËˆrÉ”ÉªÉ™l\na member of the royal family\nSynonyms: monarch/sovereign/king/queen/emperor/empress/tsar/tsarina/prince/princess/potentate/head of state/leader/chief/ruler/lord/overlord\nExamples:\nthe royals are coming under the TV microscope a paper size, 636 Ã— 480 mm.\na system of change-ringing using ten bells.\nassured position ease box interval due front 2.5 0 0 2021-12-24T14:00:12Z Back Adjective É™ËˆÊƒÉ”Ëd É™ËˆÊƒÊŠÉ™d\nconfident\nSynonyms: self-confident/confident/self-assured/sure of oneself/positive/assertive/self-possessed/self-reliant/poised/filled with aplomb/phlegmatic/level-headed/cool-headed\nExamples:\nan extremely assured performance protected against discontinuance or change\nSynonyms: guaranteed/certain/sure/secure/reliable/dependable/solid/sound/established\nExamples:\nan assured tenancy territorial position ease box interval due front 2.5 0 0 2021-12-24T14:00:04Z Back Adjective ËŒtÉ›rÉªËˆtÉ”ËrÉªÉ™l\nrelating to the ownership of an area of land or sea\nSynonyms: geographical/topographical/zonal/territorial/topical\nExamples:\nterritorial disputes relating to a particular territory, district, or locality\nSynonyms: local/localized/devolved\nExamples:\na bizarre territorial rite Noun ËŒtÉ›rÉªËˆtÉ”ËrÉªÉ™l\n(in the UK) a member of the Territorial Army. prerogative position ease box interval due front 2.5 0 0 2021-12-24T13:59:28Z Back Noun prÉªËˆrÉ’É¡É™tÉªv\na right or privilege exclusive to a particular individual or class\nSynonyms: entitlement/right/privilege/advantage/due/birthright\nExamples:\nin some countries, higher education is predominantly the prerogative of the rich Adjective prÉªËˆrÉ’É¡É™tÉªv\narising from the prerogative of the Crown (usually delegated to the government or the judiciary) and based in common law rather than statutory law\nExamples:\nthe monarch retained the formal prerogative power to appoint the Prime Minister amused position ease box interval due front 2.5 0 0 2021-12-24T13:59:12Z Back Adjective É™ËˆmjuËzd\nfinding something funny or entertaining\nExamples:\npeople looked on with amused curiosity heredity position ease box interval due front 2.5 0 0 2021-12-24T13:58:58Z Back Noun hÉªËˆrÉ›dÉªti\nthe passing on of physical or mental characteristics genetically from one generation to another\nSynonyms: congenital characteristics/congenital traits/genetics/genetic make-up/genes\nExamples:\nthe relative influence of heredity and environment the inheritance of a title, office, or right\nExamples:\na second chamber whose membership is largely based on heredity myopic position ease box interval due front 2.5 0 0 2021-12-24T13:58:47Z Back Adjective mÊŒÉªËˆÉ’pÉªk\nshort-sighted\nSynonyms: short-sighted\nExamples:\nmost myopic children can be fitted with glasses to correct their vision streak position ease box interval due front 2.5 0 0 2021-12-24T13:58:36Z Back Noun striËk\na long, thin line or mark of a different substance or colour from its surroundings\nSynonyms: band/line/strip/stripe/vein/slash/bar/mark/smear/smudge/stain/blotch\nExamples:\na streak of oil she could see white streaks in his beard an element of a specified kind in someone\u0026rsquo;s character\nSynonyms: element/vein/trace/touch/dash/strain\nExamples:\nthere\u0026rsquo;s a streak of insanity in the family Lucy had a ruthless streak an act of running naked in a public place so as to shock or amuse others\nExamples:\na streak for charity Verb striËk\ncover (a surface) with streaks\nSynonyms: stripe/band/bar/fleck/mark/daub/smear/smudge/stain\nExamples:\ntears streaking her face, Cynthia looked up his beard was streaked with grey move very fast in a specified direction\nSynonyms: race/dash/rush/run/sprint/bolt/dart/gallop/career/charge/shoot/hurtle/hare/bound/fly/speed/zoom/go hell for leather/plunge/dive/whisk/scurry/scuttle/scamper/scramble\nExamples:\nthe cat streaked across the street run naked in a public place so as to shock or amuse others\nExamples:\nthe singer admitted to streaking in his home town in the seventies incestuous position ease box interval due front 2.5 0 0 2021-12-24T13:58:18Z Back Adjective ÉªnËˆsÉ›stjÊŠÉ™s\ninvolving or guilty of incest\nExamples:\nthe child of an incestuous relationship (of human relations) excessively close and resistant to outside influence\nExamples:\nthe incestuous nature of literary journalism utterly position ease box interval due front 2.5 0 0 2021-12-24T13:57:54Z Back Adverb ËˆÊŒtÉ™li\ncompletely and without qualification; absolutely\nExamples:\nhe looked utterly ridiculous kin position ease box interval due front 2.5 0 0 2021-12-24T13:57:38Z Back Noun kÉªn\none\u0026rsquo;s family and relations\nSynonyms: relatives/relations/family/family members/kindred/connections/clan/tribe/kith and kin/one\u0026rsquo;s own flesh and blood/nearest and dearest\nExamples:\nmany elderly people have no kin to turn to for assistance Adjective kÉªn\n(of a person) related\nSynonyms: related/akin/allied/close/connected with/cognate with\nExamples:\nhe was kin to the brothers preoccupation position ease box interval due front 2.5 0 0 2021-12-24T13:57:22Z Back Noun prÉªËŒÉ’kjÊŠËˆpeÉªÊƒn\nthe state or condition of being preoccupied or engrossed with something\nSynonyms: pensiveness/concentration/engrossment/absorption/self-absorption/musing/thinking/thinking of other things/deep thought/brown study/brooding\nExamples:\nhe began to overcome his preoccupation with germs moral position ease box interval due front 2.5 0 0 2021-12-24T13:56:54Z Back Adjective ËˆmÉ’rÉ™l\nconcerned with the principles of right and wrong behaviour\nSynonyms: virtuous/good/righteous/upright/upstanding/high-minded/right-minded/principled/proper/honourable/honest/just/noble/incorruptible/scrupulous/respectable/decent/irreproachable/truthful/law-abiding/clean-living/chaste/pure/blameless/sinless\nExamples:\nthe moral dimensions of medical intervention a moral judgement holding or manifesting high principles for proper conduct\nSynonyms: virtuous/good/righteous/upright/upstanding/high-minded/right-minded/principled/proper/honourable/honest/just/noble/incorruptible/scrupulous/respectable/decent/irreproachable/truthful/law-abiding/clean-living/chaste/pure/blameless/sinless\nExamples:\nhe prides himself on being a highly moral and ethical person he is a caring, moral man Noun ËˆmÉ’rÉ™l\na lesson that can be derived from a story or experience\nSynonyms: lesson/message/meaning/significance/signification/import/point/precept/teaching\nExamples:\nthe moral of this story was that one must see the beauty in what one has standards of behaviour; principles of right and wrong\nSynonyms: moral code/code of ethics/moral standards/moral values/principles/principles of right and wrong/rules of conduct/principles of behaviour/standards of behaviour/standards/morality/sense of morality/scruples/ideals\nExamples:\nthe corruption of public morals they believe addicts have no morals and cannot be trusted oblique position ease box interval due front 2.5 0 0 2021-12-24T13:56:45Z Back Adjective É™(ÊŠ)ËˆbliËk\nneither parallel nor at right angles to a specified or implied line; slanting\nSynonyms: slanting/slanted/sloping/at an angle/angled/diagonal/aslant/slant/slantwise/sloped/inclined/inclining/tilted/tilting/atilt/skew/on the skew/askew\nExamples:\nwe sat on the settee oblique to the fireplace not expressed or done in a direct way\nSynonyms: indirect/inexplicit/roundabout/circuitous/circumlocutory/implicit/implied/elliptical/evasive/backhanded\nExamples:\nhe issued an oblique attack on the President denoting any case other than the nominative or vocative.\nNoun É™(ÊŠ)ËˆbliËk\nSynonyms: slash/forward slash/solidus/oblique stroke/backslash/diagonal/virgule/slant\nan oblique muscle\nExamples:\nit is the obliques and abdominals which create the well-trained look glove position ease box interval due front 2.5 0 0 2021-12-24T13:56:34Z Back Noun É¡lÊŒv\na covering for the hand worn for protection against cold or dirt and typically having separate parts for each finger and the thumb\nSynonyms: mitten/mitt/gauntlet\nExamples:\nrubber gloves a pair of black leather gloves Verb É¡lÊŒv\n(of a wicketkeeper, baseball catcher, etc.) catch, deflect, or touch (the ball) with a gloved hand\nExamples:\nVaughan gloved it and got to his knees to throw revive position ease box interval due front 2.5 0 0 2021-12-24T13:56:20Z Back Verb rÉªËˆvÊŒÉªv\nrestore to life or consciousness\nSynonyms: resuscitate/bring round/bring to life/bring back/bring someone to their senses/bring someone back to their senses/bring back to consciousness/bring back from the edge of death/regain consciousness/recover consciousness/come round/come to life/come to one\u0026rsquo;s senses/recover/awake/wake up\nExamples:\nboth men collapsed, but were revived soberly position ease box interval due front 2.5 0 0 2021-12-24T13:56:06Z Back Adverb ËˆsÉ™ÊŠbÉ™li\nin a serious, sensible, and solemn manner\nExamples:\nwe must soberly assess their actions you spoke very soberly and seriously in your statement with moderation or self-restraint; temperately\nExamples:\nthe citizens lived soberly and simply persevere position ease box interval due front 2.5 0 0 2021-12-24T13:55:58Z Back Verb ËŒpÉ™ËsÉªËˆvÉªÉ™\ncontinue in a course of action even in the face of difficulty or with little or no indication of success\nSynonyms: persist/continue/carry on/go on/keep on/keep going/not give up/struggle on/hammer away/be persistent/be determined/follow something through/see something through/keep at it/show determination/press ahead/press on/stay with something/not take no for an answer/be tenacious/be pertinacious/be patient/stand one\u0026rsquo;s ground/stand fast/stand firm/hold on/hold out/go the distance/stay the course/plod on/plough on/grind away/stop at nothing/leave no stone unturned\nExamples:\nhis family persevered with his treatment tale position ease box interval due front 2.5 0 0 2021-12-24T13:55:39Z Back Noun teÉªl\na fictitious or true narrative or story, especially one that is imaginatively recounted\nSynonyms: story/short story/narrative/anecdote/report/account/record/history/rumour/gossip/hearsay/slander/talk/allegation/tittle-tattle/libel/story\nExamples:\na delightful children\u0026rsquo;s tale tales of witches and warlocks she enjoyed hearing others tell their tales a number or total\nExamples:\nan exact tale of the dead bodies grin position ease box interval due front 2.5 0 0 2021-12-24T13:55:24Z Back Verb É¡rÉªn\nsmile broadly\nSynonyms: smile/smile broadly/beam/grin from ear to ear/smile from ear to ear/grin like a Cheshire cat/smirk\nExamples:\nDennis appeared, grinning cheerfully Noun É¡rÉªn\na broad smile\nSynonyms: smile/broad smile/smirk\nExamples:\na silly grin gallop position ease box interval due front 2.5 0 0 2021-12-24T13:54:51Z Back Noun ËˆÉ¡alÉ™p\nthe fastest pace of a horse or other quadruped, with all the feet off the ground together in each stride\nExamples:\nthe horse broke into a furious gallop a mounted police charge at full gallop Verb ËˆÉ¡alÉ™p\n(of a horse) go at the pace of a gallop\nExamples:\nwe galloped along the sand proceed at great speed\nExamples:\ndon\u0026rsquo;t gallop through your speech throaty position ease box interval due front 2.5 0 0 2021-12-24T13:54:23Z Back Adjective ËˆÎ¸rÉ™ÊŠti\n(of a voice or other sound) deep and husky\nSynonyms: gravelly/husky/rough/guttural/deep/thick/gruff/growly/growling/hoarse/croaky/croaking\nExamples:\nrich, throaty laughter stun position ease box interval due front 2.5 0 0 2021-12-24T13:53:43Z Back Verb stÊŒn\nknock unconscious or into a dazed or semi-conscious state\nSynonyms: daze/stupefy/knock senseless/knock unconscious/knock out/lay out\nExamples:\nthe man was stunned by a blow to the head astonish or shock (someone) so that they are temporarily unable to react\nSynonyms: astound/amaze/astonish/startle/take someone\u0026rsquo;s breath away/dumbfound/stupefy/overwhelm/stagger/shock/confound/take aback/shake up\nExamples:\nthe community was stunned by the tragedy fidget position ease box interval due front 2.5 0 0 2021-12-24T13:52:55Z Back Verb ËˆfÉªdÊ’Éªt\nmake small movements, especially of the hands and feet, through nervousness or impatience\nSynonyms: move restlessly/wriggle/squirm/twitch/jiggle/writhe/twist/shuffle/be jittery/be anxious/be agitated\nExamples:\nthe audience began to fidget and whisper Noun ËˆfÉªdÊ’Éªt\na person who fidgets.\nSynonyms: restless person/bundle of nerves\ncurt position ease box interval due front 2.5 0 0 2021-12-24T13:52:40Z Back Adjective kÉ™Ët\nrudely brief\nSynonyms: terse/brusque/abrupt/clipped/blunt/short/monosyllabic/summary/snappy/snappish/sharp/crisp/tart\nExamples:\nhis reply was curt sip position ease box interval due front 2.5 0 0 2021-12-24T13:52:30Z Back Verb sÉªp\ndrink (something) by taking small mouthfuls\nSynonyms: drink slowly/drink/taste/sample\nExamples:\nI sat sipping coffee she sipped at her tea Noun sÉªp\na small mouthful of liquid\nSynonyms: mouthful/swallow/drink/drop/dram/nip\nExamples:\nshe took a sip of the red wine disgust position ease box interval due front 2.5 0 0 2021-12-24T13:52:15Z Back Noun dÉªsËˆÉ¡ÊŒst\na feeling of revulsion or strong disapproval aroused by something unpleasant or offensive\nSynonyms: revulsion/repugnance/aversion/distaste/abhorrence/loathing/detestation/odium/execration/horror\nExamples:\nthe sight filled her with disgust some of the audience walked out in disgust Verb dÉªsËˆÉ¡ÊŒst\ncause (someone) to feel revulsion or strong disapproval\nSynonyms: revolt/repel/repulse/sicken/nauseate/cause to feel nauseous/make shudder/turn someone\u0026rsquo;s stomach/make someone\u0026rsquo;s gorge rise/outrage/shock/horrify/appal/scandalize/offend/affront/dismay/displease/dissatisfy\nExamples:\nthey were disgusted by the violence sting position ease box interval due front 2.5 0 0 2021-12-24T13:51:57Z Back Noun stÉªÅ‹\na small sharp-pointed organ at the end of the abdomen of bees, wasps, ants, and scorpions, capable of inflicting a painful or dangerous wound by injecting poison.\na carefully planned operation, typically one involving deception\nSynonyms: swindle/fraud/piece of deception/trickery/cheat/bit of sharp practice\nExamples:\nfive blackmailers were jailed last week after they were snared in a police sting Verb stÉªÅ‹\nwound or pierce with a sting\nSynonyms: prick/wound/injure/hurt\nExamples:\nhe was stung by a jellyfish a nettle stings if you brush it lightly swindle or exorbitantly overcharge (someone)\nSynonyms: swindle/defraud/cheat/fleece/gull\nExamples:\nI had to buy some boxer shorts at the last minute and got stung for Â£42.50! convey position ease box interval due front 2.5 0 0 2021-12-24T13:51:34Z Back Verb kÉ™nËˆveÉª\ntransport or carry to a place\nSynonyms: transport/carry/bring/take/fetch/bear/move/ferry/shuttle/shift/transfer\nExamples:\npipes were laid to convey water to the house transfer the title to (property)\nSynonyms: transfer/give the right of/give the title of/grant/cede/devolve/lease\nExamples:\nno application for registration is required when the property is conveyed following a court order comb position ease box interval due front 2.5 0 0 2021-12-24T13:51:00Z Back Noun kÉ™ÊŠm\na strip of plastic, metal, or wood with a row of narrow teeth, used for untangling or arranging the hair.\na device for separating and dressing textile fibres.\nthe red fleshy crest on the head of a domestic fowl, especially a cock\nExamples:\na grey-speckled hen with a red comb and wattles Verb kÉ™ÊŠm\nuntangle or arrange (the hair) by drawing a comb through it\nSynonyms: groom/untangle/disentangle/smooth out/straighten/arrange/neaten/tidy/dress/rake\nExamples:\nshe combed her hair and put some lipstick on prepare (wool, flax, or cotton) for manufacture with a comb\nSynonyms: separate/dress/card/tease/hackle/heckle/hatchel\nExamples:\nthe wool had been cleaned and combed search carefully and systematically\nSynonyms: search/scour/look around in/explore/sweep/probe/hunt through/look through/scrabble about in/scrabble around in/root about in/root around in/ferret in/ferret about in/ferret in/ferret around in/rummage about in/rummage round in/rummage around in/rummage in/rummage through/forage through/fish about in/fish around in/poke about in/poke around in/dig in/grub about in/grub around in/delve in/go through/sift through/rake/rifle through/ransack/turn over/go through with a fine-tooth comb\nExamples:\npolice combed the area for the murder weapon his mother combed through the cardboard boxes firm position ease box interval due front 2.5 0 0 2021-12-24T13:49:56Z Back Adjective fÉ™Ëm\nhaving a solid, almost unyielding surface or structure\nSynonyms: hard/solid/unyielding/resistant\nExamples:\nthe bed should be reasonably firm, but not too hard strongly felt and unlikely to change\nExamples:\nhe retains a firm belief in the efficacy of prayer Verb fÉ™Ëm\nmake more solid or resilient\nExamples:\nhow can I firm up a sagging bustline? Adverb fÉ™Ëm\nin a resolute and determined manner\nExamples:\nthe Chancellor has held firm to tough economic policies she will stand firm against the proposal Noun fÉ™Ëm\na business concern, especially one involving a partnership of two or more people\nSynonyms: company/business/concern/enterprise/venture/undertaking/house/establishment/organization/corporation/conglomerate/franchise/cooperative/office/bureau/service/agency/practice/partnership/consortium/syndicate\nExamples:\nstate support for small firms a law firm inflection position ease box interval due front 2.5 0 0 2021-12-24T13:49:48Z Back Noun ÉªnËˆflÉ›kÊƒn\na change in the form of a word (typically the ending) to express a grammatical function or attribute such as tense, mood, person, number, case, and gender\nSynonyms: conjugation/declension\nExamples:\na set of word forms differing only in respect of inflections the modulation of intonation or pitch in the voice\nSynonyms: stress/cadence/rhythm/accentuation/intonation/emphasis/modulation/metre/measure/rise and fall/swing/lilt/beat/change of pitch/change of tone/change of timbre\nExamples:\nshe spoke slowly and without inflection the variety of his vocal inflections a change of curvature from convex to concave at a particular point on a curve\nSynonyms: curving/curvature/bending/turning\nExamples:\nthe point of inflection of the bell-shaped curve elusive position ease box interval due front 2.5 0 0 2021-12-24T13:49:12Z Back Adjective ÉªËˆl(j)uËsÉªv\ndifficult to find, catch, or achieve\nSynonyms: difficult to catch/difficult to find/difficult to track down\nExamples:\nsuccess will become ever more elusive isolation position ease box interval due front 2.5 0 0 2021-12-24T13:48:59Z Back Noun ÊŒÉªsÉ™ËˆleÉªÊƒÉ™n\nthe process or fact of isolating or being isolated\nSynonyms: separation/segregation/setting apart/keeping apart/solitariness/loneliness/friendlessness/lack of contact/exile/sense of exile/aloneness/remoteness/seclusion/loneliness/inaccessibility\nExamples:\nisolation from family and friends may also contribute to anxiety neglect position ease box interval due front 2.5 0 0 2021-12-24T13:48:38Z Back Verb nÉªËˆÉ¡lÉ›kt\nfail to care for properly\nSynonyms: uncared for/mistreated/abandoned/forsaken/run down/derelict/dilapidated/tumbledown/ramshackle/untended/unmaintained/fail to look after/fail to care for/fail to provide for/leave alone/abandon\nExamples:\nthe old churchyard has been sadly neglected Noun nÉªËˆÉ¡lÉ›kt\nthe state of being uncared for\nSynonyms: disrepair/dilapidation/deterioration/shabbiness/disuse/abandonment\nExamples:\nthe place had a hopeless air of neglect breeding position ease box interval due front 2.5 0 0 2021-12-24T13:48:18Z Back Noun ËˆbriËdÉªÅ‹\nthe mating and production of offspring by animals\nSynonyms: reproduction/reproducing/procreation/multiplying/propagation/rearing/raising/nurturing\nExamples:\nthe flooding of the rivers is a trigger for breeding to start the good manners regarded as characteristic of the aristocracy and conferred by heredity\nSynonyms: upbringing/rearing/manners/good manners/gentility/refinement/cultivation/culture/polish/civility/urbanity\nExamples:\nthat\u0026rsquo;s the kind of modesty you get from good breeding slam position ease box interval due front 2.5 0 0 2021-12-24T13:48:05Z Back Verb slam\nshut (a door, window, or lid) forcefully and loudly\nSynonyms: bang/close with a bang/shut with a bang/close noisily/shut noisily/close with a crash/shut with a crash/close with force/shut with force/fling shut\nExamples:\nhe slams the door behind him as he leaves criticize severely\nSynonyms: criticize/find fault with/censure/denounce/condemn/arraign/attack/lambast/pillory/disapprove of/carp at/cavil at/rail against/inveigh against/cast aspersions on/pour scorn on/disparage/denigrate/deprecate/malign/vilify/besmirch/run down/give a bad press to\nExamples:\nthe new TV soap was slammed as being cynical and irresponsible (of a telephone company) take over the account of (a telephone customer) without their permission\nExamples:\nthey will provide compensation in cases where it can be shown that the customer had been slammed Noun slam\na loud bang caused by the forceful shutting of something such as a door\nExamples:\nthe door closed with a slam prison\nExamples:\nif he challenged the judge, he was definitely going to the slam a poetry contest in which competitors recite their entries and are judged by members of the audience, the winner being elected after several elimination rounds\nExamples:\na poetry slam slams will be spreading out to suburban poetry clubs a grand slam (all thirteen tricks) or small slam (twelve tricks), for which bonus points are scored if bid and made.\nvenue position ease box interval due front 2.5 0 0 2021-12-24T13:47:44Z Back Noun ËˆvÉ›njuË\nthe place where something happens, especially an organized event such as a concert, conference, or sports competition\nSynonyms: place/site/spot/area\nExamples:\nthe club is the city\u0026rsquo;s main venue for live music impress position ease box interval due front 2.5 0 0 2021-12-24T13:47:12Z Back Verb ÉªmËˆprÉ›s\nmake (someone) feel admiration and respect\nSynonyms: make an impression on/have an impact on/influence/affect/leave a mark on/move/stir/rouse/excite/inspire/galvanize\nExamples:\nthey immediately impressed the judges I was always impressed by the quality of the students he has to put on an act to impress make a mark or design on (an object) using a stamp or seal\nExamples:\nthe company should impress the cards with a stamp fix an idea in the mind of (someone)\nSynonyms: emphasize to/stress to/bring home to/establish in someone\u0026rsquo;s mind/fix deeply in someone\u0026rsquo;s mind/instil in/inculcate in/drum into/knock into/drive into/din into/ingrain in/leave in no doubt\nExamples:\nnobody impressed on me the need to save apply (an electric current or potential) from an external source.\nNoun ËˆÉªmprÉ›s\nan act of making an impression or mark\nExamples:\nbluish marks made by the impress of his fingers Verb ÉªmËˆprÉ›s\nforce (someone) to serve in an army or navy\nExamples:\na number of Poles, impressed into the German army venerable position ease box interval due front 2.5 0 0 2021-12-24T13:46:53Z Back Adjective ËˆvÉ›n(É™)rÉ™bl\naccorded a great deal of respect, especially because of age, wisdom, or character\nSynonyms: respected/venerated/revered/reverenced/worshipped/honoured/esteemed/hallowed/august/distinguished/acclaimed/celebrated/lionized\nExamples:\na venerable statesman inaudible position ease box interval due front 2.5 0 0 2021-12-24T13:46:41Z Back Adjective ÉªnËˆÉ”ËdÉªb(É™)l\nunable to be heard\nSynonyms: unheard/not heard/out of earshot\nExamples:\ninaudible pulses of high-frequency sound cord position ease box interval due front 2.5 0 0 2021-12-24T13:45:58Z Back Noun kÉ”Ëd\nthin, flexible string or rope made from several twisted strands\nSynonyms: string/thread/thong/lace/ribbon/strap/tape/tie/line/rope/cable/wire/ligature\nExamples:\nhang the picture from a rail on a length of cord my hands were tied with cord ribbed fabric, especially corduroy\nExamples:\nthe cloth for their suits was cord cord jackets a measure of cut wood (usually 128 cu. ft, 3.62 cubic metres).\nVerb kÉ”Ëd\nattach a cord to\nExamples:\nyou will need to cord the blind a corded curtain track facade position ease box interval due front 2.5 0 0 2021-12-24T13:45:40Z Back Noun fÉ™ËˆsÉ‘Ëd\nthe principal front of a building, that faces on to a street or open space\nSynonyms: front/frontage/face/aspect/elevation/exterior/outside\nExamples:\nthe house has a half-timbered facade a deceptive outward appearance\nSynonyms: show/front/appearance/false display/pretence/simulation/affectation/semblance/illusion/posture/pose/sham/fake/act/masquerade/charade/guise/mask/cloak/veil/veneer\nExamples:\nher flawless public facade masked private despair disgrace position ease box interval due front 2.5 0 0 2021-12-24T13:45:25Z Back Noun dÉªsËˆÉ¡reÉªs\nloss of reputation or respect as the result of a dishonourable action\nSynonyms: dishonour/shame/ignominy/discredit/degradation/disrepute/ill-repute/infamy/scandal/stigma/odium/opprobrium/obloquy/condemnation/vilification/contempt/disrespect/disapproval/disfavour/disapprobation/in disgrace/unpopular/in bad odour\nExamples:\nhe left the army in disgrace if he\u0026rsquo;d gone back it would have brought disgrace on the family Verb dÉªsËˆÉ¡reÉªs\nbring shame or discredit on\nSynonyms: bring shame on/shame/dishonour/discredit/bring into disrepute/degrade/debase/defame/stigmatize/taint/sully/tarnish/besmirch/stain/blacken/drag through the mire/drag through the mud/give a bad name to/put in a bad light/reflect badly on\nExamples:\nyou have disgraced the family name John stiffened his jaw so he wouldn\u0026rsquo;t disgrace himself by crying bulb position ease box interval due front 2.5 0 0 2021-12-24T13:45:07Z Back Noun bÊŒlb\na rounded underground storage organ present in some plants, notably those of the lily family, consisting of a short stem surrounded by fleshy scale leaves or leaf bases, lying dormant over winter.\nSynonyms: tuber/corm/rhizome\na light bulb.\nan expanded part of a glass tube such as that forming the reservoir of a thermometer.\noblivious position ease box interval due front 2.5 0 0 2021-12-24T13:44:39Z Back Adjective É™ËˆblÉªvÉªÉ™s\nnot aware of or concerned about what is happening around one\nSynonyms: unaware/unconscious/heedless/unmindful/insensible/unheeding/ignorant/blind/deaf/unsuspecting/unobservant/disregardful/unconcerned/impervious/unaffected/insensitive/indifferent/detached/removed\nExamples:\nshe became absorbed, oblivious to the passage of time reveal position ease box interval due front 2.5 0 0 2021-12-24T13:44:07Z Back Verb rÉªËˆviËl\nmake (previously unknown or secret information) known to others\nSynonyms: divulge/disclose/tell/let out/let slip/let drop/let fall/give away/give the game away/give the show away/blurt/blurt out/babble/give out/release/leak/betray/open up/unveil/bring out into the open\nExamples:\nBrenda was forced to reveal Robbie\u0026rsquo;s whereabouts he revealed that he had received death threats Noun rÉªËˆviËl\n(in a film or television programme) a final revelation of information that has previously been kept from the characters or viewers\nExamples:\nthe big reveal at the end of the movie answers all questions Noun rÉªËˆviËl\neither side surface of an aperture in a wall for a door or window\nExamples:\nthe gate can be easily fitted to the face or reveal of a window or door aperture the deep reveals of small square windows mysterious position ease box interval due front 2.5 0 0 2021-12-24T13:43:30Z Back Adjective mÉªËˆstÉªÉ™rÉªÉ™s\ndifficult or impossible to understand, explain, or identify\nSynonyms: puzzling/strange/peculiar/curious/funny/queer/odd/weird/bizarre/mystifying/inexplicable/baffling/perplexing/bewildering/confusing/uncanny/dark/impenetrable/incomprehensible/unexplainable/unfathomable/Delphic/sibylline/unaccountable/insoluble/obscure\nExamples:\nhis colleague had vanished in mysterious circumstances a mysterious benefactor provided the money obedience position ease box interval due front 2.5 0 0 2021-12-24T13:42:49Z Back Noun É™(ÊŠ)ËˆbiËdÉªÉ™ns\ncompliance with an order, request, or law or submission to another\u0026rsquo;s authority\nSynonyms: compliance/acquiescence/tractability/tractableness/amenability\nExamples:\nchildren were taught to show their parents obedience obedience to moral standards sickening position ease box interval due front 2.5 0 0 2021-12-24T13:41:59Z Back Adjective ËˆsÉªk(É™)nÉªÅ‹\ncausing or liable to cause a feeling of nausea or disgust\nSynonyms: nauseating/stomach-turning/stomach-churning/repulsive/revolting/disgusting/repellent/repugnant/appalling/abominable/hideous/horrible/awful/dreadful/terrible/obnoxious/nauseous/vile/nasty/foul/loathsome/offensive/objectionable/off-putting/distasteful/disagreeable/uninviting\nExamples:\na sickening stench of blood she hit the ground with a sickening thud definite position ease box interval due front 2.5 0 0 2021-12-24T13:41:30Z Back Adjective ËˆdÉ›f(Éª)nÉªt\nclearly stated or decided; not vague or doubtful\nSynonyms: explicit/specific/express/precise/exact/defined/well defined/clear-cut/unmistakable/irrefutable/unequivocal/unambiguous/certain/undisputed/decided/marked/distinct/unquestioned/not in question/not in doubt\nExamples:\nwe had no definite plans comic position ease box interval due front 2.5 0 0 2021-12-24T13:40:50Z Back Adjective ËˆkÉ’mÉªk\ncausing or meant to cause laughter\nSynonyms: humorous/funny/droll/amusing/entertaining/diverting/absurd/ridiculous/comical/chucklesome/farcical/silly/slapstick/hilarious/uproarious/hysterical/hysterically funny/zany\nExamples:\na comic monologue Noun ËˆkÉ’mÉªk\na comedian\nSynonyms: comedian/comedienne/funny man/funny woman/comedy actor/comedy actress/humorist/wit/wag/quipster\nExamples:\nhe is training as a stand-up comic a periodical containing comic strips, intended chiefly for children\nSynonyms: cartoon paper/comic paper/funny magazine/comic book/graphic novel\nExamples:\nthe shop sold newspapers and children\u0026rsquo;s comics incapable position ease box interval due front 2.5 0 0 2021-12-24T13:40:06Z Back Adjective ÉªnËˆkeÉªpÉ™bl\nunable to do or achieve (something)\nSynonyms: unable to/not capable of/lacking the ability to/not equipped to/lacking the experience to\nExamples:\nWilson blushed and was incapable of speech unable to behave rationally or manage one\u0026rsquo;s affairs\nSynonyms: incapacitated/helpless/powerless/impotent\nExamples:\nthe pilot may become incapable from the lack of oxygen stale position ease box interval due front 2.5 0 0 2021-12-24T13:39:42Z Back Adjective steÉªl\n(of food) no longer fresh and pleasant to eat; hard, musty, or dry\nSynonyms: dry/dried out/hard/hardened/old/past its best/past its sell-by date\nExamples:\nstale bread Verb steÉªl\nmake or become stale\nExamples:\nshe would cut up yesterday\u0026rsquo;s leftover bread, staling now Verb steÉªl\n(of an animal, especially a horse) urinate\nExamples:\nthe horse staled while he was riding pasture position ease box interval due front 2.5 0 0 2021-12-24T13:39:21Z Back Noun ËˆpÉ‘ËstÊƒÉ™\nland covered with grass and other low plants suitable for grazing animals, especially cattle or sheep\nSynonyms: grazing land/grazing/grassland/grass/pastureland/pasturage/range/ley/paddock/croft\nExamples:\nareas of rich meadow pasture many a horse was put out to pasture there grassy pastures a range of pasture grasses used to refer to a person\u0026rsquo;s situation in life\nExamples:\nshe left the office for pastures new Verb ËˆpÉ‘ËstÊƒÉ™\nput (animals) to graze in a pasture\nExamples:\nthey pastured their cows in the water meadow antagonize position ease box interval due front 2.5 0 0 2021-12-24T13:38:56Z Back Verb anËˆtaÉ¡É™nÊŒÉªz\ncause (someone) to become hostile or angry\nSynonyms: arouse hostility in/alienate/set someone against someone else/estrange/disaffect\nExamples:\nhe antagonized fellow architects by criticizing traditional values she seemed reckless in the way she deliberately tried to antagonize her interviewers (of a substance) act as an antagonist of (a substance or its action)\nExamples:\ntwo other drugs antagonized the antidepressant-like effect pigsty position ease box interval due front 2.5 0 0 2021-12-24T13:38:23Z Back Noun ËˆpÉªÉ¡stÊŒÉª\na pen or enclosure for a pig or pigs.\nSynonyms: complete mess/pigsty\npigpen position ease box interval due front 2.5 0 0 2021-12-24T13:38:09Z Back Noun ËˆpÉªÉ¡pÉ›n\na pigsty.\nSynonyms: complete mess/pigsty\ntriumphant position ease box interval due front 2.5 0 0 2021-12-24T13:36:00Z Back Adjective trÊŒÉªËˆÊŒmf(É™)nt\nhaving won a battle or contest; victorious\nSynonyms: victorious/successful/winning/prize-winning/conquering\nExamples:\ntwo of their triumphant Cup team a comic fairy tale about innocence triumphant sleeve position ease box interval due front 2.5 0 0 2021-12-24T13:35:39Z Back Noun sliËv\nthe part of a garment that wholly or partly covers a person\u0026rsquo;s arm\nSynonyms: sleeve\nExamples:\na shirt with the sleeves rolled up a protective paper or cardboard cover for a record, CD, or DVD\nSynonyms: wrapping/wrapper/wrap/sleeve/sheath/sheathing/envelope/cover/covering\nExamples:\nan album sleeve a windsock.\ntoe position ease box interval due front 2.5 0 0 2021-12-24T13:35:26Z Back Noun tÉ™ÊŠ\nany of the five digits at the end of the human foot\nSynonyms: bottom/base/toe/edge/end/lowest part/lowest point/lower limits\nExamples:\nhe cut his big toe on a sharp stone the lower end, tip, or point of something.\nVerb tÉ™ÊŠ\npush, touch, or kick with one\u0026rsquo;s toe\nExamples:\nhe toed off his shoes and flexed his feet walk with the toes pointed in (or out)\nExamples:\nhe toes out when he walks crease position ease box interval due front 2.5 0 0 2021-12-24T13:35:00Z Back Noun kriËs\na line or ridge produced on paper or cloth by folding, pressing, or crushing\nSynonyms: fold/groove/ridge/furrow/line/ruck/pleat/tuck/corrugation\nExamples:\nkhaki trousers with knife-edge creases any of a number of lines marked on the pitch at specified places, especially one defining the position of a batter.\nan area around the goal in ice hockey or lacrosse which the players may not enter unless the puck or the ball has already done so\nExamples:\nhe was caught in the crease without the puck Verb kriËs\nmake a crease in (cloth or paper)\nSynonyms: crumple/wrinkle/crinkle/scrunch up/rumple/line/pucker/crimp/ruck up/gather/furrow/press/iron/put a crease in/fold\nExamples:\nhe sank into the chair, careful not to crease his dinner jacket burst out or cause to burst out laughing\nSynonyms: entertain/make laugh/delight/divert/gladden/cheer/cheer up/please/charm/tickle/convulse/beguile/enliven/regale\nExamples:\nJo could imitate anybody and always made him crease up hit or punch (someone) hard\nExamples:\nclap or I\u0026rsquo;ll crease you (of a bullet) graze (someone or something)\nExamples:\na bullet creased his thigh kerchief position ease box interval due front 2.5 0 0 2021-12-24T13:34:20Z Back Noun ËˆkÉ™ËtÊƒÉªf ËˆkÉ™ËtÊƒiËf\na piece of fabric used to cover the head. appoint position ease box interval due front 2.5 0 0 2021-12-24T13:33:52Z Back Verb É™ËˆpÉ”Éªnt\nassign a job or role to (someone)\nSynonyms: nominate/name/designate/install as/commission/engage/adopt/co-opt\nExamples:\nshe has been appointed to the board they appointed her as personnel manager determine or decide on (a time or a place)\nSynonyms: specify/determine/assign/designate/allot/set/fix/arrange/choose/decide on/establish/settle/authorize/ordain/prescribe/decree\nExamples:\nthey appointed a day in May for the meeting decide the disposition of (property of which one is not the owner) under powers granted by the owner\nExamples:\ntrustees appoint the capital to the beneficiaries tremble position ease box interval due front 2.5 0 0 2021-12-24T13:33:15Z Back Verb ËˆtrÉ›mbl\n(of a person or part of the body) shake involuntarily, typically as a result of anxiety, excitement, or frailty\nSynonyms: shake/shake like a leaf/quiver/twitch/palpitate\nExamples:\nIsobel was trembling with excitement Noun ËˆtrÉ›mbl\na trembling feeling, movement, or sound\nSynonyms: tremor/shake/shakiness/trembling/quiver/twitch/twitchiness\nExamples:\nthere was a slight tremble in his voice a physical or emotional condition marked by trembling.\nviolently position ease box interval due front 2.5 0 0 2021-12-24T13:32:28Z Back Adverb ËˆvÊŒÉªÉ™lÉ™ntli\nusing physical force intended to hurt, damage, or kill someone or something\nExamples:\nI was once violently assaulted on a bus in a very strong or vigorous manner\nExamples:\nhe coughed violently the aircraft began violently shaking fuss position ease box interval due front 2.5 0 0 2021-12-24T13:31:53Z Back Noun fÊŒs\na display of unnecessary or excessive excitement, activity, or interest\nSynonyms: ado/excitement/agitation/uproar/to-do/stir/commotion/confusion/disturbance/tumult/hubbub/rigmarole/folderol/brouhaha/furore/much ado about nothing\nExamples:\nI don\u0026rsquo;t know what all the fuss is about Verb fÊŒs\nshow unnecessary or excessive concern about something\nSynonyms: worry/fret/be agitated/be worried/take pains/make a big thing out of\nExamples:\nshe\u0026rsquo;s always fussing about her food accustom position ease box interval due front 2.5 0 0 2021-12-24T13:31:16Z Back Verb É™ËˆkÊŒstÉ™m\nmake someone or something accept (something) as normal or usual\nSynonyms: adapt/adjust/acclimatize/attune/habituate/accommodate/assimilate/acculturate/inure/harden/condition/reconcile/become resigned/resign\nExamples:\nI accustomed my eyes to the lenses sixth-form education is supposed to accustom pupils to think for themselves attitude position ease box interval due front 2.5 0 0 2021-12-24T13:30:02Z Back Noun ËˆatÉªtjuËd\na settled way of thinking or feeling about something\nSynonyms: point of view/view/viewpoint/vantage point/frame of mind/way of thinking/way of looking at things/school of thought/outlook/angle/slant/perspective/reaction/stance/standpoint/position/inclination/orientation/approach\nExamples:\nhe was questioned on his attitude to South Africa being competitive is an attitude of mind truculent or uncooperative behaviour\nExamples:\nI asked the waiter for a clean fork and all I got was attitude the orientation of an aircraft or spacecraft, relative to the direction of travel.\nshin position ease box interval due front 2.5 0 0 2021-12-24T13:29:46Z Back Noun ÊƒÉªn\nthe front of the leg below the knee. Verb ÊƒÉªn\nclimb quickly up or down by gripping with one\u0026rsquo;s arms and legs\nSynonyms: climb/climb down/climb up/clamber down/clamber up/scramble down/scramble up/scrabble down/scrabble up/swarm down/swarm up/shoot down/shoot up/go down/go up\nExamples:\nhe shinned up a tree morbid position ease box interval due front 2.5 0 0 2021-12-24T13:28:50Z Back Adjective ËˆmÉ”ËbÉªd\ncharacterized by an unusual interest in disturbing and unpleasant subjects, especially death and disease\nSynonyms: ghoulish/macabre/unhealthy/gruesome/grisly/grotesque/ghastly/horrible/unwholesome/death-obsessed\nExamples:\nhe had a morbid fascination with the horrors of contemporary warfare I used to enjoy murder trialsâ€”not for any morbid curiosity, but for the drama unfolding of the nature of or indicative of disease\nSynonyms: diseased/pathological\nExamples:\nthe treatment of morbid obesity irritation position ease box interval due front 2.5 0 0 2021-12-24T13:28:35Z Back Noun ËŒÉªrÉªËˆteÉªÊƒn\nthe state of feeling annoyed, impatient, or slightly angry\nSynonyms: annoyance/infuriation/exasperation/vexation/indignation/impatience/crossness/displeasure/resentment/gall/chagrin/pique\nExamples:\nmuch to my irritation, Chris fell asleep inflammation or other discomfort in a body part caused by reaction to an irritant substance\nExamples:\nsome chemicals cause a direct irritation to the skin leading to dermatitis irritable position ease box interval due front 2.5 0 0 2021-12-24T13:28:10Z Back Adjective ËˆÉªrÉªtÉ™bl\nhaving or showing a tendency to be easily annoyed\nSynonyms: bad-tempered/irascible/tetchy/testy/touchy/scratchy/grumpy/grouchy/moody/crotchety/in a mood/in a bad mood/cantankerous/curmudgeonly/ill-tempered/ill-natured/ill-humoured/peevish/having got out of bed on the wrong side/cross/fractious/disagreeable/pettish/crabbed/crabby/waspish/prickly/peppery/crusty/splenetic/shrewish/short-tempered/hot-tempered/quick-tempered/dyspeptic/choleric/bilious/liverish/cross-grained\nExamples:\nshe was tired and irritable (of a body part) abnormally sensitive.\nentail position ease box interval due front 2.5 0 0 2021-12-24T13:27:43Z Back Verb ÉªnËˆteÉªl É›nËˆteÉªl\ninvolve (something) as a necessary or inevitable part or consequence\nSynonyms: necessitate/make necessary/require/need/demand/call for\nExamples:\na situation which entails considerable risks limit the inheritance of (property) over a number of generations so that ownership remains within a particular family or group\nExamples:\nher father\u0026rsquo;s estate was entailed on a cousin Noun ÉªnËˆteÉªl É›nËˆteÉªl\na limitation of the inheritance of property to certain heirs over a number of generations\nExamples:\nthe damage being done in England by entails landed property was governed by primogeniture and entail subpoena position ease box interval due front 2.5 0 0 2021-12-24T13:26:55Z Back Noun sÉ™ËˆpiËnÉ™\na writ ordering a person to attend a court\nSynonyms: order/command/directive/direction/decree/edict/injunction/mandate/dictate/commandment/diktat/demand/bidding/requirement/stipulation/charge/ruling/mandate/pronouncement\nExamples:\na subpoena may be issued to compel their attendance they were all under subpoena to appear Verb sÉ™ËˆpiËnÉ™\nsummon (someone) with a subpoena\nSynonyms: summon/summons/serve with a summons/subpoena/serve with a writ/call\nExamples:\nthe Queen is above the law and cannot be subpoenaed jury position ease box interval due front 2.5 0 0 2021-12-24T13:26:36Z Back Noun ËˆdÊ’ÊŠÉ™ri\na body of people (typically twelve in number) sworn to give a verdict in a legal case on the basis of evidence submitted to them in court\nExamples:\nthe jury returned unanimous guilty verdicts Verb ËˆdÊ’ÊŠÉ™ri\njudge (an art or craft exhibition or exhibit)\nExamples:\nthe exhibition was juried by a nationally acclaimed artist he had a painting in the juried exhibition Adjective ËˆdÊ’ÊŠÉ™ri\n(of a mast or other fitting) improvised or temporary\nSynonyms: temporary/provisional/interim/pro tem/short-term/working/makeshift/improvised/emergency/impromptu/rough and ready\nExamples:\nwe need to get that jury rudder fixed strap position ease box interval due front 2.5 0 0 2021-12-24T13:26:05Z Back Noun strap\na strip of leather, cloth, or other flexible material, used to fasten, secure, or carry something or to hold on to something\nSynonyms: thong/tie/cord/band/belt/tape\nExamples:\nher bra strap the strap of his shoulder bag Verb strap\nfasten or secure in a specified place or position with a strap\nSynonyms: fasten/secure/tie/bind/make fast/lash\nExamples:\nI had to strap the bag to my bicycle the children were strapped into their car seats beat (someone) with a strip of leather\nSynonyms: beat/flog/whip/leather/belt/thrash/lash/horsewhip/birch/cane/strike/hit/clout\nExamples:\nI expected when my dad walked in that he\u0026rsquo;d strap him elucidate position ease box interval due front 2.5 0 0 2021-12-24T13:25:29Z Back Verb ÉªËˆl(j)uËsÉªdeÉªt\nmake (something) clear; explain\nSynonyms: explain/make clear/make plain/illuminate/shed light on/throw light on/clarify\nExamples:\nwork such as theirs will help to elucidate this matter in what follows I shall try to elucidate what I believe the problems to be circuit position ease box interval due front 2.5 0 0 2021-12-24T13:25:04Z Back Noun ËˆsÉ™ËkÉªt\na roughly circular line, route, or movement that starts and finishes at the same place\nSynonyms: lap/turn/tour/round/circle/orbit/revolution/loop\nExamples:\nI ran a circuit of the village an established itinerary of events or venues used for a particular activity, typically involving sport or public performance\nExamples:\nthe alternative cabaret circuit a complete and closed path around which a circulating electric current can flow\nExamples:\nthe maximum number of light fittings on a circuit is twelve Verb ËˆsÉ™ËkÉªt\nmove all the way around (a place or thing)\nExamples:\nthe trains will follow the Northern line, circuiting the capital mule position ease box interval due front 2.5 0 0 2021-12-24T13:23:32Z Back Noun mjuËl\nthe offspring of a donkey and a horse (strictly, a male donkey and a female horse), typically sterile and used as a beast of burden.\nSynonyms: ass\na hybrid plant or animal, especially a sterile one.\na kind of spinning machine producing yarn on spindles, invented by Samuel Crompton in 1779.\na small tractor or locomotive, typically one that is electrically powered.\na coin with the obverse and reverse of designs not originally intended to be used together.\nNoun mjuËl\na woman\u0026rsquo;s slipper or light shoe without a back.\nSynonyms: mule/moccasin/house shoe/pump/mule\nwitness position ease box interval due front 2.5 0 0 2021-12-24T13:23:09Z Back Noun ËˆwÉªtnÉªs\na person who sees an event, typically a crime or accident, take place\nSynonyms: observer/onlooker/looker-on/eyewitness/spectator/viewer/watcher\nExamples:\npolice are appealing for witnesses to the accident I was witness to one of the most amazing comebacks in sprinting history evidence; proof\nSynonyms: evidence/indication/proof/testimony\nExamples:\nthe memorial service was witness to the wide circle of his interests a line or remnant of an original surface on a workpiece to show how much material has been removed or the shape of the original outline.\nVerb ËˆwÉªtnÉªs\nsee (an event, typically a crime or accident) happen\nSynonyms: see/observe/watch/look on at/be a witness to/view/note/notice/spot\nExamples:\nstaff who witnessed the murder have knowledge of (a development) from observation or experience\nExamples:\nwhat we are witnessing is the birth of a new political entity openly profess one\u0026rsquo;s religious faith Examples:\none of the purposes of his coming was to nerve the disciples to witness to Jesus impassive position ease box interval due front 2.5 0 0 2021-12-24T13:19:27Z Back Adjective ÉªmËˆpasÉªv\nnot feeling or showing emotion\nSynonyms: expressionless/unexpressive/inexpressive/inscrutable/blank/deadpan/poker-faced/straight-faced/dispassionate\nExamples:\nhis cold, impassive face casual position ease box interval due front 2.5 0 0 2021-12-24T13:18:58Z Back Adjective ËˆkaÊ’ÊŠ(É™)l\nrelaxed and unconcerned\nSynonyms: relaxed/friendly/natural/informal/unceremonious/unpretentious/easy-going/free and easy/uninhibited/open\nExamples:\na casual attitude to life not regular or permanent.\nSynonyms: temporary/part-time/impermanent/freelance- happening by chance; accidental\nSynonyms: chance/accidental/random/unintentional/unplanned/unintended/inadvertent/unexpected/unforeseen/unanticipated/unlooked-for/occurring by accident/occurring by chance/fortuitous/coincidental/fluky/serendipitous/adventitious/aleatory\nExamples:\nhe pretended it was a casual meeting without formality of style or manner, in particular (of clothing) suitable for everyday wear rather than formal occasions\nSynonyms: informal/not formal/relaxed/comfortable/sloppy/leisure/sportif/everyday\nExamples:\na casual short-sleeved shirt an ideal coat for casual occasions Noun ËˆkaÊ’ÊŠ(É™)l\na person who does something irregularly Examples:\na number of casuals became regular customers clothes or shoes suitable for everyday wear rather than formal occasions Examples:\nshe designs women\u0026rsquo;s casuals a youth belonging to a subculture characterized by the wearing of expensive casual clothing and frequently associated with football hooliganism. sack position ease box interval due front 2.50 1 0.01 2021-12-24T00:48:38Z Back Noun sak\na large bag made of a strong material such as hessian, thick paper, or plastic, used for storing and carrying goods.\nSynonyms: bag/pack/pouch/pocket- a woman\u0026rsquo;s short loose unwaisted dress, typically narrowing at the hem, popular especially in the 1950s.\ndismissal from employment\nSynonyms: dismissal/discharge/redundancy/termination of employment/one\u0026rsquo;s marching orders\nExamples:\nhe got the sack for swearing they were given the sack bed, especially as regarded as a place for sex.\nSynonyms: bed- a base.\nan act of tackling of a quarterback behind the line of scrimmage.\nVerb sak\ndismiss from employment\nSynonyms: dismiss/give someone their notice/throw out/get rid of/lay off/let go/discharge/cashier\nExamples:\nany official found to be involved would be sacked on the spot tackle (a quarterback) behind the line of scrimmage before they can throw a pass\nExamples:\nOregon intercepted five of his passes and sacked him five times put into a sack or sacks Examples:\na small part of his wheat had been sacked Verb sak\n(chiefly in historical contexts) plunder and destroy (a captured town or building)\nSynonyms: ravage/lay waste/devastate/ransack/strip/fleece/plunder/pillage/loot/rob/raid\nExamples:\nthe fort was rebuilt in AD 158 and was sacked again in AD 197 Noun sak\nthe pillaging of a town or city\nSynonyms: laying waste/ransacking/plunder/plundering/sacking/looting/ravaging/pillage/pillaging/devastation/depredation/stripping/robbery/robbing/raiding\nExamples:\nthe sack of Rome Noun sak\na dry white wine formerly imported into Britain from Spain and the Canaries Examples:\nthe Poet Laureate traditionally gets a â€˜butt of sackâ€™, equivalent to roughly 600 bottles of sherry standstill position ease box interval due front 2.50 1 0.01 2021-12-24T00:31:16Z Back Noun Ëˆstan(d)stÉªl\na situation or condition in which there is no movement or activity at all\nSynonyms: halt/stop/dead stop/stand\nExamples:\nthe traffic came to a standstill skew position ease box interval due front 2.50 2 1.00 2021-12-25T00:13:47Z Back Adjective skjuË\nneither parallel nor at right angles to a specified or implied line; askew; crooked\nSynonyms: crooked/awry/askew/lopsided/uneven/asymmetrical/to one side/off-centre/skewed/skew/misaligned\nExamples:\nhis hat looked slightly skew a skew angle (of a pair of lines) neither parallel nor intersecting.\n(of a statistical distribution) not symmetrical.\nNoun skjuË\nan oblique angle; a slant.\nSynonyms: slope/incline/tilt/ramp/gradient/pitch/angle/rake/cant/camber/skew/leaning/inclination/shelving/listing- a bias towards one particular group or subject\nSynonyms: misrepresentation/perversion/twisting/falsification/misreporting/misstatement/manipulation\nExamples:\nthe paper had a working-class skew the state of not being symmetrical.\nVerb skjuË\nsuddenly change direction or position\nSynonyms: distort/misrepresent/change/alter/pervert/falsify/warp/skew/put the wrong slant on/misinterpret/misconstrue/misstate/misquote/quote out of context/take out of context/misreport\nExamples:\nthe car had skewed across the track make biased or distorted in a way that is regarded as inaccurate, unfair, or misleading\nSynonyms: biased/prejudiced/partisan/one-sided/slanted/skewed/coloured/interested/parti pris/discriminatory/preferential/jaundiced\nExamples:\nthe curriculum is skewed towards the practical subjects cause (a distribution) to be asymmetrical\nSynonyms: asymmetrical/unsymmetrical/uneven/unevenly balanced/unbalanced/off-balance/off-centre/unequal/askew/skew/skewed/squint/tilted/tilting/crooked/sloping/slanted/aslant/one-sided/out of true/out of line/to one side/awry\nExamples:\nthe distributions were skewed to the right oath position ease box interval due front 2.50 1 0.01 2021-12-24T00:53:20Z Back Noun É™ÊŠÎ¸\na solemn promise, often invoking a divine witness, regarding one\u0026rsquo;s future action or behaviour\nSynonyms: vow/sworn statement/promise/pledge/avowal/affirmation/attestation/word of honour/word/bond/guarantee/guaranty\nExamples:\nthey took an oath of allegiance to the king a coarse or blasphemous word or phrase used to express anger or other strong emotion\nSynonyms: swear word/profanity/expletive/four-letter word/dirty word/obscenity/imprecation/curse/malediction/blasphemy\nExamples:\nhe exploded with a mouthful of oaths he was muttering foul oaths academic position ease box interval due front 2.50 2 1.00 2021-12-25T00:25:14Z Back Adjective ËŒakÉ™ËˆdÉ›mÉªk\nrelating to education and scholarship\nSynonyms: educational/scholastic/instructional/pedagogical/scholarly/studious/literary/well read/intellectual/clever/erudite/learned/educated/cultured/bookish/highbrow/pedantic/donnish/cerebral/serious\nExamples:\nacademic achievement he had no academic qualifications not of practical relevance; of only theoretical interest\nSynonyms: theoretical/conceptual/notional/philosophical/unpragmatic/hypothetical/speculative/conjectural/conjectured/suppositional/putative\nExamples:\nthe debate has been largely academic Noun ËŒakÉ™ËˆdÉ›mÉªk\na teacher or scholar in a university or other institute of higher education\nSynonyms: scholar/lecturer/don/teacher/educator/instructor/trainer/tutor/professor/fellow/man of letters/woman of letters/highbrow/thinker/bluestocking\nExamples:\nthe EU offers grants to academics for research on approved projects dramatic position ease box interval due front 2.50 1 0.01 2021-12-24T00:25:54Z Back Adjective drÉ™ËˆmatÉªk\nrelating to drama or the performance or study of drama Examples:\nthe dramatic arts a dramatic society (of an event or circumstance) sudden and striking\nSynonyms: considerable/substantial/sizeable/goodly/fair/reasonable/tidy/marked/pronounced\nExamples:\na dramatic increase in recorded crime trauma position ease box interval due front 2.50 2 1.00 2021-12-25T00:31:10Z Back Noun ËˆtrÉ”ËmÉ™ ËˆtraÊŠmÉ™\na deeply distressing or disturbing experience\nSynonyms: torment/agony/suffering/pain\nExamples:\na personal trauma like the death of a child many experience the trauma of divorce physical injury\nSynonyms: injury/damage/hurt/wound/wounding/sore/bruise/cut/laceration/lesion/abrasion/contusion\nExamples:\nrupture of the diaphragm caused by blunt trauma character position ease box interval due front 2.50 2 1.00 2021-12-25T00:26:15Z Back Noun ËˆkarÉªktÉ™\nthe mental and moral qualities distinctive to an individual\nSynonyms: personality/nature/disposition/temperament/temper/mentality/turn of mind/psychology/psyche/constitution/make-up/make/stamp/mould/cast\nExamples:\nrunning away was not in keeping with her character a person in a novel, play, or film\nSynonyms: persona/person/role/part\nExamples:\nthe author\u0026rsquo;s compassionate identification with his characters a printed or written letter or symbol.\na characteristic, especially one that assists in the identification of a species.\nSynonyms: sort/variety/kind/style/type/category/order/breed/species/class/designation/specification/genre/genus/brand/make/character/ilk/kidney/grain/stamp/mould=Verb= ËˆkarÉªktÉ™\ninscribe or write (something).\ndebate position ease box interval due front 2.50 1 0.01 2021-12-24T00:30:53Z Back Noun dÉªËˆbeÉªt\na formal discussion on a particular matter in a public meeting or legislative assembly, in which opposing arguments are put forward and which usually ends with a vote\nSynonyms: discussion/exchange of views/discourse/parley\nExamples:\nlast night\u0026rsquo;s debate on the Education Bill Verb dÉªËˆbeÉªt\nargue about (a subject), especially in a formal manner\nSynonyms: discuss/confer about/talk over/talk through/talk about/exchange views on/exchange views about/thrash out/argue/argue about/argue the pros and cons of/dispute/wrangle over/bandy words concerning/contend over/contest/controvert/moot\nExamples:\nMPs debated the issue in the Commons members of the society debated for five nights connivance position ease box interval due front 2.50 1 0.01 2021-12-24T00:42:29Z Back Noun kÉ™ËˆnÊŒÉªvns\nwillingness to allow or be secretly involved in an immoral or illegal act\nSynonyms: collusion/complicity/collaboration/involvement/assistance/abetting\nExamples:\nthis infringement of the law had taken place with the connivance of officials injury position ease box interval due front 2.50 2 1.00 2021-12-25T00:26:39Z Back Noun ËˆÉªn(d)Ê’(É™)ri\nan instance of being injured\nSynonyms: wound/bruise/cut/gash/tear/rent/slash/gouge/scratch/graze/laceration/abrasion/contusion/lesion/sore\nExamples:\nshe suffered an injury to her back an ankle injury head injuries damage to a person\u0026rsquo;s feelings\nSynonyms: offence/abuse\nExamples:\ncompensation for injury to feelings acrimonious position ease box interval due front 2.50 2 1.00 2021-12-25T00:37:43Z Back Adjective ËŒakrÉªËˆmÉ™ÊŠnÉªÉ™s\n(typically of speech or discussion) angry and bitter\nSynonyms: bitter/rancorous/caustic/acerbic/scathing/sarcastic/acid/harsh/sharp/razor-edged/cutting/astringent/trenchant/mordant/virulent\nExamples:\nan acrimonious dispute about wages indulge position ease box interval due front 2.50 2 1.00 2021-12-24T03:10:08Z Back Verb ÉªnËˆdÊŒldÊ’\nallow oneself to enjoy the pleasure of\nSynonyms: wallow in/give oneself up to/give way to/yield to/abandon oneself to/give rein to/give free rein to\nExamples:\nwe indulged in a cream tea allow (someone) to enjoy something desired\nSynonyms: pamper/spoil/overindulge/coddle/mollycoddle/cosset/nanny/nursemaid/mother/baby/pet/spoon-feed/overparent\nExamples:\na luxury service used to indulge the chief executive gullet position ease box interval due front 2.50 1 0.01 2021-12-24T00:49:24Z Back Noun ËˆÉ¡ÊŒlÉªt\nthe passage by which food passes from the mouth to the stomach; the oesophagus.\nSynonyms: oesophagus/throat/pharynx\nstir position ease box interval due front 2.50 1 0.01 2021-12-24T00:55:11Z Back Verb stÉ™Ë\nmove a spoon or other implement round in (a liquid or other substance) in order to mix it thoroughly\nSynonyms: mix/blend/agitate\nExamples:\nDesmond stirred his tea and ate a biscuit pour in the cream and stir well move or cause to move slightly\nSynonyms: move slightly/change one\u0026rsquo;s position/twitch/quiver/tremble/disturb/rustle/shake/move/flutter/agitate/swish\nExamples:\nnothing stirred except the wind a gentle breeze stirred the leaves arouse strong feeling in (someone); move or excite\nSynonyms: arouse/rouse/kindle/inspire/stimulate/excite/awaken/waken/quicken/animate/activate/galvanize/fire/electrify/whet\nExamples:\nthey will be stirred to action by what is written Noun stÉ™Ë\na slight physical movement Examples:\nI stood, straining eyes and ears for the faintest stir a commotion\nSynonyms: commotion/disturbance/fuss/ado/excitement/flurry/uproar/ferment/brouhaha/furore/turmoil/sensation\nExamples:\nthe event caused quite a stir an act of stirring food or drink\nExamples:\nhe gives his Ovaltine a stir Noun stÉ™Ë\nprison Examples:\nI\u0026rsquo;ve spent twenty-eight years in stir throat position ease box interval due front 2.50 1 0.01 2021-12-24T00:56:25Z Back Noun Î¸rÉ™ÊŠt\nthe passage which leads from the back of the mouth of a person or animal\nSynonyms: gullet/oesophagus\nExamples:\nher throat was parched with thirst he\u0026rsquo;s pouring beer down his throat swivel position ease box interval due front 2.50 1 0.01 2021-12-24T00:33:24Z Back Noun ËˆswÉªvl\na coupling between two parts enabling one to revolve without turning the other.\nSynonyms: pivot/axle/spindle/hinge/axis/fulcrum/pin/hub/kingpin/gudgeon/trunnion=Verb= ËˆswÉªvl\nturn around a point or axis or on a swivel\nSynonyms: turn/spin/swing/rotate/revolve/pivot/twirl/whirl/wheel/gyrate/pirouette\nExamples:\nhe swivelled in the chair she swivelled her eyes round ordinary position ease box interval due front 2.50 1 0.01 2021-12-24T00:52:43Z Back Adjective ËˆÉ”ËdÉªn(É™)ri\nwith no special or distinctive features; normal\nSynonyms: usual/normal/standard/typical/stock/common/customary/habitual/accustomed/expected/wonted/everyday/regular/routine/day-to-day/daily/established/settled/set/fixed/traditional/quotidian/prevailing\nExamples:\nhe sets out to depict ordinary people it was just an ordinary evening (especially of a judge or bishop) exercising authority by virtue of office and not by deputation.\nNoun ËˆÉ”ËdÉªn(É™)ri\nwhat is commonplace or standard Examples:\ntheir clichÃ©s were vested with enough emotion to elevate them above the ordinary a judge who exercises authority by virtue of office and not by deputation.\na member of the clergy, such as an archbishop in a province or a bishop in a diocese, with immediate jurisdiction.\nthose parts of a Roman Catholic service, especially the Mass, which do not vary from day to day.\nany of the simplest principal charges used in coats of arms (especially chief, pale, bend, fess, bar, chevron, cross, saltire).\na meal provided at a fixed time and price at an inn.\na penny-farthing bicycle.\ndispute position ease box interval due front 2.50 1 0.01 2021-12-24T00:38:22Z Back Noun dÉªËˆspjuËt ËˆdÉªspjuËt\na disagreement or argument\nSynonyms: debate/discussion/discourse/disputation/argument/controversy/contention/disagreement/altercation/falling-out/quarrelling/variance/dissension/conflict/friction/strife/discord/antagonism/quarrel/argument/altercation/squabble/falling-out/shouting match/disagreement/difference of opinion/clash/wrangle/feud/fight/fracas/brawl\nExamples:\na territorial dispute between the two countries the Commission is in dispute with the government Verb dÉªËˆspjuËt\nargue about (something)\nSynonyms: debate/discuss/exchange views\nExamples:\nthe point has been much disputed he taught and disputed with local poets compete for; strive to win\nExamples:\nthe two drivers crashed while disputing the lead solicitor position ease box interval due front 2.50 1 0.01 2021-12-24T00:36:23Z Back Noun sÉ™ËˆlÉªsÉªtÉ™\na member of the legal profession qualified to deal with conveyancing, the drawing up of wills, and other legal matters. A solicitor may also instruct barristers and represent clients in some courts.\nSynonyms: lawyer/legal representative/legal practitioner/legal executive/notary/notary public/advocate/attorney- a person who tries to obtain business orders, advertising, etc.; a canvasser\nExamples:\nshe had been a telephone solicitor for a Chicago newspaper audibly position ease box interval due front 2.50 2 1.00 2021-12-25T00:33:10Z Back Adverb ËˆÉ”ËdÉªbli\nin a way that can be heard Examples:\nthe view of the snow-capped Alps caused everyone in the carriage to gasp audibly spectator position ease box interval due front 2.50 1 0.01 2021-12-24T00:24:50Z Back Noun spÉ›kËˆteÉªtÉ™\na person who watches at a show, game, or other event\nSynonyms: onlooker/watcher/looker-on/fly on the wall/viewer/observer/witness/eyewitness/bystander/non-participant/sightseer\nExamples:\naround fifteen thousand spectators came to watch the thrills and spills concentrate position ease box interval due front 2.50 1 0.01 2021-12-24T00:32:44Z Back Verb ËˆkÉ’nsntreÉªt ËˆkÉ’nsÉ›ntreÉªt\nfocus all one\u0026rsquo;s attention on a particular object or activity\nSynonyms: focus/direct/centre/centralize/bring to bear/focus one\u0026rsquo;s attention on/focus on/pay attention to/keep one\u0026rsquo;s mind on/apply oneself to/address oneself to/devote oneself to/get down to/put one\u0026rsquo;s mind to\nExamples:\nshe couldn\u0026rsquo;t concentrate on the film a threatened tax rise concentrates the mind wonderfully gather (people or things) together in a common location\nExamples:\nthe nation\u0026rsquo;s wealth was concentrated in the hands of the governing elite increase the strength or proportion of (a substance or solution) by removing or reducing the other diluting agent or by selective accumulation of atoms or molecules\nSynonyms: condense/boil down/reduce/distil/thicken/compress\nExamples:\nplants and microorganisms can concentrate metals from the environment Noun ËˆkÉ’nsntreÉªt ËˆkÉ’nsÉ›ntreÉªt\na substance made by removing or reducing the diluting agent; a concentrated form of something\nSynonyms: distillation/essence/extract\nExamples:\napple juice concentrate twisted position ease box interval due front 2.50 1 0.01 2021-12-24T00:54:39Z Back Adjective ËˆtwÉªstÉªd\nforced out of its natural or proper shape; crumpled\nSynonyms: perverted/warped/deviant/depraved/corrupt/abnormal/unhealthy/aberrant/distorted/corrupted/debauched/debased/degenerate/sadistic/evil/wicked\nExamples:\nthe crash left a trail of twisted metal across the carriageway (of a personality or a way of thinking) unpleasantly or unhealthily abnormal; warped\nSynonyms: unwholesome/undesirable/morbid/macabre/ghoulish/twisted/warped/depraved/abnormal/unnatural\nExamples:\na man with a twisted mind trademark position ease box interval due front 2.50 2 1.00 2021-12-25T00:11:45Z Back Noun ËˆtreÉªdmÉ‘Ëk\na symbol, word, or words legally registered or established by use as representing a company or product.\nSynonyms: logo/emblem/sign/stamp/symbol/device/badge/crest/insignia/seal/coat of arms/shield/motif/hallmark/mark/figure/monogram/logotype/colophon\nExamples:\nVerb ËˆtreÉªdmÉ‘Ëk\nmark with or register as a trademark\nSynonyms:\nExamples:\nshe filed a request with the government to trademark her company\u0026rsquo;s name hog position ease box interval due front 2.50 2 1.00 2021-12-25T00:24:37Z Back Noun hÉ’É¡\na domesticated pig, especially a castrated male reared for slaughter.\nSynonyms: pig/sow/swine/porker/piglet/boar\nExamples:\na large motorcycle, in particular a Harley Davidson.\nExamples:\na young sheep before the first shearing.\nVerb hÉ’É¡\ntake or use most or all of (something) in an unfair or selfish way\nSynonyms: monopolize/keep to oneself/dominate/take over/corner/control\nExamples:\nhe never hogged the limelight cause (a ship or its keel) to curve up in the centre and sag at the ends as a result of strain.\ntrial position ease box interval due front 2.50 2 1.00 2021-12-25T00:39:10Z Back Noun ËˆtrÊŒÉªÉ™l\na formal examination of evidence by a judge, typically before a jury, in order to decide guilt in a case of criminal or civil proceedings Synonyms: court case/case/lawsuit/suit/hearing/inquiry/tribunal/litigation/judicial proceedings/legal proceedings/proceedings/legal action Examples: the newspaper accounts of the trial the editor was summoned to stand trial for libel a test of the performance, qualities, or suitability of someone or something Synonyms: test/try-out/experiment/pilot study Examples: clinical trials must establish whether the new hip replacements are working a person, experience, or situation that tests a person\u0026rsquo;s endurance or forbearance Synonyms: nuisance/pest/bother/irritant/source of annoyance/source of irritation/worry/problem/inconvenience/vexation/plague/source of aggravation/thorn in one\u0026rsquo;s flesh/the bane of one\u0026rsquo;s life/one\u0026rsquo;s cross to bear/trouble/worry/anxiety/burden/affliction/ordeal/tribulation/adversity/hardship/tragedy/trauma/reverse/setback/difficulty/problem/misfortune/bad luck/stroke of bad luck/ill fortune/mishap/misadventure Examples: this winter has been a trial for me, physically and emotionally Verb ËˆtrÊŒÉªÉ™l\ntest (something, especially a new product) to assess its suitability or performance Synonyms: test/try out/carry out trials on/put to the test/put through its paces/experiment with Examples: teachers all over the UK are trialling the materials (of a horse, dog, or other animal) compete in trials Synonyms: Examples: the pup trialled on Saturday nephew position ease box interval due front 2.50 2 1.00 2021-12-25T00:41:37Z Back Noun ËˆnÉ›vjuËËˆnÉ›fjuË\na son of one\u0026rsquo;s brother or sister, or of one\u0026rsquo;s brother-in-law or sister-in-law\nSynonyms: relative/relation/blood relation/blood relative/family member/one\u0026rsquo;s own flesh and blood/next of kin\nExamples:\nhe held up his little nephew in his arms stick position ease box interval due front 2.50 1 0.01 2021-12-24T00:29:44Z Back Noun stÉªk\na thin piece of wood that has fallen or been cut off a tree. Synonyms: piece of wood/twig/small branch/cane/pole/beanpole/post/stake/upright/rod Examples:\na long, thin piece of something\nExamples:\na stick of dynamite cinnamon sticks a threat of punishment or unwelcome measures (often contrasted with the offer of reward as a means of persuasion)\nExamples:\ntraining that relies more on the carrot than on the stick severe criticism or treatment\nSynonyms: criticism/flak/censure/reproach/reproof/condemnation/castigation/chastisement/blame/abuse\nExamples:\nI took a lot of stick from the press rural areas far from cities or civilization\nSynonyms: the country/the countryside/the provinces/rural districts/the backwoods/the back of beyond/the wilds/the hinterland/a backwater\nExamples:\nhe felt hard done by living out in the sticks a person of a specified kind\nExamples:\nJanet\u0026rsquo;s not such a bad old stick sometimes a large quantity of unsold stock, especially the proportion of shares which must be taken up by underwriters after an unsuccessful issue.\nVerb stÉªk\npush a sharp or pointed object into or through (something)\nSynonyms: thrust/push/insert/jab/dig/plunge/ram/force\nExamples:\nhe stuck his fork into the sausage she stuck her finger in his eye insert, thrust, or push\nExamples:\na youth with a cigarette stuck behind one ear she stuck out her tongue at him adhere or cling to something\nSynonyms: adhere/cling/be fixed/be glued/remain/stay/linger/dwell/persist/continue/last/endure\nExamples:\nthe plastic seats stuck to my skin if you heat the noodles in the microwave, they tend to stick together be fixed in a particular position or unable to move or be moved\nExamples:\nSara tried to open the window but it was stuck we got stuck in a traffic jam the cat\u0026rsquo;s stuck up a tree accept or tolerate (an unpleasant or unwelcome person or situation)\nSynonyms: tolerate/put up with/take/stand/stand for/accept/stomach/swallow/endure/bear/support/brook/submit to/take something lying down\nExamples:\nI can\u0026rsquo;t stick Geoffreyâ€”he\u0026rsquo;s a real old misery handful position ease box interval due front 2.50 1 0.01 2021-12-24T00:37:25Z Back Noun Ëˆhan(d)fÊŠl\na quantity that fills the hand\nSynonyms: a small number/a small amount/a small quantity/a sprinkling/a smattering/a scattering/a trickle\nExamples:\na small handful of fresh coriander a person or group that is very difficult to deal with or control\nSynonyms: nuisance/problem/bother/irritant/source of annoyance/thorn in someone\u0026rsquo;s flesh/thorn in someone\u0026rsquo;s side/bugbear\nExamples:\nthe kids could be such a handful speculation position ease box interval due front 2.50 1 0.01 2021-12-24T00:44:29Z Back Noun ËŒspÉ›kjÊŠËˆleÉªÊƒn\nthe forming of a theory or conjecture without firm evidence\nSynonyms: conjecture/theorizing/hypothesizing/supposition/guesswork/gamble/venture/risk\nExamples:\nthere has been widespread speculation that he plans to quit this is pure speculation on my part these are only speculations investment in stocks, property, etc. in the hope of gain but with the risk of loss\nExamples:\nthe company\u0026rsquo;s move into property speculation he was a millionaire from speculations on the stock market advantage position ease box interval due front 2.50 2 1.00 2021-12-25T00:39:30Z Back Noun É™dËˆvÉ‘ËntÉªdÊ’\na condition or circumstance that puts one in a favourable or superior position\nSynonyms: upper hand/edge/lead/head/whip hand/trump card\nExamples:\ncompanies with a computerized database are at an advantage she had an advantage over her mother\u0026rsquo;s generation Verb É™dËˆvÉ‘ËntÉªdÊ’\nput in a favourable or superior position. delighted position ease box interval due front 2.50 2 1.00 2021-12-25T00:28:47Z Back Adjective dÉªËˆlÊŒÉªtÉªd\nfeeling or showing great pleasure Synonyms: very pleased/glad/happy/joyful/thrilled/overjoyed/ecstatic/euphoric/elated/blissful/enraptured/on cloud nine/on cloud seven/walking on air/in seventh heaven/in transports of delight/jumping for joy/beside oneself with happiness/excited Examples: a delighted smile we were delighted to see her delight position ease box interval due front 2.50 2 1.00 2021-12-25T00:21:02Z Back Verb dÉªËˆlÊŒÉªt\nplease (someone) greatly Synonyms: please greatly/charm/enchant/captivate/entrance/bewitch/thrill/excite/take someone\u0026rsquo;s breath away Examples: an experience guaranteed to delight both young and old Noun dÉªËˆlÊŒÉªt\ngreat pleasure Synonyms: pleasure/happiness/joy/joyfulness/glee/gladness/gratification/relish/excitement/amusement Examples: the little girls squealed with delight we broke into an impromptu dance, to the delight of the crowd she took great delight in telling your story bust position ease box interval due front 2.50 2 1.00 2021-12-25T00:27:05Z Back Noun bÊŒst\na sculpture of a person\u0026rsquo;s head, shoulders, and chest Synonyms: sculpture/carving/effigy/three-dimensional representation Examples: Epstein concentrated increasingly on bronze portrait busts he keeps a bust of Norris on his desk a woman\u0026rsquo;s chest as measured around her breasts Synonyms: chest/bosom/breasts Examples: a 36-inch bust Verb bÊŒst\nbreak, split, or burst Synonyms: break/crack/snap/fracture/shatter/smash/smash to smithereens/fragment/splinter Examples: they bust the tunnel wide open the film bust every box office record the colour control had bust (of the police) raid or search (premises where illegal activity is suspected) Synonyms: raid/search/make a search of/swoop on/make a raid on Examples: my flat got busted Noun bÊŒst\na period of economic difficulty or depression Synonyms: Examples: the boom was followed by the present bust a raid or arrest by the police Synonyms: Examples: a drug bust a worthless thing Synonyms: Examples: cynics remain convinced the political process is a bust a violent blow Synonyms: Examples: a bust on the snout Adjective bÊŒst\ndamaged or broken Synonyms: Examples: the vacuum cleaner\u0026rsquo;s bust bankrupt Synonyms: fail/collapse/crash/fold/fold up/go under/founder/be ruined/cave in Examples: six of their sponsors have gone bust reckon position ease box interval due front 2.50 2 1.00 2021-12-25T00:37:52Z Back Verb ËˆrÉ›k(É™)n\nestablish by calculation Synonyms: calculate/compute/work out/put a figure on/figure/number/quantify Examples: his debts were reckoned at Â£300,000 the Byzantine year was reckoned from 1 September consider or regard in a specified way Synonyms: regard as/consider/judge/hold to be/view/think of as/look on as Examples: the event was reckoned a failure these prisoners are reckoned to be the most dangerous be of the opinion Synonyms: believe/think/be of the opinion/be of the view/be convinced/suspect/dare say/have an idea/have a feeling/imagine/fancy/guess/suppose/assume/surmise/conjecture/consider Examples: he reckons that the army should pull out entirely I reckon I can manage that despise position ease box interval due front 2.50 2 1.00 2021-12-25T00:28:36Z Back Verb dÉªËˆspÊŒÉªz\nfeel contempt or a deep repugnance for\nSynonyms: detest/hate/loathe/abhor/abominate/execrate/regard with contempt/feel contempt for/shrink from/be repelled by/not be able to bear/not be able to stand/not be able to stomach/find intolerable/deplore/dislike\nExamples:\nhe despised himself for being selfish cellar position ease box interval due front 2.50 1 0.01 2021-12-24T00:36:54Z Back Noun ËˆsÉ›lÉ™\na room below ground level in a house, often used for storing wine or coal Synonyms: basement/vault/crypt/undercroft/underground room/catacomb Examples: the servants led us down into a cellar a wine cellar Verb ËˆsÉ›lÉ™\nstore (wine) in a cellar Synonyms: Examples: it is drinkable now but can be cellared for at least five years clown position ease box interval due front 2.50 1 0.01 2021-12-24T00:26:56Z Back Noun klaÊŠn\na comic entertainer, especially one in a circus, wearing a traditional costume and exaggerated make-up Synonyms: comic entertainer/Pierrot/comedian Examples: a circus clown an unsophisticated country person; a rustic. Synonyms: countryman/countrywoman/peasant/daughter of the soil/son of the soil/country bumpkin/bumpkin/yokel/country cousin Examples: Verb klaÊŠn\nbehave in a comical or playful way Synonyms: fool around/fool about/play the fool/act foolishly/act the clown/act the fool/act the goat/play about/play around/monkey about/monkey around/play tricks/indulge in horseplay/engage in high jinks Examples: Harvey clowned around pretending to be a dog spat position ease box interval due front 2.50 1 0.01 2021-12-24T00:35:08Z Back Noun spat\na short cloth gaiter covering the instep and ankle\nExamples:\nhe would stand outside in his bowler hat and spats an old fellow dressed in spats and dinner suit a cover for the upper part of an aircraft wheel\nExamples:\nnew wheel spats were constructed and the large tyres were replaced by much smaller units Noun spat\na quarrel about an unimportant matter\nSynonyms: disturbance/quarrel/scuffle/brawl/affray/tussle/melee/free-for-all/fight/clash/skirmish/brouhaha/riot/uproar/commotion\nExamples:\nwhen we had our little spats, he had only to smile to get back on the right side of me Verb spat\nquarrel about an unimportant matter\nSynonyms: quarrel/disagree/row/squabble/bicker/fight/wrangle/dispute/feud/have a row/bandy words/have words/cross swords/lock horns/be at each other\u0026rsquo;s throats\nExamples:\npeople expected him and his wife to spat continually Noun spat\nthe spawn or larvae of shellfish, especially oysters\nExamples:\noyster larvae attach themselves as spat to old shells furtive position ease box interval due front 2.50 2 1.00 2021-12-25T00:36:54Z Back Adjective ËˆfÉ™ËtÉªv\nattempting to avoid notice or attention, typically because of guilt or a belief that discovery would lead to trouble; secretive\nSynonyms: secretive/secret/surreptitious\nExamples:\nthey spent a furtive day together he stole a furtive glance at her hound position ease box interval due front 2.50 2 1.00 2021-12-25T00:40:20Z Back Noun haÊŠnd\na dog of a breed used for hunting, especially one able to track by scent Synonyms: dog/hunting dog/canine/mongrel/cur Examples: a hound came running through the trees, nose to the ground used in names of dogfishes, e.g. nurse hound, smooth hound. Synonyms: Examples: Verb haÊŠnd\nharass, persecute, or pursue relentlessly Synonyms: harass/persecute/harry/pester/bother/trouble/annoy/badger/torment/bedevil/keep after/force/drive/pressure/pressurize/propel/push/urge/coerce/impel/dragoon/strong-arm/pursue/chase/follow/shadow/give chase to/follow on the heels of/be hot on someone\u0026rsquo;s heels Examples: she was hounded by the Italian press his opponents used the allegations to hound him out of office chew position ease box interval due front 2.5 0 0 2021-12-22T03:08:12Z Back Verb tÊƒuË\nbite and work (food) in the mouth with the teeth, especially to make it easier to swallow Synonyms: masticate/munch/champ/chomp/crunch/bite/nibble/gnaw/grind Examples: he was chewing a mouthful of toast he chewed for a moment, then swallowed Noun tÊƒuË\na repeated biting or gnawing of something Synonyms: nip/snap/chew/munch/nibble/gnaw Examples: the dog was enjoying a quiet chew of his bone arrange position ease box interval due front 2.50 1 0.01 2021-12-24T00:47:14Z Back Verb É™ËˆreÉªn(d)Ê’\nput (things) in a neat, attractive, or required order\nSynonyms: put in order/order/set out/lay out/spread out/array/present/put out/display/exhibit/group/sort/organize/tidy/position/dispose\nExamples:\nshe had just finished arranging the flowers the columns are arranged in 12 rows organize or make plans for (a future event)\nSynonyms: organize/fix/plan/schedule/pencil in/devise/contrive\nExamples:\nthey hoped to arrange a meeting my aunt arranged for the furniture to be stored adapt (a musical composition) for performance with instruments or voices other than those originally specified\nSynonyms: adapt/set/score/orchestrate/instrument/harmonize\nExamples:\nsongs arranged for viola and piano settle (a dispute or claim)\nSynonyms: put in order/sort out/straighten out/tidy up/order/arrange/organize/adjust/clear up/set to rights/regulate/systematize\nExamples:\nthe quarrel, partly by the interference of the Crown Prince, was arranged pageant position ease box interval due front 2.50 1 0.01 2021-12-24T00:50:34Z Back Noun ËˆpadÊ’(É™)nt\na public entertainment consisting of a procession of people in elaborate, colourful costumes, or an outdoor performance of a historical scene\nSynonyms: parade/procession/cavalcade/scene/play/representation/tableau/tableau vivant\nExamples:\nthey brought the history books to life at the town\u0026rsquo;s pageant the pageant of public life a beauty contest.\nconduct position ease box interval due front 2.50 2 1.00 2021-12-25T00:09:42Z Back Noun ËˆkÉ’ndÊŒkt\nthe manner in which a person behaves, especially in a particular place or situation Synonyms: behaviour/way of behaving/performance/comportment/demeanour/bearing/deportment Examples: they were arrested for disorderly conduct a code of conduct for directors of listed companies the manner in which an organization or activity is managed or directed Synonyms: management/managing/running/direction/control/controlling/overseeing/supervision/regulation/leadership/masterminding/administration/organization/coordination/orchestration/handling/guidance/carrying out/carrying on Examples: the conduct of the elections Verb kÉ™nËˆdÊŒkt\norganize and carry out Synonyms: manage/direct/run/be in control of/control/oversee/supervise/be in charge of/preside over/regulate/mastermind/administer/organize/coordinate/orchestrate/handle/guide/govern/lead/carry out/carry on Examples: in the second trial he conducted his own defence surveys conducted among students lead or guide (someone) to or around a particular place Synonyms: escort/guide/lead/usher/pilot/accompany/show/show someone the way Examples: he conducted us through his personal gallery of the Civil War transmit (a form of energy such as heat or electricity) by conduction Synonyms: transmit/convey/carry/transfer/pass on/hand on/communicate/impart/channel/bear/relay/dispatch/mediate Examples: heat is conducted to the surface direct the performance of (a piece of music or an orchestra, choir, etc.) Synonyms: Examples: the concert is to be conducted by Sir Simon Rattle behave in a specified way Synonyms: behave/perform/act/acquit oneself/bear oneself/carry oneself Examples: he conducted himself with the utmost propriety confident position ease box interval due front 2.50 2 1.00 2021-12-25T00:35:22Z Back Adjective ËˆkÉ’nfÉªd(É™)nt\nfeeling or showing confidence in oneself or one\u0026rsquo;s abilities or qualities\nSynonyms: self-assured/assured/sure of oneself/self-confident/positive\nExamples:\nwe require outgoing, confident people able to approach large groups people who are confident in their identity feeling or showing certainty about something\nSynonyms: optimistic/hopeful/sanguine\nExamples:\nthis time they\u0026rsquo;re confident of a happy ending I am not very confident about tonight\u0026rsquo;s game Noun ËˆkÉ’nfÉªd(É™)nt\na confidant. evidence position ease box interval due front 2.50 2 1.00 2021-12-25T00:17:19Z Back Noun ËˆÉ›vÉªd(É™)ns\nthe available body of facts or information indicating whether a belief or proposition is true or valid Synonyms: proof/confirmation/verification/substantiation/corroboration/affirmation/authentication/attestation/documentation Examples: the study finds little evidence of overt discrimination Verb ËˆÉ›vÉªd(É™)ns\nbe or show evidence of Synonyms: indicate/show/reveal/be evidence of/display/exhibit/manifest/denote/evince/signify Examples: the quality of the bracelet, as evidenced by the workmanship, is exceptional algebra position ease box interval due front 2.50 1 0.01 2021-12-24T00:46:14Z Back Noun ËˆaldÊ’ÉªbrÉ™\nthe part of mathematics in which letters and other general symbols are used to represent numbers and quantities in formulae and equations\nExamples:\ncourses in algebra, geometry, and Newtonian physics ","permalink":"https://notes.0081800.xyz/flashcards/to-kill-a-mockingbird-words/","summary":"Words of To Kill A Mockingbird hostess position ease box interval due front 2.5 0 0 2021-12-24T14:03:09Z Back Noun ËˆhÉ™ÊŠstÉ™s hÉ™ÊŠËˆstÉ›s\na woman who receives or entertains guests\nSynonyms: party-giver/entertainer/hostess\nExamples:\nthe perfect dinner-party hostess incurable position ease box interval due front 2.5 0 0 2021-12-24T14:02:18Z Back Adjective ÉªnËˆkjÊŠÉ™rÉ™b(É™)l\n(of a sick person or a disease) not able to be cured\nSynonyms: untreatable/inoperable/irremediable/beyond cure\nExamples:\neven when the sick are incurable they are never untreatable incurable diseases Noun ÉªnËˆkjÊŠÉ™rÉ™b(É™)l","title":"Words of To Kill A Mockingbird"},{"content":" tags: æŠ€æœ¯ ç›¸å…³è®ºæ–‡ [è¯‘] [è®ºæ–‡] å¯è™šæ‹ŸåŒ–ç¬¬ä¸‰ä»£ï¼ˆè®¡ç®—æœºï¼‰æ¶æ„çš„è§„èŒƒåŒ–æ¡ä»¶ï¼ˆACM, 1974ï¼‰ å®¹å™¨åŒ– Learning Containers From The Bottom Up ","permalink":"https://notes.0081800.xyz/topics/20211122114900-%E8%99%9A%E6%8B%9F%E5%8C%96/","summary":" tags: æŠ€æœ¯ ç›¸å…³è®ºæ–‡ [è¯‘] [è®ºæ–‡] å¯è™šæ‹ŸåŒ–ç¬¬ä¸‰ä»£ï¼ˆè®¡ç®—æœºï¼‰æ¶æ„çš„è§„èŒƒåŒ–æ¡ä»¶ï¼ˆACM, 1974ï¼‰ å®¹å™¨åŒ– Learning Containers From The Bottom Up ","title":"è™šæ‹ŸåŒ–"},{"content":"è¯ä¹¦ [è¯‘] å†™ç»™å·¥ç¨‹å¸ˆï¼šå…³äºè¯ä¹¦ï¼ˆcertificateï¼‰å’Œå…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰çš„ä¸€åˆ‡ï¼ˆSmallStep, 2018ï¼‰\n","permalink":"https://notes.0081800.xyz/notes/20211009104957-%E5%8A%A0%E8%A7%A3%E5%AF%86/","summary":"è¯ä¹¦ [è¯‘] å†™ç»™å·¥ç¨‹å¸ˆï¼šå…³äºè¯ä¹¦ï¼ˆcertificateï¼‰å’Œå…¬é’¥åŸºç¡€è®¾æ–½ï¼ˆPKIï¼‰çš„ä¸€åˆ‡ï¼ˆSmallStep, 2018ï¼‰","title":"åŠ è§£å¯†"},{"content":" tags: Learning English ä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•éŸ³å½¢è§„åˆ™ ä¸€èˆ¬è¿‡å»æ—¶éŸ³å½¢è§„åˆ™ ","permalink":"https://notes.0081800.xyz/notes/20210925202345-%E8%8B%B1%E8%AF%AD%E8%AF%BB%E9%9F%B3%E8%A7%84%E5%88%99/","summary":" tags: Learning English ä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•éŸ³å½¢è§„åˆ™ ä¸€èˆ¬è¿‡å»æ—¶éŸ³å½¢è§„åˆ™ ","title":"è‹±è¯­è¯»éŸ³è§„åˆ™"},{"content":" tags: Learning English æ¯”è¾ƒçº§ å½¢å®¹è¯/å‰¯è¯æ¯”è¾ƒçº§ å¸¸è§„å•éŸ³èŠ‚è¯ -er fast -\u0026gt; faster small -\u0026gt; smaller nice -\u0026gt; nicer large -\u0026gt; largerï¼ˆåˆ é™¤è¯å°¾ä¸å‘éŸ³çš„ eï¼‰ -y -\u0026gt; -ier busy -\u0026gt; busier pretty -\u0026gt; prettier çŸ­å…ƒéŸ³ + è¾…éŸ³ï¼šé‡å†™è¾…éŸ³ -er big -\u0026gt; bigger hot -\u0026gt; hotter å¤šéŸ³èŠ‚ï¼š more + diffcult -\u0026gt; more difficult interesting -\u0026gt; more interesting careful /kÉ›É™ful/ -\u0026gt; more careful -y äºŒéŸ³èŠ‚è¯ï¼ˆ-lyå‰¯è¯é™¤å¤–ï¼‰ï¼šå¸¸ä¸åŠ  more busy -\u0026gt; busier pretty -\u0026gt; prettier quickly -\u0026gt; more quickly ç‰¹æ®Š much/many -\u0026gt; more little -\u0026gt; less good/well -\u0026gt; better bad -\u0026gt; worse ä»£è¯æ¯”è¾ƒçº§ more less æ¯”è¾ƒçº§ä¿®é¥° a little/ a bit + æ¯”è¾ƒçº§ æ›´\u0026hellip;ä¸€ç‚¹ much / a lot / far + æ¯”è¾ƒçº§ æ›´\u0026hellip;å¾—å¤š è‹±è¯­å¸¸è§è¯ç”¨æ³• open/close é™æ€å’ŒåŠ¨æ€ open When do you open(v.)? å¼ºè°ƒåŠ¨æ€ï¼Œæ—¶é—´ç‚¹ We are open at 9 every day. When are you open(adj.)? å¼ºè°ƒé™æ€ï¼Œæ—¶é—´æ®µ We are open from 9 to 6 every day. close close v. åŠ¨æ€ closed adj. é™æ€ ç¤ºä¾‹\nWhen do you close? We close at 12 am. When are you closed? We are closed from 10 pm to 10 am. each/every éƒ½åŠ å•æ•° each å¼ºè°ƒä¸ªä½“ every å¼ºè°ƒæ•´ä½“éƒ½ éƒ½åŠ å•æ•°\nstart/stop doing sth. å¼€å§‹/åœæ­¢åšæŸäº‹ã€‚\nDon\u0026rsquo;t stop learning! I\u0026rsquo;ll stop talking now. My nose won\u0026rsquo;t stop running.(I have a runny nose.) record åŠ¨è¯å’Œåè¯è¯»éŸ³ä¸åŒ v. /riËˆkÉ”Ëd/ è®°å½•å½•åˆ¶ cn. /ËˆrekÉ”Ëd/ è®°å½• è‹±è¯­å•è¯å‰åç¼€ -ed adj vs -ing adj. -ed adj.: sb. æ„Ÿè§‰å¦‚ä½• -ing adj.: sth. å¦‚ä½• interested / interesting Are you interested? excited / exciting The TV series is so exciting co- å‰ç¼€ï¼šè”åˆã€å…±åŒ co-writer co-worker ache /eik/ cn. ç–¼ç—› -\u0026gt; åç¼€: -ache have a headache /had/ have an earache /iÉ™/ have a stomachache /ËˆstÊŒmÉ™k/ have an ache in the nose /neuz/ -ness åå­—åç¼€ sick adj. -\u0026gt; sickness n. ill adj. -\u0026gt; illness n. -er/-ress/-ist è¡¨ç¤ºèŒä¸šçš„åç¼€ -er customer driver -ist receptionist -ress é€šå¸¸è¡¨ç¤ºå¥³æ€§ actor -\u0026gt; actress waiter -\u0026gt; waitress å•å¤æ•° a + å¤æ•° a roast chicken wings an order of rost chicken wings a piece of chicken wings a box of chicken wings a portion of chicken wings staff æ²¡æœ‰å¤æ•°å½¢å¼ We have a staff of 100. We have 100 staff. è¶…è¿‡ä¸€ä¸ªå³å¤æ•° one and a half hours åå­—å‰é¢ä¸åŠ  the at the airport at JFK airport at the JFK airport è‹±è¯­èŠ±è´¹ take sb. + æ—¶é—´ + to do sth. sb. å¤„äºè¢«åŠ¨\nIt usually takes two hours to finish my homework. sb. spend + æ—¶é—´ + on sth. sb. å¤„äºä¸»åŠ¨\nYou\u0026rsquo;ll have to spend 20 more minutes on the trip. èŠ±é’± I will spend a little more on it. It will cost me a little more. è‹±è¯­æ”¯ä»˜ pay ä»˜æ¬¾ æ”¯ä»˜æ–¹å¼å†³å®šäº†ä»‹è¯çš„ä½¿ç”¨ï¼Œç°é‡‘ä½¿ç”¨ in ï¼Œæ”¯ä»˜æ–¹å¼ä½¿ç”¨ by/withï¼Œå¦‚æœæ˜¯ä¿¡ç”¨å¡åˆ™ä½¿ç”¨ byï¼Œç‰¹æŒ‡æŸä¸€å¼ ä¿¡ç”¨å¡åˆ™ç”¨ withï¼š\npay in cash pay by credit card pay with a credit card pay by Alipay/WeChat pay with Alipay/WithChat charge è®°è´¦ charge \u0026hellip; to \u0026hellip; ç®—åˆ° \u0026hellip; çš„è´¦ä¸Š charge è¦ä»· I\u0026rsquo;m going to charge you $20 for the cleaning.\nè‹±è¯­å€æ•° double triple times ï¼ˆè‡³å°‘ 2 å€ï¼‰ increase by \u0026hellip; times ä¸Šæ¶¨\u0026hellip;å€ by up éšæ„å£è¯­ by ç¨‹åº¦ ","permalink":"https://notes.0081800.xyz/notes/20210921092250-%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B3%95/","summary":"tags: Learning English æ¯”è¾ƒçº§ å½¢å®¹è¯/å‰¯è¯æ¯”è¾ƒçº§ å¸¸è§„å•éŸ³èŠ‚è¯ -er fast -\u0026gt; faster small -\u0026gt; smaller nice -\u0026gt; nicer large -\u0026gt; largerï¼ˆåˆ é™¤è¯å°¾ä¸å‘éŸ³çš„ eï¼‰ -y -\u0026gt; -ier busy -\u0026gt; busier pretty -\u0026gt; prettier çŸ­å…ƒéŸ³ + è¾…éŸ³ï¼šé‡å†™è¾…éŸ³ -er big -\u0026gt; bigger hot -\u0026gt; hotter å¤šéŸ³èŠ‚ï¼š more + diffcult -\u0026gt; more difficult interesting -\u0026gt; more interesting careful /kÉ›É™ful/ -\u0026gt; more careful -y äºŒéŸ³èŠ‚è¯ï¼ˆ-lyå‰¯è¯é™¤å¤–ï¼‰ï¼šå¸¸ä¸åŠ  more busy -\u0026gt; busier pretty -\u0026gt; prettier quickly -\u0026gt; more quickly ç‰¹æ®Š much/many -\u0026gt; more little -\u0026gt; less good/well -\u0026gt; better bad -\u0026gt; worse ä»£è¯æ¯”è¾ƒçº§ more less æ¯”è¾ƒçº§ä¿®é¥° a little/ a bit + æ¯”è¾ƒçº§ æ›´\u0026hellip;ä¸€ç‚¹ much / a lot / far + æ¯”è¾ƒçº§ æ›´\u0026hellip;å¾—å¤š è‹±è¯­å¸¸è§è¯ç”¨æ³• open/close é™æ€å’ŒåŠ¨æ€ open When do you open(v.","title":"è‹±è¯­è¯æ³•"},{"content":" tags: Learning English è¿è¯» å˜éŸ³ /d/ + /j/ = /dÊ’j/ Woul~d y~ou like to try int on? /t/ + /j/ = /tÊƒj/ What abou~t you~? è¯å°¾è¾…éŸ³ + è¯é¦–å…ƒéŸ³ I~t i~s A glas~s o~f water è¿˜åŸ r RP\nhe~r i~deas Whe~re is i~t? è¯­å—åˆ‡å‰² Chunking è¯­å—ï¼ˆChunkï¼‰ èƒ½è¡¨è¾¾å®é™…å«ä¹‰ä¸”è¯­ä¹‰ä¸å‰²è£‚çš„è¯ä¸²ã€‚\nè¯­å—åˆ‡å‰²ï¼ˆChunkingï¼‰ æ ¹æ®è¯´è¯èŠ‚å¥å°†å¥å­è‡ªç„¶åˆ‡å‰²ä¸ºè‹¥å¹²è¯­å—ã€‚\nè¯­å—è¯­è¿è¯» åŒä¸€è¯­å—å†…èƒ½è¿åˆ™è¿ã€‚\nåéŸ³ åŸºæœ¬åŸåˆ™ åŒä¸€è¯­å—å†…ï¼ŒéŸ³åŒåˆ™åã€‚\nç¤ºä¾‹ Excuse me, Coul~d you~ tell me how I can get to Pret A Monger?\nget to -\u0026gt; geto\nçˆ†ç ´éŸ³å¤„äºè¯å°¾ ä¸‰ç»„æµŠåŒ–éŸ³ï¼ˆå­¦åï¼šçˆ†ç ´éŸ³ï¼‰\n/t/, /d/ /k/, /g/ /p/, /b/ çˆ†ç ´éŸ³å¤„äºè¯å°¾ï¼Œä¸”è¯¥è¯å¤„äºè¯­å—æœ«å°¾æˆ–è€…åè¿è¾…éŸ³ã€‚\ntwenty-eigh~th o~f June. Is that OKAY wi~th y~ou? é‡éŸ³ç­‰æ—¶æ€§ è‹±è¯­è¯­å¥ä¸­ï¼Œé‡è¯»éŸ³èŠ‚ä¹‹é—´çš„æ—¶é•¿åŸºæœ¬ç›¸ç­‰ã€‚ éŸ³èŠ‚ç­‰æ—¶ï¼šå¥ä¸­è¯è¯­ç¼©è¯çš„æ—¶é—´å¹¶éç”±éŸ³èŠ‚æ•°é‡çš„æ€»æ•°å†³å®šï¼Œè€Œæ˜¯ç”±é‡è¯»éŸ³èŠ‚æ•°é‡å†³å®šã€‚ Video: è‹±è¯­çš„èŠ‚å¥å’Œ\u0026quot;ç­‰æ—¶æ€§\u0026quot;(è¿™æ‰æ˜¯ä¸­å¼è‹±è¯­çš„ç½ªé­ç¥¸é¦–!)\n","permalink":"https://notes.0081800.xyz/notes/20210921091537-%E6%B5%81%E5%88%A9%E8%8B%B1%E8%AF%AD/","summary":"tags: Learning English è¿è¯» å˜éŸ³ /d/ + /j/ = /dÊ’j/ Woul~d y~ou like to try int on? /t/ + /j/ = /tÊƒj/ What abou~t you~? è¯å°¾è¾…éŸ³ + è¯é¦–å…ƒéŸ³ I~t i~s A glas~s o~f water è¿˜åŸ r RP\nhe~r i~deas Whe~re is i~t? è¯­å—åˆ‡å‰² Chunking è¯­å—ï¼ˆChunkï¼‰ èƒ½è¡¨è¾¾å®é™…å«ä¹‰ä¸”è¯­ä¹‰ä¸å‰²è£‚çš„è¯ä¸²ã€‚\nè¯­å—åˆ‡å‰²ï¼ˆChunkingï¼‰ æ ¹æ®è¯´è¯èŠ‚å¥å°†å¥å­è‡ªç„¶åˆ‡å‰²ä¸ºè‹¥å¹²è¯­å—ã€‚\nè¯­å—è¯­è¿è¯» åŒä¸€è¯­å—å†…èƒ½è¿åˆ™è¿ã€‚\nåéŸ³ åŸºæœ¬åŸåˆ™ åŒä¸€è¯­å—å†…ï¼ŒéŸ³åŒåˆ™åã€‚\nç¤ºä¾‹ Excuse me, Coul~d you~ tell me how I can get to Pret A Monger?\nget to -\u0026gt; geto","title":"æµåˆ©è‹±è¯­"},{"content":" tags: Learning English Give me a hand come in æœ‰ come in all/different colors/size come on ã€Œéšæ„ã€é¼“åŠ¨ã€é¼“åŠ±ã€å‚¬ä¿ƒ come to æ€»è®¡ Excuse me æŠ±æ­‰/å¼•èµ·æ³¨æ„ by the way/BTW é¡ºä¾¿è¯´ä¸€ä¸‹ shame on sb.! sb. å¯è€» make it æˆåŠŸè¾¾æˆ do/try one\u0026rsquo;s best (to do sth.) å°½æœ€å¤§åŠªåŠ›åšæŸäº‹ sure thing no problem.\nç¤¼è²Œè¯·æ±‚ ç¤¼è²Œç¨‹åº¦ please \u0026gt; please ç–‘é—®å¥ \u0026gt; è‚¯å®šå¥ could \u0026gt; would \u0026gt; can ç¤ºä¾‹ï¼š\nShow me (please) Can you show me? Can you show me please? Would you show me (please)? Could you show me (please)? é€‚ç”¨åœºæ™¯\néšæ„èŠå¤© 1-2 æœåŠ¡åœºåˆ 3-5 å•†åŠ¡åœºåˆ 4-5 Give me a hand åˆ«æ„£ç€äº† Give me a hand (please)! æ­£å¸¸è¯·æ±‚ Can you give me a hand (please)! å®¢æ°”è¯·æ±‚ Would/Could you give me a hand (please)! would like å§”å©‰è¡¨ç¤ºæƒ³è¦ do sth. go with ã€å§”å©‰ã€‘é€‰æ‹©ã€é‡‡çº³ I\u0026rsquo;ll definitely go with your idea. May I start with \u0026hellip; May I start with a roast chicken wings? be not a big fan: å§”å©‰æ‹’ç» I am not a big fan (of it), sorry. I am sorry but + å„å¼å¥å‹ I am sorry but I have to do it. I am sorry but can you wait a second I am sorry but what can I do. It/sb. + seem to do å¼±åŒ–è¯­æ°” It seems to be very popular\u0026hellip; I can\u0026rsquo;t seem to find\u0026hellip; It seems (that) It è™šä¸»è¯­ prefer to do sth. I prefer to pay now please. I would like to pay now please. wouldï¼šwill ä¹‹å§”å©‰å®¢æ°”ç‰ˆ That would be $64.58 That will be $64.58. èº«ä½“å¥åº·ç¨‹åº¦ find \u0026lt; good \u0026lt; great\nåå­—å’Œäººç§°é¡ºåº Lisa and I I ç½®å You and Lisa You ç½®å‰ æ—¶æ—¥é¡ºåº é€šå¸¸ä»å°åˆ°å¤§ See you at 1pm this Sunday. é™¤éç‰¹åˆ«å¼ºè°ƒ See you this Sunday at 1pm. Thank you in advance æå‰æ„Ÿè°¢æ‚¨ï¼Œä¸èƒ½è¯´ï¼šThank you early!\næ—¥æœŸè¡¨è¾¾ Jan. -\u0026gt; January /ËˆdÊ’Ã¦njuÉ™ri/ Feb. -\u0026gt; February /ËˆfebruÉ™ri/ Mar. -\u0026gt; March /mÉ‘ËtÊƒ/ Apr. -\u0026gt; April /ËˆeiprÉ™l/ May -\u0026gt; May /mei/ Jun. -\u0026gt; June /dÊ’uËn/ Jul. -\u0026gt; Junly /dÊ’Ëˆlai/ Aug. -\u0026gt; August /É”ËÉ¡É™st/ Sep. -\u0026gt; September /sÉ™pËˆtembÉ™/ Oct. -\u0026gt; October /É”kËˆtÉ™ubÉ™/ Nov. -\u0026gt; November /nÉ™uËˆvembÉ™/ Dec. -\u0026gt; December /diËˆsembÉ™/ å¹´æœˆæ—¥è¯»å†™ï¼šè‹±å¼ï¼ˆBrEï¼‰ dd/MM/yyyy 31st Oct 2019 (the thirty-first of October twenty nineteen) å¹´æœˆæ—¥è¯»å†™ï¼šç¾å¼ï¼ˆAmEï¼‰ MM/dd/yyyy Oct 31st 2019 (October the thrity-first twenty nineteen) æ—¥æœŸé—®ç­” What\u0026rsquo;s the date today? ï¼ˆæ—¥æœŸï¼‰ 1st May 2020 What day is it today?ï¼ˆæ˜ŸæœŸï¼‰ It\u0026rsquo;s Thursday (today). æ˜ŸæœŸ + å¹´æœˆæ—¥ Thursday October 31st 2019 Thursday 31st Oct 2019 è‹±è¯­ç‰›æ’ cooked ç¨‹åº¦ well ç†Ÿçš„ medium /miËdjÉ™m/ ä¸­ç­‰ç­‰ rare /rÉ›É™/ ç”Ÿçš„ ç»„åˆ\nwell done 10 medium well 7 medium 5 medium rare 3 rare 1 take a rest è‹±è¯­å°æ•°ç‚¹è¯»æ³• 64.58\næ­£å¼ï¼š64 point 58 æ—¥å¸¸ï¼š64 point 58 You can\u0026rsquo;t miss it ","permalink":"https://notes.0081800.xyz/notes/20210920081734-%E8%8B%B1%E8%AF%AD%E4%B9%A0%E8%AF%AD/","summary":"tags: Learning English Give me a hand come in æœ‰ come in all/different colors/size come on ã€Œéšæ„ã€é¼“åŠ¨ã€é¼“åŠ±ã€å‚¬ä¿ƒ come to æ€»è®¡ Excuse me æŠ±æ­‰/å¼•èµ·æ³¨æ„ by the way/BTW é¡ºä¾¿è¯´ä¸€ä¸‹ shame on sb.! sb. å¯è€» make it æˆåŠŸè¾¾æˆ do/try one\u0026rsquo;s best (to do sth.) å°½æœ€å¤§åŠªåŠ›åšæŸäº‹ sure thing no problem.\nç¤¼è²Œè¯·æ±‚ ç¤¼è²Œç¨‹åº¦ please \u0026gt; please ç–‘é—®å¥ \u0026gt; è‚¯å®šå¥ could \u0026gt; would \u0026gt; can ç¤ºä¾‹ï¼š\nShow me (please) Can you show me? Can you show me please?","title":"è‹±è¯­ä¹ è¯­"},{"content":" tags: Learning English åŒå®¾è¯­ ä¾‹å¥ï¼šI want to buy a birthday gift for my sister. ç»“æ„ï¼šbuy sth. for sb. åŒå®¾è¯­ï¼šby sb. sth. buy my sister a birthday gift. Can I buy a drink for you? Can I buy you a drink? åŒå®¾è¯­é™åˆ¶ ç¬¬äºŒä¸ªå®¾è¯­å¿…é¡»ä¸ºåè¯ï¼Œä¸èƒ½æ˜¯äººç§°ä»£è¯ï¼ˆpron.ï¼‰ã€‚\nä¸‹é¢è¯­å¥ä¸èƒ½ä½¿ç”¨åŒå®¾è¯­\nI want to buy you it.(X)\nåŒå®¾è¯­åŠ¨è¯ bring/give/tell/sell/ask/show Bring it to me Bring me a present. Give it to me Give me the pen. tell the story to me tell me the story email the photo to me email me the photo sell the handbag to her sell her the handbag ask sb. sth. show sb. sth. take the coffee to her: ä¸èƒ½ä½¿ç”¨ Give me the handï¼šä¹ è¯­ä¸èƒ½ä½¿ç”¨ å®¾è¯­ä»å¥ I think (that) \u0026hellip; åœ¨ã€Œä¸€å¥ç®€å•å¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªè°“è¯­åŠ¨è¯ã€çš„åŸºç¡€ä¸Šå®ç°å¤æ‚å¥ã€‚\nI think there is one on Green Street. ä¸»å¥ï¼šI think\u0026hellip; ä»å¥ï¼šthere is\u0026hellip; å®¾è¯­ä»å¥ï¼šä»å¥ä½œä¸ºå®¾è¯­ã€‚\nI think (that) there is\u0026hellip; that ä½œä¸ºå¼•å¯¼æ ‡å¿—å¯ä»¥çœç•¥ I am sure (that) \u0026hellip; ç»“æ„ç±»ä¼¼ I think (that)\nI remember (that)\u0026hellip; I remember (that) she walked in the rain for one and a half hours. åŒå®¾è¯­ + å®¾è¯­ä»å¥ Let me tell you (that) you can find butter over there. I can tell you (that) he is a good man é—®é¢˜å‹å®¾è¯­ä»å¥ ç»“æ„ï¼šwhere + I can find buffer ç‰¹æ®Šç–‘é—®è¯ + é™ˆè¿°å¥è¯­åºã€‚ ç¤ºä¾‹ï¼š\nCould you tell me where I can find butter? Could you let me know What he does? Could you tell me What her job is? Could you ask him Where they are from? Could you teach us How we should use dumpling flour? å€’è£… here å€’è£…ï¼š sb. åˆ°äº† Here we/you/they are. Here I am. Here he/she/it is. here is/are \u0026hellip; ç»™ä½  Here are my reservation number and my passport. so ç‰¹æ®Šå€’è£…è¡¨ç¤º sb. ä¹Ÿæ˜¯ be: So + be + sb. do: Do + do/does + sb. åé—® Aren\u0026rsquo;t they the same? ç–‘é—®å¥ï¼šAre they the same? Don\u0026rsquo;t you know that? ç–‘é—®å¥ï¼šDo you konw that? åé—®å›ç­” è‚¯å®šyes/å¦å®šno é’ˆå¯¹è¿”å›çš„å›ç­”è¿™é‡Œå’Œä¸­æ–‡ä¹ æƒ¯ä¸ä¸€æ ·ï¼Œè‹±è¯­å›ç­”çš„ä¸æ˜¯åé—®ï¼Œè€Œæ˜¯å›ç­”é—®é¢˜ã€‚\nç¤ºä¾‹1:\nAren\u0026rsquo;t they the same? No, they are not. ï¼ˆä¸ï¼Œä»–ä»¬ä¸ä¸€æ ·ï¼‰ Yes, there are.ï¼ˆæ˜¯ï¼Œä»–ä»¬ä¸€æ ·ï¼‰ ç¤ºä¾‹2:\nDon\u0026rsquo;t you know that? éš¾é“ä½ ä¸çŸ¥é“å—ï¼Ÿ Yes, I do Yeah No, I don\u0026rsquo;t ç¥ˆä½¿å¥ (You) Look there! (You) Please wait here. ç¥ˆä½¿å¥ + and sb. will .. Just avoid the major streets and we will be there in 16 minutes. Take the first right and you\u0026rsquo;ll find Red Lobster is just across the street. åŸå› çŠ¶è¯­ä»å¥ as/because å¼•å¯¼çš„åŸå› çŠ¶è¯­ä»å¥ There are a lot larger, as the room size nearly doubles.\nå¼ºè°ƒå› æœçš„ç¨‹åº¦ä¸Š as å°äº becauseã€‚\nå› æœé¡ºåºä»»æ„ As the room size nearly doubles, they are a lot larger. so å¼•å¯¼çš„åŸå› çŠ¶è¯­ä»å¥ The room size nearly doubles, so they are a lot larger.\nas/because ä¸èƒ½å’Œ so ä¸€èµ·ä½¿ç”¨ So they are a lot larger, the room size nearly doubles As/because the room size nearly doubles, so they are a lot larger. æ—¶æ€æ— é™å®š If it rains, I\u0026rsquo;ll stay home. As it is raining now. I\u0026rsquo;ll stay home. As it is raining now, I\u0026rsquo;m staying home. As it is going to rain, I\u0026rsquo;ll stay home. As it is going to rain, I\u0026rsquo;m straying home. ","permalink":"https://notes.0081800.xyz/notes/20210920081114-%E8%8B%B1%E8%AF%AD%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84/","summary":"tags: Learning English åŒå®¾è¯­ ä¾‹å¥ï¼šI want to buy a birthday gift for my sister. ç»“æ„ï¼šbuy sth. for sb. åŒå®¾è¯­ï¼šby sb. sth. buy my sister a birthday gift. Can I buy a drink for you? Can I buy you a drink? åŒå®¾è¯­é™åˆ¶ ç¬¬äºŒä¸ªå®¾è¯­å¿…é¡»ä¸ºåè¯ï¼Œä¸èƒ½æ˜¯äººç§°ä»£è¯ï¼ˆpron.ï¼‰ã€‚\nä¸‹é¢è¯­å¥ä¸èƒ½ä½¿ç”¨åŒå®¾è¯­\nI want to buy you it.(X)\nåŒå®¾è¯­åŠ¨è¯ bring/give/tell/sell/ask/show Bring it to me Bring me a present. Give it to me Give me the pen. tell the story to me tell me the story email the photo to me email me the photo sell the handbag to her sell her the handbag ask sb.","title":"è‹±è¯­è¯­æ³•ç»“æ„"},{"content":" tags: Learning English seem è¡¨ç¤ºä¼¼ä¹ It seems to be very popular nowdays. ç”¨ä½œå§”å©‰ èƒŒæ™¯ï¼šthe man in the photoã€‚ å¯¹æ¯”ä»¥ä¸‹ä¸¤å¥\nHe is in good health He seems to be in good health(è¿™å¥æ˜¯é”™çš„ He seems in good health) è¡¨ç¤ºçŠ¹è±« That\u0026rsquo;s not right That doesn\u0026rsquo;t seem right That doesn\u0026rsquo;t seem to be right ","permalink":"https://notes.0081800.xyz/notes/20210920075833-%E8%8B%B1%E8%AF%AD%E5%B8%B8%E7%94%A8%E8%AF%8D/","summary":" tags: Learning English seem è¡¨ç¤ºä¼¼ä¹ It seems to be very popular nowdays. ç”¨ä½œå§”å©‰ èƒŒæ™¯ï¼šthe man in the photoã€‚ å¯¹æ¯”ä»¥ä¸‹ä¸¤å¥\nHe is in good health He seems to be in good health(è¿™å¥æ˜¯é”™çš„ He seems in good health) è¡¨ç¤ºçŠ¹è±« That\u0026rsquo;s not right That doesn\u0026rsquo;t seem right That doesn\u0026rsquo;t seem to be right ","title":"è‹±è¯­å¸¸ç”¨è¯"},{"content":" tags: Learning English shape Êƒeip be in great/good shape stay/keep in (good) shape è‹±è¯­è¡¨ç¤ºæ¬¡æ•°èŒƒå›´ five times a month once two weeks è‹±è¯­è¡¨ç¤ºå°ºç  loose /luËs/ æ¾çš„ tight /tait/ ç´§çš„ what/how about æè®® What/How about some coffee? What/How about you? ç©¿è¡£ï¼štry on/take off/put on n.: try on sth I\u0026rsquo;d like to try on the shoes. pron.: try sth. on I\u0026rsquo;d like to try them on. think of è®¤ä¸º sth. æ€ä¹ˆæ · What do you think of my new shirt? What does she think of me? would like å§”å©‰è¡¨ç¤ºæƒ³è¦ do sth. I\u0026rsquo;d like to see some casual shirts.\n\u0026rsquo;d = would\nI want to buy a birthday gift for my sister want to ç›´æ¥ï¼Œé€‚åˆæœ‹å‹ä¹‹é—´å¯¹è¯ã€‚\nç»“æ„ would like + to do sth. Would you like to join us? I\u0026rsquo;d like to have some water When would you like to go to the moveis? would like + sb. to do sth. Would you like me to show you? What would you like me to do? I\u0026rsquo;d like you to make a reservation. would like + sth.(+ ä»‹è¯çŸ­è¯­) I\u0026rsquo;d like a table Would you like some water? I\u0026rsquo;d like a table in a non-smoking area. I\u0026rsquo;d like a table for him. I\u0026rsquo;d like some water for breakfast. I\u0026rsquo;d like the reservation for 1pm. I\u0026rsquo;d like to make a reservation for 1pm. chat with/to sb. about sth. use sth. do/for sth. ç”¨ \u0026hellip; æ¥åš \u0026hellip; è‹±è¯­æŒ‡è·¯ æ²¿ç€è·¯/ç›´èµ° go along/down + è¡—é“(street / road / avenue / Ave.)\ngo along Fourth Street go down this Queen Ave. go straight go + è·ç¦» + down + è¡—é“\ngo two blocks down the street go straight (on) ç›´èµ°\ngo straight on past the police station æ‹å¼¯ turn turn left/right turn right onto Queen Avenue make/take a left/right turn make/take a left/right take a left at the second crossing in advance adv. æå‰ Do I need to book early? I\u0026rsquo;ll go there in advance Thank you in advance get get sb. sth. to do May I get you anything to drink? May I get you a shirt to try on? get/become + æ¯”è¾ƒçº§ It\u0026rsquo;s getting worse. It\u0026rsquo;s getting hotter. either \u0026hellip; or äºŒé€‰ä¸€/neither \u0026hellip; nor äºŒè€…çš†å¦ take either the railroad train or Line A. You should take neither the railroad train nor Line A. ","permalink":"https://notes.0081800.xyz/notes/20210920075417-%E8%8B%B1%E8%AF%AD%E7%9F%AD%E8%AF%AD/","summary":"tags: Learning English shape Êƒeip be in great/good shape stay/keep in (good) shape è‹±è¯­è¡¨ç¤ºæ¬¡æ•°èŒƒå›´ five times a month once two weeks è‹±è¯­è¡¨ç¤ºå°ºç  loose /luËs/ æ¾çš„ tight /tait/ ç´§çš„ what/how about æè®® What/How about some coffee? What/How about you? ç©¿è¡£ï¼štry on/take off/put on n.: try on sth I\u0026rsquo;d like to try on the shoes. pron.: try sth. on I\u0026rsquo;d like to try them on. think of è®¤ä¸º sth. æ€ä¹ˆæ · What do you think of my new shirt?","title":"è‹±è¯­çŸ­è¯­"},{"content":" tags: Learning English å‰¯è¯ adv/adverb æ˜¯æŒ‡åœ¨å¥å­ä¸­è¡¨ç¤ºè¡Œä¸ºæˆ–çŠ¶æ€ç‰¹å¾çš„è¯ï¼Œç”¨ä»¥ä¿®é¥°åŠ¨è¯ã€å½¢å®¹è¯ã€å…¶ä»–å‰¯è¯æˆ–å…¨å¥ï¼Œè¡¨ç¤ºæ—¶é—´ã€åœ°ç‚¹ã€ç¨‹åº¦ã€æ–¹å¼ç­‰æ¦‚å¿µã€‚ å‰¯è¯å¯åˆ†ä¸ºï¼šæ—¶é—´å‰¯è¯ã€é¢‘ç‡å‰¯è¯ã€åœ°ç‚¹å‰¯è¯ã€æ–¹å¼å‰¯è¯ã€ç¨‹åº¦å‰¯è¯ã€ç–‘é—®å‰¯è¯ã€è¿æ¥å‰¯è¯ã€å…³ç³»å‰¯è¯ã€è¡¨é¡ºåºçš„å‰¯è¯ä»¥åŠè¡¨å®Œæˆçš„å‰¯è¯ã€‚\né¢‘ç‡å‰¯è¯ always usually often sometimes about è¡¨ç¤ºå¤§çº¦å¤§çº¦ä¿®é¥°æ•°é‡ã€‚\nå½¢å®¹è¯ adj å½¢å®¹è¯åç¼€ -ful helpful useful thankful å½¢å®¹è¯åç¼€ -ed interested excited å½¢å®¹è¯åç¼€ -ing interesting exciting åŠ¨è¯ verb æƒ…æ€åŠ¨è¯ modal verb.\ncan(could)/may(might)/must/need/to/shall(should)/will(would).\nåŠ¨åè¯ å½¢å¼ v.-ing åŠ¨è¯çš„åè¯åŒ–ã€‚\nè¯­æ³•ï¼šåè¯ è¯­æ„ï¼šåŠ¨è¯\nå½¢å˜è§„åˆ™ ç‰¹æ®Š 1 -eï¼šå» e åŠ  ing live -\u0026gt; living give -\u0026gt; giving ç‰¹æ®Š 2 çŸ­å…ƒéŸ³ + ä¸€è¾…éŸ³ï¼šé‡å¤æœ€åä¸€ä¸ªå­—æ¯åŠ  ing jog -\u0026gt; jogging swim -\u0026gt; swimming å¸¸è§„ï¼šç›´æ¥åŠ  ing do -\u0026gt; doing study -\u0026gt; studying è¯æ€§ I usually go swimming.\nåŠ¨è¯å«ä¹‰ï¼šæŠ½è±¡ åŠ¨åè¯: ucn.\nå›ºå®šè¯ç»„ï¼š\nWhat do you do for a living? How do you make a liveing? å¸¸è§„ç”¨æ³• ç‰¹æ®ŠåŠ¨è¯ + åŠ¨åè¯ start start doing sth. start to do sth. go + doing è¡¨ç¤ºå»åšæŸäº‹ã€‚ go jogging go swimming go shopping ç›´æ¥ä½¿ç”¨ åè¯ç”¨æ³• I lkie swimming. Swimming is my favorite. ç³»åŠ¨è¯ ç³»åŠ¨è¯ï¼Œä¹Ÿç§°è¿ç³»åŠ¨è¯ï¼ˆLinking verbï¼‰ï¼Œæ˜¯ç”¨æ¥è¾…åŠ©ä¸»è¯­çš„åŠ¨è¯ã€‚å®ƒæœ¬èº«æœ‰è¯ä¹‰ï¼Œä½†ä¸èƒ½å•ç‹¬ç”¨ä½œè°“è¯­ï¼Œå…¶åå¿…é¡»è·Ÿè¡¨è¯­ï¼Œæ„æˆç³»è¡¨ç»“æ„è¯´æ˜ä¸»è¯­çš„çŠ¶å†µã€æ€§è´¨ã€ç‰¹å¾ç­‰æƒ…å†µã€‚ åœ¨è‹±è¯­ä¸­ï¼Œç³»åŠ¨è¯çš„åŠŸèƒ½ä¸»è¦æ˜¯æŠŠè¡¨è¯­ï¼ˆåè¯ã€å½¢å®¹è¯ã€æŸäº›å‰¯è¯ã€éè°“è¯ã€ä»‹è¯çŸ­è¯­ã€ä»å¥ï¼‰å’Œå®ƒçš„ä¸»è¯­è”ç³»åœ¨ä¸€èµ·ï¼Œè¯´æ˜ä¸»è¯­çš„æ€§è´¨ã€ç‰¹å¾ã€å“æ€§æˆ–çŠ¶æ€ã€‚å®ƒæœ‰è‡ªå·±çš„ä½†ä¸å®Œå…¨çš„è¯ä¹‰ï¼Œä¸èƒ½åœ¨å¥ä¸­ç‹¬ç«‹ä½œè°“è¯­ï¼Œå¿…é¡»å’Œåé¢çš„è¡¨è¯­ä¸€èµ·æ„æˆå¥å­çš„è°“è¯­ã€‚å®ƒè™½æ˜¯è™šè¯ï¼Œä½†æ˜¯å…¶ç”¨æ³•å¾ˆå¤æ‚ï¼Œè€Œä¸”ä¸å¯å¿½è§†ã€‚\nHe is quick. He is quickly He walks quickly. He walks quick. ç»“æ„ v + adj. vs adv.\nHe is quick (v. + adj.) adj. -\u0026gt; sb./sth. å½¢å®¹è¯ä¿®é¥°äººæˆ–ç‰©ã€‚ be quick ä»– \u0026lt;- æ˜¯å¿«çš„ï¼Œä»– \u0026lt;- å¾ˆå¿«ã€‚ He walks quickly (v. + adv.) adv. -\u0026gt; v. å‰¯è¯ä¿®é¥°åŠ¨ä½œ èµ° \u0026lt;- å¾—å¿«ï¼Œå¿«æ­¥ -\u0026gt; èµ° v + adj: ç³»åŠ¨è¯ S. + v. + adj.\nv. + adj. -\u0026gt; S.\nv + adv: å®æ„åŠ¨è¯ ç³»åŠ¨è¯/å®æ„åŠ¨è¯ + n. My name is Jake. Can I have your name? That sounds fun(ucn. ä¹è¶£) That sounds funny(adj. æ»‘ç¨½çš„) ä»‹è¯ prep/preposition è¡¨ç¤ºåè¯ã€ä»£è¯ç­‰ä¸å¥ä¸­å…¶å®ƒè¯çš„å…³ç³»ï¼Œåœ¨å¥ä¸­ä¸èƒ½å•ç‹¬ä½œå¥å­æˆåˆ†ã€‚ä»‹è¯åé¢ä¸€èˆ¬æœ‰åè¯ã€ä»£è¯æˆ–ç›¸å½“äºåè¯çš„å…¶ä»–è¯ç±»ã€çŸ­è¯­æˆ–ä»å¥ä½œå®ƒçš„å®¾è¯­ï¼Œè¡¨ç¤ºä¸å…¶ä»–æˆåˆ†çš„å…³ç³»ã€‚\nä»‹è¯ + street AmE(American English) on the street/road æŒ‡åœ°ç‚¹åœ¨åœ¨ XXX é©¬è·¯ä¸Š in the street/road åœ¨é©¬è·¯ä¸­é—´ BE(British English) in the street/road é€šå¸¸æƒ…å†µä¸‹è¡¨ç¤ºã€Œåœ¨è¡—ä¸Šã€ on the street/road æœ‰äº›æ—¶å€™ç”¨ on è¡¨ç¤ºã€Œåœ¨è¡—ä¸Šã€ AmE \u0026amp; BE å…·ä½“åˆ°é—¨ç‰Œå·æ—¶ç”¨ at\nIt is at No.10 Downing Street.\nä»‹è¯ in/on ç©¿è¡£ on: è¡£æœåœ¨äººèº«ä¸Š I think it looks prefect on you! in: äººç©¿ç€è¡£æœï¼ˆåœ¨è¡£æœé‡Œé¢ï¼‰ He is in the blue shirt. ä»‹è¯ + æ—¶é—´ ä»‹è¯ in/on æ—¶é—´ç‚¹ on: å…·ä½“è½å®åˆ°å¤© on Sunday on Sunday afternoon in: in the afternoon ä»‹è¯ at æ—¶åˆ» at 1pm/1 o\u0026rsquo;clock å›ºå®šæ­é… at night/noon ä»‹è¯ in æ—¶é—´æ®µ åˆ»æ„æ¨¡ç³Šï¼Œå¯ä»¥åŒæ—¶è¡¨è¾¾ï¼š\nåœ¨ \u0026hellip; ä¹‹å†… åœ¨ \u0026hellip; ä¹‹å ä»‹è¯ at/on å‘¨æœ« at/on weekends at/on the weekend æ— ä»‹è¯ every/all What are busy at weekends. What are busy every weekend. What are busy all weekends. this/that/these/those See you on Sunday. See you this Sunday. next/last I\u0026rsquo;ll not be free that morning. I\u0026rsquo;ll not be free next morning. ä»‹è¯ within æ—¶é—´æ®µ æ— æ­§ä¹‰çš„è¡¨è¾¾ã€Œåœ¨ \u0026hellip; ä¹‹å†…ã€ã€‚\nä»‹è¯ for æ—¶é—´æ®µè¡¨ç¤ºæŒç»­ How long would you like to stay in our hotel I\u0026rsquo;d like to stay for there nights. How far is the hotel? It will not be for long. ä»‹è¯ at the bar åœ¨å§å° at/in the bar åœ¨é…’å§ã€‚\nä»‹è¯ for prep. ä¸ºäº† thanks for the/your help ä»‹è¯ as æ¯”è¾ƒçº§ as å¦‚åŒ: Thanks, please go as fast as possible.\nä»‹è¯ past You can go/walk past the street. You can pass the street. ä¸èƒ½è¯´ï¼šYou can past the street ä»‹è¯ across It is across the street. You can go/walk across the street. ä¸èƒ½è¯´ï¼šYou can across the street. ä»‹è¯ per æŒ‰æ¯ä¸ª ä»‹è¯ at/in front at the front dest/reception at the front dest in front of: æ–¹ä½ before Hero is in front of the hotel. Hero is standing in front of hotel. ä»‹è¯ of VS for sb. It is + adj. + of sb. + ä¸å®šå¼ That\u0026rsquo;s very generous of you to give me the free upgrade. adj. ä¿®é¥° sb. ï¼šYou are very generousã€‚ It is + adj. + for sb. + ä¸å®šå¼ It is very important for us to learn English. adj. ä¿®é¥° ä¸å®šå¼ï¼šTo learn English is very important(ä¸æ˜¯ We are important) ä»‹è¯ in bed He is in bed. å§åºŠï¼ˆç”Ÿç—…ã€ç¡è§‰ã€ä¼‘æ¯ï¼‰ He is in the bed. åœ¨åºŠä¸Š ä»‹è¯ besides adv./prep. é™¤æ­¤ä¹‹å¤– Besides, you need to drink a lot of water. Besides that, you need to drink a lot of water. ä»‹è¯ util prep. + æ—¶é—´ï¼šç›´åˆ° \u0026hellip; æ—¶é—´ You\u0026rsquo;ll have to stay in bed until next Monday. ä»‹è¯ like prep. You look like hime. You sound like hime. You are like him. What does he look/sound like? What is he like? åèº«ä»£è¯ pron. ä½ æˆ‘ä»– + selfï¼ˆå•æ•°ï¼‰/selvesï¼ˆå¤æ•°ï¼‰\nç¬¬ä¸€ã€äºŒäººç§° æ‰€æœ‰æ ¼ + self/selves our -\u0026gt; ourselves my -\u0026gt; myself your -\u0026gt; yourself your -\u0026gt; youselves ç¬¬ä¸‰äººç§° å®¾æ ¼ + self/selves himself herself themselves itself çŠ¶è¯­ conj. æ¡ä»¶çŠ¶è¯­ if å¦‚æœ ä¸»ä»é¢ å€’ï¼Œä¸€èˆ¬å‡è®¾ï¼šä¸»å°†ä»ç°ã€‚\nä»ç°\nIf you take\u0026hellip;, it will take you\u0026hellip; ifï¼ˆæ¡ä»¶ï¼‰çŠ¶è¯­ä¸»å¥ it: ä¸»å¥ If it rains, I\u0026rsquo;ll stay home. If you come, I will be very happy. She won\u0026rsquo;t see you if you are late. if å¦‚æœå°±ä¼š\nç¥ˆä½¿å¥ and sb. will\nIf you exercise four times a week, You will be in great shape. util conj. + å¥å­ You\u0026rsquo;ll have to stay in bed util it gets better. ä¸»å°†ä»ç°ï¼Œç±» if åŸå› çŠ¶è¯­ as because so ","permalink":"https://notes.0081800.xyz/notes/20210920073442-%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%80%A7/","summary":"tags: Learning English å‰¯è¯ adv/adverb æ˜¯æŒ‡åœ¨å¥å­ä¸­è¡¨ç¤ºè¡Œä¸ºæˆ–çŠ¶æ€ç‰¹å¾çš„è¯ï¼Œç”¨ä»¥ä¿®é¥°åŠ¨è¯ã€å½¢å®¹è¯ã€å…¶ä»–å‰¯è¯æˆ–å…¨å¥ï¼Œè¡¨ç¤ºæ—¶é—´ã€åœ°ç‚¹ã€ç¨‹åº¦ã€æ–¹å¼ç­‰æ¦‚å¿µã€‚ å‰¯è¯å¯åˆ†ä¸ºï¼šæ—¶é—´å‰¯è¯ã€é¢‘ç‡å‰¯è¯ã€åœ°ç‚¹å‰¯è¯ã€æ–¹å¼å‰¯è¯ã€ç¨‹åº¦å‰¯è¯ã€ç–‘é—®å‰¯è¯ã€è¿æ¥å‰¯è¯ã€å…³ç³»å‰¯è¯ã€è¡¨é¡ºåºçš„å‰¯è¯ä»¥åŠè¡¨å®Œæˆçš„å‰¯è¯ã€‚\né¢‘ç‡å‰¯è¯ always usually often sometimes about è¡¨ç¤ºå¤§çº¦å¤§çº¦ä¿®é¥°æ•°é‡ã€‚\nå½¢å®¹è¯ adj å½¢å®¹è¯åç¼€ -ful helpful useful thankful å½¢å®¹è¯åç¼€ -ed interested excited å½¢å®¹è¯åç¼€ -ing interesting exciting åŠ¨è¯ verb æƒ…æ€åŠ¨è¯ modal verb.\ncan(could)/may(might)/must/need/to/shall(should)/will(would).\nåŠ¨åè¯ å½¢å¼ v.-ing åŠ¨è¯çš„åè¯åŒ–ã€‚\nè¯­æ³•ï¼šåè¯ è¯­æ„ï¼šåŠ¨è¯\nå½¢å˜è§„åˆ™ ç‰¹æ®Š 1 -eï¼šå» e åŠ  ing live -\u0026gt; living give -\u0026gt; giving ç‰¹æ®Š 2 çŸ­å…ƒéŸ³ + ä¸€è¾…éŸ³ï¼šé‡å¤æœ€åä¸€ä¸ªå­—æ¯åŠ  ing jog -\u0026gt; jogging swim -\u0026gt; swimming å¸¸è§„ï¼šç›´æ¥åŠ  ing do -\u0026gt; doing study -\u0026gt; studying è¯æ€§ I usually go swimming.","title":"è‹±è¯­è¯æ€§"},{"content":" tags: Learning English é€šè¿‡åŠ¨è¯å˜åŒ–æ¥åŒºåˆ†æ—¶é—´ é€šè¿‡åŠ¨è¯å˜åŒ–æ¥åŒºåˆ†æ—¶é—´ã€‚\nI am walking in the rain. æ­£åœ¨ I will walk in the rain. å°†è¦ I walk in the rain sometings. ä¸€èˆ¬çŠ¶æ€ã€é‡å¤ã€å¸¸æ€ ä¸€èˆ¬ç°åœ¨æ—¶ è¡¨ç¤ºï¼š\nå½“å‰çš„ä¸€èˆ¬çŠ¶æ€\né‡å¤æˆ–ä¹ æƒ¯åŠ¨ä½œ\nam/is/areï¼ˆbe åŠ¨è¯ï¼‰ï¼šæ˜¯ï¼Œå¤„äºæŸçŠ¶æ€\ndo/doesï¼ˆå®æ„åŠ¨è¯ï¼‰ï¼šå…·ä½“åŠ¨ä½œ\n(X): am/is/are + do/des ä¸€èˆ¬ç°åœ¨æ—¶ä¸èƒ½ am/is/are è·ŸåŠ¨è¯å®æ„åŠ¨è¯\nä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•éŸ³å½¢è§„åˆ™ tags: è‹±è¯­è¯»éŸ³è§„åˆ™ ä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•æ•°åŠ¨è¯éœ€è¦å˜å½¢ï¼Œéœ€è¦æ³¨æ„å˜å½¢åçš„è¯»éŸ³\næ¸…å¯¹æ¸… /s/ works helps éæ¸…åˆ™æµŠ /z/ lives sees goes does /dÊŒz/ ç»„åˆ /dz/ /ts/ meets needs è¿‘ä¼¼éŸ³ -es /iz/ introduces fishes ç°åœ¨è¿›è¡Œæ—¶ å½“å‰æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…æˆ–åŠ¨ä½œï¼Œè¡¨ç¤ºå½“å‰æ­£åœ¨å‘ç”Ÿæˆ–è€…è¿‘å°†æ¥ã€‚\nI\u0026rsquo;m looking for a shirt. I\u0026rsquo;m not taking it off. Everyone is wearing the same shirt on the street! ç»“æ„ am/is/are doing\ndoing å½¢æ€ å¸¸è§„ a. look -\u0026gt; looking b. wear -\u0026gt; wearing c. do -\u0026gt; doing è¯å°¾ e ä¸å‘éŸ³ a. take -\u0026gt; taking b. give -\u0026gt; giving c. exercise -\u0026gt; exercising çŸ­å…ƒéŸ³ + è¾…éŸ³ a. fit -\u0026gt; fitting b. sit -\u0026gt; sitting c. get -\u0026gt; getting è¿›è¡Œæ—¶å«ä¹‰ ç°åœ¨è¿›è¡Œæ—¶ I\u0026rsquo;m looking for a shirt è¿‘å°†æ¥ I\u0026rsquo;m not taking it off! ä¸´æ—¶çš„ä¸€ç§çŠ¶æ€ I am working at the middle school. ï¼ˆæš—ç¤ºæ¥ä¸‹æ¥å¯èƒ½ä¸åœ¨ä¸­å­¦å·¥ä½œï¼‰ ç¨³å®š VS å˜åŒ– ä¸€èˆ¬çŠ¶æ€ï¼šç¨³å®šã€é•¿æœŸ ç°åœ¨è¿›è¡Œï¼šå˜åŒ–ã€ä¸´æ—¶\nDo you like hime? Are you liking him? I live in Shanghai I am living in Shanghai ç¨³å®šå«ä¹‰åŠ¨è¯ ç¨³å®šå«ä¹‰çš„åŠ¨è¯ä¸€èˆ¬ä¸ç”¨ç°åœ¨è¿›è¡Œæ—¶ã€‚\nå¸¸è§„ç¨³å®šå«ä¹‰ï¼šwork,live,like,love be We are office workers. æ„Ÿå®˜ see/look/hear/feel I see a guy sitting at the bar. è§‚ç‚¹ think/believe è¿‘å°†æ¥ï¼šç°åœ¨è¿›è¡Œæ—¶ != åŠ¨ä½œæ­£åœ¨è¿›è¡Œ At this time, Camila is arriving at the restaurant. è¡¨ç¤ºæ­£è¦åˆ°è¾¾ He is coming æ­£è¦åˆ°è¾¾ He is finishing the homework. å°±è¦åšå®Œäº† ä¸€èˆ¬å°†æ¥æ—¶ æœªæ¥çš„äº‹ä»¶æˆ–åŠ¨ä½œã€‚\nä¾‹å¥ï¼š\nI think I\u0026rsquo;ll work on Saturday. Lisa and I are going to have a picnic on the beach. ç»“æ„ will å¼•å¯¼(will not won\u0026rsquo;t /wÉ™unt/) \u0026rsquo;ll = will /wil/ å°†è¦ ç±»æƒ…æ€åŠ¨è¯ will + åŠ¨è¯åŸå½¢ will æ— äººç§°å˜åŒ– am/is/are going to æ­£åœ¨å»åšæŸäº‹ -\u0026gt; è¦å»åšæŸäº‹ å®è´¨å«ä¹‰å†³å®šæ—¶æ€ï¼Œæ—¶é—´çŠ¶è¯­éå¿…è¦ã€‚\néä¸€èˆ¬å°†æ¥æ—¶çš„å°†æ¥ æƒ…æ€åŠ¨è¯ Can you be my hero? May I come in? You must study hard. è‡ªå¸¦å°†æ¥å«ä¹‰çš„è¯ plan cn. What a good pan! v. He never plans anything for tormorrow. ä¸€èˆ¬è¿‡å»æ—¶ åŠ¨ä½œå‘ç”Ÿäºè¿‡å»ã€‚\nI walked in the rain yesterday. They started yesterday. ä¸€èˆ¬è¿‡å»æ—¶åŠ¨è¯å½¢å˜ è§„åˆ™å˜å½¢ï¼š-ed walked /t/ started /id/ seemed /d/ ä¸è§„åˆ™å½¢å˜ have/has -\u0026gt; had be am/is -\u0026gt; was /wÉ”z/ are -\u0026gt; were /wÊ’Ë/ find -\u0026gt; found /faund/ bring -\u0026gt; brought /brÉ”Ët/ do -\u0026gt; did /did/ come -\u0026gt; came take -\u0026gt; took give -\u0026gt; gave ä¸€èˆ¬è¿‡å»æ—¶éŸ³å½¢è§„åˆ™ æ¸…å¯¹æ¸… /t/ walked helped missed stopped éæ¸…åˆ™æµŠ /d/ seemed turned believed studied /t/ /d/ ç»“å°¾ç‰¹æ®Š /id/ started wanted needed recoreded è¿‡å»æ—¶é—´ before ago \u0026hellip; ä¹‹å‰ æ—¶æ€ï¼šå®è´¨æ—¶é—´ å¯ä»¥ä¸å€ŸåŠ©æ—¶é—´é€šè¿‡åŠ¨è¯å˜å½¢æ¥è¡¨ç¤ºæ—¶é—´ã€‚\nä¸€èˆ¬è¿‡å»ä¹‹å¦å®š be + not wasn\u0026rsquo;t/weren\u0026rsquo;t\nIt is not in my pocket. It was not in my pocket. did + not don\u0026rsquo;t/doesn\u0026rsquo;t -\u0026gt; didn\u0026rsquo;t do/did not do\nä¸€èˆ¬è¿‡å»ä¹‹ç–‘é—® ç–‘é—®åŸç†åŒå¦å®šã€‚\nWhen did you start to have the signs? Were you lost?? Did you have the signs of illness? æƒ…æ€ä¸æ—¶æ€ æƒ…æ€åŠ¨è¯åŠ åŠ¨è¯åŸå‹ï¼Œè¯­å¢ƒå†³å®šæ—¶é—´å«ä¹‰ï¼š\ncan may must should shall You can/may/must/should/shall come.\nhave to ç°åœ¨ Sorry, I have to leave now. had to è¿‡å» Sorry, I had to leave at that time. will have to å°†æ¥ Sorry, I will have to leave soon. ","permalink":"https://notes.0081800.xyz/notes/20210920073034-%E8%8B%B1%E8%AF%AD%E6%97%B6%E6%80%81/","summary":"tags: Learning English é€šè¿‡åŠ¨è¯å˜åŒ–æ¥åŒºåˆ†æ—¶é—´ é€šè¿‡åŠ¨è¯å˜åŒ–æ¥åŒºåˆ†æ—¶é—´ã€‚\nI am walking in the rain. æ­£åœ¨ I will walk in the rain. å°†è¦ I walk in the rain sometings. ä¸€èˆ¬çŠ¶æ€ã€é‡å¤ã€å¸¸æ€ ä¸€èˆ¬ç°åœ¨æ—¶ è¡¨ç¤ºï¼š\nå½“å‰çš„ä¸€èˆ¬çŠ¶æ€\né‡å¤æˆ–ä¹ æƒ¯åŠ¨ä½œ\nam/is/areï¼ˆbe åŠ¨è¯ï¼‰ï¼šæ˜¯ï¼Œå¤„äºæŸçŠ¶æ€\ndo/doesï¼ˆå®æ„åŠ¨è¯ï¼‰ï¼šå…·ä½“åŠ¨ä½œ\n(X): am/is/are + do/des ä¸€èˆ¬ç°åœ¨æ—¶ä¸èƒ½ am/is/are è·ŸåŠ¨è¯å®æ„åŠ¨è¯\nä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•éŸ³å½¢è§„åˆ™ tags: è‹±è¯­è¯»éŸ³è§„åˆ™ ä¸€èˆ¬ç°åœ¨æ—¶ç¬¬ä¸‰äººç§°å•æ•°åŠ¨è¯éœ€è¦å˜å½¢ï¼Œéœ€è¦æ³¨æ„å˜å½¢åçš„è¯»éŸ³\næ¸…å¯¹æ¸… /s/ works helps éæ¸…åˆ™æµŠ /z/ lives sees goes does /dÊŒz/ ç»„åˆ /dz/ /ts/ meets needs è¿‘ä¼¼éŸ³ -es /iz/ introduces fishes ç°åœ¨è¿›è¡Œæ—¶ å½“å‰æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…æˆ–åŠ¨ä½œï¼Œè¡¨ç¤ºå½“å‰æ­£åœ¨å‘ç”Ÿæˆ–è€…è¿‘å°†æ¥ã€‚\nI\u0026rsquo;m looking for a shirt.","title":"è‹±è¯­æ—¶æ€"},{"content":" tags: Linux Linux I/O Linux I/O æ¼”è¿› é˜»å¡å¼ï¼šread()/write() éé˜»å¡å¼ï¼šselect()/poll()/epoll()ï¼Œä¸æ”¯æŒæ–‡ä»¶ I/O Thread Pool Direct I/Oï¼ˆæ•°æ®è½¯ä»¶ï¼‰ï¼šç»•è¿‡ page cache å¼‚æ­¥ IOï¼ˆLinux AIOï¼‰ï¼šæ—©èµ·è¿›æ”¯æŒæ–‡ä»¶ I/Oï¼Œè¿‘æœŸæ”¯æŒäº† epoll æ”¯æŒéæ–‡ä»¶ I/O Linux io_uring [è¯‘] Linux å¼‚æ­¥ I/O æ¡†æ¶ io_uringï¼šåŸºæœ¬åŸç†ã€ç¨‹åºç¤ºä¾‹ä¸æ€§èƒ½å‹æµ‹ å¯¹æ¯” Linux AIOï¼š\né‡æ–°è®¾è®¡å®ç°çœŸæ­£çš„æ˜¯ä¸ã€‚ æ”¯æŒä»»ä½•ç±»å‹çš„ I/Oï¼šcached filesã€direct-access files ç”šè‡³ blocking socketsã€‚ çµæ´»ã€å¯æ‰©å±•ï¼šåŸºäº io_uring èƒ½å¤Ÿé‡å†™ Linux çš„æ¯ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚ åŸç†åŠæ ¸å¿ƒæ•°æ®ç»“æ„ï¼šSQ/CQ/SQE/CQE æ¯ä¸ª io_uring å®ä¾‹éƒ½æœ‰ä¸¤ä¸ªç¯å½¢é˜Ÿåˆ—ï¼Œåœ¨å†…æ ¸å’Œåº”ç”¨ç¨‹åºä¹‹é—´å…±äº«ï¼š\næäº¤é˜Ÿåˆ—ï¼šsubmission queueï¼ˆSQï¼‰ å®Œæˆé˜Ÿåˆ—ï¼šcompletion queueï¼ˆCQï¼‰ è¿™ä¸¤ä¸ªé˜Ÿåˆ—ï¼š\néƒ½æ˜¯å•ç”Ÿäº§è€…ã€å•æ¶ˆè´¹è€…ï¼Œsize æ˜¯ 2 çš„å¹‚æ¬¡ï¼› æä¾›æ— é”æ¥å£ï¼ˆlock-less access interfaceï¼‰ï¼Œå†…éƒ¨ä½¿ç”¨å†…å­˜å±éšœåšåŒæ­¥ï¼ˆcoordinated with memory barrersï¼‰ã€‚ ä½¿ç”¨æ–¹å¼ï¼š\nè¯·æ±‚ åº”ç”¨åˆ›å»º SQ entriesï¼ˆSQEï¼‰ï¼Œæ›´æ–° SQ tailï¼› å†…æ ¸æ¶ˆè´¹ SQEï¼Œæ›´æ–° SQ head å®Œæˆ å†…æ ¸ä¸ºå®Œæˆä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚åˆ›å»º CQ enriesï¼ˆCQEï¼‰ï¼Œæ›´æ–° CQ tailï¼› åº”ç”¨æ¶ˆè´¹ CQEï¼Œæ›´æ–° CQ head å®Œæˆäº‹ä»¶ï¼ˆcompletion eventsï¼‰å¯èƒ½ä»¥ä»»æ„é¡ºåºåˆ°è¾¾ï¼Œåˆ°æ€»æ˜¯ä¸ç‰¹å®šçš„ SQE ç›¸å…³è”çš„ã€‚ æ¶ˆè´¹ CQE è¿‡ç¨‹æ— éœ€åˆ‡æ¢åˆ°å†…æ ¸æ€ å¸¦æ¥çš„å¥½å¤„ æ”¯æŒæ‰¹å¤„ç† æ”¯æŒæ–‡ä»¶ I/O ç³»ç»Ÿè°ƒç”¨ï¼šreadã€writeã€sendã€recvã€acceptã€opentatã€statã€ä¸“ç”¨çš„ä¸€äº›ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚ fallocate ä¸å†å±€é™äºæ•°æ®åº“åº”ç”¨ åº”å¯¹ç°åœ¨ç¡¬ä»¶æ¶æ„ï¼šå°†ç¡¬ä»¶æ¶æ„æœ¬èº«ä½œä¸ºä¸€ä¸ªç½‘ç»œï¼ˆå¤šæ ¸å¤š CPU æ˜¯ä¸€ä¸ªåŸºç¡€ç½‘ç»œã€CPU ä¹‹é—´æ˜¯ä¸€ä¸ªç½‘ç»œã€CPU å’Œç£ç›˜ I/O ä¹‹é—´åˆæ˜¯ä¸€ä¸ªç½‘ç»œï¼‰ ä¸‰ç§å·¥ä½œæ¨¡å¼ ä¸­æ–­é©±åŠ¨æ¨¡å¼ï¼ˆinterrupt drivenï¼‰ï¼šé»˜è®¤æ¨¡å¼ã€‚å¯é€šè¿‡ io_uring_enter() æäº¤ I/O è¯·æ±‚ï¼Œç„¶åç›´æ¥æ£€æŸ¥ CQ çŠ¶æ€åˆ¤æ–­æ˜¯å¦å®Œæˆã€‚\nè½®è¯¢æ¨¡å¼ï¼ˆpolledï¼‰\néœ€è¦æ–‡ä»¶ç³»ç»Ÿå’Œå—è®¾å¤‡æ”¯æŒè½®è¯¢åŠŸèƒ½ã€‚å¯¹æ¯”ä¸­æ–­é©±åŠ¨æ–¹å¼ï¼Œè¿™ç§æ–¹å¼å»¶è¿Ÿæ›´ä½ï¼Œä½†å¯èƒ½ä¼šå°å·æ›´å¤šçš„ CPU èµ„æºã€‚\nåªæœ‰æŒ‡å®šäº† O_DIRECT æ ‡è¯†ä½çš„çš„æ–‡ä»¶æè¿°ç¬¦æ‰èƒ½ä½¿ç”¨è¿™ç§æ¨¡å¼ã€‚ä½†ä¸€ä¸ªè¯»æˆ–å†™è¯·æ±‚æäº¤ç»™è½®è¯¢ä¸Šä¸‹æ–‡ï¼ˆpolled contextï¼‰ä¹‹åï¼Œ åº”ç”¨å¿…é¡»è°ƒç”¨ io_uring_enter() æ¥è½®è¯¢ CQ é˜Ÿåˆ—ï¼Œåˆ¤æ–­è¯·æ±‚æ˜¯å¦å·²ç»å®Œæˆã€‚\nåŒä¸€ä¸ª io_uring ä¸æ”¯æŒæ··åˆä½¿ç”¨è½®è¯¢å’Œéè½®è¯¢æ¨¡å¼ã€‚\nå†…æ ¸è½®è¯¢æ¨¡å¼ï¼ˆkernel polledï¼‰\nåˆ›å»ºä¸€ä¸ªå†…æ ¸çº¿ç¨‹ï¼ˆkernel threadï¼‰æ¥æ‰§è¡Œ SQ çš„è½®è¯¢å·¥ä½œã€‚åº”ç”¨æ— éœ€åˆ‡æ¢åˆ°å†…æ ¸æ€ç‰›ç»“æœå‡ºå‘ I/O æ“ä½œã€‚é€šè¿‡ SQ æ¥æäº¤ SQEï¼Œä»¥åŠç›‘æ§ CQ çš„å®ŒæˆçŠ¶æ€ï¼Œåº”ç”¨æ— éœ€ä»»ä½•ç³»ç»Ÿè°ƒç”¨ï¼Œå°±èƒ½æäº¤å’Œæ”¶å‰² I/Oï¼ˆsubmit and reap I/Osï¼‰ã€‚\nå¦‚æœå†…æ ¸çº¿ç¨‹çš„ç©ºé—²æ—¶é—´è¶…è¿‡äº†ç”¨æˆ·çš„é…ç½®å€¼ï¼Œå®ƒä¼šé€šçŸ¥åº”ç”¨ï¼Œç„¶åè¿›å…¥ idle çŠ¶æ€ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œåº”ç”¨å¿…é¡»è°ƒç”¨ io_uring_enter() æ¥å”¤é†’å†…æ ¸çº¿ç¨‹ã€‚å¦‚æœ I/O ä¸€ç›´å¾ˆç¹å¿™ï¼Œå†…æ ¸çº¿æ€§æ˜¯ä¸ä¼š sleep çš„ã€‚\né«˜çº§ç‰¹æ€§ File registration Buffer registration Poll ring Linked operations ç”¨æˆ·ç©ºé—´åº“ liburing Linux Virtual Memory Management ","permalink":"https://notes.0081800.xyz/notes/20210907142848-linux_kernel/","summary":"tags: Linux Linux I/O Linux I/O æ¼”è¿› é˜»å¡å¼ï¼šread()/write() éé˜»å¡å¼ï¼šselect()/poll()/epoll()ï¼Œä¸æ”¯æŒæ–‡ä»¶ I/O Thread Pool Direct I/Oï¼ˆæ•°æ®è½¯ä»¶ï¼‰ï¼šç»•è¿‡ page cache å¼‚æ­¥ IOï¼ˆLinux AIOï¼‰ï¼šæ—©èµ·è¿›æ”¯æŒæ–‡ä»¶ I/Oï¼Œè¿‘æœŸæ”¯æŒäº† epoll æ”¯æŒéæ–‡ä»¶ I/O Linux io_uring [è¯‘] Linux å¼‚æ­¥ I/O æ¡†æ¶ io_uringï¼šåŸºæœ¬åŸç†ã€ç¨‹åºç¤ºä¾‹ä¸æ€§èƒ½å‹æµ‹ å¯¹æ¯” Linux AIOï¼š\né‡æ–°è®¾è®¡å®ç°çœŸæ­£çš„æ˜¯ä¸ã€‚ æ”¯æŒä»»ä½•ç±»å‹çš„ I/Oï¼šcached filesã€direct-access files ç”šè‡³ blocking socketsã€‚ çµæ´»ã€å¯æ‰©å±•ï¼šåŸºäº io_uring èƒ½å¤Ÿé‡å†™ Linux çš„æ¯ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚ åŸç†åŠæ ¸å¿ƒæ•°æ®ç»“æ„ï¼šSQ/CQ/SQE/CQE æ¯ä¸ª io_uring å®ä¾‹éƒ½æœ‰ä¸¤ä¸ªç¯å½¢é˜Ÿåˆ—ï¼Œåœ¨å†…æ ¸å’Œåº”ç”¨ç¨‹åºä¹‹é—´å…±äº«ï¼š\næäº¤é˜Ÿåˆ—ï¼šsubmission queueï¼ˆSQï¼‰ å®Œæˆé˜Ÿåˆ—ï¼šcompletion queueï¼ˆCQï¼‰ è¿™ä¸¤ä¸ªé˜Ÿåˆ—ï¼š\néƒ½æ˜¯å•ç”Ÿäº§è€…ã€å•æ¶ˆè´¹è€…ï¼Œsize æ˜¯ 2 çš„å¹‚æ¬¡ï¼› æä¾›æ— é”æ¥å£ï¼ˆlock-less access interfaceï¼‰ï¼Œå†…éƒ¨ä½¿ç”¨å†…å­˜å±éšœåšåŒæ­¥ï¼ˆcoordinated with memory barrersï¼‰ã€‚ ä½¿ç”¨æ–¹å¼ï¼š\nè¯·æ±‚ åº”ç”¨åˆ›å»º SQ entriesï¼ˆSQEï¼‰ï¼Œæ›´æ–° SQ tailï¼› å†…æ ¸æ¶ˆè´¹ SQEï¼Œæ›´æ–° SQ head å®Œæˆ å†…æ ¸ä¸ºå®Œæˆä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚åˆ›å»º CQ enriesï¼ˆCQEï¼‰ï¼Œæ›´æ–° CQ tailï¼› åº”ç”¨æ¶ˆè´¹ CQEï¼Œæ›´æ–° CQ head å®Œæˆäº‹ä»¶ï¼ˆcompletion eventsï¼‰å¯èƒ½ä»¥ä»»æ„é¡ºåºåˆ°è¾¾ï¼Œåˆ°æ€»æ˜¯ä¸ç‰¹å®šçš„ SQE ç›¸å…³è”çš„ã€‚ æ¶ˆè´¹ CQE è¿‡ç¨‹æ— éœ€åˆ‡æ¢åˆ°å†…æ ¸æ€ å¸¦æ¥çš„å¥½å¤„ æ”¯æŒæ‰¹å¤„ç† æ”¯æŒæ–‡ä»¶ I/O ç³»ç»Ÿè°ƒç”¨ï¼šreadã€writeã€sendã€recvã€acceptã€opentatã€statã€ä¸“ç”¨çš„ä¸€äº›ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚ fallocate ä¸å†å±€é™äºæ•°æ®åº“åº”ç”¨ åº”å¯¹ç°åœ¨ç¡¬ä»¶æ¶æ„ï¼šå°†ç¡¬ä»¶æ¶æ„æœ¬èº«ä½œä¸ºä¸€ä¸ªç½‘ç»œï¼ˆå¤šæ ¸å¤š CPU æ˜¯ä¸€ä¸ªåŸºç¡€ç½‘ç»œã€CPU ä¹‹é—´æ˜¯ä¸€ä¸ªç½‘ç»œã€CPU å’Œç£ç›˜ I/O ä¹‹é—´åˆæ˜¯ä¸€ä¸ªç½‘ç»œï¼‰ ä¸‰ç§å·¥ä½œæ¨¡å¼ ä¸­æ–­é©±åŠ¨æ¨¡å¼ï¼ˆinterrupt drivenï¼‰ï¼šé»˜è®¤æ¨¡å¼ã€‚å¯é€šè¿‡ io_uring_enter() æäº¤ I/O è¯·æ±‚ï¼Œç„¶åç›´æ¥æ£€æŸ¥ CQ çŠ¶æ€åˆ¤æ–­æ˜¯å¦å®Œæˆã€‚","title":"Linux kernel"},{"content":" tags: Emacs,LSP å¦‚æœæ— æ³•æ­£å¸¸è¡¥å…¨ä¸‰æ–¹åº“ï¼Œåº”è¯¥æ˜¯ bloop æœåŠ¡æ²¡æœ‰æ­£å¸¸å¯åŠ¨ï¼š\nåˆ›å»º ~/Library/Caches/org.scalameta.metals/bsp.trace.json å¼€å¯è·Ÿè¸ª æŸ¥çœ‹é¡¹ç›®ç›®å½•ä¸‹ metals.log ","permalink":"https://notes.0081800.xyz/notes/20210906151915-scala_lsp_metals/","summary":" tags: Emacs,LSP å¦‚æœæ— æ³•æ­£å¸¸è¡¥å…¨ä¸‰æ–¹åº“ï¼Œåº”è¯¥æ˜¯ bloop æœåŠ¡æ²¡æœ‰æ­£å¸¸å¯åŠ¨ï¼š\nåˆ›å»º ~/Library/Caches/org.scalameta.metals/bsp.trace.json å¼€å¯è·Ÿè¸ª æŸ¥çœ‹é¡¹ç›®ç›®å½•ä¸‹ metals.log ","title":"Scala lsp-metals"},{"content":" tags: DDD,ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®° é¢†åŸŸåŸºç¡€æ¨¡å¼ æ¨¡å¼ï¼šUBIQUITOUS LANGUAGE åœ¨åŒé¢†åŸŸä¸“å®¶ã€å¼€å‘äººå‘˜å’Œé¡¹ç›®ç®¡ç†æ²Ÿé€šçš„è¿‡ç¨‹ä¸­å»ºç«‹å¹¶ä½¿ç”¨ UBIQUITOUS LANGUAGEï¼Œï¼Œå¹¶åœ¨æ¨¡å‹å®ç°æ—¶ä¾ç„¶ä½¿ç”¨ UBIQUITOUS LANGUAGE æ¥è®©è®¾è®¡ä¸æ²Ÿé€šç›¸ä¸€è‡´ï¼ˆä¸­æ–‡è¯­å¢ƒä¸‹ç¨æ˜¾å›°éš¾ï¼‰ï¼ŒUBIQUITOUS LANGUAGE è®©çŸ¥è¯†æ¶ˆåŒ–åç›´æ¥é©±åŠ¨å˜æ›´æ¨¡å‹ã€‚\nåº”ç”¨ UBIQUITOUS LANGUAGE éœ€è¦å¤§å£°çš„å»ºæ¨¡ã€‚\næ¨¡å¼ï¼šMODEL-DRIVEN DESIGN ä¸¥æ ¼æŒ‰ç…§æ¨¡å‹æ¥ç¼–å†™ä»£ç ï¼Œè®©æ¨¡å‹ä¸å®é™…ç³»ç»Ÿç›¸ç»“åˆã€‚ ä¸å†åˆ†ç¦»ã€Œåˆ†ææ¨¡å‹ã€å’Œç¨‹åºè®¾è®¡ï¼Œè€Œæ˜¯å¯»æ±‚ä¸€ç§èƒ½å¤Ÿæ»¡è¶³è¿™ä¸¤æ–¹é¢éœ€æ±‚çš„å•ä¸€æ¨¡å‹ã€‚ å·¥å…·ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ã€UMLç­‰ã€‚ æ›´å¥½çš„æ”¯æŒ UBIQUITOUS LANGUAGE. æ¨¡å¼ï¼šHANDS-ON MODELER å¼€å‘è®¾è®¡å’Œæ¨¡å‹è®¾è®¡ç´§å¯†åˆä½œï¼Œé¿å…æ¨¡å‹è®¾è®¡è€…ä¸å‚ä¸ç¼–å†™å’Œç¨‹åºè®¾è®¡è€…ä¸å‚ä¸æ¨¡å‹è®¾è®¡ã€‚ æ¯ä¸€ä¸ªå¼€å‘äººå‘˜éƒ½å¿…é¡»ä¸åŒç¨‹åº¦çš„å‚ä¸æ¨¡å‹è®¨è®ºå¹¶ä¸”ä¸é¢†åŸŸä¸“å®¶ä¿æŒè”ç³»ï¼Œæ¨¡å‹è®¾è®¡è€…åŠæ—¶é€šè¿‡ UBIQUITOUS LANGUAGE ä¸æ¥è§¦ä»£ç çš„äººåŠæ—¶äº¤æ¢å…³äºæ¨¡å‹çš„æƒ³æ³•ã€‚ é¢†åŸŸæ¨¡å¼æ„é€ å— æ¨¡å¼ï¼šLAYERED ARCHITECTURE åˆ†å±‚æ¶æ„æ˜¯å®ç° DDD çš„åŸºç¡€ï¼Œåˆ†å±‚æ¶æ„å°†ä¸åŒçš„å±‚æ¬¡çš„å®ç°åˆ†å¼€ï¼Œè‡ªä¸Šå€’ä¸‹åº”åˆ†ä¸ºï¼š\nç”¨æˆ·ç•Œé¢å±‚ åº”ç”¨å±‚ é¢†åŸŸå±‚ï¼ˆæ¨¡å‹çš„ç²¾é«“ï¼‰ åŸºç¡€è®¾æ–½å±‚ æ ¸å¿ƒåœ¨äºè¦å°†é¢†åŸŸå±‚å•ç‹¬å‡ºæ¥å®ç° MODEL-DRIVEN DESIGNï¼Œå¯¹ä¸šåŠ¡è¿›è¡Œå»ºæ¨¡å°è£…ä¸šåŠ¡è§„åˆ™ã€‚è°ƒç”¨è§„åˆ™ä¹Ÿåªèƒ½è‡ªä¸Šè€Œä¸‹çš„è°ƒç”¨ï¼Œä¸èƒ½åå‘è°ƒç”¨ã€‚\né¢†åŸŸå±‚ï¼ˆæˆ–æ¨¡å‹å±‚ï¼‰åˆ†ç¦»å‡ºæ¥ä¹‹åä½¿å¾—æ¨¡å‹è¶³å¤Ÿä¸°å¯Œï¼Œç»“æ„è¶³å¤Ÿæ¸…æ™°ï¼Œå¯ä»¥æ•æ‰åˆ°åŸºæœ¬çš„ä¸šåŠ¡çŸ¥è¯†ï¼Œå¹¶æœ‰æ•ˆçš„ä½¿ç”¨è¿™äº›çŸ¥è¯†ã€‚\næ¨¡å¼ï¼šENTITY ç”¨äºè·Ÿè¸ªå¯¹è±¡çš„çŠ¶æ€ï¼Œæœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨ç³»ç»Ÿä¸­æ˜¯å¯å˜çš„ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªé€šè¿‡å”¯ä¸€æ ‡è¯†æ¥åˆ¤æ–­ï¼Œä¸æ˜¯é å®ƒä»¬çš„å±æ€§å®šä¹‰ã€‚\næ¨¡å¼ï¼šVALUE OBJECT åŒºåˆ«ä¸ ENTITY ï¼Œæ²¡æœ‰å”¯ä¸€æ ‡è¯†ï¼Œä»…è®°å½•çŠ¶æ€ï¼Œä¸€èˆ¬è®¾è®¡ä¸ºä¸å¯å˜ç”¨äºå…±äº« VALUE OBJECTï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªé€šè¿‡å¯¹è±¡å±æ€§çš„å€¼æ¥åˆ¤æ–­ã€‚\næ¨¡å¼ï¼šSERVICE æ²¡æœ‰çŠ¶æ€ï¼Œä½†åˆéœ€è¦å»ºæ¨¡çš„å¯¹è±¡ï¼ŒåªåŒ…å«åŠ¨ä½œã€‚ç”¨äºä¸€äº›ä¸é€‚åˆå»ºæ¨¡ä¸ºå¯¹è±¡çš„é¢†åŸŸæ¦‚å¿µã€‚\nä¸é¢†åŸŸæ¦‚å¿µç›¸å…³çš„æ“ä½œä¸æ˜¯ ENTITY æˆ– VALUE OBJECT çš„ä¸€ä¸ªè‡ªç„¶ç»„æˆéƒ¨ç½² æ¥å£æ˜¯æ ¹æ®é¢†åŸŸæ¨¡å‹çš„å…¶ä»–å…ƒç´ å®šä¹‰çš„ã€‚ æ“ä½œæ˜¯æ— çŠ¶æ€çš„ æ¨¡å¼ï¼šMODULEï¼ˆæˆ– PACKAGEï¼‰ æ ¹æ®å¯¹è±¡çš„æ„ä¹‰åˆ’åˆ†é¢†åŸŸæ¨¡å‹ï¼Œä½è€¦åˆé«˜å†…èšã€‚æŒ‰ç…§æ¨¡å¼æˆ–è€…å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæˆ–è€…å…¶ä»–æ–¹å¼åˆ’åˆ†éƒ½æ˜¯é”™è¯¯çš„ã€‚\næ¨¡å¼ï¼šAGGREGATE åˆ’åˆ†æ¨¡å‹è¾¹ç•Œï¼Œç»Ÿä¸€å¯¹å…³è”æ¨¡å‹çš„åˆ›å»ºã€ä¿®æ”¹ã€å¤åˆ¶å’Œé”€æ¯ã€‚ä¸€èˆ¬é€‰å®šä¸€ä¸ª ENTITY å¯¹è±¡ä½œä¸º AGGREGATE çš„ã€Œæ ¹ã€ï¼ŒåŒæ—¶å¯¹äº‹åŠ¡åº”ç”¨ä¸€ç»„è§„åˆ™ï¼š\næ ¹ ENTITY å…·æœ‰å…¨å±€æ ‡è¯†ï¼Œå®ƒæœ€ç»ˆè´Ÿè´£æ£€æŸ¥å›ºå®šè§„åˆ™ã€‚ è¾¹ç•Œå†…çš„ ENTITY å…·æœ‰æœ¬åœ°æ ‡è¯†ï¼Œè¿™äº›æ ‡è¯†åªåœ¨ AGGREGATE å†…éƒ¨æ‰æ˜¯å”¯ä¸€çš„ã€‚ AGGREGATE å¤–éƒ¨ä¸çš„å¯¹è±¡ä¸èƒ½å¼•å…¥é™¤æ ¹ ENTITY ä¹‹å¤–çš„ä»»ä½•å†…éƒ¨å¯¹è±¡ã€‚æ ¹ ENTITY å¯ä»¥æŠŠå†…éƒ¨ ENTITY å¼•ç”¨ä¼ é€’å‡ºå»åšä¸´æ—¶ä½¿ç”¨ï¼Œä½†ä¸èƒ½ä¿æŒå¼•ç”¨ã€‚ åªæœ‰ AGGREGATE çš„æ ¹èƒ½ç›´æ¥é€šè¿‡æ•°æ®åº“æŸ¥è¯¢è·å–ã€‚å…¶ä»–æ‰€æœ‰å¯¹è±¡å¿…é¡»é€šè¿‡éå†å…³è”æ¥å‘ç°ã€‚ AGGREGATE å†…éƒ¨çš„å¯¹è±¡å¯ä»¥ä¿æŒå¯¹å…¶ä»– AGGREGATE æ ¹çš„å¼•ç”¨ã€‚ åˆ é™¤æ“ä½œå¿…é¡»ä¸€æ¬¡åˆ é™¤ AGGREGATE è¾¹ç•Œä¹‹å†…çš„æ‰€æœ‰å¯¹è±¡ã€‚ å½“æäº¤å¯¹ AGGREGATE çš„æ›´æ”¹æ—¶ï¼Œæ•´ä¸ª AGGREGATE çš„æ‰€æœ‰å›ºå®šè§„åˆ™éƒ½å¿…é¡»è¢«æ»¡è¶³ã€‚ æ¨¡å¼ï¼šFactory å°è£…åˆ›å»ºä¸€ä¸ªå¯¹è±¡æˆ–è€…æ•´ä¸ª AGGREGATE çš„å¤æ‚åˆ›å»ºå·¥ä½œï¼Œéšè—å†…éƒ¨ç»“æ„ã€‚å®ç°çš„æ–¹å¼ï¼š\nç®€å•çš„å¯¹è±¡å¯ä»¥é€šè¿‡ FACTORY METHOD å®ç°åœ¨ AGGREGATE çš„æ ¹ ENTITY å¯¹è±¡ä¸Šã€‚ å¤æ‚çš„å¯¹è±¡åº”å½“è½¬ç§»ç»™ç‹¬ç«‹çš„ FACTORYã€‚ ENTITY FACTORY å’Œ VALUE OBJECT FACTORY ä¸¤æ–¹é¢ä¸åŒ VALUE OBJECT ä¸å¯å˜ï¼Œæ‰€ä»¥å…¶ FACTORY ç”Ÿæˆçš„å¯¹è±¡å°±æ˜¯æœ€ç»ˆå½¢å¼ï¼Œå› æ­¤ FACTORY æ“ä½œå¿…é¡»å¾—åˆ°åˆ›å»ºå¯¹è±¡çš„å®Œæ•´å½¢å¼ã€‚ ENTITY éœ€è¦åœ¨ FACTORY ç”Ÿæˆå¯¹è±¡æ—¶åˆ†é…å”¯ä¸€æ ‡è¯†ã€‚ æ¨¡å¼ï¼šREPOSITORY ä¸€ä¸ªéå† ENTITY å’Œ VALUE OBJECT çš„èµ·ç‚¹å¯¹è±¡ï¼ˆæƒ³è±¡å›¾ä¹¦é¦†é‡Œçš„å›¾ä¹¦ç®¡ç†å‘˜ï¼‰ã€‚\nåªä¸ºé‚£äº›ç¡®å®éœ€è¦ç›´æ¥è®¿é—®çš„ AGGREGATE æ ¹æä¾› REPOSITORYï¼Œè®©å®¢æˆ·å§‹ç»ˆèšç„¦äºæ¨¡å‹ï¼Œè€Œå°†æ‰€æœ‰å¯¹è±¡çš„å­˜å‚¨å’Œè®¿é—®æ“ä½œéƒ½äº¤ç»™ REPOSITORY æ¥å®Œæˆã€‚\nREPOSITORY ä¸ Factory çš„å…³ç³» ä»åˆ›å»ºå¯¹è±¡è§’åº¦\nREPOSITORY è´Ÿè´£åŸºäºæŸ¥è¯¢çš„æ•°æ®æ¢å¤å·²æœ‰å¯¹è±¡ï¼Œè®©å®¢æˆ·æ„Ÿè§‰å¯¹è±¡å§‹ç»ˆé©»ç•™å†…å­˜ã€‚ FACTORY è´Ÿè´£åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚ åŒæ—¶ REPOSITORY è´Ÿè´£æŒä¹…åŒ–ç›¸å…³å·¥ä½œï¼ŒåŒ…æ‹¬ï¼š\nå­˜å‚¨å¯¹è±¡ åˆ é™¤å¯¹è±¡ é¢†åŸŸé«˜é˜¶ï¼ˆï¼Ÿï¼‰æ¨¡å¼ æ¨¡å¼ï¼šSPECIFICATION æŠ½è±¡è°“è¯ï¼ˆè¿”å›çœŸå‡çš„å‡½æ•°ï¼‰ã€‚ ä¸ºç‰¹æ®Šç›®çš„åˆ›å»ºè°“è¯å½¢å¼çš„æ˜¾å¼çš„ VALUE OBJECTã€‚ SPECIFICATION å°±æ˜¯ä¸€ä¸ªè°“è¯ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä»»ä½•å¯¹è±¡ä»¥æ ¡éªŒå®ƒä»¬æ˜¯å¦æ»¡è¶³åˆ¶å®šçš„æ ‡å‡†ã€‚ è§„æ ¼ï¼ˆSPECIFICATIONï¼‰ä¸­å£°æ˜çš„æ˜¯é™åˆ¶å¦ä¸€ä¸ªå¯¹è±¡çŠ¶æ€çš„çº¦æŸï¼Œè¢«çº¦æŸå¯¹è±¡å¯ä»¥å­˜åœ¨ä¹Ÿå¯ä»¥ä¸å­˜åœ¨ã€‚\né¢†åŸŸåæ¨¡å¼ æ¨¡å¼ï¼šTHE SMART UI åæ¨¡å¼ ä¸åˆ†ç¦»ç”¨æˆ·ç•Œé¢å’Œé¢†åŸŸï¼Œåœ¨ç•Œé¢ä¸­å®ç°æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚ä½¿ç”¨å…³ç³»æ•°æ®åº“ä½œä¸ºå…±äº«çš„æ•°æ®å­˜å‚¨åº“ã€‚\nä¼˜ç‚¹ï¼š\næ•ˆç‡é«˜ äººåŠ›æˆæœ¬ä½ å¿«é€Ÿå“åº”éœ€æ±‚æ›´æ”¹ å½¼æ­¤ç‹¬ç«‹ï¼Œæ‰©å±•å®¹æ˜“ å…³ç³»æ•°æ®åº“æä¾›æ•°æ®æ•´åˆ ç¼ºç‚¹ï¼š\nä¾èµ–æ•°æ®åº“ æ²¡æœ‰è¡Œä¸ºé‡ç”¨ æœ‰æ‰©å±•å’Œè¿­ä»£æé™ æ— æ³•é€‚åº”å¤æ‚åŠŸèƒ½ ","permalink":"https://notes.0081800.xyz/notes/20210903080049-%E9%A2%86%E5%9F%9F%E6%A8%A1%E5%BC%8F/","summary":"tags: DDD,ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®° é¢†åŸŸåŸºç¡€æ¨¡å¼ æ¨¡å¼ï¼šUBIQUITOUS LANGUAGE åœ¨åŒé¢†åŸŸä¸“å®¶ã€å¼€å‘äººå‘˜å’Œé¡¹ç›®ç®¡ç†æ²Ÿé€šçš„è¿‡ç¨‹ä¸­å»ºç«‹å¹¶ä½¿ç”¨ UBIQUITOUS LANGUAGEï¼Œï¼Œå¹¶åœ¨æ¨¡å‹å®ç°æ—¶ä¾ç„¶ä½¿ç”¨ UBIQUITOUS LANGUAGE æ¥è®©è®¾è®¡ä¸æ²Ÿé€šç›¸ä¸€è‡´ï¼ˆä¸­æ–‡è¯­å¢ƒä¸‹ç¨æ˜¾å›°éš¾ï¼‰ï¼ŒUBIQUITOUS LANGUAGE è®©çŸ¥è¯†æ¶ˆåŒ–åç›´æ¥é©±åŠ¨å˜æ›´æ¨¡å‹ã€‚\nåº”ç”¨ UBIQUITOUS LANGUAGE éœ€è¦å¤§å£°çš„å»ºæ¨¡ã€‚\næ¨¡å¼ï¼šMODEL-DRIVEN DESIGN ä¸¥æ ¼æŒ‰ç…§æ¨¡å‹æ¥ç¼–å†™ä»£ç ï¼Œè®©æ¨¡å‹ä¸å®é™…ç³»ç»Ÿç›¸ç»“åˆã€‚ ä¸å†åˆ†ç¦»ã€Œåˆ†ææ¨¡å‹ã€å’Œç¨‹åºè®¾è®¡ï¼Œè€Œæ˜¯å¯»æ±‚ä¸€ç§èƒ½å¤Ÿæ»¡è¶³è¿™ä¸¤æ–¹é¢éœ€æ±‚çš„å•ä¸€æ¨¡å‹ã€‚ å·¥å…·ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ã€UMLç­‰ã€‚ æ›´å¥½çš„æ”¯æŒ UBIQUITOUS LANGUAGE. æ¨¡å¼ï¼šHANDS-ON MODELER å¼€å‘è®¾è®¡å’Œæ¨¡å‹è®¾è®¡ç´§å¯†åˆä½œï¼Œé¿å…æ¨¡å‹è®¾è®¡è€…ä¸å‚ä¸ç¼–å†™å’Œç¨‹åºè®¾è®¡è€…ä¸å‚ä¸æ¨¡å‹è®¾è®¡ã€‚ æ¯ä¸€ä¸ªå¼€å‘äººå‘˜éƒ½å¿…é¡»ä¸åŒç¨‹åº¦çš„å‚ä¸æ¨¡å‹è®¨è®ºå¹¶ä¸”ä¸é¢†åŸŸä¸“å®¶ä¿æŒè”ç³»ï¼Œæ¨¡å‹è®¾è®¡è€…åŠæ—¶é€šè¿‡ UBIQUITOUS LANGUAGE ä¸æ¥è§¦ä»£ç çš„äººåŠæ—¶äº¤æ¢å…³äºæ¨¡å‹çš„æƒ³æ³•ã€‚ é¢†åŸŸæ¨¡å¼æ„é€ å— æ¨¡å¼ï¼šLAYERED ARCHITECTURE åˆ†å±‚æ¶æ„æ˜¯å®ç° DDD çš„åŸºç¡€ï¼Œåˆ†å±‚æ¶æ„å°†ä¸åŒçš„å±‚æ¬¡çš„å®ç°åˆ†å¼€ï¼Œè‡ªä¸Šå€’ä¸‹åº”åˆ†ä¸ºï¼š\nç”¨æˆ·ç•Œé¢å±‚ åº”ç”¨å±‚ é¢†åŸŸå±‚ï¼ˆæ¨¡å‹çš„ç²¾é«“ï¼‰ åŸºç¡€è®¾æ–½å±‚ æ ¸å¿ƒåœ¨äºè¦å°†é¢†åŸŸå±‚å•ç‹¬å‡ºæ¥å®ç° MODEL-DRIVEN DESIGNï¼Œå¯¹ä¸šåŠ¡è¿›è¡Œå»ºæ¨¡å°è£…ä¸šåŠ¡è§„åˆ™ã€‚è°ƒç”¨è§„åˆ™ä¹Ÿåªèƒ½è‡ªä¸Šè€Œä¸‹çš„è°ƒç”¨ï¼Œä¸èƒ½åå‘è°ƒç”¨ã€‚\né¢†åŸŸå±‚ï¼ˆæˆ–æ¨¡å‹å±‚ï¼‰åˆ†ç¦»å‡ºæ¥ä¹‹åä½¿å¾—æ¨¡å‹è¶³å¤Ÿä¸°å¯Œï¼Œç»“æ„è¶³å¤Ÿæ¸…æ™°ï¼Œå¯ä»¥æ•æ‰åˆ°åŸºæœ¬çš„ä¸šåŠ¡çŸ¥è¯†ï¼Œå¹¶æœ‰æ•ˆçš„ä½¿ç”¨è¿™äº›çŸ¥è¯†ã€‚\næ¨¡å¼ï¼šENTITY ç”¨äºè·Ÿè¸ªå¯¹è±¡çš„çŠ¶æ€ï¼Œæœ‰å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨ç³»ç»Ÿä¸­æ˜¯å¯å˜çš„ï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªé€šè¿‡å”¯ä¸€æ ‡è¯†æ¥åˆ¤æ–­ï¼Œä¸æ˜¯é å®ƒä»¬çš„å±æ€§å®šä¹‰ã€‚\næ¨¡å¼ï¼šVALUE OBJECT åŒºåˆ«ä¸ ENTITY ï¼Œæ²¡æœ‰å”¯ä¸€æ ‡è¯†ï¼Œä»…è®°å½•çŠ¶æ€ï¼Œä¸€èˆ¬è®¾è®¡ä¸ºä¸å¯å˜ç”¨äºå…±äº« VALUE OBJECTï¼Œä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸€ä¸ªé€šè¿‡å¯¹è±¡å±æ€§çš„å€¼æ¥åˆ¤æ–­ã€‚\næ¨¡å¼ï¼šSERVICE æ²¡æœ‰çŠ¶æ€ï¼Œä½†åˆéœ€è¦å»ºæ¨¡çš„å¯¹è±¡ï¼ŒåªåŒ…å«åŠ¨ä½œã€‚ç”¨äºä¸€äº›ä¸é€‚åˆå»ºæ¨¡ä¸ºå¯¹è±¡çš„é¢†åŸŸæ¦‚å¿µã€‚\nä¸é¢†åŸŸæ¦‚å¿µç›¸å…³çš„æ“ä½œä¸æ˜¯ ENTITY æˆ– VALUE OBJECT çš„ä¸€ä¸ªè‡ªç„¶ç»„æˆéƒ¨ç½² æ¥å£æ˜¯æ ¹æ®é¢†åŸŸæ¨¡å‹çš„å…¶ä»–å…ƒç´ å®šä¹‰çš„ã€‚ æ“ä½œæ˜¯æ— çŠ¶æ€çš„ æ¨¡å¼ï¼šMODULEï¼ˆæˆ– PACKAGEï¼‰ æ ¹æ®å¯¹è±¡çš„æ„ä¹‰åˆ’åˆ†é¢†åŸŸæ¨¡å‹ï¼Œä½è€¦åˆé«˜å†…èšã€‚æŒ‰ç…§æ¨¡å¼æˆ–è€…å¯¹è±¡ç”Ÿå‘½å‘¨æœŸæˆ–è€…å…¶ä»–æ–¹å¼åˆ’åˆ†éƒ½æ˜¯é”™è¯¯çš„ã€‚\næ¨¡å¼ï¼šAGGREGATE åˆ’åˆ†æ¨¡å‹è¾¹ç•Œï¼Œç»Ÿä¸€å¯¹å…³è”æ¨¡å‹çš„åˆ›å»ºã€ä¿®æ”¹ã€å¤åˆ¶å’Œé”€æ¯ã€‚ä¸€èˆ¬é€‰å®šä¸€ä¸ª ENTITY å¯¹è±¡ä½œä¸º AGGREGATE çš„ã€Œæ ¹ã€ï¼ŒåŒæ—¶å¯¹äº‹åŠ¡åº”ç”¨ä¸€ç»„è§„åˆ™ï¼š","title":"é¢†åŸŸæ¨¡å¼"},{"content":"æ¡ˆä¾‹ Airflow powers AIã€‚\nAirflow SSO æ¥å…¥ å…¬å¸ SSO ç³»ç»Ÿä¸æ˜¯åŸºäºå¼€æºæ ‡å‡†ï¼Œè€Œæ˜¯ä¸€å¥—è‡ªå®šä¹‰çš„æ–¹å¼ï¼Œç›®å‰ç½‘ä¸Šæ²¡æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡æŸ¥çœ‹ Flask-AppBuilder å’Œ Airflow çš„ä»£ç å‘ç°å¯ä»¥æ‰©å±• flask_appbuilder.security.views.AuthRemoteUserView å¹¶é€šè¿‡è‡ªå®šä¹‰çš„ SecurityManager æŒ‡å®š authremoteuserview æ¥å®ç°ï¼Œå»æ‰å…·ä½“ SSO é€»è¾‘åçš„ä»£ç å¦‚ä¸‹ï¼š\nfrom urllib.parse import urlencode from urllib.parse import urljoin import requests from flask import flash from flask import redirect from flask import request from flask_appbuilder.baseviews import expose from flask_appbuilder.security.views import AuthRemoteUserView try: from airflow.www.security import AirflowSecurityManager except ImportError: AirflowSecurityManager = None __version__ = \u0026#34;0.1.0\u0026#34; AUTHORIZE_URL = \u0026#34;https://example.com/sso/login\u0026#34; ACCESS_TOKEN_URL = \u0026#34;https://example.com/sso/check\u0026#34; class AuthComCasView(AuthRemoteUserView): def _get_redirect_uri(self): return urljoin(request.host_url, self.appbuilder.get_url_for_login) def get_authorize_params(self): return { \u0026#34;callback\u0026#34;: self._get_redirect_uri(), } @expose(\u0026#34;/login/\u0026#34;) def login(self): token = request.args.get(\u0026#34;token\u0026#34;) if not token: params = self.get_authorize_params() redirect_uri = u\u0026#34;{}?{}\u0026#34;.format( AUTHORIZE_URL, urlencode(params), ) return redirect(redirect_uri) data = self.exchange_token(token) if data[\u0026#34;status\u0026#34;] \u0026lt; 0: flash(\u0026#34;Invalid Token\u0026#34;, \u0026#34;info\u0026#34;) return \u0026#34;Invalid token\u0026#34; # Set REMOTE_USER to let user login request.environ[\u0026#34;REMOTE_USER\u0026#34;] = data[\u0026#34;username\u0026#34;] return super().login() @staticmethod def get_token_params(token): return { \u0026#34;token\u0026#34;: token, } def exchange_token(self, token): data = self.get_token_params(token) return requests.get(ACCESS_TOKEN_URL, params=data).json() if AirflowSecurityManager is not None: class ComCasAirflowSecurityManager(AirflowSecurityManager): authremoteuserview = AuthComCasView ç„¶ååœ¨ Airflow çš„ webserver_config.py ä¸­åº”ç”¨å°±è¡Œ:\nfrom flask_appbuilder.security.manager import AUTH_REMOTE_USER AUTH_TYPE = AUTH_REMOTE_USER FAB_SECURITY_MANAGER_CLASS = \u0026#39;fab_auth_com.ComCasAirflowSecurityManager\u0026#39; ","permalink":"https://notes.0081800.xyz/notes/20210902153221-airflow/","summary":"æ¡ˆä¾‹ Airflow powers AIã€‚\nAirflow SSO æ¥å…¥ å…¬å¸ SSO ç³»ç»Ÿä¸æ˜¯åŸºäºå¼€æºæ ‡å‡†ï¼Œè€Œæ˜¯ä¸€å¥—è‡ªå®šä¹‰çš„æ–¹å¼ï¼Œç›®å‰ç½‘ä¸Šæ²¡æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡æŸ¥çœ‹ Flask-AppBuilder å’Œ Airflow çš„ä»£ç å‘ç°å¯ä»¥æ‰©å±• flask_appbuilder.security.views.AuthRemoteUserView å¹¶é€šè¿‡è‡ªå®šä¹‰çš„ SecurityManager æŒ‡å®š authremoteuserview æ¥å®ç°ï¼Œå»æ‰å…·ä½“ SSO é€»è¾‘åçš„ä»£ç å¦‚ä¸‹ï¼š\nfrom urllib.parse import urlencode from urllib.parse import urljoin import requests from flask import flash from flask import redirect from flask import request from flask_appbuilder.baseviews import expose from flask_appbuilder.security.views import AuthRemoteUserView try: from airflow.www.security import AirflowSecurityManager except ImportError: AirflowSecurityManager = None __version__ = \u0026#34;0.1.0\u0026#34; AUTHORIZE_URL = \u0026#34;https://example.com/sso/login\u0026#34; ACCESS_TOKEN_URL = \u0026#34;https://example.","title":"Airflow"},{"content":" tags: Programming Language Java ç”Ÿæ€å·¥å…· Maven/Ivy ä¾èµ–è·å–å’Œè§£å†³å·¥å…· coursier SDKMAN Java ç¯å¢ƒå’Œ SDK ç®¡ç† SDKMAN å¯ä»¥å®ç° Java ç¯å¢ƒå’Œä¸€äº›å¸¸è§ SDK çš„ç®¡ç†ï¼ŒåŒ…æ‹¬ï¼šJDKã€Scalaã€sbt å’Œ Spark ç­‰ã€‚\nJava é¡¹ç›®æ„å»ºå·¥å…· Maven Graddle Ant JVM Java å†…å­˜æ¨¡å‹ JVM è®¾ç½®ä»£ç† Java Networking and Proxies\n","permalink":"https://notes.0081800.xyz/topics/20210901081938-java/","summary":"tags: Programming Language Java ç”Ÿæ€å·¥å…· Maven/Ivy ä¾èµ–è·å–å’Œè§£å†³å·¥å…· coursier SDKMAN Java ç¯å¢ƒå’Œ SDK ç®¡ç† SDKMAN å¯ä»¥å®ç° Java ç¯å¢ƒå’Œä¸€äº›å¸¸è§ SDK çš„ç®¡ç†ï¼ŒåŒ…æ‹¬ï¼šJDKã€Scalaã€sbt å’Œ Spark ç­‰ã€‚\nJava é¡¹ç›®æ„å»ºå·¥å…· Maven Graddle Ant JVM Java å†…å­˜æ¨¡å‹ JVM è®¾ç½®ä»£ç† Java Networking and Proxies","title":"Java"},{"content":" tags: Bigdata Spark ç¼–ç¨‹è¯­è¨€é€‰æ‹© æ¯‹åº¸ç½®ç–‘ï¼ŒPython åº”è¯¥æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯å¤§éƒ¨åˆ†çš„é€‰æ‹©ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¾èµ–é‚£ä¹ˆå°†è¦ä»˜å‡ºé¢å¤–çš„å¿ƒæ™ºè´Ÿæ‹…ï¼ˆSpark ç®¡ç† Python ä¾èµ–ï¼‰ã€‚ JVM è¯­è¨€çš„ä¾èµ–ç»„ç»‡æ–¹å¼åˆ™å…·æœ‰å¤©ç„¶çš„ä¼˜åŠ¿ï¼Œå¯ä»¥å°†ä¾èµ–ï¼ˆæ’é™¤ Spark ç”Ÿæ€ä¹‹åï¼‰éƒ½ bundle è¿› Jar åŒ…é‡Œã€‚ å…¶ä¸­ Scala å…¼å…·ç®€å•å’Œ JVM çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å®ƒã€Œä¸æµè¡Œã€ã€‚\nSpark Driver \u0026amp; Executor Driver æ‰§è¡Œ spark-commit å®¢æˆ·ç«¯ï¼Œåˆ›å»º SparkContext æ‰§è¡Œ main å‡½æ•°ã€‚ Executor Spark Worker ä¸Šçš„çº¿ç¨‹ See also:\nUnderstanding the working of Spark Driver and Executor Cluster Mode Overview Spark ä»£ç æ‰§è¡Œ æˆ‘åœ¨é…ç½® Spark çš„æ—¶å€™å°±åœ¨å¥½å¥‡ï¼Œä»è§‚å¯Ÿä¸Šçœ‹éƒ¨åˆ†ä»£ç åº”è¯¥æ˜¯æ‰§è¡Œåœ¨ Driver ä¸Šéƒ¨åˆ†ä»£ç ä¼šæ‰§è¡Œåœ¨ Executerï¼Œè¿™è®©æˆ‘å¾ˆå¥½å¥‡ã€‚ ä½†æ˜¯æˆ‘é€šè¿‡å­¦ä¹  Spark RDD å­¦ä¹ åˆ°äº†ä¸€äº›çŸ¥è¯†ã€‚\nä»¥ä¸‹ä»£ç æ˜¯åœ¨ Executor ä¸Šæ‰§è¡Œçš„ï¼š\nTransformations å’Œ Actions æ˜¯æ‰§è¡Œåœ¨ Spark é›†ç¾¤çš„ã€‚ ä¼ é€’ç»™ Transformations å’Œ Actions çš„é—­åŒ…å‡½æ•°ä¹Ÿæ˜¯æ‰§è¡Œåœ¨ Spark é›†ç¾¤ä¸Šçš„ã€‚ å…¶ä»–é¢å¤–çš„ä»£ç éƒ½æ˜¯æ‰§è¡Œåœ¨ Driver ä¸Šçš„ï¼Œæ‰€ä»¥æƒ³è¦åœ¨ Driver æ‰“å°æ—¥å¿—éœ€è¦ä¸Šä½¿ç”¨ collectï¼š\nrdd.collect().foreach(println) collect å¯èƒ½ä¼šå¯¼è‡´ Driver å†…å­˜çˆ†æ‰ï¼Œå¯ä»¥ä½¿ç”¨ takeï¼š\nrd.take(100).foreach(println) æ‰€ä»¥åœ¨è¿™å°±å¸¦æ¥åœ¨é—­åŒ…ä¸­å…±äº«å˜é‡çš„é—®é¢˜ï¼Œå‚è§ Spark å…±äº«å˜é‡ã€‚\nSpark ç¼–ç¨‹æŠ½è±¡ RDD Programming Guide\nSpark RDD é›†åˆå¹¶è¡ŒåŒ– val data = Array(1, 2, 3, 4, 5) val distData = sc.parallelize(data) å¤–éƒ¨æ•°æ®é›† è¾“å…¥æºæ”¯æŒæ”¯æŒ Hadoop æ”¯æŒçš„ä»»ä½•å­˜å‚¨æºï¼ŒåŒ…æ‹¬ï¼šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€HDFSã€Cassandraã€HBaseã€Amazaon S3 ç­‰ è¾“å…¥æ ¼å¼æ”¯æŒï¼šæ–‡æœ¬æ–‡ä»¶ã€SequenceFiles å’Œä»»ä½•å…¶ä»– Hadoop InputFormat å¦‚æœæ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™æ–‡ä»¶éœ€è¦å­˜åœ¨ä¸æ‰€æœ‰ Worker èŠ‚ç‚¹ä¸Šã€‚\nSpark Transformations vs Actions Spark æ”¯æŒä¸¤ç§æ“ä½œç±»å‹ï¼š\ntransformationsï¼šä»ç°æœ‰æ•°æ®é›†åˆ›å»ºæ–°çš„æ•°æ®é›†ï¼Œæ¯”å¦‚ mapã€‚ actionsï¼šåœ¨æ•°æ®é›†ä¸Šè¿›è¡Œè¿ç®—ç„¶åè¿”å›å€¼ç»™ driverï¼Œæ¯”å¦‚ reduceã€‚ Spark Transformations æ‡’æ‰§è¡Œ æ‰€æœ‰çš„ Spark transformations ä¼šè®°ä½åº”ç”¨çš„åŸºç¡€æ•°æ®é›†ï¼Œåªè¦åœ¨éœ€è¦å°†ç»“æœè¿”å›ç»™ driver çš„æ—¶å€™æ‰è¿›è¡Œè®¡ç®—ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æ„ŸçŸ¥åˆ°ä¸€ä¸ªæ•°æ®é›†ï¼ˆdatasetï¼‰é€šè¿‡ map åˆ›å»ºï¼Œå°†ä¼šè¢« reduce ä½¿ç”¨å¹¶è¿”å› reduce çš„ç»“æœç»™ driver è€Œä¸æ˜¯ä¸€ä¸ªæ˜ å°„è¿‡ï¼ˆmappedï¼‰çš„å¤§æ•°æ®é›†ã€‚\nSpark transformations é‡å¤è®¡ç®— é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€æ¬¡åœ¨ä¸€ä¸ª RDD ä¸Šè¿è¡Œ action Spark éƒ½å¯èƒ½ä¼šè¿›è¡Œé‡æ–°è®¡ç®—ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ persist ç¼“å­˜ä¸€ä¸ª RDD åˆ°å†…å­˜ä¸­ã€‚ ä¸‹ä¸€æ¬¡æŸ¥è¯¢å°†ä¼šè¢«åŠ é€Ÿï¼ŒåŒæ—¶ Spark æ”¯æŒå­˜å‚¨åˆ°ç£ç›˜æˆ–è€…è·¨å¤šèŠ‚ç‚¹å¤åˆ¶ï¼ˆreplicatedï¼‰ã€‚\nSpark å…±äº«å˜é‡ Spark æ”¯æŒä¸¤ç§å…±äº«å˜é‡çš„æ–¹å¼ï¼š\nBroadcast Variables Accumulators è®¾ç½® Spark Python ç‰ˆæœ¬ export PYSPARK_DRIVER_PYTHON=python # Do not set in cluster modes. export PYSPARK_PYTHON=./environment/bin/python # Executor ä¸Šé¢ environment æ˜¯æäº¤çš„æ—¶å€™éœ€è¦åœ¨ --archives ç¼€ä¸Šçš„:\nspark-submit --archives pyspark_conda_env.tar.gz#environment app.py Note that PYSPARK_DRIVER_PYTHON above should not be set for cluster modes in YARN or Kubernetes.\nSpark ç®¡ç† Python ä¾èµ– YARN æ”¯æŒ --archives å‚æ•°ä¸Šä¼ æ‰“åŒ…å¥½çš„ç¯å¢ƒä¿¡æ¯ï¼Œä¸»è¦ä¸‰ç§æ–¹å¼ï¼š\nPySpark åŸç”Ÿç‰¹æ€§ï¼Œ --py-files æ”¯æŒ zip å’Œ egg æ ¼å¼ï¼Œä½†æ˜¯ä¸æ”¯æŒ whl Python vendor package See alos: Python Package Management\nStandalone cluster å¯ä»¥å€ŸåŠ©ä¸Šé¢çš„ Python åŒ…ç®¡ç†æœºåˆ¶ï¼Œå°†æ‰“åŒ…å¥½çš„ç¯å¢ƒåœ¨å„ä¸ªèŠ‚ç‚¹è¿›è¡ŒåŒæ­¥ã€‚å‡è®¾å°† conda-pack è§£å‹åˆ° /opt/conda-envs/testï¼Œå¯ä»¥é€šè¿‡åœ¨ Spark ä»»åŠ¡è„šæœ¬æœ€ä¸Šæ–¹é€šè¿‡ PYSPARK_PYTHON æŒ‡å®šè§£é‡Šå™¨ï¼š\nimport os os.environ[\u0026#39;PYSPARK_PYTHON\u0026#39;] = \u0026#39;/opt/conda-envs/test\u0026#39; conf = {} sc = SparkContext(conf=conf) Spark Hive è¡¨é—®é¢˜æ±‡æ€» Spark 2.3 ä¹‹åè¯»å– Hive Orc å­—æ®µå…¨æ˜¯ null æˆ–è€…æ— æ³•è¿‡æ»¤ ä¸»è¦æ˜¯å› ä¸º Orc æ–‡ä»¶åœ¨ Hive ä¸­å­˜å‚¨çš„æ—¶å€™æ˜¯å¤§å°å†™æ•æ„Ÿçš„ Schemaã€‚ é€šè¿‡å¦‚ä¸‹é…ç½®å…³é—­ 2.3 ä¹‹åå¯ç”¨çš„é€‰é¡¹ï¼š\nspark.sql.hive.convertMetastoreOrc=false ä½†æ˜¯å¯ç”¨è¿™ä¸ªä¼šå¯¼è‡´å†™ Hive Orc è¡¨çš„æ—¶å€™æŠ¥é”™ï¼š\n[2021-11-20 08:22:26,500] {spark_submit.py:523} INFO - : java.lang.NoSuchMethodException: org.apache.hadoop.hive.ql.metadata.Hive.loadPartition(org.apache.hadoop.fs.Path, java.lang.String, java.util.Map, boolean, boolean, boolean, boolean, boolean, boolean) åªèƒ½åœ¨è¯»æŒ‡å®šè¡¨çš„æ—¶å€™åŠ¨æ€è®¾ç½®:\nspark.conf.set(\u0026#34;spark.sql.hive.convertMetastoreOrc\u0026#34;, False) æ›´å¤šå‘å¯ä»¥çœ‹ Upgrading Guide Upgrading Guide\nSpark å†™å…¥çš„ Hive Orc è¡¨ä½†æ˜¯æ—§ç‰ˆ Hive æ— æ³•è¯»å– # è§£å†³å†™å…¥ Orc è¡¨ä½†æ˜¯ Hive æ— æ³•è¯»å–çš„é—®é¢˜ spark.sql.orc.impl=hive ","permalink":"https://notes.0081800.xyz/notes/20210827080540-spark/","summary":"tags: Bigdata Spark ç¼–ç¨‹è¯­è¨€é€‰æ‹© æ¯‹åº¸ç½®ç–‘ï¼ŒPython åº”è¯¥æ˜¯æœ€ç®€å•ä¹Ÿæ˜¯å¤§éƒ¨åˆ†çš„é€‰æ‹©ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¾èµ–é‚£ä¹ˆå°†è¦ä»˜å‡ºé¢å¤–çš„å¿ƒæ™ºè´Ÿæ‹…ï¼ˆSpark ç®¡ç† Python ä¾èµ–ï¼‰ã€‚ JVM è¯­è¨€çš„ä¾èµ–ç»„ç»‡æ–¹å¼åˆ™å…·æœ‰å¤©ç„¶çš„ä¼˜åŠ¿ï¼Œå¯ä»¥å°†ä¾èµ–ï¼ˆæ’é™¤ Spark ç”Ÿæ€ä¹‹åï¼‰éƒ½ bundle è¿› Jar åŒ…é‡Œã€‚ å…¶ä¸­ Scala å…¼å…·ç®€å•å’Œ JVM çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯å®ƒã€Œä¸æµè¡Œã€ã€‚\nSpark Driver \u0026amp; Executor Driver æ‰§è¡Œ spark-commit å®¢æˆ·ç«¯ï¼Œåˆ›å»º SparkContext æ‰§è¡Œ main å‡½æ•°ã€‚ Executor Spark Worker ä¸Šçš„çº¿ç¨‹ See also:\nUnderstanding the working of Spark Driver and Executor Cluster Mode Overview Spark ä»£ç æ‰§è¡Œ æˆ‘åœ¨é…ç½® Spark çš„æ—¶å€™å°±åœ¨å¥½å¥‡ï¼Œä»è§‚å¯Ÿä¸Šçœ‹éƒ¨åˆ†ä»£ç åº”è¯¥æ˜¯æ‰§è¡Œåœ¨ Driver ä¸Šéƒ¨åˆ†ä»£ç ä¼šæ‰§è¡Œåœ¨ Executerï¼Œè¿™è®©æˆ‘å¾ˆå¥½å¥‡ã€‚ ä½†æ˜¯æˆ‘é€šè¿‡å­¦ä¹  Spark RDD å­¦ä¹ åˆ°äº†ä¸€äº›çŸ¥è¯†ã€‚\nä»¥ä¸‹ä»£ç æ˜¯åœ¨ Executor ä¸Šæ‰§è¡Œçš„ï¼š\nTransformations å’Œ Actions æ˜¯æ‰§è¡Œåœ¨ Spark é›†ç¾¤çš„ã€‚ ä¼ é€’ç»™ Transformations å’Œ Actions çš„é—­åŒ…å‡½æ•°ä¹Ÿæ˜¯æ‰§è¡Œåœ¨ Spark é›†ç¾¤ä¸Šçš„ã€‚ å…¶ä»–é¢å¤–çš„ä»£ç éƒ½æ˜¯æ‰§è¡Œåœ¨ Driver ä¸Šçš„ï¼Œæ‰€ä»¥æƒ³è¦åœ¨ Driver æ‰“å°æ—¥å¿—éœ€è¦ä¸Šä½¿ç”¨ collectï¼š","title":"Spark"},{"content":" tags: Programming Language Scala å­¦ä¹ èµ„æº Scala Book Scala è¿™ä¹ˆå¥½çš„è¯­è¨€ä¸ºä»€ä¹ˆä¸æµè¡Œ HNï¼šScala ä¸ºä»€ä¹ˆä¸æµè¡Œ Redditï¼šScala ä¸ºä»€ä¹ˆä¸æµè¡Œ ç»“è®ºï¼šJava äººæ‰æ›´å¤šä¸”æˆæœ¬æ›´ä½ã€‚\nScala å·¥å…· sbt sbt new æ— æ³•å¤„ç†æ›¿æ¢è¿‡çš„ SSH ä¼šå¯¼è‡´ Auth failï¼Œä¸€ä¸ª workaround å°±æ˜¯æ‰‹åŠ¨ clone é¡¹ç›®ç„¶åï¼š\nsbt new file:///path/to/template.g8 sbt å›½å†…åŠ é€Ÿ ~/.sbt/repositories:\n[repositories] local nexus-aliyun:https://maven.aliyun.com/nexus/content/groups/public nexus-aliyun-ivy:https://maven.aliyun.com/nexus/content/groups/public/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext] typesafe: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext], bootOnly Unique Scala Rust from Scala Rust å’Œ Scala æœ‰å¾ˆå¤šæƒ³é€šçš„åœ°æ–¹ï¼ŒRust åº”è¯¥ä» Scala å€Ÿé‰´äº†å¾ˆå¤šï¼š\nå¯å˜é‡å’Œä¸å¯å˜é‡ æ¨¡å¼åŒ¹é… Trait å†…ç½®ç±»å‹ val b: Byte = 1 val x: Int = 1 val l: Long = 1 val s: Short = 1 val d: Double = 2.0 val f: Float = 3.0 å­—ç¬¦ä¸²æ‹¼æ¥ Python ä¹Ÿæ”¯æŒç±»ä¼¼çš„ f-string è¯­æ³•ï¼Œåœ¨ Scala ä¸­æ˜¯ s-string è¯­æ³•ã€‚\nval firstName = \u0026#34;John\u0026#34; val mi = \u0026#39;C\u0026#39; val lastName = \u0026#34;Doe\u0026#34; val name = firstName + \u0026#34; \u0026#34; + mi + \u0026#34; \u0026#34; + lastName val name = s\u0026#34;$firstName $mi $lastName\u0026#34; println(s\u0026#34;Name: $firstName $mi $lastName\u0026#34;) println(s\u0026#34;Name: ${firstName} ${mi} ${lastName}\u0026#34;) println(s\u0026#34;1+1 = ${1+1}\u0026#34;) å¤šè¡Œå­—ç¬¦ä¸² Multiline strings\nfor å¾ªç¯ val nums = Seq(1,2,3) for (n \u0026lt;- nums) println(n) val people = List( \u0026#34;Bill\u0026#34;, \u0026#34;Candy\u0026#34;, \u0026#34;Karen\u0026#34;, \u0026#34;Leo\u0026#34;, \u0026#34;Regina\u0026#34; ) for (p \u0026lt;- people) println(p) // foreach people.foreach(println) // map foreach val ratings = Map( \u0026#34;Lady in the Water\u0026#34; -\u0026gt; 3.0, \u0026#34;Snakes on a Plane\u0026#34; -\u0026gt; 4.0, \u0026#34;You, Me and Dupree\u0026#34; -\u0026gt; 3.5 ) for ((name,rating) \u0026lt;- ratings) println(s\u0026#34;Movie: $name, Rating: $rating\u0026#34;) ratings.foreach { case(movie, rating) =\u0026gt; println(s\u0026#34;key: $movie, value: $rating\u0026#34;) } for è¡¨è¾¾å¼ val nums = Seq(1,2,3) val doubledNums = for (n \u0026lt;- nums) yield n * 2 // \u0026lt;----- æ³¨æ„ yield see also: yield\næ¨¡å¼åŒ¹é… Rust å’Œ Scala å¾ˆåƒï¼Œä½†æ˜¯ Scala ä¾ç„¶æœ‰å¾ˆå¤šç‹¬ç‰¹çš„åœ°æ–¹ï¼š\n// æ¨¡å¼åŒ¹é…ä½œä¸ºæ–¹æ³•ä½“ def convertBooleanToStringMessage(bool: Boolean): String = bool match { case true =\u0026gt; \u0026#34;you said true\u0026#34; case false =\u0026gt; \u0026#34;you said false\u0026#34; } // alternate cases def isTrue(a: Any) = a match { case 0 | \u0026#34;\u0026#34; =\u0026gt; false case _ =\u0026gt; true } // æ”¯æŒ if count match { case 1 =\u0026gt; println(\u0026#34;one, a lonely number\u0026#34;) case x if x == 2 || x == 3 =\u0026gt; println(\u0026#34;two\u0026#39;s company, three\u0026#39;s a crowd\u0026#34;) case x if x \u0026gt; 3 =\u0026gt; println(\u0026#34;4+, that\u0026#39;s a party\u0026#34;) case _ =\u0026gt; println(\u0026#34;i\u0026#39;m guessing your number is zero or less\u0026#34;) } å¼‚å¸¸æ•è· å¼‚å¸¸æ•è·ç»“åˆäº†æ¨¡å¼åŒ¹é…ï¼š\nvar text = \u0026#34;\u0026#34; try { text = openAndReadAFile(filename) } catch { case e: FileNotFoundException =\u0026gt; println(\u0026#34;Couldn\u0026#39;t find that file.\u0026#34;) case e: IOException =\u0026gt; println(\u0026#34;Had an IOException trying to read that file\u0026#34;) } æ–¹æ³•å®šä¹‰ // å‡½æ•°å®šä¹‰çš„åŸºæœ¬è¯­æ³• def sum(a: Int, b: Int): Int = a + b def concatenate(s1: String, s2: String): String = s1 + s2 // è¿”å›å‚æ•°å¯ä»¥çœç•¥ def sum(a: Int, b: Int) = a + b def concatenate(s1: String, s2: String) = s1 + s2 // ä»£ç å—ç”¨ {} åŒ…å›´ï¼Œä½†æ˜¯ = ä¸èƒ½çœç•¥ def long(a: Int, b: Int) = { a + b } ç±»æ„é€  class Person(var firstName: String, var lastName: String) val p = new Person(\u0026#34;Bill\u0026#34;, \u0026#34;Panner\u0026#34;) // val åªè¯» class Person(val firstName: String, val lastName: String) // æ„é€ æ–¹æ³•ç›´æ¥å†™åœ¨ç±»ä½“é‡Œ class Person(var firstName: String, var lastName: String) { println(\u0026#34;the constructor begins\u0026#34;) // \u0026#39;public\u0026#39; access by default var age = 0 // some class fields private val HOME = System.getProperty(\u0026#34;user.home\u0026#34;) // some methods override def toString(): String = s\u0026#34;$firstName $lastName is $age years old\u0026#34; def printHome(): Unit = println(s\u0026#34;HOME = $HOME\u0026#34;) def printFullName(): Unit = println(this) printHome() printFullName() println(\u0026#34;you\u0026#39;ve reached the end of the constructor\u0026#34;) } // å…¶ä»–ä¸€äº›ä¾‹å­ class Pizza (var crustSize: Int, var crustType: String) // a stock, like AAPL or GOOG class Stock(var symbol: String, var price: BigDecimal) // a network socket class Socket(val timeout: Int, val linger: Int) { override def toString = s\u0026#34;timeout: $timeout, linger: $linger\u0026#34; } class Address ( var street1: String, var street2: String, var city: String, var state: String ) æ„é€ æ–¹æ³•é‡è½½ val DefaultCrustSize = 12 val DefaultCrustType = \u0026#34;THIN\u0026#34; // the primary constructor class Pizza (var crustSize: Int, var crustType: String) { // one-arg auxiliary constructor def this(crustSize: Int) = { this(crustSize, DefaultCrustType) } // one-arg auxiliary constructor def this(crustType: String) = { this(DefaultCrustSize, crustType) } // zero-arg auxiliary constructor def this() = { this(DefaultCrustSize, DefaultCrustType) } override def toString = s\u0026#34;A $crustSize inch pizza with a $crustType crust\u0026#34; } ","permalink":"https://notes.0081800.xyz/notes/20210827073626-scala/","summary":"tags: Programming Language Scala å­¦ä¹ èµ„æº Scala Book Scala è¿™ä¹ˆå¥½çš„è¯­è¨€ä¸ºä»€ä¹ˆä¸æµè¡Œ HNï¼šScala ä¸ºä»€ä¹ˆä¸æµè¡Œ Redditï¼šScala ä¸ºä»€ä¹ˆä¸æµè¡Œ ç»“è®ºï¼šJava äººæ‰æ›´å¤šä¸”æˆæœ¬æ›´ä½ã€‚\nScala å·¥å…· sbt sbt new æ— æ³•å¤„ç†æ›¿æ¢è¿‡çš„ SSH ä¼šå¯¼è‡´ Auth failï¼Œä¸€ä¸ª workaround å°±æ˜¯æ‰‹åŠ¨ clone é¡¹ç›®ç„¶åï¼š\nsbt new file:///path/to/template.g8 sbt å›½å†…åŠ é€Ÿ ~/.sbt/repositories:\n[repositories] local nexus-aliyun:https://maven.aliyun.com/nexus/content/groups/public nexus-aliyun-ivy:https://maven.aliyun.com/nexus/content/groups/public/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext] typesafe: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext], bootOnly Unique Scala Rust from Scala Rust å’Œ Scala æœ‰å¾ˆå¤šæƒ³é€šçš„åœ°æ–¹ï¼ŒRust åº”è¯¥ä» Scala å€Ÿé‰´äº†å¾ˆå¤šï¼š\nå¯å˜é‡å’Œä¸å¯å˜é‡ æ¨¡å¼åŒ¹é… Trait å†…ç½®ç±»å‹ val b: Byte = 1 val x: Int = 1 val l: Long = 1 val s: Short = 1 val d: Double = 2.","title":"Scala"},{"content":"èƒŒæ™¯ä»‹ç» æœ€è¿‘æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œç»è¿‡éœ€æ±‚è°ƒç ”å†³å®šå°è¯•ä½¿ç”¨ Airflow è°ƒåº¦æ•°æ®ç”Ÿäº§ï¼Œè¿‡ç¨‹æ¶‰åŠï¼š\nä»å¤§æ•°æ® Hive æ•°æ®åº“æ•´åˆæ•°æ®å®½è¡¨ï¼› åœ¨ Spark ä¸Šè¿è¡Œ IRT ç®—æ³•æ¨¡å‹æ±‡æ€» ADS è¡¨ã€‚ ä»ä¸­å­¦ä¹ äº†å¾ˆå¤šå…³äºå¤§æ•°æ®çš„çŸ¥è¯†ï¼ŒåŒæ—¶ä¹Ÿç§¯ç´¯äº†å¦‚ä½•é€šè¿‡ Airflow æäº¤ Spark ä»»åŠ¡çš„ç»éªŒï¼Œåº”å½“æŠ½æ—¶é—´æ€»ç»“ä¸€ä¸‹ã€‚\nå†°å±±ä¹‹ä¸‹ å¦‚ã€Œå†°å±±ç†è®ºã€æ‰€æè¿°ï¼Œæˆ‘ä»¬æ‰€åšçš„åªæ˜¯å†°å±±éœ²åœ¨æ°´é¢çš„ä¸€è§’ï¼Œéšè—åœ¨å†°å±±ä¹‹ä¸‹æ›´å¤§çš„ä¸€éƒ¨ä»½æ˜¯ï¼š\nAirflow + Celery Docker Hadoop(Hive) é›†ç¾¤ YARN é›†ç¾¤ï¼ˆSpark over YARNï¼‰ æ¥ä¸‹æ¥æˆ‘ä»¬å°†å…³æ³¨åœ¨ã€Œå†°å±±æ°´é¢ä¸Šçš„ä¸€è§’ã€æ¥é˜è¿°æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™äº›å·²æœ‰çš„æŠ€æœ¯è¿ç»“äº†æ•´ä¸ªç³»ç»Ÿã€‚\nMake DAG great again ä¹‹å‰éƒ¨é—¨é‡Œæœ‰ä½ç®—æ³•å¤§ä½¬ç”¨ DAGï¼ˆå¤§ä½¬å¿µåšã€Œæˆ´æ ¼ã€ï¼‰å®ç°äº†ä¸€å¥—éå¸¸ç‰›é€¼çš„æ–‡æœ¬å’Œè¯†åˆ«å¤„ç†ç®—æ³•ï¼Œç„¶åæ¯æ¬¡è®¨è®ºæ–¹æ¡ˆå¿…è°ˆ DAGï¼Œ æ‰€ä»¥ DAG æˆäº†éƒ¨é—¨é‡Œéƒ½çŸ¥é“çš„ä¸€ä¸ªæ¢—ï¼Œè™½ç„¶å¤§ä½¬èµ°äº†ä¹‹åå¾ˆå°‘å†æœ‰äººæèµ· DAGï¼Œä½†æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šè¿›è¡Œæ–‡è‰ºå¤å…´ï¼Œè®© DAG å†æ¬¡å‡ºç°åœ¨æˆ‘ä»¬çš„æ—¥å¸¸æŠ€æœ¯è®¨è®ºä¸­ã€‚\nMake DAG Great Again!\nAirflow ä»‹ç» æ¶æ„ æ¦‚å¿µ DAG Operator Connection Providers packages See also: Provider packages.\nSpark ä»‹ç» æ¶æ„ Spark ç¼–ç¨‹ Spark SQL Hive Table ç¤ºä¾‹ Airflow + Spark å¹³å°åŒ– Celery Worker as a Spark Driver Celery Worker running on specific platform Windows Bigdata Hive client DAGs åˆ†å‘ æäº¤ DAG Python ä¾èµ–è§£å†³ Spark Airflow å¤–éƒ¨ä¾èµ–ï¼Ÿ æœªæ¥ æ‰¿æ¥æ›´å¤šçš„æŠ¥å‘Šéœ€æ±‚ å¯¹å†…æ‰¿æ¥åˆ†æä»»åŠ¡ å¯ç¼–ç¨‹ã€å¹³å°åŒ–çš„åˆ†æ ","permalink":"https://notes.0081800.xyz/articles/20210826074053-airflow_powers_ai/","summary":"èƒŒæ™¯ä»‹ç» æœ€è¿‘æ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œç»è¿‡éœ€æ±‚è°ƒç ”å†³å®šå°è¯•ä½¿ç”¨ Airflow è°ƒåº¦æ•°æ®ç”Ÿäº§ï¼Œè¿‡ç¨‹æ¶‰åŠï¼š\nä»å¤§æ•°æ® Hive æ•°æ®åº“æ•´åˆæ•°æ®å®½è¡¨ï¼› åœ¨ Spark ä¸Šè¿è¡Œ IRT ç®—æ³•æ¨¡å‹æ±‡æ€» ADS è¡¨ã€‚ ä»ä¸­å­¦ä¹ äº†å¾ˆå¤šå…³äºå¤§æ•°æ®çš„çŸ¥è¯†ï¼ŒåŒæ—¶ä¹Ÿç§¯ç´¯äº†å¦‚ä½•é€šè¿‡ Airflow æäº¤ Spark ä»»åŠ¡çš„ç»éªŒï¼Œåº”å½“æŠ½æ—¶é—´æ€»ç»“ä¸€ä¸‹ã€‚\nå†°å±±ä¹‹ä¸‹ å¦‚ã€Œå†°å±±ç†è®ºã€æ‰€æè¿°ï¼Œæˆ‘ä»¬æ‰€åšçš„åªæ˜¯å†°å±±éœ²åœ¨æ°´é¢çš„ä¸€è§’ï¼Œéšè—åœ¨å†°å±±ä¹‹ä¸‹æ›´å¤§çš„ä¸€éƒ¨ä»½æ˜¯ï¼š\nAirflow + Celery Docker Hadoop(Hive) é›†ç¾¤ YARN é›†ç¾¤ï¼ˆSpark over YARNï¼‰ æ¥ä¸‹æ¥æˆ‘ä»¬å°†å…³æ³¨åœ¨ã€Œå†°å±±æ°´é¢ä¸Šçš„ä¸€è§’ã€æ¥é˜è¿°æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™äº›å·²æœ‰çš„æŠ€æœ¯è¿ç»“äº†æ•´ä¸ªç³»ç»Ÿã€‚\nMake DAG great again ä¹‹å‰éƒ¨é—¨é‡Œæœ‰ä½ç®—æ³•å¤§ä½¬ç”¨ DAGï¼ˆå¤§ä½¬å¿µåšã€Œæˆ´æ ¼ã€ï¼‰å®ç°äº†ä¸€å¥—éå¸¸ç‰›é€¼çš„æ–‡æœ¬å’Œè¯†åˆ«å¤„ç†ç®—æ³•ï¼Œç„¶åæ¯æ¬¡è®¨è®ºæ–¹æ¡ˆå¿…è°ˆ DAGï¼Œ æ‰€ä»¥ DAG æˆäº†éƒ¨é—¨é‡Œéƒ½çŸ¥é“çš„ä¸€ä¸ªæ¢—ï¼Œè™½ç„¶å¤§ä½¬èµ°äº†ä¹‹åå¾ˆå°‘å†æœ‰äººæèµ· DAGï¼Œä½†æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šè¿›è¡Œæ–‡è‰ºå¤å…´ï¼Œè®© DAG å†æ¬¡å‡ºç°åœ¨æˆ‘ä»¬çš„æ—¥å¸¸æŠ€æœ¯è®¨è®ºä¸­ã€‚\nMake DAG Great Again!\nAirflow ä»‹ç» æ¶æ„ æ¦‚å¿µ DAG Operator Connection Providers packages See also: Provider packages.\nSpark ä»‹ç» æ¶æ„ Spark ç¼–ç¨‹ Spark SQL Hive Table ç¤ºä¾‹ Airflow + Spark å¹³å°åŒ– Celery Worker as a Spark Driver Celery Worker running on specific platform Windows Bigdata Hive client DAGs åˆ†å‘ æäº¤ DAG Python ä¾èµ–è§£å†³ Spark Airflow å¤–éƒ¨ä¾èµ–ï¼Ÿ æœªæ¥ æ‰¿æ¥æ›´å¤šçš„æŠ¥å‘Šéœ€æ±‚ å¯¹å†…æ‰¿æ¥åˆ†æä»»åŠ¡ å¯ç¼–ç¨‹ã€å¹³å°åŒ–çš„åˆ†æ ","title":"Airflow powers AI"},{"content":" https://inkscape.org/ ","permalink":"https://notes.0081800.xyz/notes/20210825081520-svg_%E7%BB%98%E5%88%B6%E5%B7%A5%E5%85%B7/","summary":" https://inkscape.org/ ","title":"SVG ç»˜åˆ¶å·¥å…·"},{"content":"SVG SVG ç»˜åˆ¶å·¥å…·\n","permalink":"https://notes.0081800.xyz/notes/20210825081459-%E8%AE%BE%E8%AE%A1/","summary":"SVG SVG ç»˜åˆ¶å·¥å…·","title":"è®¾è®¡"},{"content":"Graphviz æ•™ç¨‹ https://www2.eecs.berkeley.edu/Pubs/TechRpts/2013/EECS-2013-176.pdf Graphviz Examples https://graphviz.org/gallery/ Graphviz ç»˜åˆ¶æ€ç»´å¯¼å›¾ Graphviz Online Tools ä¸€ä¸ªæ‰‹ç»˜é£æ ¼çš„åœ¨çº¿ç»˜å›¾å·¥å…·ï¼šhttps://sketchviz.com/new Gaphviz Playgroundï¼šhttp://magjac.com/graphviz-visual-editor/ ","permalink":"https://notes.0081800.xyz/notes/20210824065326-graphviz/","summary":"Graphviz æ•™ç¨‹ https://www2.eecs.berkeley.edu/Pubs/TechRpts/2013/EECS-2013-176.pdf Graphviz Examples https://graphviz.org/gallery/ Graphviz ç»˜åˆ¶æ€ç»´å¯¼å›¾ Graphviz Online Tools ä¸€ä¸ªæ‰‹ç»˜é£æ ¼çš„åœ¨çº¿ç»˜å›¾å·¥å…·ï¼šhttps://sketchviz.com/new Gaphviz Playgroundï¼šhttp://magjac.com/graphviz-visual-editor/ ","title":"Graphviz"},{"content":" tags: æ­£åœ¨è¯»çš„ä¹¦,è¯»ä¹¦ç¬”è®° è¿™æ˜¯ä¸€æœ¬ä»€ä¹ˆæ ·ä¹¦ï¼Ÿ å¿˜è®°ä»å“ªé‡Œçœ‹åˆ°äº†è¿™ä¹ˆä¸€æœ¬ä¹¦ï¼Œå¾ˆæ—©ä¹‹å‰å°±çœ‹åˆ°è¿‡ç›¸å…³æ¨èï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡çœ‹è¿˜æ˜¯å› ä¸ºåœ¨ 2021 ä¸ŠåŠå¹´ Kindle Unlimited ä¸Šæœ‰è¿™æœ¬ä¹¦çš„ç”µå­ä¹¦ï¼Œ å› ä¸ºå¯ä»¥å…è´¹é˜…è¯»åŠ ä¸Šå½“æ—¶æ‰¾ä¸åˆ°ç›¸å…³ä¹¦ç±æ‰å¼€å§‹é˜…è¯»è¿™æœ¬ä¹¦ã€‚\nè¯»ç¬¬ä¸€éæ˜¯æˆ‘åœ¨ä¸Šç­é€šå‹¤çš„è·¯ä¸Šå®Œæˆçš„ï¼Œç»™æˆ‘çš„æ„Ÿå—å°±æ˜¯è¿™æ˜¯ä¸€æœ¬å…³äºæ—…è¡Œå’Œæ—…è¡Œä¸­çš„ä¸€äº›æ€è€ƒçš„ä¹¦ã€‚ä¹¦ä¸­ã€Œæˆ‘ã€æå†™äº†å¾ˆå¤šæ—…è¡Œä¸­çš„è§é—»ï¼Œ å¹¶é€šè¿‡ã€Œæˆ‘ã€çš„æ€ç»´æ¥æ¢å¯»è‰¯è´¨ï¼Œæ¢è®¨ç¦…ä¸ç§‘æŠ€ã€ç§‘æŠ€ä¸è‰ºæœ¯ã€å¤å…¸ï¼ˆå“²å­¦ï¼‰ä¸»ä¹‰ä¸æµªæ¼«ä¸»ä¹‰ã€‚éšç€ä¸»é¢˜çš„æ·±å…¥ã€Œæˆ‘ã€å¼€å§‹åœ¨ä¸¤ä¸ªæ€æƒ³ä¸­æ¥å›åˆ‡æ¢ï¼Œ å¹¶ä¸”å¼€å§‹æ¢è®¨å½¢è€Œä¸Šå­¦çš„ä¸€äº›ä¸œè¥¿ï¼ˆå¤å…¸ä¸»ä¹‰å’Œæµªæ¼«ä¸»ä¹‰ï¼‰è¿™æœ¬ä¹¦ä¹Ÿå˜çš„è¶Šæ¥è¶Šéš¾è¯»ã€‚æ€»ä½“ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯å¾ˆå¥½çš„ä¸€æœ¬ä¹¦ï¼Œä½†æ˜¯æˆ‘å¥½åƒæ²¡è¯»å¤ªæ‡‚ã€‚\nåŸºäºä¸Šé¢æˆ‘åé¢åœ¨ JD ä¹°ä¹¦çš„æ—¶å€™çœ‹åˆ°äº†é‡åº†å‡ºç‰ˆç¤¾é‡æ–°å‡ºç‰ˆçš„çè—ç‰ˆã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ï¼Œæˆ‘è¢«å®ƒçš„å…¨é»‘çš„å°é¢æ‰€å¸å¼•ï¼Œæ¯«ä¸çŠ¹è±«çš„ä¸‹å•ä¹°äº†è¿™æœ¬ä¹¦ã€‚\néšä¹¦é™„èµ çš„ä¸€æœ¬å°å†Œå­è®©æˆ‘æ›´å¥½çš„äº†è§£è¿™æœ¬ä¹¦å’Œä½œè€…ç½—ä¼¯ç‰¹.M.æ³¢è¥¿æ ¼ï¼Œå…¶çœŸäººç¡®å®æ‚£è¿‡ç²¾ç¥åˆ†è£‚ç—‡ï¼Œå¹¶æ¥å—è¿‡ç”µå‡»ç–—æ³•ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹¦ä¸­çš„ã€Œæˆ‘ã€å’Œã€Œè£´å¾·æ´›ã€ã€‚ ä½œè€…ä¹ŸåŒæ—¶è¯´æ˜ä¸ºä»€ä¹ˆè¦ç”¨ç¬¬ä¸€äººç§°ã€Œæˆ‘ã€æ¥å™è¿°æœ¬ä¹¦ï¼Œå› ä¸ºã€Œæˆ‘ã€åœ¨è®²è¿°çš„æ—¶å€™æ˜¯å¸Œæœ›å€¾å¬çš„äººèƒ½å¤Ÿå–œæ¬¢æˆ‘ã€‚æˆ‘å¤ªå–œæ¬¢è¿™å¥è¯äº†ï¼ŒåŒæ—¶è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ç¬”è®°é‡ŒæŠŠã€Œæˆ‘ã€éƒ½å¼•äº†èµ·æ¥ã€‚\nè¿™æœ¬å°å†Œå­å’Œç¬¬ä¸€éç•™ç»™æˆ‘çš„å›°æƒ‘è®©æˆ‘å†³å®šé‡è¯»è¿™æœ¬ä¹¦ï¼Œæˆ‘ç°åœ¨ä¸€æœ‰ç©ºæˆ–è€…æ„Ÿåˆ°æ— èŠï¼Œæˆ‘å°±ä¼šæ§èµ·è¿™æœ¬ä¹¦æ¥é˜…è¯»ã€‚ç¬¬äºŒéé˜…è¯»æˆ‘æ— æ³•ä»ç¬¬ä¸€éƒ¨åˆ†è·³å‡ºå»ï¼Œå› ä¸ºä¹¦ä¸­çš„å†…å®¹å¤ªå¤šå¼•èµ·äº†æˆ‘çš„å…±é¸£ï¼Œ è¿™æ˜¯æˆ‘åœ¨ç¬¬ä¸€éé˜…è¯»æ‰€æ²¡æœ‰å‘ç°çš„ã€‚æˆ‘æ€»æ˜¯åå¤çš„é˜…è¯»ï¼Œåå¤çš„å»æ€è€ƒé‚£äº›å¸¦ç»™æˆ‘å…±é¸£çš„å†…å®¹ã€‚åŒæ—¶æˆ‘å‘ç°æˆ‘åœ¨æ—¥å¸¸èŠå¤©çš„æ—¶å€™å·²ç»åœ¨ä¸çŸ¥ä¸è§‰çš„å¼•ç”¨ä¹¦ä¸­çš„ä¸€äº›å†…å®¹ã€‚ è¿™ä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« çš„æ¥æºï¼Œæˆ‘è§‰å¾—å¦‚æœæˆ‘ä¸å†™ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘æ„Ÿè§‰æˆ‘ä¼šæ°¸è¿œâ€œå›°â€åœ¨è¿™æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚\nå¦‚ä½•è®°å½•æ€è€ƒï¼Ÿ è¿™æ˜¯ä¸€æœ¬èƒ½å¤Ÿè®©äººæ€è€ƒçš„ä¹¦ï¼Œè¯¥å¦‚ä½•è®°å½•è¿™äº›æ€è€ƒï¼Ÿé€šè¿‡ä¸€äº›å°è¯•ï¼Œæˆ‘å†³å®šåœ¨æ²¡è¯»å®Œä¸€å°èŠ‚ä¹‹åè®°å½•æˆ‘çš„æƒ³æ³•ï¼Œç„¶åå†é˜…è¯»ä¸€éæ¥ä¿®æ­£æˆ‘çš„æƒ³æ³•ã€‚ æˆ–è®¸åé¢çš„æ—¥å­æˆ‘ä¼šå›æ¥æ›´æ–°æˆ‘çš„æƒ³æ³•ã€‚\nç¬¬ä¸€éƒ¨åˆ† 01 ç–é€šæ€æƒ³çš„æ²³é“ é¦–å…ˆæˆ‘ä»¬åº”è¯¥æ…¢æ¥ä¸‹ï¼Œå»æ›´å¥½çš„æ„Ÿå—è¿‡ç¨‹è€Œéç»“æœï¼šæ—…è¡Œçš„æ„ä¹‰ä¸ä»…ä»…åœ¨äºåˆ°è¾¾ç›®çš„åœ°ï¼Œæ›´å¤šçš„æ˜¯æ„Ÿå—æ—…è¡Œçš„è¿‡ç¨‹ï¼ˆæ²¿é€”çš„é£æ™¯ã€é‡åˆ°çš„äººå’Œäº‹ï¼‰ã€‚ ä¸è¦ç­‰åˆ°ã€ŒçœŸç†å·²ç»å†æ•²ä½ çš„é—¨ï¼Œè€Œä½ å´è¯´ï¼šâ€œèµ°å¼€ï¼Œæˆ‘æ­£åœ¨å¯»æ‰¾çœŸç†â€ã€ã€‚\nåœ¨å…¨ç¾æ€æƒ³äº¤æµæ›´åŠ å¿«é€Ÿçš„æ—¶ä»£èƒŒæ™¯ä¹‹ä¸‹ï¼ŒåŸå…ˆçš„æ²³æµæ— æ³•æ‰¿è½½å¤§é‡çš„æ€æƒ³é€ æˆäº†ä¸¤å²¸çš„ç¾éš¾ï¼Œè¿‡å¤šçš„ã€Œæ–°é²œäº‹ã€æ„æˆäº†æ²³é“ä¸­çš„æ±¡æ³¥ï¼Œ ã€Œæœ€å¥½çš„ã€æŠŠæ€æƒ³çš„æ²³é“æŒ–å‡¿çš„å¤ªæ·±ä»¥è‡³äºæ— æ³•æ”¹åŠ¨ã€‚é€šè¿‡ä¸€æ¬¡æ‘©æ‰˜è½¦çš„æ—…è¡Œï¼ˆChautauquaï¼‰æ¥ç–é€šï¼ˆå¹¶éæ‹“å®½ï¼‰æ€æƒ³çš„æ²³é“ã€‚ æ¢è®¨ã€Œæˆ‘ã€å’Œæœ‹å‹ä¹‹é—´å¯¹å¾…æ‘©æ‰˜è½¦ç»´ä¿®ï¼ˆå¤§éƒ¨åˆ†æŒ‡ç§‘æŠ€ï¼‰ä¸åŒçš„æ€åº¦ã€‚\nè™½ç„¶çº¦ç¿°å¤«å¦‡åŒæ ·å–œæ¬¢éª‘æ‘©æ‰˜è½¦æ—…è¡Œï¼Œä½†æ˜¯å¯¹å¾…åº”è¯¥å¤šå¤§ç¨‹åº¦è‡ªå·±ç»´ä¿®æ‘©æ‰˜è½¦æ–¹é¢æœ‰å¾ˆå¤§çš„ä¸åŒï¼š\næ¯”å¦‚çº¦ç¿°å¯åŠ¨ä¸äº†æ‘©æ‰˜è½¦ï¼Œã€Œæˆ‘ã€ä¸ä¼šä¸»åŠ¨å»å¸®å¿™ï¼šã€Œé™¤éä»–çœŸæ­£çš„éœ€è¦åˆ«äººçš„å¸®å¿™ï¼Œå¦åˆ™åˆ«äººä»‹å…¥åªä¼šå¼•èµ·ä»–çš„åŒçƒ¦ã€ã€‚ å…¶å®è¿™äº›ä¸æ˜¯å¯¹å¾…ç»´ä¿®æ‘©æ‰˜è½¦çš„æ€åº¦ä¸åŒï¼Œè€Œæ˜¯å¯¹å¾…ç§‘æŠ€ï¼ˆè‡³å°‘å¤§éƒ¨åˆ†ï¼‰çš„æ€åº¦ã€‚ã€Œæˆ‘è®¤ä¸ºçº¦ç¿°ä»–ä»¬çš„é€ƒé¿å’ŒåŒæ¶åªæ˜¯ä¸€ç§è‡ªæ¬ºçš„è¡Œä¸ºã€‚ã€\nä¸»é¢˜ï¼šã€Œä½›é™€æˆ–è€…è€¶ç¨£ååœ¨ç”µè„‘å’Œå˜é€Ÿå™¨çš„é½¿è½®æ—ä¿®è¡Œï¼Œä¼šåƒååœ¨å±±é¡¶æˆ–è€…è²èŠ±åº§ä¸Šä¿®è¡Œä¸€æ ·è‡ªåœ¨ã€‚å¦‚æœä½ è®¤ä¸ºä¸æ˜¯å¦‚æ­¤ï¼Œé‚£æ— å¼‚ä¸äºµæ¸äº†ä½›é™€ \u0026ndash; ä¹Ÿå°±æ˜¯äºµæ¸äº†ä½ è‡ªå·±ã€‚ã€\n02 æ”¾æ…¢è„šæ­¥è®¤çœŸæ€è€ƒ ä»å‰çš„ã€Œæˆ‘ã€å°±åƒç°åœ¨çš„çº¦ç¿°ä¸€æ ·ï¼Œä¸å…³å¿ƒæ‘©æ‰˜è½¦ç»´ä¿®ï¼Œä»ä¿®ç†æˆ‘æ‘©æ‰˜è½¦çš„ã€Œä¸“ä¸šäººå£«ã€èº«ä¸Šçœ‹åˆ°äº†ï¼š\nã€Œå¦‚æœä½ ä¸æ”¾æ…¢è„šæ­¥è®¤çœŸæ€è€ƒï¼Œå¾€å¾€ä¼šèŠ±è´¹æ›´å¤šçš„æ—¶é—´å¾—åˆ°æ›´å·®çš„ç»“æœã€‚ã€ ã€Œåƒæ—è§‚è€…ä¸€æ ·å¯¹å¾…è‡ªå·±çš„å·¥ä½œï¼Œçœ‹èµ·æ¥éšå’Œã€å‹å–„å’Œè½»æ¾è‡ªåœ¨ï¼Œä½†å¹¶æ²¡æœ‰æŠ•å…¥å·¥ä½œï¼Œå¯¹å·¥ä½œæ²¡æœ‰è®¤åŒæ„Ÿã€‚ã€ ã€Œå½“ä½ åšæŸä»¶äº‹ï¼Œä¸€æ—¦æƒ³è¦æ±‚å¿«ï¼Œå°±è¡¨ç¤ºä½ å†ä¹Ÿä¸å…³å¿ƒå®ƒï¼Œåªæƒ³å»åšåˆ«çš„äº‹ã€‚ã€ 03 é¬¼é­‚è£´å¾·æ´› ã€Œä¸Šå¸ï¼Œä»–æ¥è¿‡è¿™é‡Œã€ï¼šæš´é£é›¨çš„é—ªç”µå’Œèº²é¿å®ƒçš„æ‘©æ‰˜è½¦çš„é€Ÿåº¦è®©â€œæˆ‘â€é—ªç°å‡ºé¬¼é­‚è£´å¾·æ´›ï¼Œâ€œæˆ‘â€é™ä½äº†æ‘©æ‰˜è½¦çš„è½¦é€Ÿï¼šæ—¶é€Ÿä» 95 è‹±é‡Œé™åˆ° 55 è‹±é‡Œã€‚ å„¿å­å…‹é‡Œæ–¯ç¡®è®¤ä¸ºåˆšæ‰å¾ˆæ£’ä¸€ç‚¹ä¹Ÿä¸å¿«ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿé¢„ç¤ºç€å…‹é‡Œæ–¯å–œæ¬¢é¬¼é­‚è£´å¾·æ´›ï¼ŸæŒ‡ç‚¹æ±½è½¦æ—…é¦†ä¹Ÿè®©çº¦ç¿°æƒŠè®¶äºâ€œæˆ‘â€ä¸ºä»€ä¹ˆçŸ¥é“ï¼Œè€Œâ€œæˆ‘â€é€‰æ‹©å›é¿ã€‚\næ€è–‡å¨…å¼•å‡ºäº†é¬¼é­‚è¯é¢˜ï¼šã€Œä½ å¥½åƒè§é¬¼äº†ã€ã€‚\nâ€œæˆ‘â€å¼€å§‹è°ˆè®ºç§‘å­¦çš„é¬¼é­‚ï¼Œä½†æ˜¯è¿™äº›è®ºè°ƒå¥½åƒå±äºâ€œæˆ‘â€ï¼Œè€Œæ˜¯å±äºé¬¼é­‚è£´å¾·æ´›ã€‚ç§‘å­¦çš„é¬¼é­‚ï¼šåªå­˜åœ¨äºäººçš„å¿ƒä¸­ï¼Œæ¯”å¦‚ã€Œä¸‡æœ‰å¼•åŠ›å®šå¾‹ã€ï¼š\nç‰›é¡¿å‘ç°å®ƒä¹‹å‰å®ƒå­˜åœ¨å—ï¼Ÿ åœ°çƒæ¯ç­ï¼Œäººç±»æ¶ˆå¤±äº†å®ƒè¿˜å­˜åœ¨å—ï¼Ÿ å®ƒåªå­˜åœ¨äºäººçš„å¿ƒä¸­ï¼Œæ‰€ä»¥æ˜¯ç§‘å­¦çš„é¬¼é­‚ã€‚äººä»¬ä¹‹æ‰€ä»¥ç›¸ä¿¡å®ƒæ˜¯å› ä¸ºäººä»¬è¢«å‚¬çœ äº†ï¼Œæ­£ç»Ÿçš„è¯´æ˜¯å—æ•™è‚²äº†ã€‚å¤ä»£ä¸–ç•Œç”±é¬¼é­‚æ§åˆ¶ï¼šç¥æˆ–äººï¼Œç‰›é¡¿æ˜¯æœ€å¥½çš„ä¸€ä½ã€‚æˆ‘ä»¬çš„å¸¸è¯†ç”±é¬¼é­‚çš„å£°éŸ³æ„æˆã€‚\nåœ¨å…‹é‡Œæ–¯çš„è¿½é—®ä¸‹ï¼Œâ€œæˆ‘â€å£°ç§°è‡ªå·±å‡ºå‘å¯»æ‰¾é¬¼é­‚ï¼Œå¹¶å°†é¬¼é­‚ç—›æ‰“äº†ä¸€é¡¿ï¼Œè¿™ä¸ªé¬¼é­‚å°±æ˜¯ï¼šè£´å¾·æ´›ã€‚\n04 ä¸è¦åœ¨ä½ éœ€è¦çš„æƒ…å†µä¸‹è¯…å’’ç§‘æŠ€ åœ¨å¤©æ°”å¥½çš„æ—©æ™¨ä¸­å‰è¿›ï¼Œå¯’é£é€ æˆäº†ç”Ÿç†ä¸Šçš„ä¸é€‚ï¼Œå°±åƒå¯¹ç§‘æŠ€çš„ä¸æ»¡ä¸€æ ·ã€‚ ã€Œä»–ä»¬ä¸€é¢éœ€è¦ç§‘æŠ€ï¼Œä¸€é¢åˆè¦è¯…å’’å®ƒã€‚æˆ‘ç›¸ä¿¡ä»–ä»¬å¾ˆæ˜ç™½è¿™ä¸€ç‚¹ï¼Œè€Œè¿™æ­£æ˜¯ä»–ä»¬å¯¹æ•´ä¸ªç¯å¢ƒä¸æ»¡çš„åŸå› ã€ã€‚ è¿™ä¸€éƒ¨åˆ†æ›´å¤šçš„æ˜¯å¯¹æ²¿é€”ç¾ä¸½é£æ™¯çš„æå†™ï¼Œè®©äººå¿ƒå‘å¾€ä¹‹ã€‚ ã€Œæˆ‘ä¸æƒ³æ‹¥æœ‰è¿™äº›è‰åŸï¼Œæˆ–æ˜¯æŠŠä»–ä»¬æ‹ä¸‹æ¥ï¼Œæˆ‘ä¹Ÿä¸æƒ³æ”¹å˜å®ƒä»¬ï¼Œç”šè‡³ä¸æƒ³åœä¸‹æ¥æˆ–æ˜¯ç»§ç»­èµ°ä¸‹å»ã€‚ã€\n05 è—è¡“èˆ‡ç§‘å­¸çš„è¦–è§’æ±ºå®šäº†æ€è€ƒå•é¡Œçš„æ–¹å¼ ç´„ç¿°å°è¡¨è±¡æ¯”è¼ƒæ„Ÿèˆˆè¶£ï¼Œä½†æ˜¯å°å…§æ¶µå‰‡ä¸ç„¶ï¼Œé€šéç”¨æ˜“æ‹‰ç½ä½œçˆ²å¢Šç‰‡ä¿®ç†æ‘©æ‰˜è»Šåæ˜ äº†å…©ç¨®æ…‹åº¦ã€‚ é‚£éº¼æˆ‘å€‘çˆ²ä»€éº¼æœƒå¸¸å¸¸å¿½ç•¥é€™ç¨®å·®ç•°å‘¢ï¼Ÿæ›¸ä¸­çµ¦å‡ºäº†ç­”æ¡ˆã€Œæœ‰äº›æ±è¥¿ä½ å¿½ç•¥æ˜¯å› çˆ²å®ƒå€‘éå¸¸ç´°å¾®ï¼Œä½†æœ‰äº›å»æ˜¯å› çˆ²å®ƒå€‘éæ–¼é¾å¤§ã€ã€‚ æ€è€ƒç›¸åŒçš„äº‹æƒ…ï¼Œå‡ºç™¼é»ä¸ä¸€æ¨£å°±å¯èƒ½æœƒå°è‡´å®Œå…¨ä¸åŒçš„çµè«–ã€‚ç´„ç¿°ç«™åœ¨è—è¡“çš„è¦–è§’è€Œéç”¨é‚è¼¯å»æ€è€ƒç§‘å­¸ï¼Œæ‰€ä»¥å››è™•ç¢°å£ã€‚ç„¶å¾Œç§‘å­¸ï¼ˆæ‘©æ‰˜è»Šï¼‰æ²’æœ‰æŒ‰ç…§ç´„ç¿°æ‰€æƒ³çš„é‚£æ¨£å·¥ä½œï¼Œæ‰€ä»¥ç´„ç¿°è¢«æ¿€æ€’äº†ï¼Œç™¼å‹•ä¸äº†çš„æ‘©æ‰˜è»Šå½·å½¿åœ¨ç´„ç¿°çœ‹å¾…å•é¡Œçš„æ–¹å¼ä¸Šé‘¿äº†ä¸€å€‹æ´ã€‚\néš¨ç€ã€Œæˆ‘ã€æ€è€ƒçš„æ·±å…¥ï¼Œä¹Ÿè¶Šä¾†è¶Šæ¥è¿‘é¬¼é­‚è£´å¾·æ´›ï¼Œè¶Šä¾†è¶Šèƒ½æ„Ÿå—åˆ°ä»–çš„å­˜åœ¨ã€‚\næ•…äº‹å¼€å§‹ ä¸€äº›ç‰‡æ®µ p12 å¯¹å‘¨é­ç¾å¥½è§†è€Œä¸è§ï¼Œä½ åœ¨å¯»æ‰¾çœŸç†ï¼Œä½†æ˜¯çœŸç†æ•²ä½ é—¨çš„æ—¶å€™ä½ å´ä¸è®¤è¯†çœŸç†ï¼Œæ‰€ä»¥çœŸç†èµ°å¼€äº†ã€‚\np21 å¸®åŠ©ä¸€ä¸ªä¸å¸Œæœ›åˆ«äººå¸®åŠ©çš„äººåªä¼šé­æ¥å¯¹æ–¹çš„åŒçƒ¦ï¼šã€Œé™¤éä»–çœŸçš„éœ€è¦åˆ«äººçš„å¸®åŠ©ï¼Œå¦åˆ™åˆ«äººçš„ä»‹å…¥åªä¼šå¼•èµ·ä»–çš„åŒçƒ¦ã€\np23 å¿å—æ°´æ»´æ»´ç­”å£°ã€‚ä¸€ç‚¹å°æ¯›ç—…ï¼Œè¦ç»•åœ¨ä½ å¿ƒå¤´ï¼Œè¦ä¸è¦è§£å†³å®ƒï¼Ÿå¦‚æœä»…ä»…æ˜¯æ°´é¾™å¤´çš„æ»´ç­”å£°ï¼Œè¦ä¸è¦ä¿®ç†ï¼Ÿ å¦‚æœæ˜¯å’Œå…¶ä»–äººçš„ç†å¿µä¸åŒå‘¢ï¼Œæ¯æ¬¡è°ˆè¯éƒ½æ˜¯ä¸€é˜µæ²‰é»˜ï¼Œç„¶åå„è‡ªç¼­ç»•å¿ƒå¤´ï¼Œç›˜æ—‹ä¸å»ï¼Œè¦ä¸è¦è§£å†³ï¼Œæ€ä¹ˆè§£å†³ï¼Ÿ\np59 å¦‚æœæœ‰äººä¸æ‡‚å¿ƒå­˜æ„Ÿæ¿€ï¼Œè€Œä½ å½“é¢å‘Šè¯‰ä»–ï¼Œé‚£ä¹ˆå°±ç­‰äºæ˜¯åœ¨éª‚ä»–ï¼Œè¿™æ ·ä½ ä»€ä¹ˆäº‹éƒ½è§£å†³ä¸äº†ã€‚\nä¸€äº›æƒ³æ³• p23 ã€Œæˆ‘ã€å’Œçº¦ç¿°å°±åƒä¸¤ä¸ªä»·å€¼è§‚ï¼ˆæˆ‘åœ¨è¯´ä»€ä¹ˆï¼ï¼ï¼‰ä¸åŒçš„ä¸¤ä¸ªåŒäº‹ï¼ˆæŠ€æœ¯å±‚é¢ï¼‰ï¼Œå¯¹å¾…æŠ€æœ¯æœ‰ä¸åŒçš„çœ‹æ³•ã€‚ ã€Œæˆ‘ã€åšæŒåšä¸€äº›åŠ›æ‰€èƒ½åŠæ¢ç´¢å’Œå­¦ä¹ ï¼Œäº‰å–è‡ªå·±è§£å†³é—®é¢˜ï¼Œè€Œçº¦ç¿°åˆ™è®¤ä¸ºåº”è¯¥è®©ä¸“ä¸šçš„äººï¼ˆä¿®è½¦å¸ˆå‚…ï¼‰æ¥å¤„ç†é—®é¢˜ï¼Œ ã€Œæˆ‘ã€æ— æ³•å®¹å¿ä¸€äº›å¾ˆå°ä½†æ˜¯æ€»æ˜¯è¦ç»•å¿ƒå¤´çš„å°é—®é¢˜ï¼Œè€Œçº¦ç¿°åˆ™è®¤ä¸ºé‚£ä¸ä¼šçœŸæ­£å½±å“ä»€ä¹ˆï¼Œè€Œä¸å»è¿›è¡Œä¿®ç†ã€‚\nå½“ç„¶ï¼Œæœ€å¤§çš„åˆ†æ­§åœ¨äºæˆ‘ä»¬å¯¹æ–°é²œäº‹ç‰©ï¼ˆç§‘æŠ€ï¼‰çš„çœ‹æ³•çš„ä¸åŒï¼Œã€Œæˆ‘ã€ä¼šç§¯æå°è¯•å’Œå­¦ä¹ ï¼Œçº¦ç¿°åˆ™æŠ¥ä»¥æ•Œæ„ï¼Œè®¤ä¸ºæ–°é²œäº‹ç‰©ï¼ˆç§‘æŠ€ï¼‰æ˜¯å¼•èµ·æ‰€æœ‰è¿™äº›é—®é¢˜çš„æ ¹æºã€‚\np64 ç›®å‰ä¸ºæ­¢ï¼Œè¿™æœ¬ä¹¦éƒ½å¯ä»¥å½“ä½œä¸€æœ¬å…³äºéª‘è½¦æ—…è¡Œçš„ä¹¦æ„‰å¿«çš„å»è¯»ï¼Œæ²¿é€”æœ‰ç¾ä¸½çš„é£æ™¯ï¼Œåœ¨ä¸åŒçš„åœ°æ–¹ä¼‘æ¯ï¼Œé€šè¿‡åœ°å›¾ç ”ç©¶è·¯çº¿ï¼Œè¿™äº›éƒ½ç»™äººä»¥æ— é™çš„éæƒ³ã€‚è¿™æ—¶å€™æˆ‘å°±åœ¨æƒ³ï¼Œç§‘æŠ€ç»™äº†äººä¾¿åˆ©ï¼ŒåŒæ—¶ä¹Ÿè®©å¦å¤–ä¸€äº›ä¸œè¥¿æ¶ˆå¤±ï¼Œæ¯”å¦‚ç ”ç©¶åœ°å›¾ã€‚ç°åœ¨å‡ºé—¨å‡ ä¹æ—…è¡Œä¸ç”¨åšä»»ä½•ç ”ç©¶ï¼šæœ‰æˆç†Ÿçš„æ—…æ¸¸è§„åˆ’ã€GPS å¯¼èˆªã€å¤§ä¼—ç‚¹è¯„ï¼Œåªè¦è·Ÿç€çƒ­åº¦å°±è¡Œã€‚ä¾¿åˆ©çš„åŒæ—¶ä¹Ÿåœ¨å¤±å»è·å¾—å¾ˆå¤šä¸ä¸€æ ·çš„ä½“éªŒçš„æœºä¼šã€‚\n","permalink":"https://notes.0081800.xyz/projects/20210821095110-%E7%A6%85%E4%B8%8E%E6%91%A9%E6%89%98%E8%BD%A6%E7%BB%B4%E4%BF%AE%E8%89%BA%E6%9C%AF/","summary":"tags: æ­£åœ¨è¯»çš„ä¹¦,è¯»ä¹¦ç¬”è®° è¿™æ˜¯ä¸€æœ¬ä»€ä¹ˆæ ·ä¹¦ï¼Ÿ å¿˜è®°ä»å“ªé‡Œçœ‹åˆ°äº†è¿™ä¹ˆä¸€æœ¬ä¹¦ï¼Œå¾ˆæ—©ä¹‹å‰å°±çœ‹åˆ°è¿‡ç›¸å…³æ¨èï¼Œä½†æ˜¯ç¬¬ä¸€æ¬¡çœ‹è¿˜æ˜¯å› ä¸ºåœ¨ 2021 ä¸ŠåŠå¹´ Kindle Unlimited ä¸Šæœ‰è¿™æœ¬ä¹¦çš„ç”µå­ä¹¦ï¼Œ å› ä¸ºå¯ä»¥å…è´¹é˜…è¯»åŠ ä¸Šå½“æ—¶æ‰¾ä¸åˆ°ç›¸å…³ä¹¦ç±æ‰å¼€å§‹é˜…è¯»è¿™æœ¬ä¹¦ã€‚\nè¯»ç¬¬ä¸€éæ˜¯æˆ‘åœ¨ä¸Šç­é€šå‹¤çš„è·¯ä¸Šå®Œæˆçš„ï¼Œç»™æˆ‘çš„æ„Ÿå—å°±æ˜¯è¿™æ˜¯ä¸€æœ¬å…³äºæ—…è¡Œå’Œæ—…è¡Œä¸­çš„ä¸€äº›æ€è€ƒçš„ä¹¦ã€‚ä¹¦ä¸­ã€Œæˆ‘ã€æå†™äº†å¾ˆå¤šæ—…è¡Œä¸­çš„è§é—»ï¼Œ å¹¶é€šè¿‡ã€Œæˆ‘ã€çš„æ€ç»´æ¥æ¢å¯»è‰¯è´¨ï¼Œæ¢è®¨ç¦…ä¸ç§‘æŠ€ã€ç§‘æŠ€ä¸è‰ºæœ¯ã€å¤å…¸ï¼ˆå“²å­¦ï¼‰ä¸»ä¹‰ä¸æµªæ¼«ä¸»ä¹‰ã€‚éšç€ä¸»é¢˜çš„æ·±å…¥ã€Œæˆ‘ã€å¼€å§‹åœ¨ä¸¤ä¸ªæ€æƒ³ä¸­æ¥å›åˆ‡æ¢ï¼Œ å¹¶ä¸”å¼€å§‹æ¢è®¨å½¢è€Œä¸Šå­¦çš„ä¸€äº›ä¸œè¥¿ï¼ˆå¤å…¸ä¸»ä¹‰å’Œæµªæ¼«ä¸»ä¹‰ï¼‰è¿™æœ¬ä¹¦ä¹Ÿå˜çš„è¶Šæ¥è¶Šéš¾è¯»ã€‚æ€»ä½“ç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯å¾ˆå¥½çš„ä¸€æœ¬ä¹¦ï¼Œä½†æ˜¯æˆ‘å¥½åƒæ²¡è¯»å¤ªæ‡‚ã€‚\nåŸºäºä¸Šé¢æˆ‘åé¢åœ¨ JD ä¹°ä¹¦çš„æ—¶å€™çœ‹åˆ°äº†é‡åº†å‡ºç‰ˆç¤¾é‡æ–°å‡ºç‰ˆçš„çè—ç‰ˆã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹ï¼Œæˆ‘è¢«å®ƒçš„å…¨é»‘çš„å°é¢æ‰€å¸å¼•ï¼Œæ¯«ä¸çŠ¹è±«çš„ä¸‹å•ä¹°äº†è¿™æœ¬ä¹¦ã€‚\néšä¹¦é™„èµ çš„ä¸€æœ¬å°å†Œå­è®©æˆ‘æ›´å¥½çš„äº†è§£è¿™æœ¬ä¹¦å’Œä½œè€…ç½—ä¼¯ç‰¹.M.æ³¢è¥¿æ ¼ï¼Œå…¶çœŸäººç¡®å®æ‚£è¿‡ç²¾ç¥åˆ†è£‚ç—‡ï¼Œå¹¶æ¥å—è¿‡ç”µå‡»ç–—æ³•ã€‚è¿™è®©æˆ‘æƒ³èµ·äº†ä¹¦ä¸­çš„ã€Œæˆ‘ã€å’Œã€Œè£´å¾·æ´›ã€ã€‚ ä½œè€…ä¹ŸåŒæ—¶è¯´æ˜ä¸ºä»€ä¹ˆè¦ç”¨ç¬¬ä¸€äººç§°ã€Œæˆ‘ã€æ¥å™è¿°æœ¬ä¹¦ï¼Œå› ä¸ºã€Œæˆ‘ã€åœ¨è®²è¿°çš„æ—¶å€™æ˜¯å¸Œæœ›å€¾å¬çš„äººèƒ½å¤Ÿå–œæ¬¢æˆ‘ã€‚æˆ‘å¤ªå–œæ¬¢è¿™å¥è¯äº†ï¼ŒåŒæ—¶è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨ç¬”è®°é‡ŒæŠŠã€Œæˆ‘ã€éƒ½å¼•äº†èµ·æ¥ã€‚\nè¿™æœ¬å°å†Œå­å’Œç¬¬ä¸€éç•™ç»™æˆ‘çš„å›°æƒ‘è®©æˆ‘å†³å®šé‡è¯»è¿™æœ¬ä¹¦ï¼Œæˆ‘ç°åœ¨ä¸€æœ‰ç©ºæˆ–è€…æ„Ÿåˆ°æ— èŠï¼Œæˆ‘å°±ä¼šæ§èµ·è¿™æœ¬ä¹¦æ¥é˜…è¯»ã€‚ç¬¬äºŒéé˜…è¯»æˆ‘æ— æ³•ä»ç¬¬ä¸€éƒ¨åˆ†è·³å‡ºå»ï¼Œå› ä¸ºä¹¦ä¸­çš„å†…å®¹å¤ªå¤šå¼•èµ·äº†æˆ‘çš„å…±é¸£ï¼Œ è¿™æ˜¯æˆ‘åœ¨ç¬¬ä¸€éé˜…è¯»æ‰€æ²¡æœ‰å‘ç°çš„ã€‚æˆ‘æ€»æ˜¯åå¤çš„é˜…è¯»ï¼Œåå¤çš„å»æ€è€ƒé‚£äº›å¸¦ç»™æˆ‘å…±é¸£çš„å†…å®¹ã€‚åŒæ—¶æˆ‘å‘ç°æˆ‘åœ¨æ—¥å¸¸èŠå¤©çš„æ—¶å€™å·²ç»åœ¨ä¸çŸ¥ä¸è§‰çš„å¼•ç”¨ä¹¦ä¸­çš„ä¸€äº›å†…å®¹ã€‚ è¿™ä¹Ÿæ˜¯è¿™ç¯‡æ–‡ç« çš„æ¥æºï¼Œæˆ‘è§‰å¾—å¦‚æœæˆ‘ä¸å†™ç‚¹ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘æ„Ÿè§‰æˆ‘ä¼šæ°¸è¿œâ€œå›°â€åœ¨è¿™æœ¬ä¹¦çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚\nå¦‚ä½•è®°å½•æ€è€ƒï¼Ÿ è¿™æ˜¯ä¸€æœ¬èƒ½å¤Ÿè®©äººæ€è€ƒçš„ä¹¦ï¼Œè¯¥å¦‚ä½•è®°å½•è¿™äº›æ€è€ƒï¼Ÿé€šè¿‡ä¸€äº›å°è¯•ï¼Œæˆ‘å†³å®šåœ¨æ²¡è¯»å®Œä¸€å°èŠ‚ä¹‹åè®°å½•æˆ‘çš„æƒ³æ³•ï¼Œç„¶åå†é˜…è¯»ä¸€éæ¥ä¿®æ­£æˆ‘çš„æƒ³æ³•ã€‚ æˆ–è®¸åé¢çš„æ—¥å­æˆ‘ä¼šå›æ¥æ›´æ–°æˆ‘çš„æƒ³æ³•ã€‚\nç¬¬ä¸€éƒ¨åˆ† 01 ç–é€šæ€æƒ³çš„æ²³é“ é¦–å…ˆæˆ‘ä»¬åº”è¯¥æ…¢æ¥ä¸‹ï¼Œå»æ›´å¥½çš„æ„Ÿå—è¿‡ç¨‹è€Œéç»“æœï¼šæ—…è¡Œçš„æ„ä¹‰ä¸ä»…ä»…åœ¨äºåˆ°è¾¾ç›®çš„åœ°ï¼Œæ›´å¤šçš„æ˜¯æ„Ÿå—æ—…è¡Œçš„è¿‡ç¨‹ï¼ˆæ²¿é€”çš„é£æ™¯ã€é‡åˆ°çš„äººå’Œäº‹ï¼‰ã€‚ ä¸è¦ç­‰åˆ°ã€ŒçœŸç†å·²ç»å†æ•²ä½ çš„é—¨ï¼Œè€Œä½ å´è¯´ï¼šâ€œèµ°å¼€ï¼Œæˆ‘æ­£åœ¨å¯»æ‰¾çœŸç†â€ã€ã€‚\nåœ¨å…¨ç¾æ€æƒ³äº¤æµæ›´åŠ å¿«é€Ÿçš„æ—¶ä»£èƒŒæ™¯ä¹‹ä¸‹ï¼ŒåŸå…ˆçš„æ²³æµæ— æ³•æ‰¿è½½å¤§é‡çš„æ€æƒ³é€ æˆäº†ä¸¤å²¸çš„ç¾éš¾ï¼Œè¿‡å¤šçš„ã€Œæ–°é²œäº‹ã€æ„æˆäº†æ²³é“ä¸­çš„æ±¡æ³¥ï¼Œ ã€Œæœ€å¥½çš„ã€æŠŠæ€æƒ³çš„æ²³é“æŒ–å‡¿çš„å¤ªæ·±ä»¥è‡³äºæ— æ³•æ”¹åŠ¨ã€‚é€šè¿‡ä¸€æ¬¡æ‘©æ‰˜è½¦çš„æ—…è¡Œï¼ˆChautauquaï¼‰æ¥ç–é€šï¼ˆå¹¶éæ‹“å®½ï¼‰æ€æƒ³çš„æ²³é“ã€‚ æ¢è®¨ã€Œæˆ‘ã€å’Œæœ‹å‹ä¹‹é—´å¯¹å¾…æ‘©æ‰˜è½¦ç»´ä¿®ï¼ˆå¤§éƒ¨åˆ†æŒ‡ç§‘æŠ€ï¼‰ä¸åŒçš„æ€åº¦ã€‚\nè™½ç„¶çº¦ç¿°å¤«å¦‡åŒæ ·å–œæ¬¢éª‘æ‘©æ‰˜è½¦æ—…è¡Œï¼Œä½†æ˜¯å¯¹å¾…åº”è¯¥å¤šå¤§ç¨‹åº¦è‡ªå·±ç»´ä¿®æ‘©æ‰˜è½¦æ–¹é¢æœ‰å¾ˆå¤§çš„ä¸åŒï¼š\næ¯”å¦‚çº¦ç¿°å¯åŠ¨ä¸äº†æ‘©æ‰˜è½¦ï¼Œã€Œæˆ‘ã€ä¸ä¼šä¸»åŠ¨å»å¸®å¿™ï¼šã€Œé™¤éä»–çœŸæ­£çš„éœ€è¦åˆ«äººçš„å¸®å¿™ï¼Œå¦åˆ™åˆ«äººä»‹å…¥åªä¼šå¼•èµ·ä»–çš„åŒçƒ¦ã€ã€‚ å…¶å®è¿™äº›ä¸æ˜¯å¯¹å¾…ç»´ä¿®æ‘©æ‰˜è½¦çš„æ€åº¦ä¸åŒï¼Œè€Œæ˜¯å¯¹å¾…ç§‘æŠ€ï¼ˆè‡³å°‘å¤§éƒ¨åˆ†ï¼‰çš„æ€åº¦ã€‚ã€Œæˆ‘è®¤ä¸ºçº¦ç¿°ä»–ä»¬çš„é€ƒé¿å’ŒåŒæ¶åªæ˜¯ä¸€ç§è‡ªæ¬ºçš„è¡Œä¸ºã€‚ã€\nä¸»é¢˜ï¼šã€Œä½›é™€æˆ–è€…è€¶ç¨£ååœ¨ç”µè„‘å’Œå˜é€Ÿå™¨çš„é½¿è½®æ—ä¿®è¡Œï¼Œä¼šåƒååœ¨å±±é¡¶æˆ–è€…è²èŠ±åº§ä¸Šä¿®è¡Œä¸€æ ·è‡ªåœ¨ã€‚å¦‚æœä½ è®¤ä¸ºä¸æ˜¯å¦‚æ­¤ï¼Œé‚£æ— å¼‚ä¸äºµæ¸äº†ä½›é™€ \u0026ndash; ä¹Ÿå°±æ˜¯äºµæ¸äº†ä½ è‡ªå·±ã€‚ã€\n02 æ”¾æ…¢è„šæ­¥è®¤çœŸæ€è€ƒ ä»å‰çš„ã€Œæˆ‘ã€å°±åƒç°åœ¨çš„çº¦ç¿°ä¸€æ ·ï¼Œä¸å…³å¿ƒæ‘©æ‰˜è½¦ç»´ä¿®ï¼Œä»ä¿®ç†æˆ‘æ‘©æ‰˜è½¦çš„ã€Œä¸“ä¸šäººå£«ã€èº«ä¸Šçœ‹åˆ°äº†ï¼š\nã€Œå¦‚æœä½ ä¸æ”¾æ…¢è„šæ­¥è®¤çœŸæ€è€ƒï¼Œå¾€å¾€ä¼šèŠ±è´¹æ›´å¤šçš„æ—¶é—´å¾—åˆ°æ›´å·®çš„ç»“æœã€‚ã€ ã€Œåƒæ—è§‚è€…ä¸€æ ·å¯¹å¾…è‡ªå·±çš„å·¥ä½œï¼Œçœ‹èµ·æ¥éšå’Œã€å‹å–„å’Œè½»æ¾è‡ªåœ¨ï¼Œä½†å¹¶æ²¡æœ‰æŠ•å…¥å·¥ä½œï¼Œå¯¹å·¥ä½œæ²¡æœ‰è®¤åŒæ„Ÿã€‚ã€ ã€Œå½“ä½ åšæŸä»¶äº‹ï¼Œä¸€æ—¦æƒ³è¦æ±‚å¿«ï¼Œå°±è¡¨ç¤ºä½ å†ä¹Ÿä¸å…³å¿ƒå®ƒï¼Œåªæƒ³å»åšåˆ«çš„äº‹ã€‚ã€ 03 é¬¼é­‚è£´å¾·æ´› ã€Œä¸Šå¸ï¼Œä»–æ¥è¿‡è¿™é‡Œã€ï¼šæš´é£é›¨çš„é—ªç”µå’Œèº²é¿å®ƒçš„æ‘©æ‰˜è½¦çš„é€Ÿåº¦è®©â€œæˆ‘â€é—ªç°å‡ºé¬¼é­‚è£´å¾·æ´›ï¼Œâ€œæˆ‘â€é™ä½äº†æ‘©æ‰˜è½¦çš„è½¦é€Ÿï¼šæ—¶é€Ÿä» 95 è‹±é‡Œé™åˆ° 55 è‹±é‡Œã€‚ å„¿å­å…‹é‡Œæ–¯ç¡®è®¤ä¸ºåˆšæ‰å¾ˆæ£’ä¸€ç‚¹ä¹Ÿä¸å¿«ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿé¢„ç¤ºç€å…‹é‡Œæ–¯å–œæ¬¢é¬¼é­‚è£´å¾·æ´›ï¼ŸæŒ‡ç‚¹æ±½è½¦æ—…é¦†ä¹Ÿè®©çº¦ç¿°æƒŠè®¶äºâ€œæˆ‘â€ä¸ºä»€ä¹ˆçŸ¥é“ï¼Œè€Œâ€œæˆ‘â€é€‰æ‹©å›é¿ã€‚\næ€è–‡å¨…å¼•å‡ºäº†é¬¼é­‚è¯é¢˜ï¼šã€Œä½ å¥½åƒè§é¬¼äº†ã€ã€‚\nâ€œæˆ‘â€å¼€å§‹è°ˆè®ºç§‘å­¦çš„é¬¼é­‚ï¼Œä½†æ˜¯è¿™äº›è®ºè°ƒå¥½åƒå±äºâ€œæˆ‘â€ï¼Œè€Œæ˜¯å±äºé¬¼é­‚è£´å¾·æ´›ã€‚ç§‘å­¦çš„é¬¼é­‚ï¼šåªå­˜åœ¨äºäººçš„å¿ƒä¸­ï¼Œæ¯”å¦‚ã€Œä¸‡æœ‰å¼•åŠ›å®šå¾‹ã€ï¼š\nç‰›é¡¿å‘ç°å®ƒä¹‹å‰å®ƒå­˜åœ¨å—ï¼Ÿ åœ°çƒæ¯ç­ï¼Œäººç±»æ¶ˆå¤±äº†å®ƒè¿˜å­˜åœ¨å—ï¼Ÿ å®ƒåªå­˜åœ¨äºäººçš„å¿ƒä¸­ï¼Œæ‰€ä»¥æ˜¯ç§‘å­¦çš„é¬¼é­‚ã€‚äººä»¬ä¹‹æ‰€ä»¥ç›¸ä¿¡å®ƒæ˜¯å› ä¸ºäººä»¬è¢«å‚¬çœ äº†ï¼Œæ­£ç»Ÿçš„è¯´æ˜¯å—æ•™è‚²äº†ã€‚å¤ä»£ä¸–ç•Œç”±é¬¼é­‚æ§åˆ¶ï¼šç¥æˆ–äººï¼Œç‰›é¡¿æ˜¯æœ€å¥½çš„ä¸€ä½ã€‚æˆ‘ä»¬çš„å¸¸è¯†ç”±é¬¼é­‚çš„å£°éŸ³æ„æˆã€‚\nåœ¨å…‹é‡Œæ–¯çš„è¿½é—®ä¸‹ï¼Œâ€œæˆ‘â€å£°ç§°è‡ªå·±å‡ºå‘å¯»æ‰¾é¬¼é­‚ï¼Œå¹¶å°†é¬¼é­‚ç—›æ‰“äº†ä¸€é¡¿ï¼Œè¿™ä¸ªé¬¼é­‚å°±æ˜¯ï¼šè£´å¾·æ´›ã€‚\n04 ä¸è¦åœ¨ä½ éœ€è¦çš„æƒ…å†µä¸‹è¯…å’’ç§‘æŠ€ åœ¨å¤©æ°”å¥½çš„æ—©æ™¨ä¸­å‰è¿›ï¼Œå¯’é£é€ æˆäº†ç”Ÿç†ä¸Šçš„ä¸é€‚ï¼Œå°±åƒå¯¹ç§‘æŠ€çš„ä¸æ»¡ä¸€æ ·ã€‚ ã€Œä»–ä»¬ä¸€é¢éœ€è¦ç§‘æŠ€ï¼Œä¸€é¢åˆè¦è¯…å’’å®ƒã€‚æˆ‘ç›¸ä¿¡ä»–ä»¬å¾ˆæ˜ç™½è¿™ä¸€ç‚¹ï¼Œè€Œè¿™æ­£æ˜¯ä»–ä»¬å¯¹æ•´ä¸ªç¯å¢ƒä¸æ»¡çš„åŸå› ã€ã€‚ è¿™ä¸€éƒ¨åˆ†æ›´å¤šçš„æ˜¯å¯¹æ²¿é€”ç¾ä¸½é£æ™¯çš„æå†™ï¼Œè®©äººå¿ƒå‘å¾€ä¹‹ã€‚ ã€Œæˆ‘ä¸æƒ³æ‹¥æœ‰è¿™äº›è‰åŸï¼Œæˆ–æ˜¯æŠŠä»–ä»¬æ‹ä¸‹æ¥ï¼Œæˆ‘ä¹Ÿä¸æƒ³æ”¹å˜å®ƒä»¬ï¼Œç”šè‡³ä¸æƒ³åœä¸‹æ¥æˆ–æ˜¯ç»§ç»­èµ°ä¸‹å»ã€‚ã€\n05 è—è¡“èˆ‡ç§‘å­¸çš„è¦–è§’æ±ºå®šäº†æ€è€ƒå•é¡Œçš„æ–¹å¼ ç´„ç¿°å°è¡¨è±¡æ¯”è¼ƒæ„Ÿèˆˆè¶£ï¼Œä½†æ˜¯å°å…§æ¶µå‰‡ä¸ç„¶ï¼Œé€šéç”¨æ˜“æ‹‰ç½ä½œçˆ²å¢Šç‰‡ä¿®ç†æ‘©æ‰˜è»Šåæ˜ äº†å…©ç¨®æ…‹åº¦ã€‚ é‚£éº¼æˆ‘å€‘çˆ²ä»€éº¼æœƒå¸¸å¸¸å¿½ç•¥é€™ç¨®å·®ç•°å‘¢ï¼Ÿæ›¸ä¸­çµ¦å‡ºäº†ç­”æ¡ˆã€Œæœ‰äº›æ±è¥¿ä½ å¿½ç•¥æ˜¯å› çˆ²å®ƒå€‘éå¸¸ç´°å¾®ï¼Œä½†æœ‰äº›å»æ˜¯å› çˆ²å®ƒå€‘éæ–¼é¾å¤§ã€ã€‚ æ€è€ƒç›¸åŒçš„äº‹æƒ…ï¼Œå‡ºç™¼é»ä¸ä¸€æ¨£å°±å¯èƒ½æœƒå°è‡´å®Œå…¨ä¸åŒçš„çµè«–ã€‚ç´„ç¿°ç«™åœ¨è—è¡“çš„è¦–è§’è€Œéç”¨é‚è¼¯å»æ€è€ƒç§‘å­¸ï¼Œæ‰€ä»¥å››è™•ç¢°å£ã€‚ç„¶å¾Œç§‘å­¸ï¼ˆæ‘©æ‰˜è»Šï¼‰æ²’æœ‰æŒ‰ç…§ç´„ç¿°æ‰€æƒ³çš„é‚£æ¨£å·¥ä½œï¼Œæ‰€ä»¥ç´„ç¿°è¢«æ¿€æ€’äº†ï¼Œç™¼å‹•ä¸äº†çš„æ‘©æ‰˜è»Šå½·å½¿åœ¨ç´„ç¿°çœ‹å¾…å•é¡Œçš„æ–¹å¼ä¸Šé‘¿äº†ä¸€å€‹æ´ã€‚","title":"ã€Šç¦…ä¸æ‘©æ‰˜è½¦ç»´ä¿®è‰ºæœ¯ã€‹"},{"content":" tags: LeetCode https://leetcode.com/problems/validate-binary-search-tree/\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool isValidBST(TreeNode* root) { if (root == nullptr || (root-\u0026gt;left == nullptr \u0026amp;\u0026amp; root-\u0026gt;right == nullptr)) { return true; } if (root-\u0026gt;left != nullptr \u0026amp;\u0026amp; root-\u0026gt;right != nullptr) { if (root-\u0026gt;left-\u0026gt;val \u0026gt;= root-\u0026gt;val || root-\u0026gt;right-\u0026gt;val \u0026lt;= root-\u0026gt;val) { return false; } return isValidBST(root-\u0026gt;left) \u0026amp;\u0026amp; isValidBST(root-\u0026gt;right); } if (root-\u0026gt;left != nullptr) { if (root-\u0026gt;left-\u0026gt;val \u0026gt;= root-\u0026gt;val) { return false; } return isValidBST(root-\u0026gt;left); } if (root-\u0026gt;right != nullptr) { if (root-\u0026gt;right-\u0026gt;val \u0026lt;= root-\u0026gt;val) { return false; } return isValidBST(root-\u0026gt;right) ; } return true; } }; æ— æ³•å¤„ç†å­æ ‘å…ƒç´ å¤§äºä¸Šä¸€å±‚çš„é—®é¢˜ã€‚ä¸­åºéå†æ’åºï¼š\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool isValidBST(TreeNode* root) { vector\u0026lt;int\u0026gt; ret; stack\u0026lt;TreeNode*\u0026gt; st; TreeNode* cur; cur = root; while (!st.empty() || cur != nullptr) { while (cur != nullptr) { st.push(cur); cur = cur-\u0026gt;left; } cur = st.top(); st.pop(); ret.push_back(cur-\u0026gt;val); cur = cur-\u0026gt;right; } int prev = ret[0]; for (int i = 1; i \u0026lt; ret.size(); i++) { auto r = ret[i]; if (r \u0026lt;= prev) { return false; } prev = r; } return true; } }; å¯ä»¥å»æ‰ä¸­é—´ç»“æœå­˜æ•°ç»„ï¼š\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool isValidBST(TreeNode* root) { stack\u0026lt;TreeNode*\u0026gt; st; TreeNode* cur = nullptr; TreeNode* prev = nullptr; cur = root; while (!st.empty() || cur != nullptr) { while (cur != nullptr) { st.push(cur); cur = cur-\u0026gt;left; } cur = st.top(); st.pop(); if (prev != nullptr \u0026amp;\u0026amp; cur-\u0026gt;val \u0026lt;= prev-\u0026gt;val) { return false; } prev = cur; cur = cur-\u0026gt;right; } return true; } }; [2,1,3] [5,1,4,null,null,3,6] [2,2,2] [5,4,6,null,null,3,7] ","permalink":"https://notes.0081800.xyz/notes/20210818070934-leetcode_98_validate_binary_search_tree/","summary":"tags: LeetCode https://leetcode.com/problems/validate-binary-search-tree/\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool isValidBST(TreeNode* root) { if (root == nullptr || (root-\u0026gt;left == nullptr \u0026amp;\u0026amp; root-\u0026gt;right == nullptr)) { return true; } if (root-\u0026gt;left !","title":"LeetCode: 98. Validate Binary Search Tree"},{"content":" tags: LeetCode,backtracking https://leetcode.com/problems/path-sum-ii/\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; pathSum(TreeNode* root, int targetSum) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; r; if (root == nullptr) { return r; } if (root-\u0026gt;left != nullptr) { auto left = pathSumSide(root-\u0026gt; left, root-\u0026gt;val, targetSum); if (left.size() \u0026gt; 0) { left.insert(left.begin(), root-\u0026gt;val); r.push_back(left); } } if (root-\u0026gt;right != nullptr) { auto right = pathSumSide(root-\u0026gt;right, root-\u0026gt;val, targetSum); if (right.size() \u0026gt; 0) { right.insert(right.begin(), root-\u0026gt;val); r.push_back(right); } } return r; } vector\u0026lt;int\u0026gt; pathSumSide(TreeNode* node, int sum, int targetSum) { vector\u0026lt;int\u0026gt; r; sum += node-\u0026gt;val; if (node-\u0026gt;left == nullptr \u0026amp;\u0026amp; node-\u0026gt;right == nullptr) { if (sum == targetSum) { r.push_back(node-\u0026gt;val); return r; } } if (node-\u0026gt;left != nullptr) { auto ret = pathSumSide(node-\u0026gt;left, sum, targetSum); if (ret.size() \u0026gt; 0) { ret.insert(ret.begin(), node-\u0026gt;val); return ret; } } if (node-\u0026gt;right != nullptr) { auto ret = pathSumSide(node-\u0026gt;right, sum, targetSum); if (ret.size() \u0026gt; 0) { ret.insert(ret.begin(), node-\u0026gt;val); return ret; } } return r; } }; å¤±è´¥çš„é”™è¯¯ç”¨ä¾‹:\n[1] 1 å¢åŠ åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„åˆ¤æ–­ï¼š\nif (root-\u0026gt;left == nullptr \u0026amp;\u0026amp; root-\u0026gt;right == nullptr) { if (root-\u0026gt;val == targetSum) { vector\u0026lt;int\u0026gt; t; t.push_back(root-\u0026gt;val); r.push_back(t); } } ç›®å‰åªè€ƒè™‘äº†ä¸¤ç§æƒ…å†µï¼Œå®é™…åº”è¯¥æœ‰å¾ˆå¤šç§æƒ…å†µï¼Œå‚è§ç”¨ä¾‹\n[1,0,1,1,2,0,-1,0,1,-1,0,-1,0,1,0] 2 é€šè¿‡ backtracking + DFS è§£å†³\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; pathSum(TreeNode* root, int targetSum) { if (root == nullptr) { return res; } backtracking(root, 0, targetSum); return res; } private: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; void backtracking(TreeNode* node, int sum, int targetSum) { bool leaf = node-\u0026gt;left == nullptr \u0026amp;\u0026amp; node-\u0026gt;right == nullptr; if (leaf) { if (sum + node-\u0026gt;val == targetSum) { track.push_back(node-\u0026gt;val); res.push_back(track); track.pop_back(); } return; } if (node-\u0026gt;left != nullptr) { track.push_back(node-\u0026gt;val); backtracking(node-\u0026gt;left, sum + node-\u0026gt;val, targetSum); track.pop_back(); } if (node-\u0026gt;right != nullptr) { track.push_back(node-\u0026gt;val); backtracking(node-\u0026gt;right, sum + node-\u0026gt;val, targetSum); track.pop_back(); } } }; æµ‹è¯•ç”¨ä¾‹:\n[5,4,8,11,null,13,4,7,2,null,null,5,1] 22 [] 0 [1,0,1,1,2,0,-1,0,1,-1,0,-1,0,1,0] 2 [1,2] 1 [0,1,1] 1 ","permalink":"https://notes.0081800.xyz/notes/20210816083017-leetcode_113_path_sum_ii/","summary":"tags: LeetCode,backtracking https://leetcode.com/problems/path-sum-ii/\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; pathSum(TreeNode* root, int targetSum) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; r; if (root == nullptr) { return r; } if (root-\u0026gt;left !","title":"LeetCode: 113. Path Sum II"},{"content":" tags: LeetCode https://leetcode.com/problems/path-sum/\né€’å½’ç‰ˆ\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool hasPathSum(TreeNode* root, int targetSum) { if (root == nullptr) { return false; } return pathSum(root, 0, targetSum); } bool pathSum(TreeNode* node, int sum, int targetSum) { sum += node-\u0026gt;val; if (node-\u0026gt;left == nullptr \u0026amp;\u0026amp; node-\u0026gt;right == nullptr) { if (sum == targetSum) { return true; } } if (node-\u0026gt;left != nullptr) { if (pathSum(node-\u0026gt;left, sum, targetSum)) { return true; } } if (node-\u0026gt;right != nullptr) { if (pathSum(node-\u0026gt;right, sum, targetSum)) { return true; } } return false; } }; æµ‹è¯•ç”¨ä¾‹\n[5,4,8,11,null,13,4,7,2,null,null,null,1] 22 [1,2] 1 [1,2] 0 [1,2,3] 5 ç®€åŒ–ç‰ˆ\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool hasPathSum(TreeNode* root, int targetSum) { return pathSum(root, 0, targetSum); } bool pathSum(TreeNode* node, int sum, int targetSum) { if (node == nullptr) { return sum == targetSum; } sum += node-\u0026gt;val; return pathSum(node-\u0026gt;left, sum, targetSum) || pathSum(node-\u0026gt;right, sum, targetSum); } }; ","permalink":"https://notes.0081800.xyz/notes/20210816074540-leetcode_112_path_sum/","summary":"tags: LeetCode https://leetcode.com/problems/path-sum/\né€’å½’ç‰ˆ\n/** * Definition for a binary tree node. * struct TreeNode { * int val; * TreeNode *left; * TreeNode *right; * TreeNode() : val(0), left(nullptr), right(nullptr) {} * TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} * TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */ class Solution { public: bool hasPathSum(TreeNode* root, int targetSum) { if (root == nullptr) { return false; } return pathSum(root, 0, targetSum); } bool pathSum(TreeNode* node, int sum, int targetSum) { sum += node-\u0026gt;val; if (node-\u0026gt;left == nullptr \u0026amp;\u0026amp; node-\u0026gt;right == nullptr) { if (sum == targetSum) { return true; } } if (node-\u0026gt;left !","title":"LeetCode: 112. Path Sum"},{"content":" tags: LeetCode 79. Word Search\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.size(); i++) { for (int j = col; j \u0026lt; board[i].size(); j++) { auto directions = get_next_directions(board, i, j); if (directions.size() == 0) { return; } for (auto d: directions) { int r, c; track.push_back(board[i][j]); std::tie(r, c) = next_char_pos(board, row, col, d); if (word.find(track) == 0) { backtracking(board, word, r, c); } track.pop_back(); } } } } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; å¤±è´¥çš„ç”¨ä¾‹ï¼š\n[[\u0026#34;A\u0026#34;,\u0026#34;B\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;E\u0026#34;],[\u0026#34;S\u0026#34;,\u0026#34;F\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;S\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;D\u0026#34;,\u0026#34;E\u0026#34;,\u0026#34;E\u0026#34;]] \u0026#34;ABCB\u0026#34; å› ä¸ºæ–¹å‘å¾€å›èµ°å¯¼è‡´ï¼Œåº”è¯¥è§„é¿æ–¹å‘å¾€å›èµ°ã€‚é€šè¿‡ä¸€ä¸ª set æ¥è·Ÿè¸ªä½ç½®ï¼Œé˜²æ­¢è¿›å…¥å‰é¢çš„ä½ç½®ï¼š\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; set\u0026lt;tuple\u0026lt;int, int\u0026gt;\u0026gt; pos; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.size(); i++) { for (int j = col; j \u0026lt; board[i].size(); j++) { auto directions = get_next_directions(board, i, j); if (directions.size() == 0) { return; } for (auto d: directions) { tuple\u0026lt;int, int\u0026gt; p (i, j); if (pos.find(p) != pos.end()) { continue; } pos.insert(p); track.push_back(board[i][j]); int r, c; std::tie(r, c) = next_char_pos(board, row, col, d); if (word.find(track) == 0) { backtracking(board, word, r, c); } track.pop_back(); pos.erase(p); } } } } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; å¤±è´¥çš„ç”¨ä¾‹ï¼š\n[[\u0026#34;a\u0026#34;]] \u0026#34;a\u0026#34; ä»£ç é€»è¾‘æœ‰é—®é¢˜ï¼Œä¿®æ­£åï¼š\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; set\u0026lt;tuple\u0026lt;int, int\u0026gt;\u0026gt; pos; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.size(); i++) { for (int j = col; j \u0026lt; board[i].size(); j++) { tuple\u0026lt;int, int\u0026gt; p (i, j); if (pos.find(p) != pos.end()) { continue; } pos.insert(p); track.push_back(board[i][j]); if (track == word || res) { res = true; return; } if (word.find(track) == 0) { auto directions = get_next_directions(board, i, j); for (auto d: directions) { int r, c; std::tie(r, c) = next_char_pos(board, row, col, d); backtracking(board, word, r, c); } } track.pop_back(); pos.erase(p); } } } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; ä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹æ— æ³•é€šè¿‡ï¼š\n[[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;]] \u0026#34;ba\u0026#34; è°ƒæ•´ä»£ç åï¼ˆè¿›å…¥ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ row/col æ²¡ç”¨ i/jï¼‰:\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; set\u0026lt;tuple\u0026lt;int, int\u0026gt;\u0026gt; pos; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { cout \u0026lt;\u0026lt; track \u0026lt;\u0026lt; endl; if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.size(); i++) { for (int j = col; j \u0026lt; board[i].size(); j++) { tuple\u0026lt;int, int\u0026gt; p (i, j); if (pos.find(p) != pos.end()) { continue; } pos.insert(p); track.push_back(board[i][j]); if (track == word) { res = true; return; } if (word.find(track) == 0) { auto directions = get_next_directions(board, i, j); for (auto d: directions) { int r, c; std::tie(r, c) = next_char_pos(board, i, j, d); backtracking(board, word, r, c); } } track.pop_back(); pos.erase(p); } } } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; æ­¤æ—¶çš„å¤±è´¥ç”¨ä¾‹ï¼š\n[[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;c\u0026#34;,\u0026#34;d\u0026#34;]] \u0026#34;abcd\u0026#34; æ”¹æˆå¦‚æœä½ç½®å·²ç»å­˜åœ¨åˆ™è¿”å›å¯ä»¥é€šè¿‡:\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; set\u0026lt;tuple\u0026lt;int, int\u0026gt;\u0026gt; pos; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.size(); i++) { for (int j = col; j \u0026lt; board[i].size(); j++) { tuple\u0026lt;int, int\u0026gt; p (i, j); if (pos.find(p) != pos.end()) { return; // \u0026lt;--------- here } pos.insert(p); track.push_back(board[i][j]); if (word.find(track) == 0) { auto directions = get_next_directions(board, i, j); if (track == word) { res = true; return; } for (auto d: directions) { int r, c; std::tie(r, c) = next_char_pos(board, i, j, d); backtracking(board, word, r, c); } } track.pop_back(); pos.erase(p); } } } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; ä½†æ˜¯åœ¨ä¸‹é¢æµ‹è¯•ç”¨ä¾‹å¤±è´¥äº†ï¼š\n[[\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;],[\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;]] \u0026#34;baa\u0026#34; ç®€å•çš„è¿‡æ»¤æ‰ï¼š\nif (board.size() \u0026gt; 0 \u0026amp;\u0026amp; board[0].size() == 1) { string s; for (int i = 0; i \u0026lt; board.size(); i++) { s.push_back(board[0][0]); } return s.find(word) != string::npos; } ç°åœ¨ä¸‹é¢å¤±è´¥äº†ï¼š\n[[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;]] \u0026#34;bbbaabbbbbab\u0026#34; ç»è¿‡ä»”ç»†æ¨æ•²åï¼š\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { for (int i = 0; i \u0026lt; board.size(); i++) { for (int j = 0; j \u0026lt; board[i].size(); j++) { backtracking(board, word, i, j); } } return res; } private: string track; bool res = false; set\u0026lt;tuple\u0026lt;int, int\u0026gt;\u0026gt; pos; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { tuple\u0026lt;int, int\u0026gt; p (row, col); if (pos.find(p) != pos.end()) { return; // \u0026lt;--------- here } pos.insert(p); track.push_back(board[row][col]); if (track == word) { cout \u0026lt;\u0026lt; track \u0026lt;\u0026lt; endl; res = true; return; } if (res) { return; } if (word.find(track) == 0) { cout \u0026lt;\u0026lt; row \u0026lt;\u0026lt; \u0026#34;, \u0026#34; \u0026lt;\u0026lt; col \u0026lt;\u0026lt; endl; auto directions = get_next_directions(board, row, col); for (auto d: directions) { int r, c; std::tie(r, c) = next_char_pos(board, row, col, d); cout \u0026lt;\u0026lt; \u0026#34; \u0026#34; \u0026lt;\u0026lt; r \u0026lt;\u0026lt; \u0026#34;,\u0026#34; \u0026lt;\u0026lt; c \u0026lt;\u0026lt; endl; backtracking(board, word, r, c); } } track.pop_back(); pos.erase(p); } vector\u0026lt;Direction\u0026gt; get_next_directions(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col) { vector\u0026lt;Direction\u0026gt; r; if (col \u0026lt; board[row].size() - 1) { r.push_back(right); } if (row \u0026lt; board.size() - 1) { r.push_back(down); } if (row \u0026gt; 0) { r.push_back(up); } if (col \u0026gt; 0) { r.push_back(left); } return r; } tuple\u0026lt;int, int\u0026gt; next_char_pos(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, int row, int col, Direction dir) { switch(dir) { case right: col++; break; case left: col--; break; case up: row--; break; case down: row++; break; } tuple\u0026lt;int, int\u0026gt;r(row, col); return r; } }; ä¸‹é¢ç”¨ä¾‹ä¼šå¯¼è‡´å¤„ç†äº‹ä»¶è¿‡é•¿ï¼š\n[[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;]] \u0026#34;AAAAAAAAAAAAAAB\u0026#34; æµ‹è¯•ç”¨ä¾‹å¿«ç…§:\n[[\u0026#34;A\u0026#34;,\u0026#34;B\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;E\u0026#34;],[\u0026#34;S\u0026#34;,\u0026#34;F\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;S\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;D\u0026#34;,\u0026#34;E\u0026#34;,\u0026#34;E\u0026#34;]] \u0026#34;ABCCED\u0026#34; [[\u0026#34;A\u0026#34;,\u0026#34;B\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;E\u0026#34;],[\u0026#34;S\u0026#34;,\u0026#34;F\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;S\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;D\u0026#34;,\u0026#34;E\u0026#34;,\u0026#34;E\u0026#34;]] \u0026#34;SEE\u0026#34; [[\u0026#34;A\u0026#34;,\u0026#34;B\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;E\u0026#34;],[\u0026#34;S\u0026#34;,\u0026#34;F\u0026#34;,\u0026#34;C\u0026#34;,\u0026#34;S\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;D\u0026#34;,\u0026#34;E\u0026#34;,\u0026#34;E\u0026#34;]] \u0026#34;ABCB\u0026#34; [[\u0026#34;a\u0026#34;]] \u0026#34;a\u0026#34; [[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;]] \u0026#34;ba\u0026#34; [[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;c\u0026#34;,\u0026#34;d\u0026#34;]] \u0026#34;dbac\u0026#34; [[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;c\u0026#34;,\u0026#34;d\u0026#34;]] \u0026#34;abcd\u0026#34; [[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;]] \u0026#34;aaaaaaaaaaaaa\u0026#34; [[\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;],[\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;]] \u0026#34;baa\u0026#34; [[\u0026#34;a\u0026#34;]] \u0026#34;ab\u0026#34; [[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;],[\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;],[\u0026#34;b\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;a\u0026#34;,\u0026#34;b\u0026#34;]] \u0026#34;bbbaabbbbbab\u0026#34; [[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;],[\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;,\u0026#34;A\u0026#34;]] \u0026#34;AAAAAAAAAAAAAAB\u0026#34; ","permalink":"https://notes.0081800.xyz/notes/20210815081516-leetcode_79_word_search/","summary":"tags: LeetCode 79. Word Search\nclass Solution { public: bool exist(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word) { backtracking(board, word, 0, 0); return res; } private: string track; bool res = false; enum Direction { right, down, up, left, }; /** * @param dir: 0: right, 1: down, 2: up, 3: left */ void backtracking(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board, string word, int row, int col) { if (track == word || res) { res = true; return; } for (int i = row; i \u0026lt; board.","title":"LeetCode: 79. Word Search"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210814072447-event_store/","summary":"","title":"Event Store"},{"content":" ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®° ","permalink":"https://notes.0081800.xyz/notes/20210814071825-%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/","summary":" ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®° ","title":"é¢†åŸŸé©±åŠ¨è®¾è®¡"},{"content":" tags: è®¡åˆ’è¯»çš„ä¹¦,HTTP,High Performance,Network åœ¨çº¿ï¼š https://hpbn.co/ source: Grigorik, Ilya. High-Performance Browser Networking. Beijingâ€¯; Sebastopol, CA: Oâ€™Reilly, 2013. â€œGood developers know how things work. Great developers know why things work.â€\n","permalink":"https://notes.0081800.xyz/notes/20210813080226-high_performance_browser_networking/","summary":"tags: è®¡åˆ’è¯»çš„ä¹¦,HTTP,High Performance,Network åœ¨çº¿ï¼š https://hpbn.co/ source: Grigorik, Ilya. High-Performance Browser Networking. Beijingâ€¯; Sebastopol, CA: Oâ€™Reilly, 2013. â€œGood developers know how things work. Great developers know why things work.â€","title":"High Performance Browser Networking"},{"content":"é¢„å†™æ—¥å¿—ï¼ˆwrite-ahead logï¼ŒWALï¼‰ï¼Œä¹Ÿç§°ä¸ºé‡åšæ—¥å¿—ã€‚\nä¸€ä¸ªä»…æ”¯æŒè¿½åŠ ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ¯ä¸ª B-tree çš„ä¿®æ”¹å¿…é¡»å…ˆæ›´æ–° WAL ç„¶åå†ä¿®æ”¹æ•°æœ¬èº«çš„é¡µã€‚ å½“æ•°æ®åº“åœ¨å´©æºƒåæ¢å¤æ—¶ï¼Œè¯¥æ—¥å¿—ç”¨äºå°† B-tree æ¢å¤åˆ°æœ€è¿‘ä¸€è‡´çš„çŠ¶æ€ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210813074328-%E9%A2%84%E5%86%99%E6%97%A5%E5%BF%97/","summary":"é¢„å†™æ—¥å¿—ï¼ˆwrite-ahead logï¼ŒWALï¼‰ï¼Œä¹Ÿç§°ä¸ºé‡åšæ—¥å¿—ã€‚\nä¸€ä¸ªä»…æ”¯æŒè¿½åŠ ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæ¯ä¸ª B-tree çš„ä¿®æ”¹å¿…é¡»å…ˆæ›´æ–° WAL ç„¶åå†ä¿®æ”¹æ•°æœ¬èº«çš„é¡µã€‚ å½“æ•°æ®åº“åœ¨å´©æºƒåæ¢å¤æ—¶ï¼Œè¯¥æ—¥å¿—ç”¨äºå°† B-tree æ¢å¤åˆ°æœ€è¿‘ä¸€è‡´çš„çŠ¶æ€ã€‚","title":"é¢„å†™æ—¥å¿—"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210813073438-rabbitmq/","summary":"","title":"RabbitMQ"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210813073412-twitter_distributedlog/","summary":"","title":"Twitter DistributedLog"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210813073357-amazon_kinesis_streams/","summary":"","title":"Amazon Kinesis Streams"},{"content":"AMQP/JMS é£æ ¼çš„æ¶ˆæ¯ä»£ç† å°†å•ä¸ªæ¶ˆæ¯åˆ†é…ç»™æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åœ¨æˆåŠŸå¤„ç†åç¡®è®¤æ¯æ¡æ¶ˆæ¯ã€‚æ¶ˆæ¯è¢«ç¡®è®¤åä»ä»£ç†ä¸­åˆ é™¤ã€‚ é€‚åˆä½œä¸ºä¸€ç§å¼‚æ­¥ RPCã€‚\nRabbitMQ ActiveMQ HornetQ Qpid TIBCO Enterprise MEssage Service IBM MQ Azure Service Bus Google Cloud Pub/Sub å¤šä¸ªæ¶ˆè´¹è€… è´Ÿè½½å‡è¡¡å¼ æ¯ä¸€æ¡æ¶ˆæ¯éƒ½åªè¢«ä¼ é€’ç»™å…¶ä¸­ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚\næ‰‡å‡ºå¼ æ¯æ¡æ¶ˆæ¯éƒ½è¢«ä¼ é€’ç»™æ‰€æœ‰æ¶ˆè´¹è€…ã€‚\nç¡®è®¤å’Œé‡æ–°ä¼ é€’ ä¸ºäº†ç¡®ä¿æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œæ¶ˆæ¯ä»£ç†ä½¿ç”¨ç¡®è®¤ï¼šå®¢æˆ·ç«¯å¿…é¡»åœ¨å¤„ç†å®Œæ¶ˆæ¯åæ˜¾å¼çš„å‘Šè¯‰ä»£ç†ï¼Œä»¥ä¾¿ä»£ç†å¯ä»¥å°†å…¶ä»é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚\nå¦‚æœå®¢æˆ·ç«¯çš„è¿æ¥å…³é—­æˆ–è¶…æ—¶ï¼Œè€Œä»£ç†æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œåˆ™è®¤ä¸ºæ¶ˆæ¯æœªå¤„ç†ï¼Œå› æ­¤å®ƒå°†æ¶ˆæ¯é‡æ–°ä¼ é€’ç»™å¦ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚\næ¶ˆæ¯é¡ºåºæ€§ å³ä½¿æ¶ˆæ¯ä»£ç†è¯•å›¾ä¿ç•™æ¶ˆæ¯é¡ºåºï¼ˆæ ‡å‡†è¦æ±‚ï¼‰ï¼Œè´Ÿè½½å‡è¡¡ä¸é‡æ–°ä¼ é€’çš„ç»„åˆä¹Ÿä¸å¯é¿å…åœ°å¯¼è‡´æ¶ˆæ¯è¢«é‡æ–°æ’åºã€‚\nåŸºäºæ—¥å¿—çš„æ¶ˆæ¯ä»£ç† ä»£ç†å°†åˆ†åŒºä¸­çš„æ‰€æœ‰æ¶ˆæ¯åˆ†é…ç»™ç›¸åŒçš„æ¶ˆè´¹è€…èŠ‚ç‚¹ï¼Œå¹¶å§‹ç»ˆä»¥ç›¸åŒçš„é¡ºåºå‘é€æ¶ˆæ¯ã€‚ é€šè¿‡åˆ†åŒºæœºåˆ¶æ¥å®ç°å¹¶è¡Œï¼ˆå†™åœ¨å¤šä¸ªç£ç›˜ä¸Šçªç ´ç£ç›˜å¸¦å®½ï¼‰ï¼Œæ¶ˆè´¹è€…é€šè¿‡æ£€æŸ¥ä»–ä»¬å¤„ç†çš„æœ€åä¸€æ¡æ¶ˆæ¯çš„åç§»é‡æ¥è·Ÿè¸ªè¿›åº¦ã€‚ ä»£ç†å°†æ¶ˆæ¯ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œå› æ­¤å¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥å›é€€å¹¶é‡æ–°è¯»å–æ—§æ¶ˆæ¯ã€‚ ä»£è¡¨æ€§çš„æœ‰ï¼š\nKafka Amazon Kinesis Streams Twitter DistributedLog åŸºäºæ—¥å¿—çš„æ¶ˆæ¯å­˜å‚¨ å‚ç…§ LSM-Tree å’Œ B-tree çš„ WALï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç»“æ„æ¥å®ç°æ¶ˆæ¯ä»£ç†ï¼š ç”Ÿäº§è€…é€šè¿‡å°†æ¶ˆæ¯è¿½åŠ åˆ°æ—¥å¿—çš„æœ«å°¾æ¥å‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…é€šè¿‡ä¾æ¬¡è¯»å–æ—¥å¿—æ¥æ¥æ”¶æ¶ˆæ¯ã€‚ å¦‚æœæ¶ˆè´¹è€…è¯»åˆ°æ—¥å¿—çš„æœ«å°¾ï¼Œå®ƒå°±å¼€å§‹ç­‰å¾…æ–°æ¶ˆæ¯è¢«è¿½åŠ çš„é€šçŸ¥ã€‚\né€šè¿‡å¯¹æ—¥å¿—è¿›è¡Œåˆ†åŒºçªç ´å•ä¸ªç£ç›˜æ‰€èƒ½ä½“èƒ½çš„å¸¦å®½ååä¸Šçº¿ã€‚\nä»£ç†ä¸ºæ¯ä¸ªæ¶ˆæ¯åˆ†åŒºåˆ†é…äº†ä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—å·æˆ–åç§»é‡ï¼Œä¿è¯äº†åˆ†åŒºå†…çš„æ¶ˆæ¯å®Œå…¨æœ‰åºã€‚\næ¶ˆè´¹è€…åç§»é‡ï¼šè®°å½•å“ªäº›æ¶ˆæ¯å·²ç»è¢«å¤„ç†ï¼Œå‡å°‘ ACK å¼€é”€ ç£ç›˜ç©ºé—´ï¼šåˆ†æ®µï¼Œå®šæœŸåˆ é™¤ æ¶ˆè´¹è€…è·Ÿä¸ä¸Šç”Ÿäº§è€…ï¼šå¢åŠ  LAG æŠ¥è­¦ é‡æ–°å¤„ç†æ¶ˆæ¯ï¼šé‡ç½®åç§»é‡ ","permalink":"https://notes.0081800.xyz/notes/20210813072847-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/","summary":"AMQP/JMS é£æ ¼çš„æ¶ˆæ¯ä»£ç† å°†å•ä¸ªæ¶ˆæ¯åˆ†é…ç»™æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åœ¨æˆåŠŸå¤„ç†åç¡®è®¤æ¯æ¡æ¶ˆæ¯ã€‚æ¶ˆæ¯è¢«ç¡®è®¤åä»ä»£ç†ä¸­åˆ é™¤ã€‚ é€‚åˆä½œä¸ºä¸€ç§å¼‚æ­¥ RPCã€‚\nRabbitMQ ActiveMQ HornetQ Qpid TIBCO Enterprise MEssage Service IBM MQ Azure Service Bus Google Cloud Pub/Sub å¤šä¸ªæ¶ˆè´¹è€… è´Ÿè½½å‡è¡¡å¼ æ¯ä¸€æ¡æ¶ˆæ¯éƒ½åªè¢«ä¼ é€’ç»™å…¶ä¸­ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚\næ‰‡å‡ºå¼ æ¯æ¡æ¶ˆæ¯éƒ½è¢«ä¼ é€’ç»™æ‰€æœ‰æ¶ˆè´¹è€…ã€‚\nç¡®è®¤å’Œé‡æ–°ä¼ é€’ ä¸ºäº†ç¡®ä¿æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œæ¶ˆæ¯ä»£ç†ä½¿ç”¨ç¡®è®¤ï¼šå®¢æˆ·ç«¯å¿…é¡»åœ¨å¤„ç†å®Œæ¶ˆæ¯åæ˜¾å¼çš„å‘Šè¯‰ä»£ç†ï¼Œä»¥ä¾¿ä»£ç†å¯ä»¥å°†å…¶ä»é˜Ÿåˆ—ä¸­ç§»é™¤ã€‚\nå¦‚æœå®¢æˆ·ç«¯çš„è¿æ¥å…³é—­æˆ–è¶…æ—¶ï¼Œè€Œä»£ç†æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œåˆ™è®¤ä¸ºæ¶ˆæ¯æœªå¤„ç†ï¼Œå› æ­¤å®ƒå°†æ¶ˆæ¯é‡æ–°ä¼ é€’ç»™å¦ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚\næ¶ˆæ¯é¡ºåºæ€§ å³ä½¿æ¶ˆæ¯ä»£ç†è¯•å›¾ä¿ç•™æ¶ˆæ¯é¡ºåºï¼ˆæ ‡å‡†è¦æ±‚ï¼‰ï¼Œè´Ÿè½½å‡è¡¡ä¸é‡æ–°ä¼ é€’çš„ç»„åˆä¹Ÿä¸å¯é¿å…åœ°å¯¼è‡´æ¶ˆæ¯è¢«é‡æ–°æ’åºã€‚\nåŸºäºæ—¥å¿—çš„æ¶ˆæ¯ä»£ç† ä»£ç†å°†åˆ†åŒºä¸­çš„æ‰€æœ‰æ¶ˆæ¯åˆ†é…ç»™ç›¸åŒçš„æ¶ˆè´¹è€…èŠ‚ç‚¹ï¼Œå¹¶å§‹ç»ˆä»¥ç›¸åŒçš„é¡ºåºå‘é€æ¶ˆæ¯ã€‚ é€šè¿‡åˆ†åŒºæœºåˆ¶æ¥å®ç°å¹¶è¡Œï¼ˆå†™åœ¨å¤šä¸ªç£ç›˜ä¸Šçªç ´ç£ç›˜å¸¦å®½ï¼‰ï¼Œæ¶ˆè´¹è€…é€šè¿‡æ£€æŸ¥ä»–ä»¬å¤„ç†çš„æœ€åä¸€æ¡æ¶ˆæ¯çš„åç§»é‡æ¥è·Ÿè¸ªè¿›åº¦ã€‚ ä»£ç†å°†æ¶ˆæ¯ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œå› æ­¤å¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥å›é€€å¹¶é‡æ–°è¯»å–æ—§æ¶ˆæ¯ã€‚ ä»£è¡¨æ€§çš„æœ‰ï¼š\nKafka Amazon Kinesis Streams Twitter DistributedLog åŸºäºæ—¥å¿—çš„æ¶ˆæ¯å­˜å‚¨ å‚ç…§ LSM-Tree å’Œ B-tree çš„ WALï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç»“æ„æ¥å®ç°æ¶ˆæ¯ä»£ç†ï¼š ç”Ÿäº§è€…é€šè¿‡å°†æ¶ˆæ¯è¿½åŠ åˆ°æ—¥å¿—çš„æœ«å°¾æ¥å‘é€æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€…é€šè¿‡ä¾æ¬¡è¯»å–æ—¥å¿—æ¥æ¥æ”¶æ¶ˆæ¯ã€‚ å¦‚æœæ¶ˆè´¹è€…è¯»åˆ°æ—¥å¿—çš„æœ«å°¾ï¼Œå®ƒå°±å¼€å§‹ç­‰å¾…æ–°æ¶ˆæ¯è¢«è¿½åŠ çš„é€šçŸ¥ã€‚\né€šè¿‡å¯¹æ—¥å¿—è¿›è¡Œåˆ†åŒºçªç ´å•ä¸ªç£ç›˜æ‰€èƒ½ä½“èƒ½çš„å¸¦å®½ååä¸Šçº¿ã€‚\nä»£ç†ä¸ºæ¯ä¸ªæ¶ˆæ¯åˆ†åŒºåˆ†é…äº†ä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—å·æˆ–åç§»é‡ï¼Œä¿è¯äº†åˆ†åŒºå†…çš„æ¶ˆæ¯å®Œå…¨æœ‰åºã€‚\næ¶ˆè´¹è€…åç§»é‡ï¼šè®°å½•å“ªäº›æ¶ˆæ¯å·²ç»è¢«å¤„ç†ï¼Œå‡å°‘ ACK å¼€é”€ ç£ç›˜ç©ºé—´ï¼šåˆ†æ®µï¼Œå®šæœŸåˆ é™¤ æ¶ˆè´¹è€…è·Ÿä¸ä¸Šç”Ÿäº§è€…ï¼šå¢åŠ  LAG æŠ¥è­¦ é‡æ–°å¤„ç†æ¶ˆæ¯ï¼šé‡ç½®åç§»é‡ ","title":"æ¶ˆæ¯é˜Ÿåˆ—"},{"content":" tags: TCP,High Performance Browser Networking åŸæ–‡é“¾æ¥ï¼šhttps://hpbn.co/building-blocks-of-tcp/ã€‚ Overview The 4th version of RFC 675, and final two seperate RFCs:\nRFC 791 - Internet Protocol(IPv4) RFC 793 - Transmission Control Protocol TCP provides:\nEffective abstraction. A reliable network running over unreliable channel. Hiding most the complexity of network communication: retransmission of lost data, in-order delivery, congestion control and avoidance, data integrity, and more. Three-Way Handhsake Sequence numbers are important for keep in-order delivery, and they are picked randomly from both sides for security reasons.\nSYN - CLIENT picks a random sequence number X and sends a SYN packet, which may also include addition TCP flags and options. SYN ACK - SERVER increments X by one, picks own random sequence number Y, appends its own set of flags and options, and dispatches the response. ACK - CLIENT increments both X and Y by one and completes the handhsake by dispatching the last ACK packet in the handshake. Implications of Performance: Expensive to Create - Every new TCP connection will have a full roundtrip of latency before any application data can be transferred.Â 1\nCongestion Avoidance and Control TCP Fast Open aims to solve the Expensive to Create problem.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20210813071739-networking_101_building_blocks_of_tcp/","summary":"tags: TCP,High Performance Browser Networking åŸæ–‡é“¾æ¥ï¼šhttps://hpbn.co/building-blocks-of-tcp/ã€‚ Overview The 4th version of RFC 675, and final two seperate RFCs:\nRFC 791 - Internet Protocol(IPv4) RFC 793 - Transmission Control Protocol TCP provides:\nEffective abstraction. A reliable network running over unreliable channel. Hiding most the complexity of network communication: retransmission of lost data, in-order delivery, congestion control and avoidance, data integrity, and more. Three-Way Handhsake Sequence numbers are important for keep in-order delivery, and they are picked randomly from both sides for security reasons.","title":"Networking 101: Building Blocks of TCP"},{"content":" tags: Network ","permalink":"https://notes.0081800.xyz/notes/20210813071635-tcp/","summary":" tags: Network ","title":"TCP"},{"content":"é˜»æ­¢ç”Ÿäº§è€…å‘é€æ›´å¤šçš„æ¶ˆæ¯ã€‚ä½¿ç”¨èƒŒå‹çš„åœºæ™¯ï¼š\nUnix ç®¡é“ TCP ","permalink":"https://notes.0081800.xyz/notes/20210813071452-%E8%83%8C%E5%8E%8B/","summary":"é˜»æ­¢ç”Ÿäº§è€…å‘é€æ›´å¤šçš„æ¶ˆæ¯ã€‚ä½¿ç”¨èƒŒå‹çš„åœºæ™¯ï¼š\nUnix ç®¡é“ TCP ","title":"èƒŒå‹"},{"content":"å‘é€äº‹ä»¶æµ æ¶ˆæ¯ç³»ç»Ÿ ç”Ÿäº§è€…é€Ÿåº¦æ¯”æ¶ˆè´¹è€…å¿«ï¼šä¸¢å¼ƒæ¶ˆæ¯ã€å°†æ¶ˆæ¯ç¼“å­˜åœ¨é˜Ÿåˆ—ã€æ¿€æ´»èƒŒå‹ã€‚ èŠ‚ç‚¹å´©æºƒæˆ–è€…æš‚æ—¶å†é™©ï¼Œæ˜¯å¦ä¼šæœ‰æ¶ˆæ¯ä¸¢å¤±ï¼Ÿ ç”Ÿäº§è€…ä¸æ¶ˆæ¯ç³»ç»Ÿä¹‹é—´çš„ç›´æ¥æ¶ˆæ¯ä¼ é€’ UDP ç»„æ’­ï¼šå¹¿æ³›åº”ç”¨äºé‡‘èè‚¡ç¥¨ æ— ä»£ç†æ¶ˆæ¯åº“ï¼šZerroMQ å’Œ nanomsg StatsD å’Œ Brubeck ä½¿ç”¨ UDP ä¼ é€’æ¶ˆæ¯ HTTPã€RPC æ¥å£ æ¶ˆæ¯ä»£ç† å‚è§ï¼šAMQP/JMS é£æ ¼çš„æ¶ˆæ¯ä»£ç†ã€‚ ä¹Ÿç§°æ¶ˆæ¯é˜Ÿåˆ—ã€‚\næ¶ˆæ¯å¯¹æ¯”ä¸æ•°æ®åº“å¯¹æ¯” å¤šä¸ªæ¶ˆè´¹è€… ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ åˆ†åŒºæ—¥å¿— å‚è§ï¼š åŸºäºæ—¥å¿—çš„æ¶ˆæ¯ä»£ç†ã€‚\næ•°æ®åº“ä¸æµ ä¿æŒç³»ç»ŸåŒæ­¥ å˜æ›´æ•°æ®æ•è· å˜æ›´æ•°æ®æ•è·ï¼ˆChange Data Captureï¼ŒCDCï¼‰è®°å½•äº†å†™å…¥æ•°æ®åº“çš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶ä»¥å¯å¤åˆ¶åˆ°å…¶ä»–ç³»ç»Ÿçš„å½¢å¼æ¥æå–æ•°æ®ã€‚ å¦‚æœåœ¨å†™å…¥æ—¶ç«‹å³å°†æ›´æ”¹ä½œä¸ºä¸€ç§æµæ¥å‘å¸ƒï¼Œé‚£ä¹ˆ CDC å°±æ›´æœ‰è¶£æ¥ã€‚\nå®ç°å˜æ›´æ•°æ®æ•è· è§£æå¤åˆ¶æ—¥å¿—ï¼Œå¹¶å°†è§£æçš„å†…å®¹å‘é€åˆ°äº‹ä»¶æµä¸­è¿›è¡Œ replayã€‚\nåˆå§‹å¿«ç…§ replay æ—¥å¿—å ç”¨ç©ºé—´è¿‡å¤§ï¼Œéœ€è¦è¿›è¡Œæˆªæ–­ï¼Œæˆªæ–­ä¹‹å‰çš„è¿›è¡Œåˆå§‹å¿«ç…§ä¿å­˜ã€‚\næ—¥å¿—å‹ç¼© å‚è€ƒå“ˆå¸Œç´¢å¼•ã€‚\nå¯¹å˜æ›´æµçš„ API æ”¯æŒ æ•°æ®åº“å¼€å§‹æ”¯æŒå°†å˜æ›´æµä½œä¸ºæ ‡å‡†æ¥å£ã€‚\näº‹ä»¶æº¯æº ä¸€ç§åœ¨é¢†åŸŸé©±åŠ¨è®¾è®¡ç¤¾åŒºä¸­å¼€å‘çš„æŠ€æœ¯ï¼Œä¸ CDC æœ€å¤§çš„åŒºåˆ«åœ¨äºäº‹ä»¶æº¯æºåœ¨ä¸åŒæŠ½è±¡å±‚æ¬¡ä¸Šåº”ç”¨äº†å°†æ‰€æœ‰å¯¹åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ›´æ”¹ä¿å­˜ä¸ºæ›´æ”¹äº‹ä»¶æ—¥å¿—ï¼š\nCDC ä¸­ï¼šåº”ç”¨ç¨‹åºä»¥æ•°æ®å¯å˜æ–¹å¼æ¥æ“çºµæ•°æ®åº“ï¼Œä»æ•°æ®åº“ä¸­æå–è¾ƒä½çº§çš„å˜æ›´æ—¥å¿—ï¼Œä»è€Œç¡®ä¿ä»æ•°æ®åº“æå–å†™å…¥é¡ºåºä¸å®é™…å†™å…¥é¡ºåºç›¸åŒ¹é…ã€‚å†™å…¥æ•°æ®åº“çš„ç¨‹åºä¸éœ€è¦çŸ¥é“ CDC æ­£åœ¨å‘ç”Ÿã€‚ äº‹ä»¶æº¯æºä¸­ï¼šåº”ç”¨ç¨‹åºçš„å†™å…¥é€»è¾‘æ˜¯åŸºäºå†™å…¥äº‹ä»¶æ—¥å¿—çš„ä¸å¯å˜äº‹ä»¶æ„å»ºçš„ã€‚äº‹ä»¶å­˜å‚¨ä»…æ”¯æŒè¿½åŠ ï¼Œä¸é¼“åŠ±ç”šè‡³ç¦æ­¢æ›´æ–°æˆ–åˆ é™¤æ“ä½œã€‚äº‹ä»¶æ—¨åœ¨åæ˜ åœ¨åº”ç”¨ç¨‹åºçº§åˆ«æ‰€å‘ç”Ÿçš„äº‹æƒ…ï¼Œè€Œä¸æ˜¯ä½çº§åˆ«çš„çŠ¶æ€æ”¹å˜ã€‚ ä¸“é—¨çš„æ•°æ®åº“ Event Store æ¥æ”¯æŒä½¿ç”¨äº‹ä»¶æº¯æºçš„åº”ç”¨ç¨‹åºã€‚\nä»äº‹ä»¶ä¸­å¯¼å‡ºå½“å‰çŠ¶æ€ï¼šçœŸæ­£å¯¹ç”¨æˆ·æœ‰æ„ä¹‰ å‘½ä»¤å’Œäº‹ä»¶ å‘½ä»¤ç»è¿‡æ ¡éªŒåè½¬åŒ–ä¸ºäº‹ä»¶ã€‚\nçŠ¶æ€ï¼Œæµä¸ä¸å¯å˜æ€§ æµå¤„ç† äº‹ä»¶ä¸­çš„æ•°æ®å†™å…¥æ•°æ®åº“ã€ç¼“å­˜ã€æœç´¢ç´¢å¼•æˆ–ç±»ä¼¼çš„å­˜å‚¨ç³»ç»Ÿï¼Œæä¾›ç»™å®¢æˆ·ç«¯æŸ¥è¯¢ã€‚ é€šè¿‡æŸç§æ–¹å¼å°†äº‹ä»¶æ¨é€ç»™ç”¨æˆ·ï¼Œå¦‚ç”µå­é‚®ä»¶ã€çŸ­ä¿¡ç­‰ã€‚ å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥æµäº§ç”Ÿè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºæµã€‚ æµå¤„ç†é€‚ç”¨åœºæ™¯ å¤æ‚äº‹ä»¶å¤„ç† å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆComplex Event Processingï¼ŒCEPï¼‰å°¤å…¶é€‚ç”¨éœ€è¦æœç´¢ç‰¹å®šçš„äº‹ä»¶æ¨¡å¼ã€‚ å®ç°ï¼šEsperã€IBM Info Sphere Streamsã€Apamaã€TIBCO StreamBase å’Œ SQLstreamã€‚\næµåˆ†æ Apache Stormã€Spark Streamingã€Flinkã€Concordã€Samza å’Œ Kafka Streamsã€‚\nç»´æŠ¤ç‰©åŒ–è§†å›¾ åœ¨æµä¸Šæœç´¢ æ¶ˆæ¯ä¼ é€’å’Œ RPC æµçš„æ—¶é—´é—®é¢˜ éœ€è®°å½•ä¸‰ä¸ªæ—¶é—´ï¼š\näº‹ä»¶å‘ç”Ÿæ—¶é—´ï¼Œè®¾å¤‡çš„æ—¶é’Ÿ äº‹ä»¶å‘é€æ—¶é—´ï¼Œè®¾å¤‡çš„æ—¶é’Ÿ äº‹ä»¶æ¥æ”¶æ—¶é—´ï¼Œç¦å¥‡çš„æ—¶é’Ÿ çª—å£ç±»å‹ è½®è½¬çª—å£ï¼šé•¿åº¦å›ºå®šï¼Œç›¸äº’ä¹‹é—´ä¸é‡å ã€‚ è·³è·ƒçª—å£ï¼šé•¿åº¦å›ºå®šï¼Œå¯ä»¥å…è®¸ç›¸äº’ä¹‹é—´é‡å ã€‚ æ»‘åŠ¨çª—å£ï¼šé€šè¿‡ä¿ç•™äº‹ä»¶æ’åºçš„äº‹ä»¶ç¼“å†²åŒºå¹¶ä¸”ä»çª—å£è¿‡æœŸæ—¶ç§»é™¤æ—§äº‹ä»¶æ¥å®ç°ã€‚ ä¼šè¯çª—å£ï¼šæ²¡æœ‰å›ºå®šæŒç»­äº‹ä»¶ï¼Œé€šè¿‡å°†åŒä¸€ç”¨æˆ·åœ¨æ—¶é—´ä¸Šç´§å¯†ç›¸å…³çš„æ‰€æœ‰äº‹ä»¶åˆ†ç»„åœ¨ä¸€èµ·ã€‚ æµå¼ join æµå’Œæµ joinï¼ˆçª—å£ joinï¼‰ æµå’Œè¡¨ join è¡¨å’Œè¡¨ join join å’Œäº‹ä»¶ä¾èµ–æ€§ æµå¤„ç†å®¹é”™ å¾®å¤„ç†å’Œæ ¡éªŒç‚¹ é‡æ–°å®¡è§†åŸå­æäº¤ å¹‚ç­‰æ€§ æ•…éšœåé‡å»ºçŠ¶æ€ ","permalink":"https://notes.0081800.xyz/notes/20210813065446-%E6%B5%81%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F/","summary":"å‘é€äº‹ä»¶æµ æ¶ˆæ¯ç³»ç»Ÿ ç”Ÿäº§è€…é€Ÿåº¦æ¯”æ¶ˆè´¹è€…å¿«ï¼šä¸¢å¼ƒæ¶ˆæ¯ã€å°†æ¶ˆæ¯ç¼“å­˜åœ¨é˜Ÿåˆ—ã€æ¿€æ´»èƒŒå‹ã€‚ èŠ‚ç‚¹å´©æºƒæˆ–è€…æš‚æ—¶å†é™©ï¼Œæ˜¯å¦ä¼šæœ‰æ¶ˆæ¯ä¸¢å¤±ï¼Ÿ ç”Ÿäº§è€…ä¸æ¶ˆæ¯ç³»ç»Ÿä¹‹é—´çš„ç›´æ¥æ¶ˆæ¯ä¼ é€’ UDP ç»„æ’­ï¼šå¹¿æ³›åº”ç”¨äºé‡‘èè‚¡ç¥¨ æ— ä»£ç†æ¶ˆæ¯åº“ï¼šZerroMQ å’Œ nanomsg StatsD å’Œ Brubeck ä½¿ç”¨ UDP ä¼ é€’æ¶ˆæ¯ HTTPã€RPC æ¥å£ æ¶ˆæ¯ä»£ç† å‚è§ï¼šAMQP/JMS é£æ ¼çš„æ¶ˆæ¯ä»£ç†ã€‚ ä¹Ÿç§°æ¶ˆæ¯é˜Ÿåˆ—ã€‚\næ¶ˆæ¯å¯¹æ¯”ä¸æ•°æ®åº“å¯¹æ¯” å¤šä¸ªæ¶ˆè´¹è€… ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ åˆ†åŒºæ—¥å¿— å‚è§ï¼š åŸºäºæ—¥å¿—çš„æ¶ˆæ¯ä»£ç†ã€‚\næ•°æ®åº“ä¸æµ ä¿æŒç³»ç»ŸåŒæ­¥ å˜æ›´æ•°æ®æ•è· å˜æ›´æ•°æ®æ•è·ï¼ˆChange Data Captureï¼ŒCDCï¼‰è®°å½•äº†å†™å…¥æ•°æ®åº“çš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶ä»¥å¯å¤åˆ¶åˆ°å…¶ä»–ç³»ç»Ÿçš„å½¢å¼æ¥æå–æ•°æ®ã€‚ å¦‚æœåœ¨å†™å…¥æ—¶ç«‹å³å°†æ›´æ”¹ä½œä¸ºä¸€ç§æµæ¥å‘å¸ƒï¼Œé‚£ä¹ˆ CDC å°±æ›´æœ‰è¶£æ¥ã€‚\nå®ç°å˜æ›´æ•°æ®æ•è· è§£æå¤åˆ¶æ—¥å¿—ï¼Œå¹¶å°†è§£æçš„å†…å®¹å‘é€åˆ°äº‹ä»¶æµä¸­è¿›è¡Œ replayã€‚\nåˆå§‹å¿«ç…§ replay æ—¥å¿—å ç”¨ç©ºé—´è¿‡å¤§ï¼Œéœ€è¦è¿›è¡Œæˆªæ–­ï¼Œæˆªæ–­ä¹‹å‰çš„è¿›è¡Œåˆå§‹å¿«ç…§ä¿å­˜ã€‚\næ—¥å¿—å‹ç¼© å‚è€ƒå“ˆå¸Œç´¢å¼•ã€‚\nå¯¹å˜æ›´æµçš„ API æ”¯æŒ æ•°æ®åº“å¼€å§‹æ”¯æŒå°†å˜æ›´æµä½œä¸ºæ ‡å‡†æ¥å£ã€‚\näº‹ä»¶æº¯æº ä¸€ç§åœ¨é¢†åŸŸé©±åŠ¨è®¾è®¡ç¤¾åŒºä¸­å¼€å‘çš„æŠ€æœ¯ï¼Œä¸ CDC æœ€å¤§çš„åŒºåˆ«åœ¨äºäº‹ä»¶æº¯æºåœ¨ä¸åŒæŠ½è±¡å±‚æ¬¡ä¸Šåº”ç”¨äº†å°†æ‰€æœ‰å¯¹åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ›´æ”¹ä¿å­˜ä¸ºæ›´æ”¹äº‹ä»¶æ—¥å¿—ï¼š\nCDC ä¸­ï¼šåº”ç”¨ç¨‹åºä»¥æ•°æ®å¯å˜æ–¹å¼æ¥æ“çºµæ•°æ®åº“ï¼Œä»æ•°æ®åº“ä¸­æå–è¾ƒä½çº§çš„å˜æ›´æ—¥å¿—ï¼Œä»è€Œç¡®ä¿ä»æ•°æ®åº“æå–å†™å…¥é¡ºåºä¸å®é™…å†™å…¥é¡ºåºç›¸åŒ¹é…ã€‚å†™å…¥æ•°æ®åº“çš„ç¨‹åºä¸éœ€è¦çŸ¥é“ CDC æ­£åœ¨å‘ç”Ÿã€‚ äº‹ä»¶æº¯æºä¸­ï¼šåº”ç”¨ç¨‹åºçš„å†™å…¥é€»è¾‘æ˜¯åŸºäºå†™å…¥äº‹ä»¶æ—¥å¿—çš„ä¸å¯å˜äº‹ä»¶æ„å»ºçš„ã€‚äº‹ä»¶å­˜å‚¨ä»…æ”¯æŒè¿½åŠ ï¼Œä¸é¼“åŠ±ç”šè‡³ç¦æ­¢æ›´æ–°æˆ–åˆ é™¤æ“ä½œã€‚äº‹ä»¶æ—¨åœ¨åæ˜ åœ¨åº”ç”¨ç¨‹åºçº§åˆ«æ‰€å‘ç”Ÿçš„äº‹æƒ…ï¼Œè€Œä¸æ˜¯ä½çº§åˆ«çš„çŠ¶æ€æ”¹å˜ã€‚ ä¸“é—¨çš„æ•°æ®åº“ Event Store æ¥æ”¯æŒä½¿ç”¨äº‹ä»¶æº¯æºçš„åº”ç”¨ç¨‹åºã€‚\nä»äº‹ä»¶ä¸­å¯¼å‡ºå½“å‰çŠ¶æ€ï¼šçœŸæ­£å¯¹ç”¨æˆ·æœ‰æ„ä¹‰ å‘½ä»¤å’Œäº‹ä»¶ å‘½ä»¤ç»è¿‡æ ¡éªŒåè½¬åŒ–ä¸ºäº‹ä»¶ã€‚\nçŠ¶æ€ï¼Œæµä¸ä¸å¯å˜æ€§ æµå¤„ç† äº‹ä»¶ä¸­çš„æ•°æ®å†™å…¥æ•°æ®åº“ã€ç¼“å­˜ã€æœç´¢ç´¢å¼•æˆ–ç±»ä¼¼çš„å­˜å‚¨ç³»ç»Ÿï¼Œæä¾›ç»™å®¢æˆ·ç«¯æŸ¥è¯¢ã€‚ é€šè¿‡æŸç§æ–¹å¼å°†äº‹ä»¶æ¨é€ç»™ç”¨æˆ·ï¼Œå¦‚ç”µå­é‚®ä»¶ã€çŸ­ä¿¡ç­‰ã€‚ å¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥æµäº§ç”Ÿè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºæµã€‚ æµå¤„ç†é€‚ç”¨åœºæ™¯ å¤æ‚äº‹ä»¶å¤„ç† å¤æ‚äº‹ä»¶å¤„ç†ï¼ˆComplex Event Processingï¼ŒCEPï¼‰å°¤å…¶é€‚ç”¨éœ€è¦æœç´¢ç‰¹å®šçš„äº‹ä»¶æ¨¡å¼ã€‚ å®ç°ï¼šEsperã€IBM Info Sphere Streamsã€Apamaã€TIBCO StreamBase å’Œ SQLstreamã€‚","title":"æµå¤„ç†ç³»ç»Ÿ"},{"content":"åŸæ–‡é“¾æ¥ï¼šWhy MapReduce is making a comebackã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210811111926-why_mapreduce_is_making_a_comeback/","summary":"åŸæ–‡é“¾æ¥ï¼šWhy MapReduce is making a comebackã€‚","title":"Why MapReduce is making a comeback"},{"content":" tags: Rust åŸæ–‡ï¼šWhen Zero Cost Abstractions Aren\u0026rsquo;t Zero Cost ","permalink":"https://notes.0081800.xyz/notes/20210810151736-when_zero_cost_abstractions_aren_t_zero_cost/","summary":" tags: Rust åŸæ–‡ï¼šWhen Zero Cost Abstractions Aren\u0026rsquo;t Zero Cost ","title":"When Zero Cost Abstractions Aren't Zero Cost"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210810072604-%E5%BC%B9%E6%80%A7%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E9%9B%86/","summary":"","title":"å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†"},{"content":"åŸºäº Hadoop åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ SSTables å’Œ LSM-Tree å®ç°éšæœºè®¿é—®çš„ OLTP æ•°æ®åº“ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210810071455-hbase/","summary":"åŸºäº Hadoop åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ SSTables å’Œ LSM-Tree å®ç°éšæœºè®¿é—®çš„ OLTP æ•°æ®åº“ã€‚","title":"HBase"},{"content":"MPP æ•°æ®åº“ Gamma æ•°æ®åº“æœºå™¨ Teradata Tandem NonStop SQL ","permalink":"https://notes.0081800.xyz/notes/20210810070530-%E5%A4%A7%E8%A7%84%E6%A8%A1%E5%B9%B6%E8%A1%8C%E5%A4%84%E7%90%86/","summary":"MPP æ•°æ®åº“ Gamma æ•°æ®åº“æœºå™¨ Teradata Tandem NonStop SQL ","title":"å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†"},{"content":" tags: åˆ†å¸ƒå¼,ä¸€è‡´æ€§,Clock Synchronization,Multicast source: https://signalsandthreads.com/clock-synchronization/ Electronic Oscillator: Computer itself to Dervie its Notion of Time Computer\u0026rsquo;s clock are based on a 1 MHz electronic oscillator circuit, that is oscillating at some frequency, and driving an interrupt. So the operating system can use it to derive its notion of time. It helps computer to keep the time correct.\nBut a bad oscillator could be influenced by the heat of CPU, like compiling Linux kernel, etc. A really high-quality oscillator would be really expensive. So most computers come with fairly bad oscillators.\nGPS: External Reference Buy a GPS appliance to receive time from the signal of the GPS satellites.\nFrom the book DDIA, nearly every large data center have one in their room to synchronize time from GPS.\nThe accuracy there is something like maybe 100 nanoseconds.\nWhy Clock Synchronization is so Important? Total ordering of events in a distributed system.\nNTP: Synchronize Clock Inside of a Computer Network NTP stands for Network Time Protocol.\nThere are four timestamps, as the core:\nclient send timestamp: before client send a packet to server, client record a timestamp as it. server receive timestamp: when the server received the packet. server send timestamp: when the server reply to the client. client receive timestamp: when the client recived the reply packet from the server. With those four timestamps, we can compute two important numbers:\nThe offset, how far my clock is off from yours. The delay, how long it took those packets to traverse the network. The Weakness of NTP Too much assumption. Adjust time abruptly. May change time in the negative direction. chrony: A More Customizable Implementation of NTP NTP can do the Slewing in an appropariate way: keep the rates pretty close to the real-time rates, and it\u0026rsquo;s slowly, for chrony, the default is 12 seconds to remove one second of error.\nPTP: Precision Time Protocol A successor to NTP that uses multicast, hardware timestamping, networking switches, and faster default update rates to achieve better synchronization. Which meets MiFID II1.\nNTP is good to milliseconds. PTP is good to microseconds.\nThree things made PTP much more accurate than NTP:\nHardware Timestamping: many hardware vendors support it with PTP. So PTP get a timestamp when the packet arrives at the network card. Frequency of Updates. Lots of Switches, multicast by switches, involved and help you move time across the network while understanding their own delays that theyâ€™re adding to it. Multicast: Best Master Clock Algorithm A process for determining the best time source available, which PTP then uses as its grandmaster2.\nWith multicast, as a client, you don\u0026rsquo;t need to configured which server to talk, just run the client, and start receiving from grandmaster. It also good to grandmaster: NO connection need to maintain.\nAlso with the multicast, PTP should be used:\nIn a small area. Hybrid mode, sync message comes in multicast, but the delay request and the delay response wind up being unicast. Final Solution Some GPS appliances get time from GPS. Use PTP to move time from the GPS appliances to a set of Linux machines. The, NTP interleaved mode to move the time from those machines onto machines further downstream. Short Overview of NTP Interleaved Mode the interleaved mode is sort of a special way in which you can run NTP and that when you transmit your next NTP packet you send that hardware timestamp that you got for the previous transmission, and then the other side, each side can use those. I donâ€™t want to get into too much of the details of how that works, but it allows you to get more accuracy and to leverage those hardware timestamps on transmission.\nResults We are absolutely no worse error than about 35 microseconds.\nA set of European financial regulations that required, among a number of other changes, that some market participants, including Jane Street, be able to show that their clocks were synchronized, within 100 Microseconds, to UTC.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nThe clock used by PTP as its time reference.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20210809103849-clock_synchronization_with_chris_perl/","summary":"tags: åˆ†å¸ƒå¼,ä¸€è‡´æ€§,Clock Synchronization,Multicast source: https://signalsandthreads.com/clock-synchronization/ Electronic Oscillator: Computer itself to Dervie its Notion of Time Computer\u0026rsquo;s clock are based on a 1 MHz electronic oscillator circuit, that is oscillating at some frequency, and driving an interrupt. So the operating system can use it to derive its notion of time. It helps computer to keep the time correct.\nBut a bad oscillator could be influenced by the heat of CPU, like compiling Linux kernel, etc.","title":"Clock Synchronization with Chris Perl"},{"content":" tags: Bigdata bucketed map join ","permalink":"https://notes.0081800.xyz/notes/20210809080723-hive/","summary":" tags: Bigdata bucketed map join ","title":"Hive"},{"content":" tags: Bigdata Hadoop Distributed File System MapReduce MapReduce shuffle æŒ‰ç…§ reducer åˆ†åŒºï¼Œæ’åºå’Œå°†æ•°æ®åˆ†åŒºä» mapper å¤åˆ¶åˆ° reducerã€‚ï¼ˆä»¤äººå›°æƒ‘çš„æœ¯è¯­ï¼Œå¹¶ä¸å®Œå…¨ä¸æ´—ç‰Œä¸€æ ·ï¼Œåœ¨ MapReduce ä¸­å…¶å®æ²¡æœ‰éšæœºæ€§ï¼‰ã€‚\nMapReduce çš„åˆ†å¸ƒå¼æ‰§è¡Œ Hadoop MapReduce å¹¶è¡ŒåŒ–åŸºäºæ•°æ®åˆ†åŒºå®ç°ï¼š\nè¾“å…¥ï¼šé€šå¸¸æ˜¯ HDFS ä¸­çš„ä¸€ä¸ªç›®å½•ã€‚ åˆ†åŒºï¼šæ¯ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å—éƒ½è¢«è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„åˆ†åŒºã€‚ å¤„ç†ï¼šæ¯ä¸ªåˆ†åŒºç”±å•ç‹¬çš„ map ä»»åŠ¡æ¥å¤„ç†ã€‚ æ¯ä¸ª mapper éƒ½ä¼šå°½é‡å®ç°è®¡ç®—é è¿‘æ•°æ®ã€‚ ä»£ç å¤åˆ¶ï¼šJAR æ–‡ä»¶ã€‚ Reduce ä»»åŠ¡çš„è®¡ç®—ä¹Ÿè¢«åˆ†éš”æˆå—ï¼Œå¯ä»¥ä¸å¿…ä¸ mapper ä»»åŠ¡æ•°é‡ç›¸åŒï¼ŒMapReduce æ¡†æ¶ä½¿ç”¨å…³é”®å­—çš„å“ˆå¸Œå€¼æ¥ç¡®ä¿å…·æœ‰ç›¸åŒå…³é”®å­—çš„é”®å€¼å¯¹éƒ½åœ¨ç›¸åŒçš„ reduce ä»»åŠ¡ä¸­å¤„ç†ã€‚ é”®å€¼å¯¹å¿…é¡»è¿›è¡Œæ’åºï¼Œæ’åºæ˜¯åˆ†é˜¶æ®µè¿›è¡Œçš„ï¼š æ¯ä¸ª map ä»»åŠ¡éƒ½åŸºäºå…³é”®å­—å“ˆå¸Œå€¼ï¼ŒæŒ‰ç…§ reducer å¯¹è¾“å‡ºè¿›è¡Œåˆ†å—ã€‚ æ¯ä¸ªåˆ†åŒºéƒ½è¢«å†™å…¥ mapper ç¨‹åºæ‰€åœ¨çš„æœ¬åœ°ç£ç›˜ä¸Šçš„å·²æ’åºæ–‡ä»¶ï¼Œå‚è§ SSTables å’Œ LSM-Treeã€‚ reducer ä¸æ¯ä¸ª mapper ç›¸è¿æ¥ï¼šMapReduce è°ƒåº¦å™¨ä¼šåœ¨ mapper å†™å…¥ç»è¿‡æ’åºçš„è¾“å‡ºæ–‡ä»¶åï¼Œé€šçŸ¥ reducer å¼€å§‹ä» mapper ä¸­è·å–è¾“å‡ºæ–‡ä»¶ï¼Œæ¡†æ¶è¿›è¡Œ MapReduce shuffleã€‚ reducer ä»»åŠ¡ä» mapper ä¸­è·å–æ–‡ä»¶å¹¶å°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼ŒåŒæ—¶ä¿æŒæ•°æ®çš„æ’åºã€‚ä¸åŒ mapper ä½¿ç”¨ç›¸åŒçš„å…³é”®å­—ç”Ÿæˆè®°å½•ï¼Œä¼šåœ¨åˆå¹¶åçš„ reducer è¾“å…¥ä¸­ä½äºç›¸é‚»çš„ä½ç½®ã€‚ reducer å¯ä»¥ä½¿ç”¨ä»»æ„é€»è¾‘æ¥å¤„ç†è¿™äº›è®°å½•ï¼Œå¹¶ä¸”ç”Ÿæˆä»»æ„æ•°é‡çš„è¾“å‡ºè®°å½•ã€‚è®°å½•è¢«å†™å…¥åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚ MapReduce å·¥ä½œæµè°ƒåº¦å™¨ Oozie Azkaban Luigi Airflow Pinball å¯¹æ¯”åˆ†å¸ƒå¼æ•°æ®åº“ MapReduce ä¸­çš„å¹¶è¡Œå¤„ç†å’Œå¹¶è¡Œ join ç®—æ³•å·²ç»åœ¨åå¤šå¹´å‰æ‰€è°“çš„å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†ï¼ˆMPPï¼‰æ•°æ®åº“ä¸­å®ç°äº†ã€‚\nå­˜å‚¨å¤šæ ·æ€§ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶åªæ˜¯å­—èŠ‚åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•æ•°æ®æ¨¡å‹å’Œç¼–ç æ¥ç¼–å†™ã€‚å¯ä»¥æ˜¯æ•°æ®åº“è®°å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€ä¼ æ„Ÿå™¨è¯»æ•°ã€ç¨€ç–çŸ©é˜µã€ç‰¹å¾å‘é‡ã€åŸºå› ç»„åºåˆ—æˆ–ä»»ä½•å…¶ä»–ç±»å‹çš„æ•°æ®ã€‚\nMPP æ•°æ®åº“ é€šå¸¸éœ€è¦å¯¹æ•°æ®å’ŒæŸ¥è¯¢æ¨¡å¼è¿›è¡Œä»”ç»†çš„æå‰å»ºæ¨¡ã€‚\nHadoop ç»å¸¸è¢«ç”¨äºå®ç° ETL è¿‡ç¨‹ï¼šæ¥è‡ªäº‹åŠ¡å¤„ç†ç³»ç»Ÿçš„æ•°æ®ä»¥æŸç§åŸå§‹å½¢å¼è½¬å‚¨åˆ°åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åç¼–å†™ MapReduce ä½œä¸šè¿›è¡Œæ•°æ®æ¸…ç†ï¼Œå°†å…¶è½¬æ¢ä¸ºå…³ç³»è¡¨å•ï¼Œå¹¶å°†å…¶å¯¼å…¥ MPP æ•°æ®ä»“åº“ä»¥è¿›è¡Œåˆ†æã€‚\nå¤„ç†æ¨¡å‹å¤šæ ·æ€§ MPP æ•°æ®åº“å±äºä¸€ä½“åŒ–ã€ç´§å¯†é›†æˆçš„è½¯ä»¶ç³»ç»Ÿã€‚ SQLã€MapReduceã€HBaseï¼ˆéšæœºè®¿é—®çš„ OLTP æ•°æ®åº“ï¼‰Impala ç­‰ä¸åŒçš„ç»„ä»¶ã€‚ é’ˆå¯¹é¢‘ç¹æ•…éšœè®¾è®¡ YARN Yarnå‚æ•°ä¼˜åŒ–(Fair Schedulerç‰ˆæœ¬)\n","permalink":"https://notes.0081800.xyz/notes/20210809073407-hadoop/","summary":"tags: Bigdata Hadoop Distributed File System MapReduce MapReduce shuffle æŒ‰ç…§ reducer åˆ†åŒºï¼Œæ’åºå’Œå°†æ•°æ®åˆ†åŒºä» mapper å¤åˆ¶åˆ° reducerã€‚ï¼ˆä»¤äººå›°æƒ‘çš„æœ¯è¯­ï¼Œå¹¶ä¸å®Œå…¨ä¸æ´—ç‰Œä¸€æ ·ï¼Œåœ¨ MapReduce ä¸­å…¶å®æ²¡æœ‰éšæœºæ€§ï¼‰ã€‚\nMapReduce çš„åˆ†å¸ƒå¼æ‰§è¡Œ Hadoop MapReduce å¹¶è¡ŒåŒ–åŸºäºæ•°æ®åˆ†åŒºå®ç°ï¼š\nè¾“å…¥ï¼šé€šå¸¸æ˜¯ HDFS ä¸­çš„ä¸€ä¸ªç›®å½•ã€‚ åˆ†åŒºï¼šæ¯ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å—éƒ½è¢«è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„åˆ†åŒºã€‚ å¤„ç†ï¼šæ¯ä¸ªåˆ†åŒºç”±å•ç‹¬çš„ map ä»»åŠ¡æ¥å¤„ç†ã€‚ æ¯ä¸ª mapper éƒ½ä¼šå°½é‡å®ç°è®¡ç®—é è¿‘æ•°æ®ã€‚ ä»£ç å¤åˆ¶ï¼šJAR æ–‡ä»¶ã€‚ Reduce ä»»åŠ¡çš„è®¡ç®—ä¹Ÿè¢«åˆ†éš”æˆå—ï¼Œå¯ä»¥ä¸å¿…ä¸ mapper ä»»åŠ¡æ•°é‡ç›¸åŒï¼ŒMapReduce æ¡†æ¶ä½¿ç”¨å…³é”®å­—çš„å“ˆå¸Œå€¼æ¥ç¡®ä¿å…·æœ‰ç›¸åŒå…³é”®å­—çš„é”®å€¼å¯¹éƒ½åœ¨ç›¸åŒçš„ reduce ä»»åŠ¡ä¸­å¤„ç†ã€‚ é”®å€¼å¯¹å¿…é¡»è¿›è¡Œæ’åºï¼Œæ’åºæ˜¯åˆ†é˜¶æ®µè¿›è¡Œçš„ï¼š æ¯ä¸ª map ä»»åŠ¡éƒ½åŸºäºå…³é”®å­—å“ˆå¸Œå€¼ï¼ŒæŒ‰ç…§ reducer å¯¹è¾“å‡ºè¿›è¡Œåˆ†å—ã€‚ æ¯ä¸ªåˆ†åŒºéƒ½è¢«å†™å…¥ mapper ç¨‹åºæ‰€åœ¨çš„æœ¬åœ°ç£ç›˜ä¸Šçš„å·²æ’åºæ–‡ä»¶ï¼Œå‚è§ SSTables å’Œ LSM-Treeã€‚ reducer ä¸æ¯ä¸ª mapper ç›¸è¿æ¥ï¼šMapReduce è°ƒåº¦å™¨ä¼šåœ¨ mapper å†™å…¥ç»è¿‡æ’åºçš„è¾“å‡ºæ–‡ä»¶åï¼Œé€šçŸ¥ reducer å¼€å§‹ä» mapper ä¸­è·å–è¾“å‡ºæ–‡ä»¶ï¼Œæ¡†æ¶è¿›è¡Œ MapReduce shuffleã€‚ reducer ä»»åŠ¡ä» mapper ä¸­è·å–æ–‡ä»¶å¹¶å°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ï¼ŒåŒæ—¶ä¿æŒæ•°æ®çš„æ’åºã€‚ä¸åŒ mapper ä½¿ç”¨ç›¸åŒçš„å…³é”®å­—ç”Ÿæˆè®°å½•ï¼Œä¼šåœ¨åˆå¹¶åçš„ reducer è¾“å…¥ä¸­ä½äºç›¸é‚»çš„ä½ç½®ã€‚ reducer å¯ä»¥ä½¿ç”¨ä»»æ„é€»è¾‘æ¥å¤„ç†è¿™äº›è®°å½•ï¼Œå¹¶ä¸”ç”Ÿæˆä»»æ„æ•°é‡çš„è¾“å‡ºè®°å½•ã€‚è®°å½•è¢«å†™å…¥åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚ MapReduce å·¥ä½œæµè°ƒåº¦å™¨ Oozie Azkaban Luigi Airflow Pinball å¯¹æ¯”åˆ†å¸ƒå¼æ•°æ®åº“ MapReduce ä¸­çš„å¹¶è¡Œå¤„ç†å’Œå¹¶è¡Œ join ç®—æ³•å·²ç»åœ¨åå¤šå¹´å‰æ‰€è°“çš„å¤§è§„æ¨¡å¹¶è¡Œå¤„ç†ï¼ˆMPPï¼‰æ•°æ®åº“ä¸­å®ç°äº†ã€‚","title":"Hadoop"},{"content":" tags: Rust ","permalink":"https://notes.0081800.xyz/notes/20210808083146-tokio/","summary":" tags: Rust ","title":"Tokio"},{"content":" tags: åˆ†å¸ƒå¼ ","permalink":"https://notes.0081800.xyz/notes/20210808080733-%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/","summary":" tags: åˆ†å¸ƒå¼ ","title":"åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210808075738-%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5%E5%AD%98%E5%82%A8/","summary":"","title":"ç½‘ç»œè¿æ¥å­˜å‚¨"},{"content":" tags: Bigdata,åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ä¸ç½‘ç»œè¿æ¥å­˜å‚¨ï¼ˆNASï¼‰å’Œ å­˜å‚¨åŒºåŸŸç½‘ç»œï¼ˆSANï¼‰æ¶æ„ç›¸æ¯”ï¼ŒHDFS åŸºäºæ— å…±äº«åŸåˆ™ï¼Œæ— éœ€å®šåˆ¶ç¡¬ä»¶å’Œç‰¹æ®Šç½‘ç»œåŸºç¡€è®¾æ–½ï¼ˆå…‰çº¤ï¼‰ã€‚\nHDFS åˆ›å»ºäº†ä¸€ä¸ªåºå¤§çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ¥å……åˆ†åˆ©ç”¨æ¯ä¸ªå®ˆæŠ¤è¿›ç¨‹æœºå™¨ä¸Šçš„ç£ç›˜èµ„æºã€‚\nHDFS åŒ…å«ä¸€ä¸ªåœ¨æ¯å°æœºå™¨ä¸Šè¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶ä¼šå¼€æ”¾ä¸€ä¸ªç½‘ç»œæœåŠ¡ä»¥å…è®¸å…¶ä»–èŠ‚ç‚¹è®¿é—®å­˜å‚¨åœ¨è¯¥æœºå™¨ä¸Šçš„æ–‡ä»¶ã€‚ åä¸º NameNode çš„ä¸­å¤®æœåŠ¡å™¨ä¼šè·Ÿè¸ªå“ªä¸ªæ–‡ä»¶å—å­˜å‚¨åœ¨å“ªä¸ªæœåŠ¡å™¨ä¸Šã€‚ è€ƒè™‘å®¹é”™ï¼Œæ–‡ä»¶å¿«å—å¤åˆ¶åˆ°å¤šå°æœºå™¨ä¸Šï¼Œæˆ–è€…åƒ Reed-Solomon ä»£ç ä¸­è¿™æ ·çš„çº åˆ ç æ–¹æ¡ˆï¼ˆç±»ä¼¼ RAIDï¼Œä½†æ— éœ€ç‰¹æ®Šç¡¬ä»¶ï¼‰ã€‚ æä¾›å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œé…åˆå•†ä¸šç¡¬ä»¶å’Œå¼€æºè½¯ä»¶ï¼Œå¯ä»¥è¿è¡Œåœ¨ä¸Šä¸‡å°æœºå™¨ï¼Œå®¹é‡è¾¾å‡ ç™¾ PBã€‚ è®¡ç®—é è¿‘æ•°æ® åªè¦æœ‰è¶³å¤Ÿçš„ç©ºé—²å†…å­˜å’Œ CPU èµ„æºï¼ŒMapReduce è°ƒåº¦å™¨ä¼šå°è¯•åœ¨è¾“å…¥æ–‡ä»¶çš„å‰¯æœ¬çš„æŸå°æœºå™¨ä¸Šè¿è¡Œ mapper ä»»åŠ¡ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210808075530-hadoop_distributed_file_system/","summary":"tags: Bigdata,åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ä¸ç½‘ç»œè¿æ¥å­˜å‚¨ï¼ˆNASï¼‰å’Œ å­˜å‚¨åŒºåŸŸç½‘ç»œï¼ˆSANï¼‰æ¶æ„ç›¸æ¯”ï¼ŒHDFS åŸºäºæ— å…±äº«åŸåˆ™ï¼Œæ— éœ€å®šåˆ¶ç¡¬ä»¶å’Œç‰¹æ®Šç½‘ç»œåŸºç¡€è®¾æ–½ï¼ˆå…‰çº¤ï¼‰ã€‚\nHDFS åˆ›å»ºäº†ä¸€ä¸ªåºå¤§çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ¥å……åˆ†åˆ©ç”¨æ¯ä¸ªå®ˆæŠ¤è¿›ç¨‹æœºå™¨ä¸Šçš„ç£ç›˜èµ„æºã€‚\nHDFS åŒ…å«ä¸€ä¸ªåœ¨æ¯å°æœºå™¨ä¸Šè¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶ä¼šå¼€æ”¾ä¸€ä¸ªç½‘ç»œæœåŠ¡ä»¥å…è®¸å…¶ä»–èŠ‚ç‚¹è®¿é—®å­˜å‚¨åœ¨è¯¥æœºå™¨ä¸Šçš„æ–‡ä»¶ã€‚ åä¸º NameNode çš„ä¸­å¤®æœåŠ¡å™¨ä¼šè·Ÿè¸ªå“ªä¸ªæ–‡ä»¶å—å­˜å‚¨åœ¨å“ªä¸ªæœåŠ¡å™¨ä¸Šã€‚ è€ƒè™‘å®¹é”™ï¼Œæ–‡ä»¶å¿«å—å¤åˆ¶åˆ°å¤šå°æœºå™¨ä¸Šï¼Œæˆ–è€…åƒ Reed-Solomon ä»£ç ä¸­è¿™æ ·çš„çº åˆ ç æ–¹æ¡ˆï¼ˆç±»ä¼¼ RAIDï¼Œä½†æ— éœ€ç‰¹æ®Šç¡¬ä»¶ï¼‰ã€‚ æä¾›å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œé…åˆå•†ä¸šç¡¬ä»¶å’Œå¼€æºè½¯ä»¶ï¼Œå¯ä»¥è¿è¡Œåœ¨ä¸Šä¸‡å°æœºå™¨ï¼Œå®¹é‡è¾¾å‡ ç™¾ PBã€‚ è®¡ç®—é è¿‘æ•°æ® åªè¦æœ‰è¶³å¤Ÿçš„ç©ºé—²å†…å­˜å’Œ CPU èµ„æºï¼ŒMapReduce è°ƒåº¦å™¨ä¼šå°è¯•åœ¨è¾“å…¥æ–‡ä»¶çš„å‰¯æœ¬çš„æŸå°æœºå™¨ä¸Šè¿è¡Œ mapper ä»»åŠ¡ã€‚","title":"Hadoop Distributed File System"},{"content":" tags: Emacs M-x life RET åº·å¨ç”Ÿå‘½æ¸¸æˆï¼ˆConway\u0026rsquo;s Game of Lifeï¼‰\n","permalink":"https://notes.0081800.xyz/notes/20210808075104-emacs_easter_egg/","summary":"tags: Emacs M-x life RET åº·å¨ç”Ÿå‘½æ¸¸æˆï¼ˆConway\u0026rsquo;s Game of Lifeï¼‰","title":"Emacs Easter egg"},{"content":" tags: æŠ€æœ¯ æ•°æ®åº“ä½œä¸ºä¸€ä¸ªé•¿æœŸå‘å±•çš„æŠ€æœ¯ï¼Œä½†æ˜¯åœ¨ä¸­å›½ç›¸å¯¹å¤„äºä¸€ä¸ªèµ·æ­¥é˜¶æ®µï¼Œç›¸å…³äººæ‰æ¯”è¾ƒå°‘ã€‚è¿‘å¹´èƒ½å¤Ÿçœ‹å¾—åˆ°çš„æŠ€æœ¯ï¼š\nTiDB åˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“ TDengine é¢å‘ IoT çš„ OLAP æ•°æ®åº“ ç›¸å…³åˆ›ä¸šå…¬å¸ï¼š\nç¥ç­– https://zhuanlan.zhihu.com/p/396433354 ","permalink":"https://notes.0081800.xyz/notes/20210805082720-%E6%95%B0%E6%8D%AE%E5%BA%93/","summary":" tags: æŠ€æœ¯ æ•°æ®åº“ä½œä¸ºä¸€ä¸ªé•¿æœŸå‘å±•çš„æŠ€æœ¯ï¼Œä½†æ˜¯åœ¨ä¸­å›½ç›¸å¯¹å¤„äºä¸€ä¸ªèµ·æ­¥é˜¶æ®µï¼Œç›¸å…³äººæ‰æ¯”è¾ƒå°‘ã€‚è¿‘å¹´èƒ½å¤Ÿçœ‹å¾—åˆ°çš„æŠ€æœ¯ï¼š\nTiDB åˆ†å¸ƒå¼å…³ç³»å‹æ•°æ®åº“ TDengine é¢å‘ IoT çš„ OLAP æ•°æ®åº“ ç›¸å…³åˆ›ä¸šå…¬å¸ï¼š\nç¥ç­– https://zhuanlan.zhihu.com/p/396433354 ","title":"æ•°æ®åº“"},{"content":"MapReduce MapReduce ä¸åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ MapReduce å°±åƒåˆ†å¸ƒåœ¨ä¸Šåƒå°æœºå™¨ä¸Šçš„ Unix å·¥å…·ã€‚\nMapReduce ä½œä¸šé€šå¸¸ä¸ä¼šä¿®æ”¹è¾“å…¥ï¼Œé™¤äº†è¾“å‡ºå¤–æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚ MapReduce ä½œä¸šåœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸Šè¯»å†™ã€‚ï¼ˆUnix å·¥å…· stdinã€stdoutï¼‰ï¼Œå¦‚ HDFSï¼ˆHadoop Distributed File System)ç­‰ï¼ˆGlusterFSã€QFSã€Amazon S3ã€Azure Blob å’Œ OpenStack Swiftï¼‰ã€‚ MapReduce ä½œä¸šæ‰§è¡Œ MapReduce æ˜¯ä¸€ä¸ªç¼–ç¨‹æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒç¼–å†™ä»£ç å¤„ç† HDFS ç­‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„å¤§å‹æ•°æ®é›†ã€‚\nè¦åˆ›å»º MapReduce ä½œä¸šéœ€è¦å®ç°ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼š mapper å’Œ reducer ï¼ˆå¦è¯·å‚é˜… MapReduce æŸ¥è¯¢ï¼‰:\nMapper: æ¯ä¸ªè¾“å…¥è®°å½•éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œä»è¾“å…¥è®°å½•æå–ä»»æ„æ•°é‡çš„å…³é”®å­—å’Œå€¼ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œä¸ä¿ç•™ä»»ä½•çŠ¶æ€ï¼Œå¯ä»¥ç‹¬ç«‹å¤„ç†ã€‚ Reducer: MapReduce æ¡†æ¶ä½¿ç”¨ Mapper ç”Ÿæˆçš„é”®å€¼å¯¹ï¼Œæ”¶é›†åŒä¸€ä¸ªå…³é”®å­—çš„æ‰€æœ‰å€¼ï¼Œå¹¶ä½¿ç”¨è¿­ä»£å™¨è°ƒç”¨ reducer ä»¥ä½¿ç”¨è¯¥å€¼çš„é›†åˆã€‚ Reducer å¯ä»¥ç”Ÿæˆè¾“å‡ºè®°å½•ã€‚ MapReduce åˆ†å¸ƒå¼æ‰§è¡Œ å‚è§ Hadoop çš„ MapReduce çš„åˆ†å¸ƒå¼æ‰§è¡Œã€‚\nMapReduce å·¥ä½œæµ å°† MapReduce ä½œä¸šé“¾æ¥åˆ°å·¥ä½œæµæ˜¯éå¸¸æ™®éçš„ï¼Œä½œä¸šçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªä½œä¸šçš„è¾“å…¥ã€‚é€šè¿‡ç›®å½•åéšå¼çš„å®Œæˆï¼š\nç¬¬ä¸€ä¸ªä½œä¸šå¿…é¡»é…ç½®å°†å…¶è¾“å‡ºå†™å…¥ HDFS ä¸­æŒ‡å®šç›®å½•ï¼› ç¬¬äºŒä¸ªä½œä¸šå¿…é¡»é…ç½®è¯»å–ç›¸åŒçš„ç›®å½•åä½œä¸ºè¾“å…¥ã€‚ ç›®å‰å·²ç»å¼€å‘äº†å¤„ç†ä¾èµ–ç®¡ç†çš„ MapReduce å·¥ä½œæµè°ƒåº¦å™¨ã€‚\nReduce ç«¯çš„ join ä¸åˆ†ç»„ æ‰¹å¤„ç†çš„èƒŒæ™¯ä¸‹è®¨è®º joinï¼Œä¸»è¦è§£å†³æ•°æ®é›†å†…å­˜åœ¨å…³è”çš„æ‰€æœ‰äº‹ä»¶ã€‚ å‡è®¾ join ä¸¤å¼ è¡¨ï¼šç”¨æˆ·å’Œæ´»åŠ¨äº‹ä»¶ã€‚\næ’åº-åˆå¹¶ join æ¬¡çº§æ’åºï¼šreducer ä¼šé¦–å…ˆçœ‹åˆ°ç”¨æˆ·æ•°æ®åº“çš„è®°å½•ï¼Œç„¶åæŒ‰ç…§æ—¶é—´æˆ³é¡ºåºæŸ¥çœ‹æ´»åŠ¨äº‹ä»¶ã€‚\nåŸºäºæ¬¡çº§æ’åº reducer å¯ä»¥å¾ˆå®¹æ˜“çš„æ‰§è¡Œ joinï¼šä¸ºæ¯ä¸ªç”¨æˆ· ID è°ƒç”¨ä¸€æ¬¡ reducer å‡½æ•°ã€‚\nç¬¬ä¸€ä¸ªå€¼æ˜¯æ¥è‡ªç”¨æˆ·æ•°æ®åº“çš„å‡ºç”Ÿæ—¥æœŸè®°å½•ï¼Œå¹¶å­˜å‚¨åœ¨å±€éƒ¨å˜é‡ã€‚ ç„¶åä½¿ç”¨ç›¸åŒçš„ç”¨æˆ· ID éå†æ´»åŠ¨äº‹ä»¶ã€‚ è¿›è¡Œèšç±»ã€‚ reducer æ¯æ¬¡å¤„ç†ä¸€ä¸ªç‰¹å®šç”¨æˆ· ID çš„æ‰€æœ‰è®°å½•ã€‚\nå°†ç›¸å…³æ•°æ®æ”¾åœ¨ä¸€èµ· åˆ†ç»„ å¤„ç†æ•°æ®å€¾æ–œ æ•°æ®æŠ½æ ·æ¢æµ‹çƒ­é”®ï¼Œä½¿ç”¨ç®—æ³•è¿›è¡Œè¡¥å¿ã€‚ç¼ºç‚¹æ˜¯éœ€è¦è¿›è¡Œæ•°æ®å¤åˆ¶ã€‚\nHive éœ€è¦åœ¨è¡¨æ ¼å…ƒæ•°æ®ä¸­æ˜ç¡®æŒ‡å®šçƒ­é”®ï¼Œå¹¶å°†ä¸è¿™äº›é”®ç›¸å…³è®°å½•ä¸å…¶ä½™æ–‡ä»¶åˆ†å¼€å­˜æ”¾ã€‚\nMap ç«¯ join æ“ä½œ å¹¿æ’­å“ˆå¸Œ join æŠŠå°æ•°æ®é›†åŠ è½½åˆ°å†…å­˜å“ˆå¸Œè¡¨ä¸­ï¼Œmapper çš„æ—¶å€™ç›´æ¥è¯»å–å“ˆå¸Œè¡¨è¿›è¡Œæ•°æ®è¡¥å…¨ã€‚\nâ€œå¹¿æ’­â€ï¼šæ¯ä¸ªåˆ†åŒºçš„ mapper è¯»å–æ•´ä¸ªå°æ•°æ®é›†åˆ°å†…å­˜å“ˆå¸Œè¡¨ã€‚\nåˆ†åŒºå“ˆå¸Œ join å°†åŠ è½½åˆ°å†…å­˜å“ˆå¸Œè¡¨çš„æ•°æ®ç¼©å°ç‹¬ç«‹ä½œç”¨äºæ¯ä¸ªåˆ†åŒºã€‚\nHive ä¸­ç§°ä¸º bucketed map joinã€‚\nmap ç«¯åˆå¹¶ join æŒ‰å…³é”®å­—å‡åºå¢é‡è¯»å–ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œå¹¶ä¸”åŒ¹é…å…·æœ‰ç›¸åŒå…³é”®å­—çš„è®°å½•ã€‚\nå…·æœ‰ map ç«¯ join çš„ MapReduce å·¥ä½œæµ æ‰¹å¤„ç†å·¥ä½œæµçš„è¾“å‡º ç”Ÿæˆæœç´¢ç´¢å¼• æ‰¹å¤„ç†è¾“å‡ºé”®å€¼ æ‰¹å¤„ç†è¾“å‡ºçš„å“²å­¦ å¯¹æ¯” Hadoop ä¸åˆ†å¸ƒå¼æ•°æ®åº“ å‚è§ å¯¹æ¯”åˆ†å¸ƒå¼æ•°æ®åº“ã€‚\nç›¸å…³æ–‡ç«  Why MapReduce is making a comeback è¶…è¶Š MapReduce ä¸­é—´çŠ¶æ€å®ä½“åŒ– æ•°æ®æµå¼•æ“ï¼šSparkã€Flinkã€Tez å®¹é”™ï¼šSpark ä½¿ç”¨ å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›† è·Ÿè¸ªæ•°æ®çš„ç¥–å…ˆï¼ŒFlink å¯¹è¿ç®—ç¬¦çŠ¶æ€å»ºç«‹æ£€æŸ¥ç‚¹æ¥ä»æ•…éšœä¸­æ¢å¤ã€‚ æ•°æ®æµå¯¹ MapReduce çš„æ”¹è¿›æ˜¯ï¼šä¸éœ€è¦è‡ªå·±å°†æ‰€æœ‰ä¸­é—´çŠ¶æ€å†™å…¥æ–‡ä»¶ç³»ç»Ÿã€‚\nå›¾ä¸è¿­ä»£å¤„ç† Pregel å¤„ç†æ¨¡å‹ é«˜çº§ API å’Œè¯­è¨€ Hiveã€Pigã€Cascading å’Œ Crunchã€‚Tez å¯ä»¥å°†è¿™äº›é«˜çº§è¯­è¨€ç§»æ¤åˆ°æ–°çš„æ•°æ®æµæ‰§è¡Œå¼•æ“ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210805074336-%E6%89%B9%E5%A4%84%E7%90%86%E7%B3%BB%E7%BB%9F/","summary":"MapReduce MapReduce ä¸åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ MapReduce å°±åƒåˆ†å¸ƒåœ¨ä¸Šåƒå°æœºå™¨ä¸Šçš„ Unix å·¥å…·ã€‚\nMapReduce ä½œä¸šé€šå¸¸ä¸ä¼šä¿®æ”¹è¾“å…¥ï¼Œé™¤äº†è¾“å‡ºå¤–æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚ MapReduce ä½œä¸šåœ¨åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸Šè¯»å†™ã€‚ï¼ˆUnix å·¥å…· stdinã€stdoutï¼‰ï¼Œå¦‚ HDFSï¼ˆHadoop Distributed File System)ç­‰ï¼ˆGlusterFSã€QFSã€Amazon S3ã€Azure Blob å’Œ OpenStack Swiftï¼‰ã€‚ MapReduce ä½œä¸šæ‰§è¡Œ MapReduce æ˜¯ä¸€ä¸ªç¼–ç¨‹æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨å®ƒç¼–å†™ä»£ç å¤„ç† HDFS ç­‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿä¸­çš„å¤§å‹æ•°æ®é›†ã€‚\nè¦åˆ›å»º MapReduce ä½œä¸šéœ€è¦å®ç°ä¸¤ä¸ªå›è°ƒå‡½æ•°ï¼š mapper å’Œ reducer ï¼ˆå¦è¯·å‚é˜… MapReduce æŸ¥è¯¢ï¼‰:\nMapper: æ¯ä¸ªè¾“å…¥è®°å½•éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œä»è¾“å…¥è®°å½•æå–ä»»æ„æ•°é‡çš„å…³é”®å­—å’Œå€¼ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰ï¼Œä¸ä¿ç•™ä»»ä½•çŠ¶æ€ï¼Œå¯ä»¥ç‹¬ç«‹å¤„ç†ã€‚ Reducer: MapReduce æ¡†æ¶ä½¿ç”¨ Mapper ç”Ÿæˆçš„é”®å€¼å¯¹ï¼Œæ”¶é›†åŒä¸€ä¸ªå…³é”®å­—çš„æ‰€æœ‰å€¼ï¼Œå¹¶ä½¿ç”¨è¿­ä»£å™¨è°ƒç”¨ reducer ä»¥ä½¿ç”¨è¯¥å€¼çš„é›†åˆã€‚ Reducer å¯ä»¥ç”Ÿæˆè¾“å‡ºè®°å½•ã€‚ MapReduce åˆ†å¸ƒå¼æ‰§è¡Œ å‚è§ Hadoop çš„ MapReduce çš„åˆ†å¸ƒå¼æ‰§è¡Œã€‚\nMapReduce å·¥ä½œæµ å°† MapReduce ä½œä¸šé“¾æ¥åˆ°å·¥ä½œæµæ˜¯éå¸¸æ™®éçš„ï¼Œä½œä¸šçš„è¾“å‡ºä½œä¸ºä¸‹ä¸€ä¸ªä½œä¸šçš„è¾“å…¥ã€‚é€šè¿‡ç›®å½•åéšå¼çš„å®Œæˆï¼š\nç¬¬ä¸€ä¸ªä½œä¸šå¿…é¡»é…ç½®å°†å…¶è¾“å‡ºå†™å…¥ HDFS ä¸­æŒ‡å®šç›®å½•ï¼› ç¬¬äºŒä¸ªä½œä¸šå¿…é¡»é…ç½®è¯»å–ç›¸åŒçš„ç›®å½•åä½œä¸ºè¾“å…¥ã€‚ ç›®å‰å·²ç»å¼€å‘äº†å¤„ç†ä¾èµ–ç®¡ç†çš„ MapReduce å·¥ä½œæµè°ƒåº¦å™¨ã€‚\nReduce ç«¯çš„ join ä¸åˆ†ç»„ æ‰¹å¤„ç†çš„èƒŒæ™¯ä¸‹è®¨è®º joinï¼Œä¸»è¦è§£å†³æ•°æ®é›†å†…å­˜åœ¨å…³è”çš„æ‰€æœ‰äº‹ä»¶ã€‚ å‡è®¾ join ä¸¤å¼ è¡¨ï¼šç”¨æˆ·å’Œæ´»åŠ¨äº‹ä»¶ã€‚","title":"æ‰¹å¤„ç†ç³»ç»Ÿ"},{"content":" tags: LeetCode ","permalink":"https://notes.0081800.xyz/notes/20210805073600-leetcode_37_sudoku_solver/","summary":" tags: LeetCode ","title":"LeetCode: 37. Sudoku Solver"},{"content":" tags: LeetCode https://leetcode.com/problems/valid-sudoku/\n\u0026lt;- high -- low -\u0026gt; +------------------- wow(row(i):0,col(j):0) 0 -\u0026gt; [ 0010, 0010 ] | 1 -\u0026gt; [ 0000, 0000 ] | 2 -\u0026gt; [ 0000, 0000 ] | | +--------------- wow(row(i):0,col(j):1) 0 -\u0026gt; [ 0010 | 1 = 0011, 0010 ] | | 1 -\u0026gt; [ 0000, 0000 | 1 = 0001 ] | | 2 -\u0026gt; [ 0000, 0000 ] | | | | +----------- wow(row(i):0,col(j):2) 0 -\u0026gt; [ 0011 | 3 = 0100, 0010 ] | | | 1 -\u0026gt; [ 0000, 0001 ] | | | 2 -\u0026gt; [ 0000, 0000 | 3 = 0100 ] +---+---+---+ | 2 | 1 | 3 | +---+---+---+ ----| 3 | 2 | 1 | | +---+---+---+ | | 1 | 3 | 2 | | +---+---+---+ |- wow(row(i):1,col(j):0) 0 -\u0026gt; [0010 | 3 = 0110, 0010] +---------------------+ 1 -\u0026gt; [0000, 0001 | 3 = 0101] 2 -\u0026gt; [0000, 0100] class Solution { public: bool isValidSudoku(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board) { vector\u0026lt;int\u0026gt; wow(9,0); int mux1; int mux2; int mux3; int box_index; for(int i=0;i\u0026lt;9;i++){ for(int j=0;j\u0026lt;9;j++){ if(board[i][j] == \u0026#39;.\u0026#39;){ continue; } mux1 = 0x01 \u0026lt;\u0026lt; (board[i][j] - \u0026#39;1\u0026#39;); mux2 = 0x01 \u0026lt;\u0026lt; 9 \u0026lt;\u0026lt; (board[i][j] - \u0026#39;1\u0026#39;); mux3 = 0x01 \u0026lt;\u0026lt; 9 \u0026lt;\u0026lt; 9 \u0026lt;\u0026lt; (board[i][j] - \u0026#39;1\u0026#39;); box_index = (i/3) * 3 + j/3; if((wow[i]\u0026amp;mux1) != mux1 \u0026amp;\u0026amp; (wow[j]\u0026amp;mux2) != mux2 \u0026amp;\u0026amp; (wow[box_index]\u0026amp;mux3) != mux3){ wow[i] = wow[i]|mux1; wow[j] = wow[j]|mux2; wow[box_index] = wow[box_index]|mux3; } else{ return false; } } } return true; } }; ","permalink":"https://notes.0081800.xyz/notes/20210805070351-leetcode_36_valid_sudoku/","summary":"tags: LeetCode https://leetcode.com/problems/valid-sudoku/\n\u0026lt;- high -- low -\u0026gt; +------------------- wow(row(i):0,col(j):0) 0 -\u0026gt; [ 0010, 0010 ] | 1 -\u0026gt; [ 0000, 0000 ] | 2 -\u0026gt; [ 0000, 0000 ] | | +--------------- wow(row(i):0,col(j):1) 0 -\u0026gt; [ 0010 | 1 = 0011, 0010 ] | | 1 -\u0026gt; [ 0000, 0000 | 1 = 0001 ] | | 2 -\u0026gt; [ 0000, 0000 ] | | | | +----------- wow(row(i):0,col(j):2) 0 -\u0026gt; [ 0011 | 3 = 0100, 0010 ] | | | 1 -\u0026gt; [ 0000, 0001 ] | | | 2 -\u0026gt; [ 0000, 0000 | 3 = 0100 ] +---+---+---+ | 2 | 1 | 3 | +---+---+---+ ----| 3 | 2 | 1 | | +---+---+---+ | | 1 | 3 | 2 | | +---+---+---+ |- wow(row(i):1,col(j):0) 0 -\u0026gt; [0010 | 3 = 0110, 0010] +---------------------+ 1 -\u0026gt; [0000, 0001 | 3 = 0101] 2 -\u0026gt; [0000, 0100] class Solution { public: bool isValidSudoku(vector\u0026lt;vector\u0026lt;char\u0026gt;\u0026gt;\u0026amp; board) { vector\u0026lt;int\u0026gt; wow(9,0); int mux1; int mux2; int mux3; int box_index; for(int i=0;i\u0026lt;9;i++){ for(int j=0;j\u0026lt;9;j++){ if(board[i][j] == \u0026#39;.","title":"LeetCode: 36. Valid Sudoku"},{"content":" tags: åˆ†å¸ƒå¼ ","permalink":"https://notes.0081800.xyz/topics/20210804115431-%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B1%E8%AF%86/","summary":" tags: åˆ†å¸ƒå¼ ","title":"åˆ†å¸ƒå¼å…±è¯†"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯†,æŠ€æœ¯æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20210804115349-%E5%8C%BA%E5%9D%97%E9%93%BE/","summary":" tags: åˆ†å¸ƒå¼å…±è¯†,æŠ€æœ¯æ¦‚å¿µ ","title":"åŒºå—é“¾"},{"content":" tags: LeetCode source: https://leetcode.com/problems/combination-sum-ii/ LeetCode: 39. Combination Sum çš„è¿›é˜¶ã€‚å…ƒç´ ä¸åœ¨å”¯ä¸€ä¸”æ¯ä¸€ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚å¯¹ç»“æœè¿›è¡Œæ’åºç„¶åé€šè¿‡ set å¯¹ç»“æœè¿›è¡Œå»é‡ï¼š\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum2(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { sort(candidates.begin(), candidates.end()); backtracking(candidates, 0, 0, target); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; r; for (auto t : res) { r.push_back(t); } return r; } private: set\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; map\u0026lt;int, bool\u0026gt; visited; void backtracking(vector\u0026lt;int\u0026gt;\u0026amp; condidates, int start, int n, int target) { if (n == target) { res.insert(track); return; } if (n \u0026gt; target) { return; } int c = 0; int sz = condidates.size(); for (int i = start; i \u0026lt; sz; i++) { c = condidates[i]; track.push_back(c); backtracking(condidates, i + 1, n + c, target); track.pop_back(); } } }; ä»¥ä¸‹æµ‹è¯•ç”¨ä¾‹æ— æ³•é€šè¿‡ï¼š\n[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1] 30 class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum2(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { sort(candidates.begin(), candidates.end()); backtracking(candidates, 0, 0, target); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; r; for (auto t : res) { r.push_back(t); } return r; } private: set\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; map\u0026lt;int, bool\u0026gt; visited; void backtracking(vector\u0026lt;int\u0026gt;\u0026amp; condidates, int start, int n, int target) { if (n \u0026gt;= target) { if (n == target) { res.insert(track); } return; } int c = 0; int sz = condidates.size(); for (int i = start; i \u0026lt; sz; i++) { // é¿å…å…¨æ˜¯ä¸€æ ·çš„é™·å…¥æ— é™çš„å¾ªç¯ã€‚ if (i \u0026gt; start \u0026amp;\u0026amp; condidates[i] == condidates[i - 1]) { continue; } c = condidates[i]; track.push_back(c); backtracking(condidates, i + 1, n + c, target); track.pop_back(); } cout \u0026lt;\u0026lt; start \u0026lt;\u0026lt; \u0026#34;/\u0026#34; \u0026lt;\u0026lt; sz \u0026lt;\u0026lt; \u0026#34;, \u0026#34;; } }; ","permalink":"https://notes.0081800.xyz/notes/20210804071039-leetcode_40_combination_sum_ii/","summary":"tags: LeetCode source: https://leetcode.com/problems/combination-sum-ii/ LeetCode: 39. Combination Sum çš„è¿›é˜¶ã€‚å…ƒç´ ä¸åœ¨å”¯ä¸€ä¸”æ¯ä¸€ä¸ªå…ƒç´ åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚å¯¹ç»“æœè¿›è¡Œæ’åºç„¶åé€šè¿‡ set å¯¹ç»“æœè¿›è¡Œå»é‡ï¼š\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum2(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { sort(candidates.begin(), candidates.end()); backtracking(candidates, 0, 0, target); vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; r; for (auto t : res) { r.push_back(t); } return r; } private: set\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; map\u0026lt;int, bool\u0026gt; visited; void backtracking(vector\u0026lt;int\u0026gt;\u0026amp; condidates, int start, int n, int target) { if (n == target) { res.insert(track); return; } if (n \u0026gt; target) { return; } int c = 0; int sz = condidates.","title":"LeetCode: 40. Combination Sum II"},{"content":" tags: LeetCode source: https://leetcode.com/problems/combination-sum/ class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { backtracking(candidates, 0, target); return res; } private: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; void backtracking(vector\u0026lt;int\u0026gt; \u0026amp; candidates, int n, int target) { if (n == target) { res.push_back(track); return; } // this is new if (n \u0026gt; target) { return; } for (auto c : candidates) { track.push_back(c); backtracking(candidates, n + c, target); track.pop_back(); } } }; é—®é¢˜ï¼šä¼šæœ‰ä¸åŒé¡ºåºä½†æ˜¯å…ƒç´ ç›¸åŒçš„æ•°ç»„ï¼Œå¦‚ä½•å¿«é€Ÿé«˜æ•ˆçš„è¿›è¡Œè¿‡æ»¤ï¼Ÿ\n- [[2,2,3],[2,3,2],[3,2,2],[7]] + [[2,2,3],[7]] ä¸€ä¸ªæ¯”è¾ƒ tricky çš„æŠ€å·§ï¼Œå°±æ˜¯åˆ¤æ–­æœ€ç»ˆç»“æœæ˜¯ä¸æ˜¯å‡åºçš„ï¼Œä¸æ˜¯å°±æ”¾å¼ƒï¼Œå±…ç„¶å¯ä»¥é€šè¿‡ï¼š\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { backtracking(candidates, 0, target); return res; } private: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; void backtracking(vector\u0026lt;int\u0026gt; \u0026amp; candidates, int n, int target) { if (n == target) { int p = 0; for (auto t : track) { if (t \u0026lt; p) { return; } p = t; } res.push_back(track); return; } // this is new if (n \u0026gt; target) { return; } for (auto c : candidates) { track.push_back(c); backtracking(candidates, n + c, target); track.pop_back(); } } }; ","permalink":"https://notes.0081800.xyz/notes/20210804064757-leetcode_39_combination_sum/","summary":"tags: LeetCode source: https://leetcode.com/problems/combination-sum/ class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; combinationSum(vector\u0026lt;int\u0026gt;\u0026amp; candidates, int target) { backtracking(candidates, 0, target); return res; } private: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; void backtracking(vector\u0026lt;int\u0026gt; \u0026amp; candidates, int n, int target) { if (n == target) { res.push_back(track); return; } // this is new if (n \u0026gt; target) { return; } for (auto c : candidates) { track.push_back(c); backtracking(candidates, n + c, target); track.pop_back(); } } }; é—®é¢˜ï¼šä¼šæœ‰ä¸åŒé¡ºåºä½†æ˜¯å…ƒç´ ç›¸åŒçš„æ•°ç»„ï¼Œå¦‚ä½•å¿«é€Ÿé«˜æ•ˆçš„è¿›è¡Œè¿‡æ»¤ï¼Ÿ","title":"LeetCode: 39. Combination Sum"},{"content":" tags: LeetCode,backtracking source: https://leetcode.com/problems/n-queens-ii/ å‚è§ï¼šLeetCode: 51. N-Queens\n","permalink":"https://notes.0081800.xyz/notes/20210803074630-leetcode_52_n_queens_ii/","summary":"tags: LeetCode,backtracking source: https://leetcode.com/problems/n-queens-ii/ å‚è§ï¼šLeetCode: 51. N-Queens","title":"LeetCode: 52. N-Queens II"},{"content":" tags: Algorithm,Brute Force Approach ","permalink":"https://notes.0081800.xyz/notes/20210803065050-%E5%9B%9E%E6%BA%AF%E7%AE%97%E6%B3%95/","summary":" tags: Algorithm,Brute Force Approach ","title":"å›æº¯ç®—æ³•"},{"content":" tags: æŠ€æœ¯æ¦‚å¿µ åˆ›ä¸šå…¬å¸æœ‰ï¼šç§¯æ¢¦æ™ºèƒ½ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210802193422-%E5%B7%A5%E4%B8%9A%E4%BA%91/","summary":"tags: æŠ€æœ¯æ¦‚å¿µ åˆ›ä¸šå…¬å¸æœ‰ï¼šç§¯æ¢¦æ™ºèƒ½ã€‚","title":"å·¥ä¸šäº‘"},{"content":" tags: æŠ€æœ¯æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20210802193059-%E4%BA%91%E5%8E%9F%E7%94%9F/","summary":" tags: æŠ€æœ¯æ¦‚å¿µ ","title":"äº‘åŸç”Ÿ"},{"content":" tags: æŠ€æœ¯æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20210802193038-%E4%BA%91%E8%AE%A1%E7%AE%97/","summary":" tags: æŠ€æœ¯æ¦‚å¿µ ","title":"äº‘è®¡ç®—"},{"content":" tags: æŠ€æœ¯ ç›®å‰äº’è”ç½‘é¢†åŸŸé‡Œæ¯”è¾ƒçƒ­é—¨çš„æ¦‚å¿µå’Œæ–¹å‘ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210802193020-%E6%8A%80%E6%9C%AF%E6%A6%82%E5%BF%B5/","summary":"tags: æŠ€æœ¯ ç›®å‰äº’è”ç½‘é¢†åŸŸé‡Œæ¯”è¾ƒçƒ­é—¨çš„æ¦‚å¿µå’Œæ–¹å‘ã€‚","title":"æŠ€æœ¯æ¦‚å¿µ"},{"content":" tags: æŠ€æœ¯æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20210802193049-%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97/","summary":" tags: æŠ€æœ¯æ¦‚å¿µ ","title":"è¾¹ç¼˜è®¡ç®—"},{"content":" tags: LeetCode,backtracking source: https://leetcode.com/problems/n-queens/ ä¸€æ—¦ä¸€ä¸ª Queue è¢«æ”¾ç½®ï¼Œé‚£ä¹ˆæ¨ªè½´ã€çºµè½´ã€å¯¹è§’çº¿éƒ½ä¸å†å…è®¸æ”¾ç½®ã€‚æˆ‘ä»¬æŒ‰è¡Œè¿›è¡Œéå†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä»¥ä¸‹ä½ç½®æ˜¯å¦å·²ç»æ”¾ç½® Queueï¼š\nçºµè½´ï¼ˆColumnï¼‰ï¼šcols ä¸»å¯¹è§’çº¿ï¼ˆPositive Diagonalï¼‰ï¼šposDiag æ¬¡å¯¹è§’çº¿ï¼ˆNegative Diagonalï¼‰ï¼šnegDiag çºµè½´å¾ˆå¥½è®°å½•ï¼Œä½†æ˜¯å¯¹è§’çº¿æ¯”è¾ƒå›°éš¾ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¯¹è§’çº¿çš„ç‰¹å¾ï¼Œå‡è®¾æ¨ªè½´ä¸º r çºµè½´ä¸º c ï¼Œ\nr - c åœ¨æ­£å¯¹è§’çº¿æ˜¯ä¸€è‡´çš„ï¼š\næ–œå¯¹è§’çº¿ r + c æ˜¯ä¸€è‡´çš„:\nclass Solution { public: vector\u0026lt;vector\u0026lt;string\u0026gt;\u0026gt; solveNQueens(int n) { for (int r = 0; r \u0026lt; n; r++) { string col = string(n, \u0026#39;.\u0026#39;); track.push_back(col); } backtracking(0, n); return res; } private: set\u0026lt;int\u0026gt; cols; // c set\u0026lt;int\u0026gt; posDiag; // r - c set\u0026lt;int\u0026gt; negDiag; // r + c vector\u0026lt;vector\u0026lt;string\u0026gt;\u0026gt; res; vector\u0026lt;string\u0026gt; track; void backtracking(int r, int n) { if (r == n) { res.push_back(track); return; } for (int c = 0; c \u0026lt; n; c++) { if (cols.find(c) != cols.end() || posDiag.find(r - c) != posDiag.end() || negDiag.find(r + c) != negDiag.end()) { continue; } cols.insert(c); posDiag.insert(r - c); negDiag.insert(r + c); track[r][c] = \u0026#39;Q\u0026#39;; backtracking(r + 1, n); track[r][c] = \u0026#39;.\u0026#39;; cols.erase(c); posDiag.erase(r - c); negDiag.erase(r + c); } } }; ç»“æœ\n[[\u0026#34;.Q..\u0026#34;,\u0026#34;...Q\u0026#34;,\u0026#34;Q...\u0026#34;,\u0026#34;..Q.\u0026#34;],[\u0026#34;..Q.\u0026#34;,\u0026#34;Q...\u0026#34;,\u0026#34;...Q\u0026#34;,\u0026#34;.Q..\u0026#34;]] ä¸€äº›æƒ³æ˜ç™½çš„é—®é¢˜ï¼š\nä¸ºä»€ä¹ˆæ²¡æœ‰ Q å‡ºç°åœ¨ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„æƒ…å†µï¼Ÿå› ä¸ºæ²¡æœ‰èµ°åˆ°æœ€åä¸€è¡Œï¼ˆr == nï¼‰ æ€ä¹ˆå‡ºç°çš„ä¸¤ä¸ªç»“æœï¼Ÿè¿™ä¸ªè¦çœ‹å›æº¯è¿‡ç¨‹ã€‚ å›æº¯è¿‡ç¨‹ï¼š\nåœ¨æ¯ä¸€åˆ—æ”¾ç½® Q ä¹‹åéƒ½ä¼šé™·å…¥ä¸‹ä¸€è¡Œçš„é€’å½’ä¸­ã€‚ ç›¸å½“äºä»¥ç¬¬ä¸€è¡Œçš„æ¯ä¸€åˆ—è¿›è¡Œéå†ï¼Œä¾æ¬¡ç©·ä¸¾å‰©ä¸‹è¡Œçš„æ¯ä¸€åˆ—çš„å¯èƒ½æ€§ã€‚ ä¸€æ—¦ä¸€æ¡è·¯å¾„èµ°åˆ°å¤´ï¼ˆr == nï¼‰è¯´æ˜æœ‰ç»“æœï¼Œè¿˜æ˜¯å›æº¯è¿‡ç¨‹ï¼Œæ¥ç€è¿›è¡Œä¸‹ä¸€åˆ—çš„å¯èƒ½å›åˆ° 1. ç»§ç»­ ","permalink":"https://notes.0081800.xyz/notes/20210802073234-leetcode_51_n_queues/","summary":"tags: LeetCode,backtracking source: https://leetcode.com/problems/n-queens/ ä¸€æ—¦ä¸€ä¸ª Queue è¢«æ”¾ç½®ï¼Œé‚£ä¹ˆæ¨ªè½´ã€çºµè½´ã€å¯¹è§’çº¿éƒ½ä¸å†å…è®¸æ”¾ç½®ã€‚æˆ‘ä»¬æŒ‰è¡Œè¿›è¡Œéå†ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è·Ÿè¸ªä»¥ä¸‹ä½ç½®æ˜¯å¦å·²ç»æ”¾ç½® Queueï¼š\nçºµè½´ï¼ˆColumnï¼‰ï¼šcols ä¸»å¯¹è§’çº¿ï¼ˆPositive Diagonalï¼‰ï¼šposDiag æ¬¡å¯¹è§’çº¿ï¼ˆNegative Diagonalï¼‰ï¼šnegDiag çºµè½´å¾ˆå¥½è®°å½•ï¼Œä½†æ˜¯å¯¹è§’çº¿æ¯”è¾ƒå›°éš¾ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹å¯¹è§’çº¿çš„ç‰¹å¾ï¼Œå‡è®¾æ¨ªè½´ä¸º r çºµè½´ä¸º c ï¼Œ\nr - c åœ¨æ­£å¯¹è§’çº¿æ˜¯ä¸€è‡´çš„ï¼š\næ–œå¯¹è§’çº¿ r + c æ˜¯ä¸€è‡´çš„:\nclass Solution { public: vector\u0026lt;vector\u0026lt;string\u0026gt;\u0026gt; solveNQueens(int n) { for (int r = 0; r \u0026lt; n; r++) { string col = string(n, \u0026#39;.\u0026#39;); track.push_back(col); } backtracking(0, n); return res; } private: set\u0026lt;int\u0026gt; cols; // c set\u0026lt;int\u0026gt; posDiag; // r - c set\u0026lt;int\u0026gt; negDiag; // r + c vector\u0026lt;vector\u0026lt;string\u0026gt;\u0026gt; res; vector\u0026lt;string\u0026gt; track; void backtracking(int r, int n) { if (r == n) { res.","title":"LeetCode: 51. N-Queens"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯†,Paxos ","permalink":"https://notes.0081800.xyz/notes/20210731075851-multi_paxios/","summary":" tags: åˆ†å¸ƒå¼å…±è¯†,Paxos ","title":"Multi-Paxios"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯† ","permalink":"https://notes.0081800.xyz/notes/20210731075206-zab/","summary":" tags: åˆ†å¸ƒå¼å…±è¯† ","title":"Zab"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯†,åˆ†å¸ƒå¼ ","permalink":"https://notes.0081800.xyz/notes/20210731075140-paxos/","summary":" tags: åˆ†å¸ƒå¼å…±è¯†,åˆ†å¸ƒå¼ ","title":"Paxos"},{"content":" tags: å…±è¯†ç®—æ³•ï¼Œåˆ†å¸ƒå¼å…±è¯† ","permalink":"https://notes.0081800.xyz/notes/20210731075154-raft/","summary":" tags: å…±è¯†ç®—æ³•ï¼Œåˆ†å¸ƒå¼å…±è¯† ","title":"Raft"},{"content":" tags: Incompleteï¼Œåˆ†å¸ƒå¼ï¼Œå…±è¯†ç®—æ³• ","permalink":"https://notes.0081800.xyz/notes/20210731075128-vsr/","summary":" tags: Incompleteï¼Œåˆ†å¸ƒå¼ï¼Œå…±è¯†ç®—æ³• ","title":"VSR"},{"content":" tags: åˆ†å¸ƒå¼,Incomplete ","permalink":"https://notes.0081800.xyz/notes/20210728071508-%E9%93%BE%E5%BC%8F%E5%A4%8D%E5%88%B6/","summary":" tags: åˆ†å¸ƒå¼,Incomplete ","title":"é“¾å¼å¤åˆ¶"},{"content":"åˆ©ç”¨åº•å±‚æŒ‡ä»¤é›†å®ç°æ¯”è¾ƒè®¾ç½®ç­‰åŸå­æ“ä½œã€‚\nSee alsoï¼šhttps://zh.wikipedia.org/wiki/%E6%AF%94%E8%BE%83%E5%B9%B6%E4%BA%A4%E6%8D%A2\n","permalink":"https://notes.0081800.xyz/notes/20210728070407-%E6%AF%94%E8%BE%83_%E8%AE%BE%E7%BD%AE/","summary":"åˆ©ç”¨åº•å±‚æŒ‡ä»¤é›†å®ç°æ¯”è¾ƒè®¾ç½®ç­‰åŸå­æ“ä½œã€‚\nSee alsoï¼šhttps://zh.wikipedia.org/wiki/%E6%AF%94%E8%BE%83%E5%B9%B6%E4%BA%A4%E6%8D%A2","title":"æ¯”è¾ƒ-è®¾ç½®"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210727073548-%E5%85%A8%E5%BA%8F/","summary":"","title":"å…¨åº"},{"content":" tags: GDB,macOS macOS ä¸‹é€šè¿‡ GDB è°ƒè¯•ç¨‹åºä¼šå‡ºç°ï¼š\nUnable to find Mach task port for process-id 1375: (os/kern) failure (0x5). (please check gdb is codesigned - see taskgated(8)) éœ€è¦é€šè¿‡ Keychain Access Application åˆ›å»ºè¯ä¹¦ï¼š code-sign-cert\néœ€è¦å¯¹ gdb è¿›è¡Œç­¾åï¼Œé¦–å…ˆåˆ›å»º gdb-entitlement.xml ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.debugger\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;/dict\u0026gt; è¿è¡Œç­¾å\ncodesign --entitlements gdb-entitlement.xml -fs code-sign-cert $(which gdb) See also: PermissionsDarwinã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210726181021-macos_%E7%AD%BE%E5%90%8D_gdb/","summary":"tags: GDB,macOS macOS ä¸‹é€šè¿‡ GDB è°ƒè¯•ç¨‹åºä¼šå‡ºç°ï¼š\nUnable to find Mach task port for process-id 1375: (os/kern) failure (0x5). (please check gdb is codesigned - see taskgated(8)) éœ€è¦é€šè¿‡ Keychain Access Application åˆ›å»ºè¯ä¹¦ï¼š code-sign-cert\néœ€è¦å¯¹ gdb è¿›è¡Œç­¾åï¼Œé¦–å…ˆåˆ›å»º gdb-entitlement.xml ï¼š\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE plist PUBLIC \u0026#34;-//Apple//DTD PLIST 1.0//EN\u0026#34; \u0026#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd\u0026#34;\u0026gt; \u0026lt;plist version=\u0026#34;1.0\u0026#34;\u0026gt; \u0026lt;dict\u0026gt; \u0026lt;key\u0026gt;com.apple.security.cs.debugger\u0026lt;/key\u0026gt; \u0026lt;true/\u0026gt; \u0026lt;/dict\u0026gt; è¿è¡Œç­¾å\ncodesign --entitlements gdb-entitlement.xml -fs code-sign-cert $(which gdb) See also: PermissionsDarwinã€‚","title":"macOS ç­¾å GDB"},{"content":" tags: Translate,Rust,Tokio åŸæ–‡é“¾æ¥ï¼šUnderstanding Rust futures by going way too deepã€‚\nè¯‘è€…æ³¨ï¼šåŸæ–‡å¤§é‡çš„å¼•å…¥äº†æœ‰è¶£çš„å¯¹è¯ï¼Œè¿«äºæ’ç‰ˆé—®é¢˜è¿™é‡Œä¸è¿›è¡Œç¿»è¯‘ï¼Œå¿…è¦çš„å¯¹è¯é€šè¿‡å¼•ç”¨å—æ¥è§£é‡Šã€‚\næ·±å…¥ç†è§£ Rust future ç”¨ Rust futureï¼å°±æ˜¯è¿™ä¹ˆç®€å•ï¼ç›´åˆ°æˆ‘ä»¬å‘ç°å¹¶éå¦‚æ­¤ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆæ¢ç´¢ç®€å•çš„éƒ¨åˆ†ï¼Œç„¶åç»§ç»­æ¢ç´¢å›°éš¾éƒ¨åˆ†è€Œä¸æ˜¯ç­‰å®ƒæ…¢æ…¢é è¿‘æˆ‘ä»¬ã€‚\nèµ·æ­¥ Choo choo here comes the easy part ğŸš‚ğŸ’¨\næˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼š\n$ cargo new waytoodeep Created binary (application) `waytoodeep` package æˆ‘ä»¬éœ€è¦å®‰è£… cargo-edit å¦‚æœä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡çš„è¯ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥ cargo add ï¼š\n$ cargo install cargo-edit Updating crates.io index Downloaded cargo-edit v0.7.0 Downloaded 1 crate (57.6 KB) in 0.47s Ignored package `cargo-edit v0.7.0` is already installed, use --force to override å› ä¸º cargo-edit å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥ä½ å¯èƒ½å·²ç»å®‰è£…è¿‡å®ƒã€‚éƒ¨åˆ†è¯»è€…ä¼šæ„Ÿåˆ°å›°æƒ‘æ˜¯å› ä¸ºåƒ cargo new, cargo build, cargo test, cargo run ç­‰å­å‘½ä»¤éƒ½å†…ç½®åœ¨ cargo ä¸­ï¼Œ ä½†æ˜¯ cargo add æ²¡æœ‰ã€‚\nå®é™…ä¸Šï¼Œæœ‰ä¸€å¤§å †åƒè¿™æ ·çš„åŒ…ï¼Œå¦‚ cargo-hack,cargo-udeps,cargo-expand\u0026hellip;ç­‰ç­‰ã€‚\nç„¶åæˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªã€Œå¼‚æ­¥è¿è¡Œæ—¶ã€ï¼ˆasync runtimeï¼‰ï¼Œå› ä¸ºè¿™äº› future å¯¹è±¡ä¸ä¼šè½®è¯¢ï¼ˆpollï¼‰è‡ªå·±ã€‚ã€‚ã€‚ æˆ‘ä»¬æ¯«æ— ç†ç”±çš„é€‰æ‹© tokioï¼Œå”¯ä¸€çš„åŸå› æ˜¯ï¼šè¿‡å»å‡ ä¸ªæœˆæˆ‘ä¸€ç›´åœ¨ç”¨å®ƒã€‚\n$ cargo add tokio@1.9.0 --features full Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding tokio v1.9.0 to dependencies with features: [\u0026#34;full\u0026#34;] ç„¶åæˆ‘ä»¬ä¿®æ”¹ main å‡½æ•°ä½¿ç”¨ tokio é»˜è®¤æ‰§è¡Œå™¨ï¼ˆexecutorï¼‰ï¼ˆ cargo new ä¸ºæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ª main å‡½æ•°ï¼Œä½†æ˜¯è¿™é‡Œå¹¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼‰ï¼š\n// in `src/main.rs` #[tokio::main] async fn main() { println!(\u0026#34;Hello from a (so far completely unnecessary) async runtime\u0026#34;); } $ cargo run 3s 209ms Compiling waytoodeep v0.1.0 (/Users/wh/codes/rust/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 3.47s Running `target/debug/waytoodeep` Hello from a (so far completely unnecessary) async runtime é…·ï¼\næ¥ä¸‹æ¥è®©æˆ‘ä»¬æ·»åŠ å…¶ä»–ä¸€äº›æˆ‘å–œæ¬¢åœ¨æˆ‘çš„é¡¹ç›®ä¸­ä½¿ç”¨çš„å¥½ä¸œè¥¿ã€‚\né¦–å…ˆï¼Œå¯¹äºé”™è¯¯å¤„ç† - æˆ‘ä»¬ç¼–å†™ç¨‹åºå°±éœ€è¦å¤„ç†ä¸€å †ä¸åŒåº“é‡Œä¸åŒçš„é”™è¯¯ç±»å‹ï¼Œå¦‚æœèƒ½é€šè¿‡ä¸€ä¸ªç±»å‹ç»Ÿä¸€å®ƒä»¬å°±ä¼šéå¸¸æ•´æ´ã€‚\neyre å¯ä»¥èµ‹äºˆæˆ‘ä»¬è¿™äº›ï¼ˆå°±åƒ anyhow ï¼‰ï¼\nå¹¶ä¸”å› ä¸ºæˆ‘å–œæ¬¢æ¼‚äº®çš„é¢œè‰²æˆ‘å°†ä½¿ç”¨ color-eyreã€‚\n$ cargo add color-eyre@0.5.11 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding color-eyre v0.5.11 to dependencies ç°åœ¨æˆ‘ä»¬éœ€è¦å®‰è£… color-eyre ä½œä¸ºé»˜è®¤çš„å´©æºƒï¼ˆpanicï¼‰å¤„ç†å™¨ï¼Œæˆ‘æ‚„æ‚„ä¿®æ”¹äº†ä¸€äº›ç¯å¢ƒå˜é‡æ¥é»˜è®¤è¾“å‡ºè°ƒç”¨å †æ ˆï¼ˆbacktracksï¼‰ã€‚\nuse color_eyre::Report; #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; println!(\u0026#34;Hello from a (so far completely unnecessary) async runtime\u0026#34;); Ok(()) } fn setup() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { if std::env::var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;, \u0026#34;1\u0026#34;) } color_eyre::install()?; Ok(()) } $ cargo run Finished dev [unoptimized + debuginfo] target(s) in 0.02s Running `target/debug/waytoodeep` Hello from a (so far completely unnecessary) async runtime å¾ˆå¥½ï¼ç°åœ¨å¦‚æœæˆ‘ä»¬æŸå¤„å‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å®Œæ•´çš„å †æ ˆè·Ÿè¸ªï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š æœ€åï¼Œå› ä¸ºæˆ‘å–œæ¬¢ç»“æ„åŒ–æ—¥å¿—ï¼Œè®©æˆ‘ä»¬æ·»åŠ  tracing ç„¶åé€šè¿‡æ¼‚äº®çš„é¢œè‰²æ‰“å°å®ƒä»¬ï¼Œè®©æˆ‘ä»¬æ·»åŠ  tracing-subscriber.\n$ cargo add tracing@0.1.26 tracing-subscriber@0.2.19 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding tracing v0.1.26 to dependencies Adding tracing-subscriber v0.2.19 to dependencies æˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ª setup å‡½æ•°ï¼Œæ‰€ä»¥ç›´æ¥åœ¨é‚£é‡Œå®‰è£… tracing-subscriber.. ç„¶åæˆ‘ä»¬å°† println! æ”¹æˆ info! ï¼ ç„¶åï¼Œä¸ºäº†æ¼”ç¤ºå¦‚ä½•è®¾ç½®è®©æˆ‘ä»¬å†æ¬¡ä¿®æ”¹ä¸€äº›ç¯å¢ƒå˜é‡ï¼šå¯¹æ‰€æœ‰åŒ…ï¼ˆcratesï¼‰é»˜è®¤ info æ—¥å¿—çº§åˆ«ã€‚\nuse color_eyre::Report; use tracing::info; use tracing_subscriber::EnvFilter; #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Hello from a comfy nest we\u0026#39;ve made for ourselves\u0026#34;); Ok(()) } fn setup() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { if std::env::var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;, \u0026#34;1\u0026#34;) } color_eyre::install()?; if std::env::var(\u0026#34;RUST_LOG\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LOG\u0026#34;, \u0026#34;info\u0026#34;) } tracing_subscriber::fmt::fmt() .with_env_filter(EnvFilter::from_default_env()) .init(); Ok(()) } $ cargo run Finished dev [unoptimized + debuginfo] target(s) in 0.02s Running `target/debug/waytoodeep` Jul 25 17:03:46.993 INFO waytoodeep: Hello from a comfy nest we\u0026#39;ve made for ourselves å¥½äº†ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½åšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…äº†ã€‚\nåšä¸€äº›æœ‰ç”¨çš„äº‹æƒ… å½“å†³å®šåœ¨å’–å•¡é—´éš™é˜…è¯»å“ªä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œäººä»¬é€šå¸¸åŒæ—¶æ‰“å¼€å‡ ä¸ªç½‘ç«™ï¼Œç„¶åè¯»æœ€å…ˆåŠ è½½å‡ºæ¥çš„é‚£ä¸€ç¯‡ã€‚\näº‹å®å¦‚æ­¤ã€‚ä½ å¯ä»¥å¼•ç”¨æˆ‘çš„è¯ï¼Œè°ä¼šå»éªŒè¯å‘¢ï¼Ÿæ¯•ç«Ÿè¿™å¬èµ·æ¥éœ€è¦å¾ˆå¤šå·¥ä½œã€‚\næ‰€ä»¥è®©æˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªç¨‹åºåšç›¸åŒçš„äº‹æƒ…ã€‚\nè®©æˆ‘ä»¬å¼•å…¥ reqwest \u0026ndash; å°½ç®¡æˆ‘ä¸å–œæ¬¢å®ƒçš„ APIï¼Œä½†å®ƒä¼šå¾ˆå¥½çš„å®Œæˆæ¥ä¸‹æ¥çš„å·¥ä½œã€‚\nåŒæ—¶ï¼Œå› ä¸º screw OpenSSL æˆ‘ä»¬å°†æ ‡è®° reqwest ä½¿ç”¨ rustlsï¼š\n$ cargo add reqwest@0.11.4 --no-default-features --features rustls-tls Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding reqwest v0.11.4 to dependencies with features: [\u0026#34;rustls-tls\u0026#34;] æˆ‘ä»¬å‡†å¤‡å¥½å‘é€ä¸€ä¸ªè¯·æ±‚äº†ï¼\nuse color_eyre::Report; use tracing::info; use tracing_subscriber::EnvFilter; use reqwest::Client; #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Hello from a comfy nest we\u0026#39;ve made for ourselves\u0026#34;); let client = Client::new(); let url = \u0026#34;https://fasterthanli.me\u0026#34;; // this will turn non-200 HTTP status codes into rust errors, // so the first `?` propagates \u0026#34;we had a connection problem\u0026#34; and // the second `?` propagates \u0026#34;we had a chat with the server and they // were not pleased\u0026#34; let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } fn setup() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { if std::env::var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;, \u0026#34;1\u0026#34;) } color_eyre::install()?; if std::env::var(\u0026#34;RUST_LOG\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LOG\u0026#34;, \u0026#34;info\u0026#34;) } tracing_subscriber::fmt::fmt() .with_env_filter(EnvFilter::from_default_env()) .init(); Ok(()) } å‡ºå‘äº†ï¼\ncargo run Compiling waytoodeep v0.1.0 (/Users/wh/codes/rust/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 7.16s Running `target/debug/waytoodeep` Jul 26 16:50:57.778 INFO waytoodeep: Hello from a comfy nest we\u0026#39;ve made for ourselves Jul 26 16:50:59.090 INFO waytoodeep: Got a response! url=https://fasterthanli.me content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) è¿™å°±æ˜¯æˆ‘æ‰€è¯´çš„ã€Œç»“æ„åŒ–æ—¥å¿—ã€ã€‚å—¯ï¼Œå…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚è®©æˆ‘ä»¬çœ‹ä¸‹è¿™è¡Œä»£ç ï¼š\ninfo!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); æˆ‘ä»¬è¾“å‡ºæ¥ä¸€ä¸ªæ¶ˆæ¯ï¼š Got a response! ï¼Œä¸€ä¸ªåä¸º url çš„æ ‡ç­¾ï¼šå€¼ä¸ºå˜é‡ url çš„ Display æ ¼å¼ï¼Œ ä¸€ä¸ªåä¸º content_type çš„æ ‡ç­¾ï¼šå€¼ä¸ºè¡¨è¾¾å¼çš„ Debug æ ¼å¼ã€‚\nå°±æ˜¯è¿™ä¹ˆç®€å•ï¼ name = %value è¾“å‡º Display ï¼Œ name = ?value è¾“å‡º Debug ã€‚\nå½“ç„¶ï¼Œè¿˜æœ‰éå¸¸æ£’çš„è·¨åº¦ï¼ˆspansï¼‰ï¼Œé‡ç‚¹æ˜¯ä½ å¯ä»¥å°†å®ƒä»¬å‘é€åˆ° APMï¼ˆAppliation Performance Monitoringï¼‰ï¼Œæ¯”å¦‚ Datadog æˆ–è€… Honeycomb ç­‰ï¼Œä½†æ˜¯è¿™ä¸æ˜¯ä¸€ç¯‡å…³äºè·Ÿè¸ªçš„æ–‡ç« ã€‚\nä¸ºäº†ä¸¾ä¾‹è¯´æ˜ï¼Œå¦‚æœæˆ‘ä»¬å®‰è£…ä¸€ä¸ª JSON çš„ tracing subscriberï¼Œæˆ‘ä»¬å°†è·å¾—å¦‚ä¸‹å†…å®¹ï¼š\n$ cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 3.09s Running `target/debug/waytoodeep` {\u0026#34;timestamp\u0026#34;:\u0026#34;Jul 25 17:17:21.531\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;INFO\u0026#34;,\u0026#34;fields\u0026#34;:{\u0026#34;message\u0026#34;:\u0026#34;Hello from a comfy nest we\u0026#39;ve made for ourselves\u0026#34;},\u0026#34;target\u0026#34;:\u0026#34;waytoodeep\u0026#34;} {\u0026#34;timestamp\u0026#34;:\u0026#34;Jul 25 17:17:21.709\u0026#34;,\u0026#34;level\u0026#34;:\u0026#34;INFO\u0026#34;,\u0026#34;fields\u0026#34;:{\u0026#34;message\u0026#34;:\u0026#34;Got a response!\u0026#34;,\u0026#34;url\u0026#34;:\u0026#34;https://fasterthanli.me\u0026#34;,\u0026#34;content_type\u0026#34;:\u0026#34;Some(\\\u0026#34;text/html; charset=utf-8\\\u0026#34;)\u0026#34;},\u0026#34;target\u0026#34;:\u0026#34;waytoodeep\u0026#34;} è¿™åº”è¯¥è¶³ä»¥æ¿€èµ·ä½ çš„å…´è¶£ã€‚\nåŒæ—¶è·å–ä¸¤ä¸ªåœ°å€ ç°åœ¨è®©æˆ‘ä»¬è·å–ä¸¤ä¸ªåœ°å€ï¼š\npub const URL_1: \u0026amp;str = \u0026#34;https://fasterthanli.me/articles/whats-in-the-box\u0026#34;; pub const URL_2: \u0026amp;str = \u0026#34;https://fasterthanli.me/series/advent-of-code-2020/part-13\u0026#34;; ã€‚ã€‚ã€‚è¿™æ˜¯ä¸€ä¸ªå…¬å¹³çš„æ¯”è¾ƒã€‚ è¿™ä¸¤ç¯‡æ–‡ç« éƒ½æ‰˜ç®¡åœ¨æˆ‘è‡ªå·±çš„ç½‘ç«™ä¸Šï¼Œç»å¯¹ä¸æ˜¯ä¸ºäº†æ¨å¹¿ï¼Œè€Œæ˜¯ä¸ºäº†ä½¿è·å–æ—¶é—´å…·æœ‰å¯æ¯”æ€§ï¼Œå¹¶ä¸”ä»»ä¸€éƒ½æœ‰å¯èƒ½å…ˆåŠ è½½å®Œæˆï¼ˆå¹¶ä¸”ä¼šéšç€æ—¶é—´çš„æ¨ç§»éšæœºå˜åŒ–ï¼‰ã€‚\næˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥è·å–å†…å®¹ï¼š\nasync fn fetch_thing(client: \u0026amp;Client, url: \u0026amp;str) -\u0026gt; Result\u0026lt;(), Report\u0026gt; { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } å¹¶ä½¿ç”¨å®ƒï¼š\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Hello from a comfy nest we\u0026#39;ve made for ourselves\u0026#34;); let client = Client::new(); fetch_thing(\u0026amp;client, URL_1); fetch_thing(\u0026amp;client, URL_2); Ok(()) } ç„¶åè¿è¡Œå®ƒ:\n$ cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) warning: unused implementer of `Future` that must be used --\u0026gt; src/main.rs:15:5 | 15 | fetch_thing(\u0026amp;client, URL_1); | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ | = note: `#[warn(unused_must_use)]` on by default = note: futures do nothing unless you `.await` or poll them warning: unused implementer of `Future` that must be used --\u0026gt; src/main.rs:16:5 | 16 | fetch_thing(\u0026amp;client, URL_2); | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ | = note: futures do nothing unless you `.await` or poll them warning: 2 warnings emitted Finished dev [unoptimized + debuginfo] target(s) in 3.01s Running `target/debug/waytoodeep` Jul 25 17:26:31.571 INFO waytoodeep: Hello from a comfy nest we\u0026#39;ve made for ourselves å¥‡æ€ªçš„æ˜¯ï¼Œæ²¡æœ‰ä»»ä½•äº‹æƒ…å‘ç”Ÿã€‚\né»„è‰²çš„æ³¢æµªçº¿å’Œæ¼äººçš„ Rust è­¦å‘Šå·²ç»ç»™å‡ºäº†æç¤ºã€‚\nè®©æˆ‘ä»¬æ¥ä¿®å¤å®ƒï¼š\nfetch_thing(\u0026amp;client, URL_1).await?; fetch_thing(\u0026amp;client, URL_2).await?; $ cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 3.17s Running `target/debug/waytoodeep` Jul 25 17:27:29.768 INFO waytoodeep: Hello from a comfy nest we\u0026#39;ve made for ourselves Jul 25 17:27:29.891 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 17:27:29.974 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) æ‰€ä»¥ï¼Œç¬¬é›¶è¯¾ï¼šfuture å¯¹è±¡ä¸åšä»»ä½•äº‹æƒ…ç›´åˆ°å®ƒä»¬è¢«è½®è¯¢ï¼ˆpolledï¼‰ã€‚\nè¿™æ˜¯å› ä¸º future å¯¹è±¡å‡ ä¹å°±æ˜¯çŠ¶æ€ã€‚è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªï¼š\n// in `src/main.rs` mod dumb; // in `src/dumb.rs` use std::{ future::Future, pin::Pin, task::{Context, Poll}, }; use tracing::info; pub struct DumbFuture {} impl Future for DumbFuture { type Output = (); fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, _cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { info!(\u0026#34;Hello from a dumb future!\u0026#34;); Poll::Ready(()) } } // back in `src/main.rs` #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let fut = dumb::DumbFuture {}; Ok(()) } ä»¥ä¸Šï¼æˆ‘ä»¬å‡ ä¹å°±å®Œæˆäº†ï¼Œé™¤äº†æˆ‘ä»¬æ²¡æœ‰è¿›è¡Œ .await ã€‚\nè¿è¡Œå®ƒé™¤äº†æ‰“å°è­¦å‘Šä¸ä¼šæœ‰ä»»ä½•æ•ˆæœï¼š\n$ cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) warning: unused variable: `fut` --\u0026gt; src/main.rs:14:9 | 14 | let fut = dumb::DumbFuture {}; | ^^^ help: if this is intentional, prefix it with an underscore: `_fut` | = note: `#[warn(unused_variables)]` on by default warning: 1 warning emitted Finished dev [unoptimized + debuginfo] target(s) in 2.11s Running `target/debug/waytoodeep` å› ä¸ºæ€ä¹ˆå¯èƒ½ï¼Ÿæˆ‘ä»¬å­—é¢ä¸Šä»…ä»…æ„å»ºäº†ä¸€ä¸ªç»“æ„ä½“ã€‚ä¸€ä¸ªé›¶å¤§å°çš„ç»“æ„ä½“ã€‚\nå¦‚æœæˆ‘ä»¬è°ƒç”¨å®ƒçš„ .await ã€‚ã€‚ ç„¶åå½“æˆ‘ä»¬è¦æ±‚è¿è¡Œæ—¶è¿è¡Œå®ƒçš„äº‹ä»¶å¾ªç¯ç›´åˆ° future å¯¹è±¡è¢«è½®è¯¢ï¼ˆpolledï¼‰å¹¶ä¸”æœ€ç»ˆè¿”å› Poll::Ready ï¼ˆæˆ‘ä»¬çš„ä»£ç ç«‹å³è¿”å›ï¼‰ï¼š\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Building that dumb future...\u0026#34;); let fut = dumb::DumbFuture {}; info!(\u0026#34;Awaiting that dumb future...\u0026#34;); fut.await; info!(\u0026#34;Done awaiting that dumb future\u0026#34;); Ok(()) } $ cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 2.34s Running `target/debug/waytoodeep` Jul 25 17:37:09.261 INFO waytoodeep: Building that dumb future... Jul 25 17:37:09.261 INFO waytoodeep: Awaiting that dumb future... Jul 25 17:37:09.261 INFO waytoodeep::dumb: Hello from a dumb future! Jul 25 17:37:09.262 INFO waytoodeep: Done awaiting that dumb future è¿™é‡Œä¸ ECMAScript çš„ promise æœ‰ä¸€äº›ç•¥å¾®çš„åŒºåˆ«ï¼šå³ä½¿å®ƒä»¬å‹æ ¹æ²¡æœ‰è¢« await å…¶ä¸­åŒ…å«çš„å·¥ä½œä¾ç„¶ä¼šè¢«æ‰§è¡Œã€‚\nä½†æ˜¯ Rust çš„ future å¯¹è±¡ä»…ä»…æ˜¯æ— èŠçš„çŠ¶æ€æœºï¼Œå¦‚æœä½ æ•…æ„åˆ¶é€ éº»çƒ¦å°±å¯ä»¥ç†è§£è¿™ä¸ªæœºåˆ¶ï¼š\n// in `src/dumb.rs` impl Future for DumbFuture { type Output = (); fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, _cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { panic!(\u0026#34;Oh heck no\u0026#34;); } } $ RUST_BACKTRACE=1 cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 2.28s Running `target/debug/waytoodeep` Jul 25 17:41:18.956 INFO waytoodeep: Building that dumb future... Jul 25 17:41:18.956 INFO waytoodeep: Awaiting that dumb future... The application panicked (crashed). Message: Oh heck no Location: src/dumb.rs:14 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” BACKTRACE â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â‹® 6 frames hidden â‹® 7: \u0026lt;waytoodeep::dumb::DumbFuture as core::future::future::Future\u0026gt;::poll::h4a44780628f4c5f0 at /home/amos/ftl/waytoodeep/src/dumb.rs:14 8: waytoodeep::main::{{closure}}::h36de5a1f1f2a5c5b at /home/amos/ftl/waytoodeep/src/main.rs:17 9: \u0026lt;core::future::from_generator::GenFuture\u0026lt;T\u0026gt; as core::future::future::Future\u0026gt;::poll::h20a96e082c7a581e at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/future/mod.rs:80 10: tokio::park::thread::CachedParkThread::block_on::{{closure}}::hdf98cb3c7fdf3de4 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/park/thread.rs:263 11: tokio::coop::with_budget::{{closure}}::h6a86a24a246e220f at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:106 12: std::thread::local::LocalKey\u0026lt;T\u0026gt;::try_with::h2ce0ac27c85965b6 at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/thread/local.rs:376 13: std::thread::local::LocalKey\u0026lt;T\u0026gt;::with::hc449f38c9f65fb53 at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/thread/local.rs:352 14: tokio::coop::with_budget::h5db157bd1e95e0e8 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:99 15: tokio::coop::budget::h7b57383f1255ac24 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:76 16: tokio::park::thread::CachedParkThread::block_on::hece399485213b91c at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/park/thread.rs:263 17: tokio::runtime::enter::Enter::block_on::h89e9882e539e82d3 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/enter.rs:151 18: tokio::runtime::thread_pool::ThreadPool::block_on::h1a0186470c00ba70 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/thread_pool/mod.rs:71 19: tokio::runtime::Runtime::block_on::h7c21d6989b86d606 at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/mod.rs:452 20: waytoodeep::main::hb4dd5ffd46a5c032 at /home/amos/ftl/waytoodeep/src/main.rs:20 21: core::ops::function::FnOnce::call_once::hc1fcc87431f77d25 at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:227 â‹® 11 frames hidden â‹® Run with COLORBT_SHOW_HIDDEN=1 environment variable to disable frame filtering. Run with RUST_BACKTRACE=full to include source snippets. ä¸Šé¢å †æ ˆè·Ÿè¸ªå¦‚æœåŠ ä¸Šé¢œè‰²æ•ˆæœä¼šæ›´å¥½ï¼Œæ‰€ä»¥æˆ‘å¸Œæœ›ä½ åœ¨æœ¬åœ°åšäº†ç›¸åŒçš„å°è¯•ï¼Œå³ä½¿å¦‚æ­¤æˆ‘ä»¬ä¾ç„¶å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çœŸæ­£çš„ main å‡½æ•°åœ¨ 20 å¸§ï¼Œç„¶åå¾€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Runtime::block_on ã€ä¸€ä¸ªçº¿ç¨‹æ± çš„ä¸œè¥¿ã€ä¸€äº›æŒ‚èµ·ï¼ˆparkedï¼‰çš„çº¿ç¨‹ã€thread-localï¼ˆå…¶ä»– TLSï¼‰ã€ä¸€ä¸ª ç”Ÿæˆçš„ futureï¼ˆå¸§ 9 å’Œ 8ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ async fn main çš„æœ€ç»ˆç»“æœï¼‰ï¼Œæœ€åæ˜¯æˆ‘ä»¬çš„ DumbFuture poll æ–¹æ³•ï¼ˆå¸§ 7ï¼‰ã€‚\nå¸§ 6 åˆ° 1 å°±æ˜¯ panic æœºåˆ¶ï¼Œå†æ¬¡å®Œå…¨è¶…å‡ºæœ¬æ–‡è®¨è®ºçš„èŒƒå›´ã€‚\nä½†æ˜¯è¯·ç«™èµ·æ¥ï¼Œäº²çˆ±çš„è§‚ä¼—ï¼Œç”¨ä½ çš„æ‰‹è‡‚ç»•è¿‡è¿™ä¸ªè£…ç½®ï¼Œä»¥ç¡®ä¿æ²¡æœ‰éšœçœ¼æ³•ï¼Œæ²¡æœ‰éšè—çš„çº¿ï¼Œæ²¡æœ‰ã€‚ã€‚ã€‚\nã€‚ã€‚ã€‚æˆ‘è¦è¯´çš„æ˜¯å¯¹äºå¼‚æ­¥å †æ ˆè·Ÿè¸ªæ²¡æœ‰â€œç‰¹æ®Šå¤„ç†â€ï¼ˆspecial handlingï¼‰ã€‚å½“ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬å´©æºƒäº†ï¼Œä½†æ˜¯ä»…ä»…æ˜¯ Rustï¼Œæ“ä½œç³»ç»Ÿç”šè‡³ä¸çŸ¥é“æˆ‘å‡ ä¹é¿å…äº†ä¸€åœºç¾éš¾ã€‚\nä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ¶é€ æ›´å¤§çš„æ··ä¹±ï¼Œå¦‚æœæˆ‘ä»¬æ„¿æ„ä½¿ç”¨ unsafe ï¼š\nimpl Future for DumbFuture { type Output = (); fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, _cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { unsafe { *(0xF00D as *mut u64) = 0x0; } unreachable!(); // pinky promise } } ç„¶åå°±ä¸ä¼šæœ‰ä¸€äº›åˆ—çš„å´©æºƒå¤„ç†æ¥æ‹¯æ•‘æˆ‘ä»¬ï¼š\n$ RUST_BACKTRACE=1 cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 2.18s Running `target/debug/waytoodeep` Jul 25 17:46:53.926 INFO waytoodeep: Building that dumb future... Jul 25 17:46:53.926 INFO waytoodeep: Awaiting that dumb future... zsh: segmentation fault (core dumped) RUST_BACKTRACE=1 cargo run ä½†æ˜¯ GDB å¯ä»¥ï¼š\n$ cargo build \u0026amp;\u0026amp; gdb --quiet --args ./target/debug/waytoodeep Finished dev [unoptimized + debuginfo] target(s) in 0.04s Reading symbols from ./target/debug/waytoodeep... warning: Missing auto-load script at offset 0 in section .debug_gdb_scripts of file /home/amos/ftl/waytoodeep/target/debug/waytoodeep. Use `info auto-load python-scripts [REGEXP]\u0026#39; to list them. (gdb) r Starting program: /home/amos/ftl/waytoodeep/target/debug/waytoodeep [Thread debugging using libthread_db enabled] Using host libthread_db library \u0026#34;/lib/x86_64-linux-gnu/libthread_db.so.1\u0026#34;. [New Thread 0x7ffff7c28700 (LWP 129418)] [New Thread 0x7ffff7a27700 (LWP 129419)] [New Thread 0x7ffff7826700 (LWP 129420)] [New Thread 0x7ffff7625700 (LWP 129421)] [New Thread 0x7ffff7424700 (LWP 129422)] [New Thread 0x7ffff7223700 (LWP 129423)] [New Thread 0x7ffff7022700 (LWP 129424)] [New Thread 0x7ffff6e1e700 (LWP 129425)] [New Thread 0x7ffff6c1a700 (LWP 129426)] [New Thread 0x7ffff6a16700 (LWP 129427)] [New Thread 0x7ffff6812700 (LWP 129428)] [New Thread 0x7ffff660e700 (LWP 129429)] [New Thread 0x7ffff640a700 (LWP 129430)] [New Thread 0x7ffff6206700 (LWP 129431)] [New Thread 0x7ffff6002700 (LWP 129432)] Jul 25 17:47:13.278 INFO waytoodeep: Building that dumb future... Jul 25 17:47:13.279 INFO waytoodeep: Awaiting that dumb future... Thread 1 \u0026#34;waytoodeep\u0026#34; received signal SIGSEGV, Segmentation fault. \u0026lt;waytoodeep::dumb::DumbFuture as core::future::future::Future\u0026gt;::poll (self=..., _cx=0x7fffffffd690) at src/dumb.rs:15 15 *(0xF00D as *mut u64) = 0x0; (gdb) bt #0 \u0026lt;waytoodeep::dumb::DumbFuture as core::future::future::Future\u0026gt;::poll (self=..., _cx=0x7fffffffd690) at src/dumb.rs:15 #1 0x00005555555ab3a3 in waytoodeep::main::{{closure}} () at src/main.rs:17 #2 0x00005555555adb29 in \u0026lt;core::future::from_generator::GenFuture\u0026lt;T\u0026gt; as core::future::future::Future\u0026gt;::poll (self=..., cx=0x7fffffffd690) at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/future/mod.rs:80 #3 0x00005555555adaa0 in tokio::park::thread::CachedParkThread::block_on::{{closure}} () at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/park/thread.rs:263 #4 0x00005555555b1742 in tokio::coop::with_budget::{{closure}} (cell=0x7ffff7c2c412) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:106 #5 0x00005555555a9f58 in std::thread::local::LocalKey\u0026lt;T\u0026gt;::try_with (self=0x555555925fc0, f=...) at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/thread/local.rs:376 #6 0x00005555555a9e3d in std::thread::local::LocalKey\u0026lt;T\u0026gt;::with (self=0x555555925fc0, f=...) at /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/thread/local.rs:352 #7 0x00005555555ad7c8 in tokio::coop::with_budget (budget=..., f=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:99 #8 tokio::coop::budget (f=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/coop.rs:76 #9 tokio::park::thread::CachedParkThread::block_on (self=0x7fffffffd7a0, f=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/park/thread.rs:263 #10 0x00005555555abcc9 in tokio::runtime::enter::Enter::block_on (self=0x7fffffffd7f0, f=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/enter.rs:151 #11 0x00005555555acf2e in tokio::runtime::thread_pool::ThreadPool::block_on (self=0x7fffffffd908, future=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/thread_pool/mod.rs:71 #12 0x00005555555b0dfd in tokio::runtime::Runtime::block_on (self=0x7fffffffd900, future=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.9.0/src/runtime/mod.rs:452 #13 0x00005555555aa807 in waytoodeep::main () at src/main.rs:20 (gdb) æˆ‘ä»¬å†æ¬¡ä¸¢å¤±äº†é«˜äº®é¢œè‰²ï¼Œè¿™é‡Œå¯ä»¥çœ‹ä¸€ä¸‹ï¼š è¯‘æ³¨ï¼šæˆ‘åœ¨æœ¬åœ°ç¯å¢ƒå¹¶æ²¡æœ‰é€šè¿‡ GDB å¤ç°å¸¦é«˜äº®çš„å †æ ˆè·Ÿè¸ªï¼Œåè€Œæ˜¯é€šè¿‡ LLDB å¯ä»¥çœ‹åˆ°é«˜äº®çš„å †æ ˆè·Ÿè¸ªã€‚\næ˜¯ä¸æ˜¯å¾ˆæ¼‚äº®ï¼Ÿ\nç°åœ¨è®©æˆ‘ä»¬å›åˆ°æ­£å¸¸æœ‰ç”¨çš„ä»£ç ï¼Œç§»é™¤æ‰€æœ‰å…³äºè‡ªå·±å®ç°çš„ future ä»£ç ï¼š src/dumb.rs å’Œ mod dumb ã€‚å¹¶ä½¿ç”¨ä¸€ä¸ªè·å– future æ›¿ä»£ï¼š\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Building that fetch future...\u0026#34;); let client = Client::new(); let fut = fetch_thing(\u0026amp;client, URL_1); info!(\u0026#34;Awaiting that fetch future...\u0026#34;); fut.await?; info!(\u0026#34;Done awaiting that fetch future\u0026#34;); Ok(()) } $ RUST_BACKTRACE=1 cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 2.99s Running `target/debug/waytoodeep` Jul 25 17:51:49.281 INFO waytoodeep: Building that fetch future... Jul 25 17:51:49.282 INFO waytoodeep: Awaiting that fetch future... Jul 25 17:51:49.437 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 17:51:49.438 INFO waytoodeep: Done awaiting that fetch future æœ‰ä¸¤ç§æ–¹å¼è€ƒè™‘æˆ‘ä»¬çš„å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯è¯­æ³•ç³–å±‚ï¼šä¹Ÿå°±æ˜¯ async fn ï¼š\nasync fn fetch_thing(client: \u0026amp;Client, url: \u0026amp;str) -\u0026gt; Result\u0026lt;(), Report\u0026gt; { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } ç„¶åæ˜¯æ ¸å¿ƒå®ç°å±‚ï¼šä¸€ä¸ªæ™®é€šçš„ fn ä»…ç”¨æ¥è¿”å›ä¸€ä¸ª future å¯¹è±¡ï¼š\nuse std::future::Future; fn fetch_thing\u0026lt;\u0026#39;a\u0026gt;( client: \u0026amp;\u0026#39;a Client, url: \u0026amp;\u0026#39;a str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;a { async move { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } } ç”±äºå€Ÿç”¨ client å’Œ url ï¼Œæ‰€ä»¥ Future å¯¹è±¡çš„å­˜æ´»æ—¶é—´ä¸èƒ½è¶…è¿‡ä¸¤è€…ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¼šå°†ä¸Šé¢ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‘½åä¸º 'a ï¼Œ å¹¶ä¸”è¿”å›çš„å€¼ä¹Ÿæ˜¯ä»»æ„å®ç°äº† Future ï¼ˆé€šè¿‡ Output ï¼‰åŒæ—¶ç”Ÿå‘½å‘¨æœŸä¹Ÿæ˜¯ 'a ã€‚\næ•´ä¸ª async move {} å¿«ä¹Ÿä»…ä»…æ˜¯â€œæ„å»ºçŠ¶æ€â€ \u0026ndash; ç­‰äºä¸€ä¸ªå®ç°äº† Future çš„ç±»å‹ã€‚\næˆ‘ä»¬åªæ˜¯æ— æ³•å‘½åå®ƒã€‚\næˆ‘ä»¬åªèƒ½å°½é‡è·å–å®ƒçš„æè¿°ï¼š\nfn type_name_of\u0026lt;T\u0026gt;(_: \u0026amp;T) -\u0026gt; \u0026amp;\u0026#39;static str { std::any::type_name::\u0026lt;T\u0026gt;() } // in main #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Building that fetch future...\u0026#34;); let client = Client::new(); let fut = fetch_thing(\u0026amp;client, URL_1); info!( type_name = type_name_of(\u0026amp;fut), \u0026#34;That fetch future has a type..\u0026#34; ); info!(\u0026#34;Awaiting that fetch future...\u0026#34;); fut.await?; info!(\u0026#34;Done awaiting that fetch future\u0026#34;); Ok(()) } $ cargo run Finished dev [unoptimized + debuginfo] target(s) in 0.05s Running `target/debug/waytoodeep` Jul 25 18:00:39.774 INFO waytoodeep: Building that fetch future... Jul 25 18:00:39.775 INFO waytoodeep: That fetch future has a type.. type_name=\u0026#34;core::future::from_generator::GenFuture\u0026lt;waytoodeep::fetch_thing::{{closure}}\u0026gt;\u0026#34; Jul 25 18:00:39.775 INFO waytoodeep: Awaiting that fetch future... Jul 25 18:00:39.882 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:00:39.882 INFO waytoodeep: Done awaiting that fetch future ã€‚ã€‚ã€‚ä½†æ˜¯ç­‰ç­‰ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨äº† async è¯­æ³•æ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ç”Ÿæˆçš„ç±»å‹ã€‚æŸç§æ„ä¹‰ä¸Šæˆ‘ä»¬æ— æ³•å‘½åå®ƒä¹Ÿå°±æ„å‘³è¿™æˆ‘ä»¬æ— æ³•ç»‘å®šè¿™ä¸ªå¯¹è±¡ï¼Œæˆ–è€…ç¼–å†™ä¸€ä¸ªå‡½æ•°ä»…ä»…æ¥å—è¯¥ç±»å‹ã€‚\nä¸ºäº†è®©æˆ‘ä»¬è‡ªå·±ç›¸ä¿¡ future å¯¹è±¡åœ¨æˆ‘ä»¬çœŸæ­£è½®è¯¢å®ƒä¹‹å‰å®ƒä¸ä¼šåšä»»ä½•å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€ reqwest çš„è°ƒè¯•æ—¥å¿—ï¼š\n$ RUST_LOG=info,reqwest=debug cargo run Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 3.07s Running `target/debug/waytoodeep` Jul 25 18:05:07.384 INFO waytoodeep: Building that fetch future... Jul 25 18:05:07.385 INFO waytoodeep: That fetch future has a type.. type_name=\u0026#34;core::future::from_generator::GenFuture\u0026lt;waytoodeep::fetch_thing::{{closure}}\u0026gt;\u0026#34; Jul 25 18:05:07.385 INFO waytoodeep: Awaiting that fetch future... Jul 25 18:05:07.385 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:05:07.503 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/articles/whats-in-the-box Jul 25 18:05:07.503 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:05:07.503 INFO waytoodeep: Done awaiting that fetch future ç”šè‡³å¯¹äºæ¯ä¸€ä¸ªåŒ…ï¼ˆcrateï¼‰ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡ç›‘å¬ hyper å’Œ h2 æ¥è§‚å¯Ÿï¼š\n$ RUST_LOG=debug cargo run Finished dev [unoptimized + debuginfo] target(s) in 0.04s Running `target/debug/waytoodeep` Jul 25 18:05:59.973 INFO waytoodeep: Building that fetch future... Jul 25 18:05:59.973 INFO waytoodeep: That fetch future has a type.. type_name=\u0026#34;core::future::from_generator::GenFuture\u0026lt;waytoodeep::fetch_thing::{{closure}}\u0026gt;\u0026#34; Jul 25 18:05:59.973 INFO waytoodeep: Awaiting that fetch future... Jul 25 18:05:59.974 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:05:59.974 DEBUG hyper::client::connect::dns: resolving host=\u0026#34;fasterthanli.me\u0026#34; Jul 25 18:05:59.989 DEBUG hyper::client::connect::http: connecting to 172.67.196.144:443 Jul 25 18:06:00.000 DEBUG hyper::client::connect::http: connected to 172.67.196.144:443 Jul 25 18:06:00.000 DEBUG rustls::client::hs: No cached session for DNSNameRef(\u0026#34;fasterthanli.me\u0026#34;) Jul 25 18:06:00.000 DEBUG rustls::client::hs: Not resuming any session Jul 25 18:06:00.016 DEBUG rustls::client::hs: Using ciphersuite TLS13_CHACHA20_POLY1305_SHA256 Jul 25 18:06:00.016 DEBUG rustls::client::tls13: Not resuming Jul 25 18:06:00.017 DEBUG rustls::client::tls13: TLS1.3 encrypted extensions: [ServerNameAck, Protocols([PayloadU8([104, 50])])] Jul 25 18:06:00.017 DEBUG rustls::client::hs: ALPN protocol is Some(b\u0026#34;h2\u0026#34;) Jul 25 18:06:00.018 DEBUG h2::client: binding client connection Jul 25 18:06:00.018 DEBUG h2::client: client connection bound Jul 25 18:06:00.018 DEBUG h2::codec::framed_write: send frame=Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 } Jul 25 18:06:00.019 DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=WindowUpdate { stream_id: StreamId(0), size_increment: 5177345 } Jul 25 18:06:00.019 DEBUG hyper::client::pool: pooling idle connection for (\u0026#34;https\u0026#34;, fasterthanli.me) Jul 25 18:06:00.020 DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Headers { stream_id: StreamId(1), flags: (0x5: END_HEADERS | END_STREAM) } Jul 25 18:06:00.029 DEBUG Connection{peer=Client}: rustls::client::tls13: Ticket saved Jul 25 18:06:00.029 DEBUG Connection{peer=Client}: rustls::client::tls13: Ticket saved Jul 25 18:06:00.029 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x0), max_concurrent_streams: 256, initial_window_size: 65536, max_frame_size: 16777215 } Jul 25 18:06:00.030 DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Settings { flags: (0x1: ACK) } Jul 25 18:06:00.030 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=WindowUpdate { stream_id: StreamId(0), size_increment: 2147418112 } Jul 25 18:06:00.041 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Settings { flags: (0x1: ACK) } Jul 25 18:06:00.041 DEBUG Connection{peer=Client}: h2::proto::settings: received settings ACK; applying Settings { flags: (0x0), enable_push: 0, initial_window_size: 2097152, max_frame_size: 16384 } Jul 25 18:06:00.120 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Headers { stream_id: StreamId(1), flags: (0x4: END_HEADERS) } Jul 25 18:06:00.120 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) } Jul 25 18:06:00.121 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/articles/whats-in-the-box Jul 25 18:06:00.121 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:06:00.121 INFO waytoodeep: Done awaiting that fetch future Jul 25 18:06:00.121 DEBUG Connection{peer=Client}: h2::codec::framed_read: received frame=Data { stream_id: StreamId(1) } Jul 25 18:06:00.122 DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=Reset { stream_id: StreamId(1), error_code: CANCEL } Jul 25 18:06:00.122 DEBUG Connection{peer=Client}: h2::codec::framed_write: send frame=GoAway { error_code: NO_ERROR, last_stream_id: StreamId(0) } Jul 25 18:06:00.122 DEBUG Connection{peer=Client}: h2::proto::connection: Connection::poll; connection error error=NO_ERROR Jul 25 18:06:00.122 DEBUG Connection{peer=Client}: rustls::session: Sending warning alert CloseNotify ä¸Šé¢å‡ºç°äº† rustlsï¼Œå¹¶ä¸”ä½¿ç”¨äº† TLS 1.3ï¼Œä½œè€…åšè¿‡ä¸€æœŸè§†é¢‘ä»‹ç»è¿‡ TLS 1.3ã€‚\nè¿™äº›åº”è¯¥è¶³å¤Ÿè¯´æœä½ ï¼Œé™¤éä½ åªç›¸ä¿¡å†…æ ¸æ‰€è¯´çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬çœ‹çœ‹è°ƒç”¨å †æ ˆåªä¸ºäº†æ›´åŠ ç¡®å®šã€‚\næˆ‘ä»¬åœ¨ await future å¯¹è±¡ä¹‹å‰å¢åŠ ä¸€ç§’é’Ÿçš„ä¼‘çœ ï¼š\nuse tokio::time::sleep; use std::time::Duration; #[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Building that fetch future...\u0026#34;); let client = Client::new(); let fut = fetch_thing(\u0026amp;client, URL_1); info!(\u0026#34;Sleeping for a bit...\u0026#34;); sleep(Duration::from_secs(1)).await; info!(\u0026#34;Awaiting that fetch future...\u0026#34;); fut.await?; info!(\u0026#34;Done awaiting that fetch future\u0026#34;); Ok(()) } $ cargo build \u0026amp;\u0026amp; strace -e \u0026#39;connect\u0026#39; ./target/debug/waytoodeep Compiling waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) Finished dev [unoptimized + debuginfo] target(s) in 3.13s Jul 25 18:09:36.595 INFO waytoodeep: Building that fetch future... Jul 25 18:09:36.596 INFO waytoodeep: Sleeping for a bit... Jul 25 18:09:37.599 INFO waytoodeep: Awaiting that fetch future... connect(9, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) Jul 25 18:09:37.720 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:09:37.721 INFO waytoodeep: Done awaiting that fetch future +++ exited with 0 +++ å†æ¬¡å¼ºè°ƒï¼Œé™„ä¸Šä¼šè®©æ˜¾è‘—æé«˜ä¸Šé¢ä¿¡æ¯çš„å¯è¯»æ€§ï¼Œå¦‚æœä¸è®©æˆ‘é€‰æ‹©å®ƒä»¬çš„è¯æˆ‘æ˜¯éå¸¸å–œæ¬¢é«˜äº®çš„ã€‚æˆ‘æœ¬åœ°çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š ç”±äº tracing-subscriber é»˜è®¤æ ¼å¼ä¼šè¾“å‡ºæ—¶é—´æˆ³ï¼Œå¯ä»¥çœ‹åˆ°ç¨‹åºä¼‘çœ äº†1åˆ†é’Ÿï¼ˆå¤–åŠ 3æ¯«ç§’ï¼‰ï¼Œè€Œä¸”åªæœ‰æˆ‘ä»¬çœŸæ­£è°ƒç”¨ await æ—¶æˆ‘ä»¬çš„ç¨‹åºæ‰ä¼šå¼€å§‹è¿æ¥åˆ°æ‰˜ç®¡æ–‡ç« çš„ CDN èŠ‚ç‚¹ã€‚\nå¥½äº†ï¼è®©æˆ‘ä»¬å†æ¬¡å°è¯•æ‹‰å–ä¸¤ç¯‡æ–‡ç« ï¼š\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); let fut1 = fetch_thing(\u0026amp;client, URL_1); let fut2 = fetch_thing(\u0026amp;client, URL_2); fut1.await?; fut2.await?; Ok(()) } å†æ¬¡æ£€æŸ¥æ—¥å¿—ï¼š\n$ RUST_LOG=info,reqwest=debug cargo run --quiet Jul 25 18:31:47.396 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:31:47.536 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/articles/whats-in-the-box Jul 25 18:31:47.537 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:31:47.627 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/series/advent-of-code-2020/part-13 Jul 25 18:31:47.627 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) éå¸¸æœ‰è¶£ã€‚ä»è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œ reqwest ä¸ºä¸¤ä¸ªè¯·æ±‚å¤ç”¨äº†ç›¸åŒçš„è¿æ¥ã€‚æˆ‘ä¼šè¿™ä¹ˆè¯´æ˜¯å› æˆ‘åªçœ‹åˆ°äº†ä¸€è¡Œ reqwest::connect æ—¥å¿—ã€‚\nè®©æˆ‘ä»¬å¿«é€Ÿé€šè¿‡ strace æ£€æŸ¥ä¸€ä¸‹ï¼š\n$ cargo build --quiet \u0026amp;\u0026amp; strace -e \u0026#39;connect\u0026#39; ./target/debug/waytoodeep \u0026gt; /dev/null connect(9, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;172.67.196.144\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) +++ exited with 0 +++ ç°åœ¨å¯ä»¥ç¡®è®¤äº†ï¼Œåªæœ‰ä¸€æ¬¡è¿æ¥ã€‚\nä½†æ˜¯ï¼Œç¬¬ä¸€ä¸ªè¯·æ±‚å®Œæˆåæ‰å¼€å§‹äº†ç¬¬äºŒä¸ªè¯·æ±‚ã€‚ç¬¬ä¸€ä¸ªè€—è´¹äº† 536-396 = 140 æ¯«ç§’ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªè€—è´¹äº† 627-537 = 90 æ¯«ç§’ï¼\nEmmmï¼Œç°åœ¨æˆ‘ä»¬è¿è¡Œæ„å»ºçš„æ˜¯ debug ç‰ˆæœ¬ä¸æ˜¯å—ï¼Ÿ\nè¿™æ˜¯çœŸçš„ã€‚æˆ‘ç¡®ä¿¡æˆ‘ä»¬é¢ä¸´çš„æ˜¯ IO å¯†é›†å‹ï¼Œè€Œä¸æ˜¯ CPU å¯†é›†å‹ã€‚\ndebug ç‰ˆæœ¬çš„æ„å»ºç»å¯¹æœ‰ä¸€äº›é¢å¤–çš„å¼€é”€ï¼Œä½†æ˜¯æˆ‘æ€€ç–‘è¿™é‡Œå®ƒä¸ä¼šå¤ªå½±å“å»¶è¿Ÿã€‚æ— è®ºå¦‚ä½•ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹ï¼š ï¼ˆæ³¨æ„ \u0026ndash;releaseï¼‰\n$ RUST_LOG=info,reqwest=debug cargo run --quiet --release Jul 25 18:34:59.211 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:34:59.343 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/articles/whats-in-the-box Jul 25 18:34:59.343 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:34:59.427 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/series/advent-of-code-2020/part-13 Jul 25 18:34:59.427 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) æˆ‘ä»¬è®¡ç®—ä¸€ä¸‹å»¶è¿Ÿ 343-211 = 132ms ï¼Œ 427-343 = 84ms ã€‚\nå‡ æ¯«ç§’çš„å·®å¼‚å¯èƒ½çš„è§£é‡Šæ˜¯é‚»å±…æ‰“å¼€äº†ä¸€ä¸ª YouTube è§†é¢‘å¯¼è‡´æ— çº¿ç”µæ³¢çˆ†å‘ï¼Œä»è€Œå¯¼è‡´å†²çªï¼ˆ802.11 æ²¡æœ‰ç©ºä¸­æµé‡æ§åˆ¶ï¼Œå…¨æ°‘è‡ªç”±ï¼ˆfree-for-allï¼‰ï¼‰å’Œé‡ä¼ ã€‚\næˆ–è€…å¦å¤–ä¸€ç™¾ä¸‡ä¸ªåŸå› ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ç»§ç»­åˆ†æçš„åŸå› ã€‚\nè®©æˆ‘ä»¬å›åˆ°æ–‡ç« çš„ä¸»é¢˜ã€‚\nç­‰å¾…ç¬¬ä¸€ä¸ªå®Œæˆ æ˜¯çš„ï¼ç­‰å¾…ç¬¬ä¸€ä¸ªå®Œæˆã€‚æ‰€ä»¥æˆ‘ä»¬å¦‚ä½•è®©ç¨‹åºåŒæ—¶è¯·æ±‚ä¸¤ä¸ªï¼Ÿ\nå…¶å®æœ‰ä¸€å¤§å †æ–¹å¼ï¼\nä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªæ‰§è¡Œå™¨ä¸Šæ‰§è¡Œï¼ˆ spawn ï¼‰è¿™äº› future å¯¹è±¡ï¼Œç„¶åä¼‘çœ ä¸€ç§’é’Ÿã€‚1 ç§’é’Ÿè¶³å¤Ÿäº†å§ï¼Ÿ\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); let fut1 = fetch_thing(\u0026amp;client, URL_1); tokio::spawn(fut1); let fut2 = fetch_thing(\u0026amp;client, URL_2); tokio::spawn(fut2); tokio::time::sleep(Duration::from_secs(1)).await; Ok(()) } $ RUST_LOG=info,reqwest=debug cargo run --quiet --release error[E0597]: `client` does not live long enough --\u0026gt; src/main.rs:17:28 | 17 | let fut1 = fetch_thing(\u0026amp;client, URL_1); | ------------^^^^^^^-------- | | | | | borrowed value does not live long enough | argument requires that `client` is borrowed for `\u0026#39;static` ... 25 | } | - `client` dropped here while still borrowed error: aborting due to previous error For more information about this error, try `rustc --explain E0597`. error: could not compile `waytoodeep` To learn more, run the command again with --verbose. é¢ï¼Œé™¤éæˆ‘ä»¬ä¸å¯ä»¥ã€‚ä¸å¯ä»¥æ˜¯å› ä¸ºã€‚ã€‚ã€‚\næˆ‘ä»¬å°†ã€Œfuture å¯¹è±¡äº¤ç»™æ‰§è¡Œå™¨æ‰§è¡Œã€å¹¶å°† future å¯¹è±¡è½¬äº¤ç»™æ‰§è¡Œå™¨ï¼Œå¯¹å§ï¼Ÿæˆ‘ä»¬è½¬ç§»äº†å®ƒå’Œå®ƒçš„å†…å®¹çš„æ‰€æœ‰æƒã€‚\nç„¶åå³ä½¿æˆ‘ä»¬ä¸å¯¹å…¶è¿›è¡Œ await ï¼Œfuture å¯¹è±¡å› ä¸ºæ˜¯ã€Œæ‰§è¡Œå™¨éœ€è¦åšã€çš„ä¸€éƒ¨åˆ†ä¾ç„¶ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥å³ä½¿æˆ‘ä»¬ä» main è¿”å› future å¯¹è±¡ä¹Ÿä¼šè¢«è½®è¯¢ï¼ˆpolledï¼‰ã€‚\nä½†æ˜¯å¦‚æœæˆ‘ä»¬ä» main è¿”å›ï¼Œåˆ™æ•´ä¸ªç¨‹åºéƒ½ä¼šé€€å‡ºã€‚\nè¿™é‡Œä¹Ÿå¯ä»¥æ˜¯ä»»ä½•å‡½æ•°ï¼ˆè¿™é‡Œæ˜¯ main ï¼‰ã€‚é‡è¦çš„æ˜¯å¦‚æœå‡½æ•°è¿”å›äº†ä½†æ˜¯ future å¯¹è±¡å€Ÿç”¨äº†éƒ¨åˆ†æ•°æ®å°†æ— æ³•é€šè¿‡å€Ÿç”¨æ£€æŸ¥å™¨ã€‚\nè¿™è®©æˆ‘å¾ˆé«˜å…´ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬ä¸ä¼šæ„å¤–è®¿é—®åˆ°ä¸€äº›è¢«é‡Šæ”¾çš„èµ„æºï¼šUAFã€‚\nè¿™é‡Œæˆ‘ä»¬çš„ä¾‹å­æ²¡æœ‰å®Œæˆã€‚\næ‰€ä»¥ã€‚ã€‚ã€‚æˆ‘ä»¬éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœ fetch_thing è¿”å›çš„ future å¯¹è±¡æ˜¯ 'static çš„å‘¢ï¼Ÿæˆ–è€…å®ƒä¸å€Ÿç”¨ä»»ä½•ä¸œè¥¿ï¼Ÿ\nç¨‹åºç°åœ¨çœ‹èµ·æ¥å¦‚ä¸‹ï¼š\nuse std::future::Future; fn fetch_thing\u0026lt;\u0026#39;a\u0026gt;( client: \u0026amp;\u0026#39;a Client, url: \u0026amp;\u0026#39;a str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;a { async move { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } } å¥½å§ï¼Œä¹‹å‰æˆ‘ä»¬ç”¨äº† async fn ï¼Œä½†æ˜¯ä¸ºäº†æ›´åŠ æ·±å…¥çš„ç†è§£ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æ”¾å¼ƒæ¼‚äº®çš„è¯­æ³•ã€‚\nä½†æ˜¯å¹¸è¿çš„æ˜¯ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼š\nfn fetch_thing\u0026lt;\u0026#39;a\u0026gt;( client: \u0026amp;\u0026#39;a Client, url: \u0026amp;\u0026#39;a str, // ğŸ‘‡ ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;static {} ä½†æ˜¯æˆ‘ä»¬å€Ÿç”¨äº† client å’Œ url æˆ‘ä»¬å¿…é¡»é¿å…è¿™ä¸ªé—®é¢˜ã€‚\nå› ä¸º url æœ¬èº«å°±æ˜¯å¸¸é‡ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è§£å†³ï¼š\npub const URL_1: \u0026amp;str = \u0026#34;https://fasterthanli.me/articles/whats-in-the-box\u0026#34;; pub const URL_2: \u0026amp;str = \u0026#34;https://fasterthanli.me/series/advent-of-code-2020/part-13\u0026#34;; å®ƒä»¬æœ¬èº«å°±æ˜¯ 'static ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è°ƒæ•´éœ€è¦ 'static å°±è¡Œ:\nfn fetch_thing\u0026lt;\u0026#39;a\u0026gt;( client: \u0026amp;\u0026#39;a Client, // ğŸ‘‡ url: \u0026amp;\u0026#39;static str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;static {} éå¸¸å¥½ï¼è§£å†³äº†ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè¿˜å‰©ä¸‹ä¸€ä¸ªã€‚\næˆ‘ä»¬å¯ä»¥è¦æ±‚ client çš„ç”Ÿå‘½å‘¨æœŸä¸º 'static ã€‚ç”±äºå®ƒæ˜¯ä¸€ä¸ª Client çš„å¼•ç”¨ï¼Œæ„å‘³ç€ Cleint æœ¬èº«ä¹Ÿéœ€è¦æ˜¯ 'static ç”Ÿå‘½å‘¨æœŸã€‚\nfn fetch_thing( // ğŸ‘‡ client: \u0026amp;\u0026#39;static Client, url: \u0026amp;\u0026#39;static str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;static {} ç”±äºå®ƒè¢« main æ‰€æœ‰ï¼Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ï¼Œå¯ä»¥ã€‚ã€‚ã€‚å¯ä»¥æ³„æ¼å®ƒï¼š\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); let leaked_client = Box::leak(Box::new(client)); let fut1 = fetch_thing(leaked_client, URL_1); let fut2 = fetch_thing(leaked_client, URL_2); tokio::spawn(fut1); tokio::spawn(fut2); tokio::time::sleep(Duration::from_secs(1)).await; Ok(()) } å®Œç¾ï¼æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„é—®é¢˜äº†ã€‚\nä»…ä»…å°†æ‰€æœ‰ä¸œè¥¿æ³„æ¼å°±è¡Œã€‚çœ‹åˆ°æ²¡ï¼Ÿä½ ä¸éœ€è¦ Cï¼\n$ RUST_LOG=info,reqwest=debug cargo run --quiet --release Jul 25 18:54:53.614 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:54:53.614 DEBUG reqwest::connect: starting new connection: https://fasterthanli.me/ Jul 25 18:54:53.708 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/articles/whats-in-the-box Jul 25 18:54:53.708 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:54:53.733 DEBUG reqwest::async_impl::client: response \u0026#39;200 OK\u0026#39; for https://fasterthanli.me/series/advent-of-code-2020/part-13 Jul 25 18:54:53.733 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) éï½ï½å¸¸æœ‰è¶£ï¼\næˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚è‚¯å®šæ˜¯å¹¶å‘çš„å‘å‡ºå»äº†ï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥çŸ¥é“æ˜¯å› ä¸ºä»æˆ‘çš„ç¬”è®°æœ¬ä¸Šè¯·æ±‚æˆ‘çš„ç½‘ç«™å¤§æ¦‚è€—æ—¶ 80ms åˆ° 140ms ä¹‹é—´ï¼Œä½†æ˜¯åœ¨æ—¥å¿—ä¸­æˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªå“åº”ä¹‹é—´åªæœ‰ ~25ms çš„é—´éš”ã€‚\næˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ° reqwest æœ‰è¿æ¥æ± æœºåˆ¶ï¼šåŒæ—¶åˆ›å»ºäº†ä¸¤ä¸ªè¿æ¥ã€‚å¯èƒ½æ˜¯å› ä¸ºæˆ‘ä»¬å¼€å§‹ç¬¬äºŒä¸ªè¿æ¥çš„æ—¶å€™ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è¿æ¥è¿˜æ²¡æœ‰å»ºç«‹å®Œæˆã€‚\nä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬é€šè¿‡ strace å¯ä»¥çœ‹åˆ°ï¼š\n$ cargo build --quiet --release \u0026amp;\u0026amp; strace -e \u0026#39;connect\u0026#39; ./target/release/waytoodeep Jul 25 18:58:16.425 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 18:58:16.443 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) +++ exited with 0 +++ ã€‚ã€‚ã€‚ä¸¤ä¸ª connect è°ƒç”¨ï¼å¦‚æˆ‘æ‰€æ–™ï¼\nè°¬è®ºï¼šä¸€ä¸ª connect è°ƒç”¨éƒ½æ²¡çœ‹åˆ°ï¼Ÿå› ä¸º Rust æ„å»º HTTP/2 è¯·æ±‚çš„æ—¶å€™ç”šè‡³éƒ½éœ€è¦å»ºç«‹ TCP è¿æ¥ã€‚çœŸæ˜¯é©å‘½æ€§çš„ï¼\nè¿™å½“ç„¶ä¸æ˜¯çœŸçš„ã€‚å¯èƒ½åœ¨å…¶ä»–çº¿ç¨‹æ‰§è¡Œäº†ï¼Ÿä¹Ÿè®¸ strace é»˜è®¤ä»…è·Ÿè¸ªäº†ä¸»çº¿ç¨‹ï¼Ÿ\nå•Šï¼Œå¯¹äº†ï¼Œ -f å¯ä»¥è·Ÿè¸ªæ‰€æœ‰ã€Œå­è¿›ç¨‹ã€ï¼Œå°±åƒå¤§å®¶çŸ¥é“çš„é‚£æ · Linux çº¿ç¨‹ä»…ä»…æ˜¯æŠ«äº†ä»¶é£è¡£çš„è¿›ç¨‹ï¼ˆæˆ–è€…å…¶ä»–æ–¹å¼ï¼‰ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ï¼š\n$ cargo build --quiet --release \u0026amp;\u0026amp; strace -f -e \u0026#39;connect\u0026#39; ./target/release/waytoodeep strace: Process 154612 attached strace: Process 154613 attached strace: Process 154614 attached strace: Process 154615 attached strace: Process 154616 attached strace: Process 154617 attached strace: Process 154618 attached strace: Process 154619 attached strace: Process 154620 attached strace: Process 154621 attached strace: Process 154622 attached strace: Process 154623 attached strace: Process 154624 attached strace: Process 154625 attached strace: Process 154626 attached strace: Process 154627 attached strace: Process 154628 attached [pid 154627] connect(9, {sa_family=AF_UNIX, sun_path=\u0026#34;/var/run/nscd/socket\u0026#34;}, 110) = -1 ENOENT (No such file or directory) [pid 154628] connect(10, {sa_family=AF_UNIX, sun_path=\u0026#34;/var/run/nscd/socket\u0026#34;}, 110) = -1 ENOENT (No such file or directory) [pid 154627] connect(9, {sa_family=AF_UNIX, sun_path=\u0026#34;/var/run/nscd/socket\u0026#34;}, 110) = -1 ENOENT (No such file or directory) [pid 154628] connect(9, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(\u0026#34;127.0.0.53\u0026#34;)}, 16) = 0 [pid 154627] connect(10, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(\u0026#34;127.0.0.53\u0026#34;)}, 16) = 0 [pid 154627] connect(9, {sa_family=AF_INET6, sin6_port=htons(0), sin6_flowinfo=htonl(0), inet_pton(AF_INET6, \u0026#34;2606:4700:3034::6815:5ca9\u0026#34;, \u0026amp;sin6_addr), sin6_scope_id=0}, 28) = -1 ENETUNREACH (Network is unreachable) [pid 154627] connect(9, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154627] connect(9, {sa_family=AF_INET6, sin6_port=htons(0), sin6_flowinfo=htonl(0), inet_pton(AF_INET6, \u0026#34;2606:4700:3031::ac43:c490\u0026#34;, \u0026amp;sin6_addr), sin6_scope_id=0}, 28) = -1 ENETUNREACH (Network is unreachable) [pid 154627] connect(9, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154627] connect(9, {sa_family=AF_INET, sin_port=htons(0), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = 0 [pid 154627] connect(9, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154627] connect(9, {sa_family=AF_INET, sin_port=htons(0), sin_addr=inet_addr(\u0026#34;172.67.196.144\u0026#34;)}, 16) = 0 [pid 154628] connect(10, {sa_family=AF_INET6, sin6_port=htons(0), sin6_flowinfo=htonl(0), inet_pton(AF_INET6, \u0026#34;2606:4700:3034::6815:5ca9\u0026#34;, \u0026amp;sin6_addr), sin6_scope_id=0}, 28) = -1 ENETUNREACH (Network is unreachable) [pid 154628] connect(10, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154628] connect(10, {sa_family=AF_INET6, sin6_port=htons(0), sin6_flowinfo=htonl(0), inet_pton(AF_INET6, \u0026#34;2606:4700:3031::ac43:c490\u0026#34;, \u0026amp;sin6_addr), sin6_scope_id=0}, 28) = -1 ENETUNREACH (Network is unreachable) [pid 154628] connect(10, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154628] connect(10, {sa_family=AF_INET, sin_port=htons(0), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = 0 [pid 154628] connect(10, {sa_family=AF_UNSPEC, sa_data=\u0026#34;\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0026#34;}, 16) = 0 [pid 154628] connect(10, {sa_family=AF_INET, sin_port=htons(0), sin_addr=inet_addr(\u0026#34;172.67.196.144\u0026#34;)}, 16) = 0 [pid 154625] connect(9, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) [pid 154626] connect(10, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) Jul 25 19:00:53.862 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:00:53.880 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) [pid 154628] +++ exited with 0 +++ [pid 154627] +++ exited with 0 +++ [pid 154618] +++ exited with 0 +++ [pid 154614] +++ exited with 0 +++ [pid 154612] +++ exited with 0 +++ [pid 154619] +++ exited with 0 +++ [pid 154617] +++ exited with 0 +++ [pid 154613] +++ exited with 0 +++ [pid 154615] +++ exited with 0 +++ [pid 154623] +++ exited with 0 +++ [pid 154616] +++ exited with 0 +++ [pid 154624] +++ exited with 0 +++ [pid 154621] +++ exited with 0 +++ [pid 154622] +++ exited with 0 +++ [pid 154626] +++ exited with 0 +++ [pid 154620] +++ exited with 0 +++ [pid 154625] +++ exited with 0 +++ +++ exited with 0 +++shell å“‡å“¦ï¼Œä¸€å¤§å † connect ã€‚\næ‰€ä»¥ç¨‹åºé¦–å…ˆå°è¯•è¿æ¥ nscd å› ä¸ºæ˜¾ç„¶æˆ‘ä»¬ä¾ç„¶ç”Ÿæ´»åœ¨ 90 å¹´ä»£ï¼š\n[pid 154627] connect(9, {sa_family=AF_UNIX, sun_path=\u0026#34;/var/run/nscd/socket\u0026#34;}, 110) = -1 ENOENT (No such file or directory) ã€‚ã€‚ã€‚å¹¸å¥½æˆ‘çš„ç³»ç»Ÿæ²¡æœ‰å®ƒï¼Œæ‰€ä»¥å®ƒç»§ç»­é€šè¿‡ /etc/resolv.conf æŸ¥è¯¢ DNSï¼š\n[pid 154628] connect(9, {sa_family=AF_INET, sin_port=htons(53), sin_addr=inet_addr(\u0026#34;127.0.0.53\u0026#34;)}, 16) = 0 ç„¶åæœ€ç»ˆè·å¾—ä¸€äº› Cloudflare çš„ IP åœ°å€ï¼Œå¦‚ 172.67.196.144 å’Œ 104.21.92.169 ã€‚è¿˜æœ‰ä¸€äº› IPv6 ç›¸å…³çš„ï¼Œç”±äºæˆ‘ç¦ç”¨äº† IPv6 æ‰€ä»¥å¹¶æ²¡æœ‰å·¥ä½œï¼š\n[pid 154627] connect(9, {sa_family=AF_INET6, sin6_port=htons(0), sin6_flowinfo=htonl(0), inet_pton(AF_INET6, \u0026#34;2606:4700:3034::6815:5ca9\u0026#34;, \u0026amp;sin6_addr), sin6_scope_id=0}, 28) = -1 ENETUNREACH (Network is unreachable) ç„¶åç»ˆäºç¨‹åºå†³å®šä½¿ç”¨ IPv4 çš„åœ°å€ 104.21.92.169 å»æ„å»ºè¯·æ±‚ï¼ŒåŒæ—¶æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™äº›éƒ½æ˜¯éé˜»å¡çš„ï¼ˆnon-blockingï¼‰è¿æ¥ï¼Œå› ä¸º connect è¿”å› -1 è€Œä¸æ˜¯ 0 è¡¨ç¤ºã€Œæ­£åœ¨è¿æ¥ã€æ­£åœ¨è¿æ¥ã€ç¨åå›æ¥æ£€æŸ¥ã€ã€‚\n[pid 154625] connect(9, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) [pid 154626] connect(10, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;104.21.92.169\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) å¥½äº†ï¼æ‰€ä»¥å¿½ç•¥ DNS çš„è¯æˆ‘ä»¬çœ‹åˆ°äº†ä¸¤ä¸ªè¿æ¥ã€‚\nåŒæ—¶æˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›çº¿ç¨‹ã€‚\nè¿™å°±æ˜¯ Rust å¼‚æ­¥çš„å·¥ä½œæ–¹å¼ï¼Ÿæˆ‘ä»¬åªæ˜¯ç”¨äº†ä¸€äº›çº¿ç¨‹ï¼Ÿè¿™ä¹Ÿå°±æ˜¯å®ƒèƒ½åœ¨ã€Œåå°è¿è¡Œã€çš„åŸå› ï¼Ÿ\nåœ¨æˆ‘ä»¬å›ç­”è¿™äº›é—®é¢˜å‰ï¼Œè®©æˆ‘ä»¬å…ˆè°ƒæ•´æˆ‘ä»¬çš„ä»£ç çœŸæ­£çš„å»ç­‰å¾… future å®Œæˆï¼Œè€Œä¸æ˜¯éšæ„çš„ä¼‘çœ  1 ç§’é’Ÿã€‚\n#[tokio::main] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); let leaked_client = Box::leak(Box::new(client)); let fut1 = fetch_thing(leaked_client, URL_1); let fut2 = fetch_thing(leaked_client, URL_2); let handle1 = tokio::spawn(fut1); let handle2 = tokio::spawn(fut2); handle1.await.unwrap()?; handle2.await.unwrap()?; Ok(()) } ç­‰ç­‰ï¼Œæˆ‘ä»¬è¿™ä¸åˆå›åˆ°åŸç‚¹å—ï¼Ÿç­‰å¾…ç¬¬ä¸€ä¸ªè¯·æ±‚å®Œæˆï¼Œç„¶åæ‰å¼€å§‹ç¬¬äºŒä¸ªè¯·æ±‚ã€‚\nå½“ç„¶ä¸æ˜¯ï¼æˆ‘ä»¬è¿è¡Œå‡ æ¬¡å°±å¯ä»¥çœ‹åˆ°ï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 19:11:07.934 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:11:07.958 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 19:11:08.676 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:11:08.680 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 19:11:09.325 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:11:09.338 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 19:11:10.134 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:11:10.144 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) ã€‚ã€‚ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹â€œwhats-in-the-boxâ€èƒœå‡ºäº†ï¼ˆå®ƒç¡®å®å…ˆå¼€å§‹ï¼‰ï¼Œä½†æ˜¯â€œadvent-of-code-2020â€ä¹Ÿé¦–å…ˆå®Œæˆäº†å‡ æ¬¡ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚\nè°¬è®ºï¼šä¹Ÿå°±æ˜¯è¯´å› ä¸ºæœ‰çº¿ç¨‹è¯·æ±‚è¢«å¹¶è¡Œï¼ˆparallelï¼‰çš„æ‰§è¡Œäº†ã€‚\nä¸æ˜¯çš„ã€‚ä½†æ˜¯ä¸è¦ç›¸ä¿¡æˆ‘ï¼Œè®©æˆ‘ä»¬ç»§ç»­æ·±å…¥ã€‚\nä¸æ˜¯å› ä¸ºçº¿ç¨‹ è®©æˆ‘ä»¬é€šè¿‡ GDB è¿è¡Œæˆ‘ä»¬çš„å°ç¨‹åºï¼Œå¤§éƒ¨åˆ†åŸå› æ˜¯æˆ‘è¿˜æ²¡æœ‰å¯¹ LLDB å½¢æˆè‚Œè‚‰è®°å¿†ï¼Œæˆ‘ç›¸ä¿¡è¿™æ˜¯æ°´åˆ°æ¸ æˆçš„äº‹ã€‚\n$ cargo build --quiet \u0026amp;\u0026amp; gdb --quiet --args ./target/debug/waytoodeep Reading symbols from ./target/debug/waytoodeep... warning: Missing auto-load script at offset 0 in section .debug_gdb_scripts of file /home/amos/ftl/waytoodeep/target/debug/waytoodeep. Use `info auto-load python-scripts [REGEXP]\u0026#39; to list them. (gdb) ä¸€åˆ‡å°±ç»ªï¼\nåœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰å…ˆè®¾ç½®ä¸€ä¸‹æ–­ç‚¹ã€‚æˆ‘è¯´äº†æ–­ç‚¹ï¼Ÿåº”è¯¥æ˜¯æ•æ‰ç‚¹ï¼ˆcatchpointï¼‰ã€‚æˆ‘ä¸çŸ¥é“å‚ä¸æ„é€  HTTP/2 è¯·æ±‚çš„æ‰€æœ‰å‡½æ•°åï¼Œä½†æ˜¯æˆ‘çŸ¥é“ connect å¯¹åº”çš„ç³»ç»Ÿè°ƒç”¨ï¼ˆsyscallï¼‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬éœ€è¦æ‰“æ–­ç‚¹çš„åœ°æ–¹ï¼Œæˆ–è€…æ•æ‰ï¼ˆcatchï¼‰ã€‚\n(gdb) catch syscall connect Catchpoint 1 (syscall \u0026#39;connect\u0026#39; [42]) ç°åœ¨æˆ‘ä»¬å¼€å§‹ï¼\n$ Starting program: /home/amos/ftl/waytoodeep/target/debug/waytoodeep [Thread debugging using libthread_db enabled] Using host libthread_db library \u0026#34;/lib/x86_64-linux-gnu/libthread_db.so.1\u0026#34;. [New Thread 0x7ffff7c28700 (LWP 158945)] [New Thread 0x7ffff7a27700 (LWP 158946)] [New Thread 0x7fffef826700 (LWP 158947)] [New Thread 0x7ffff7826700 (LWP 158948)] [New Thread 0x7ffff7625700 (LWP 158949)] [New Thread 0x7ffff7424700 (LWP 158950)] [New Thread 0x7ffff7223700 (LWP 158951)] [New Thread 0x7ffff701f700 (LWP 158952)] [New Thread 0x7ffff6e1e700 (LWP 158953)] [New Thread 0x7ffff6c1a700 (LWP 158954)] [New Thread 0x7ffff6a16700 (LWP 158955)] [New Thread 0x7ffff680f700 (LWP 158956)] [New Thread 0x7ffff660e700 (LWP 158957)] [New Thread 0x7ffff640a700 (LWP 158958)] [New Thread 0x7ffff6206700 (LWP 158959)] [New Thread 0x7ffff5f4b700 (LWP 158960)] [New Thread 0x7ffff5d4a700 (LWP 158961)] [Switching to Thread 0x7ffff5f4b700 (LWP 158960)] Thread 17 \u0026#34;tokio-runtime-w\u0026#34; hit Catchpoint 1 (call to syscall connect), 0x00007ffff7d5033b in __libc_connect (fd=fd@entry=9, addr=..., addr@entry=..., len=len@entry=110) at ../sysdeps/unix/sysv/linux/connect.c:26 26 ../sysdeps/unix/sysv/linux/connect.c: No such file or directory. (gdb) ä¸é”™ä¸é”™ï¼ŒçœŸå¿«ï¼æˆ‘ä»¬åœåœ¨äº†åä¸º tokio-runtime-w çš„ Thread 17 ä¸­ï¼Œå› ä¸ºæˆ‘çŒœå…¶ä»–æ‰€æœ‰å­—æ¯éƒ½è¢«ä½¿ç”¨äº†ã€‚\nw æ„å‘³è¿™ worker ï¼Œå¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€å¤©ç”¨ Unix å°±ä¼šçŸ¥é“ä»€ä¹ˆè¿™ä¹ˆç®€å†™ã€‚\nå¥½çš„ï¼Œ Thread 17 ï¼Œé‚£ä¹ˆå…¶ä»–çº¿ç¨‹åœ¨åšä»€ä¹ˆå‘¢ï¼Ÿ\n(gdb) info threads Id Target Id Frame 1 Thread 0x7ffff7c2c6c0 (LWP 158941) \u0026#34;waytoodeep\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 2 Thread 0x7ffff7c28700 (LWP 158945) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 3 Thread 0x7ffff7a27700 (LWP 158946) \u0026#34;tokio-runtime-w\u0026#34; 0x00007ffff7d4f5ce in epoll_wait (epfd=3, events=0x555556338b60, maxevents=1024, timeout=-1) at ../sysdeps/unix/sysv/linux/epoll_wait.c:30 4 Thread 0x7fffef826700 (LWP 158947) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 5 Thread 0x7ffff7826700 (LWP 158948) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 6 Thread 0x7ffff7625700 (LWP 158949) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 7 Thread 0x7ffff7424700 (LWP 158950) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 8 Thread 0x7ffff7223700 (LWP 158951) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 9 Thread 0x7ffff701f700 (LWP 158952) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 10 Thread 0x7ffff6e1e700 (LWP 158953) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 11 Thread 0x7ffff6c1a700 (LWP 158954) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 12 Thread 0x7ffff6a16700 (LWP 158955) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 13 Thread 0x7ffff680f700 (LWP 158956) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 14 Thread 0x7ffff660e700 (LWP 158957) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 15 Thread 0x7ffff640a700 (LWP 158958) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 16 Thread 0x7ffff6206700 (LWP 158959) \u0026#34;tokio-runtime-w\u0026#34; syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 *17 Thread 0x7ffff5f4b700 (LWP 158960) \u0026#34;tokio-runtime-w\u0026#34; 0x00007ffff7d5033b in __libc_connect (fd=fd@entry=9, addr=..., addr@entry=..., len=len@entry=110) at ../sysdeps/unix/sysv/linux/connect.c:26 18 Thread 0x7ffff5d4a700 (LWP 158961) \u0026#34;tokio-runtime-w\u0026#34; 0x00007ffff7d48a46 in __GI___mmap64 (offset=0, fd=-1, flags=16418, prot=0, len=134217728, addr=0x0) at ../sysdeps/unix/sysv/linux/mmap64.c:59 é¢ã€‚\næˆ‘ä»¬å¯ä»¥è·å¾—æ›´å¤šçš„æ ˆå¸§ï¼Ÿ\n(gdb) thread apply all backtrace 2 Thread 18 (Thread 0x7ffff5d4a700 (LWP 158961)): #0 0x00007ffff7d48a46 in __GI___mmap64 (offset=0, fd=-1, flags=16418, prot=0, len=134217728, addr=0x0) at ../sysdeps/unix/sysv/linux/mmap64.c:59 #1 __GI___mmap64 (addr=addr@entry=0x0, len=len@entry=134217728, prot=prot@entry=0, flags=flags@entry=16418, fd=fd@entry=-1, offset=offset@entry=0) at ../sysdeps/unix/sysv/linux/mmap64.c:47 (More stack frames follow...) Thread 17 (Thread 0x7ffff5f4b700 (LWP 158960)): #0 0x00007ffff7d5033b in __libc_connect (fd=fd@entry=9, addr=..., addr@entry=..., len=len@entry=110) at ../sysdeps/unix/sysv/linux/connect.c:26 #1 0x00007ffff7d8b713 in open_socket (type=type@entry=GETFDHST, key=key@entry=0x7ffff7de5ccb \u0026#34;hosts\u0026#34;, keylen=keylen@entry=6) at nscd_helper.c:185 (More stack frames follow...) Thread 16 (Thread 0x7ffff6206700 (LWP 158959)): #0 syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 #1 0x0000555555b9f1d1 in parking_lot_core::thread_parker::imp::ThreadParker::futex_wait (self=0x7ffff6206498, ts=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/parking_lot_core-0.8.3/src/thread_parker/linux.rs:112 (More stack frames follow...) Thread 15 (Thread 0x7ffff640a700 (LWP 158958)): #0 syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 #1 0x0000555555b9f1d1 in parking_lot_core::thread_parker::imp::ThreadParker::futex_wait (self=0x7ffff640a498, ts=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/parking_lot_core-0.8.3/src/thread_parker/linux.rs:112 (More stack frames follow...) Thread 14 (Thread 0x7ffff660e700 (LWP 158957)): #0 syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 #1 0x0000555555b9f1d1 in parking_lot_core::thread_parker::imp::ThreadParker::futex_wait (self=0x7ffff660e498, ts=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/parking_lot_core-0.8.3/src/thread_parker/linux.rs:112 (More stack frames follow...) Thread 13 (Thread 0x7ffff680f700 (LWP 158956)): #0 syscall () at ../sysdeps/unix/sysv/linux/x86_64/syscall.S:38 #1 0x0000555555b9f1d1 in parking_lot_core::thread_parker::imp::ThreadParker::futex_wait (self=0x7ffff680f498, ts=...) at /home/amos/.cargo/registry/src/github.com-1ecc6299db9ec823/parking_lot_core-0.8.3/src/thread_parker/linux.rs:112 (More stack frames follow...) é¢ã€‚å¤§éƒ¨åˆ†éƒ½æ˜¯æŒ‚èµ·çš„ã€‚ä¹Ÿå°±æ˜¯ç©ºé—²çš„ã€‚æ›´å‡†ç¡®çš„æ˜¯å®ƒä»¬åœ¨ç­‰å¾…å·¥ä½œã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ htop æŸ¥çœ‹è¿™äº›æ‰€æœ‰çº¿ç¨‹ï¼Œæˆ‘çŸ¥é“æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†ï¼Œä½†æ˜¯æˆ‘ä»…ä»…æ˜¯è§‰å¾— htop å¾ˆæ£’ã€‚æ„Ÿè°¢ Hishamï¼ æ‰€ä»¥ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ä¸€äº›çº¿ç¨‹ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€äº› CPU æ ¸å¿ƒã€‚å¯èƒ½æ˜¯ä¸€ä¸ª CPU æ ¸å¿ƒä¸€ä¸ªçº¿ç¨‹ï¼Ÿ æ˜¯çš„ã€‚ç„¶åè¿˜æœ‰ä¸€äº›é˜»å¡çš„çº¿ç¨‹ï¼Œæ­£å¦‚æˆ‘ä»¬ä»ä¸Šé¢ strace è¾“å‡ºçœ‹åˆ°çš„é‚£æ ·ï¼Œ å®ƒä¼šè¿›è¡Œä¸€äº›é˜»å¡çš„ connect è°ƒç”¨å»æŸ¥è¯¢ DNSï¼ˆå®é™…æ˜¯ glibc åœ¨æ‰§è¡Œï¼‰ï¼Œ æ‰€ä»¥å®ƒé€šè¿‡è¿è¡Œåœ¨å·¥ä½œçº¿ç¨‹ä¹‹å¤–é¿å…é˜»å¡å…¶ä»–ä»»åŠ¡ã€‚\næ‰€ä»¥å¤šä¸ªçº¿ç¨‹ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸€æ¬¡å¯ä»¥è¿è¡Œå¤šä¸ªè¯·æ±‚çš„åŸå› ï¼Ÿ\nå®é™…ä¸Šæ–‡æ¡£ä¸Šè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªå•çº¿ç¨‹çš„æ‰§è¡Œå™¨ï¼Œæˆ‘ä¹Ÿä¸èƒ½ç¡®å®šï¼Œæ‰€ä»¥è®©æˆ‘ä»¬è¯•ä¸€ä¸‹ï¼š\n// ğŸ‘‡ #[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { // (same as before) } $ RUST_LOG=info cargo run --quiet --release Jul 25 19:50:15.977 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 19:50:15.994 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) ä¸¤ä¸ªå“åº”é—´éš” 17ms ï¼Œè¿™ä¸ªæ—¶é—´ä¸å¤Ÿæ„é€ ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚ï¼Œæ‰€ä»¥è¯·æ±‚å¹¶è¡Œï¼ˆparallelï¼‰çš„æ‰§è¡Œäº†ã€‚å¦‚æœä½ ä¾ç„¶åšæŒå®ƒå†…éƒ¨ä½¿ç”¨äº†çº¿ç¨‹ï¼Œè®©æˆ‘ä»¬è¿›ä¸€æ­¥ç¡®è®¤æˆ‘ä»¬åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼š ç¡®å®æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯è¿™äº›éƒ½æ˜¯é˜»å¡çº¿ç¨‹ã€‚ä»…ä»…æ˜¯ DNS æŸ¥è¯¢ã€‚å¯ä»¥é€šè¿‡ htop çœ‹åˆ°å·²ç»æ²¡æœ‰æ— æ•°ï¼ˆ15ï¼‰çš„å·¥ä½œçº¿ç¨‹äº†ï¼š ï¼ˆé¡ºä¾¿è¯´ä¸€ä¸‹ 15 ä¸ªå·¥ä½œçº¿ç¨‹çš„åŸå› ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘é¢„ç•™äº†ä¸€ä¸ª CPU æ ¸å¿ƒæ²¡æœ‰åˆ†é…ç»™è™šæ‹Ÿæœºï¼Œè¿™æ ·å³ä½¿è™šæ‹Ÿæœºå…¨é€Ÿè¿è¡Œä¹Ÿä¸ä¼šå¯¼è‡´å®¿ä¸»æœºåœæ­¢å“åº”ï¼‰ã€‚\nå¦‚æœæˆ‘ä»¬å°† DNS æŸ¥è¯¢æ’é™¤åœ¨å¤–ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°å®é™…ä¸Šä»…ä»…ä½¿ç”¨äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä¸‹å»ï¼Œä»¥é˜²ä½ ä¾ç„¶å­˜ç–‘ï¼\næ’æ›²ï¼šè®©æˆ‘ä»¬é¿å…æ³„æ¼å†…å­˜ ä½†æ˜¯åœ¨é‚£ä¹‹å‰ï¼šæ­£åœ¨æ³„æ¼ reqwest çš„ Client è®©æˆ‘å¾ˆä¸çˆ½ã€‚\nä¸ºäº†é¿å…ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåŸå­å¼•ç”¨è®¡æ•°ï¼ˆatomically-reference-countedï¼‰ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥éšç€ä»»åŠ¡è¿è¡Œè€Œå­˜æ´»ã€‚\nä¿®æ”¹èµ·æ¥éå¸¸ç®€å•ï¼š\n// ğŸ‘‡ Atomically Reference Counted = Arc use std::sync::Arc; #[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; // ğŸ‘‡ there we go let client = Arc::new(Client::new()); // ğŸ‘‡ let fut1 = fetch_thing(client.clone(), URL_1); // (cloning it only increases the reference count) let fut2 = fetch_thing(client.clone(), URL_2); let handle1 = tokio::spawn(fut1); let handle2 = tokio::spawn(fut2); handle1.await.unwrap()?; handle2.await.unwrap()?; Ok(()) } #[allow(clippy::manual_async_fn)] fn fetch_thing( // ğŸ‘‡ now taking this, we have shared ownership of it client: Arc\u0026lt;Client\u0026gt;, url: \u0026amp;\u0026#39;static str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;static { async move { // luckily this ğŸ‘‡ only requires `\u0026amp;self` let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } } å¥½äº†ï¼Œç°åœ¨æˆ‘æ„Ÿè§‰å¥½å¤šäº†ã€‚æˆ‘ä»¬çš„ç¨‹åºä¸å†æ³„æ¼ä¸€äº›å­—èŠ‚å³ä½¿å®ƒæ°¸è¿œä¸ä¼šè¿è¡Œè¶…è¿‡å‡ ç§’é’Ÿã€‚ä¸€åˆ‡éƒ½è¿˜å¥½ã€‚\nè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ reqwest çš„ Client å®šä¹‰:\n#[derive(Clone)] pub struct Client { inner: Arc\u0026lt;ClientRef\u0026gt;, } å®ƒå·²ç»æ˜¯å¼•ç”¨è®¡æ•°çš„äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¥å—ä¸€ä¸ª Client:\n#[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; // ğŸ‘‡ let client = Client::new(); // ğŸ‘‡ let fut1 = fetch_thing(client.clone(), URL_1); // no need to clone a second time let fut2 = fetch_thing(client, URL_2); let handle1 = tokio::spawn(fut1); let handle2 = tokio::spawn(fut2); handle1.await.unwrap()?; handle2.await.unwrap()?; Ok(()) } #[allow(clippy::manual_async_fn)] fn fetch_thing( // ğŸ‘‡ client: Client, url: \u0026amp;\u0026#39;static str, ) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(), Report\u0026gt;\u0026gt; + \u0026#39;static { async move { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } } å¥½äº†ã€‚\nå¯¹äº†ï¼Œä»…ä¾›å‚è€ƒï¼Œæ›´ç®€å•çš„ async fn ä¹Ÿå¯ä»¥å·¥ä½œäº†ï¼š\nasync fn fetch_thing(client: Client, url: \u0026amp;str) -\u0026gt; Result\u0026lt;(), Report\u0026gt; { let res = client.get(url).send().await?.error_for_status()?; info!(%url, content_type = ?res.headers().get(\u0026#34;content-type\u0026#34;), \u0026#34;Got a response!\u0026#34;); Ok(()) } æˆ‘ä»¬ç”šè‡³ä¸éœ€è¦è¦æ±‚ url çš„å€Ÿç”¨ç”Ÿå‘½å‘¨æœŸæ˜¯ 'static ã€‚å¦‚æœ url æ˜¯ 'static çš„åˆ™è¿”å›çš„ Future ä¹Ÿæ˜¯ï¼Œåä¹‹äº¦ç„¶ã€‚\nä½œä¸ºä¾‹å­ï¼Œä¸‹é¢ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼š\n#[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); // this is a `String`, owned by main let url1 = String::from(URL_1); // we\u0026#39;re borrowing from main ğŸ‘‡ let fut1 = fetch_thing(client.clone(), \u0026amp;url1); let fut2 = fetch_thing(client, URL_2); let handle1 = tokio::spawn(fut1); let handle2 = tokio::spawn(fut2); handle1.await.unwrap()?; handle2.await.unwrap()?; Ok(()) } $ cargo check Checking waytoodeep v0.1.0 (/home/amos/ftl/waytoodeep) error[E0597]: `url1` does not live long enough --\u0026gt; src/main.rs:18:44 | 18 | let fut1 = fetch_thing(client.clone(), \u0026amp;url1); | ----------------------------^^^^^- | | | | | borrowed value does not live long enough | argument requires that `url1` is borrowed for `\u0026#39;static` ... 28 | } | - `url1` dropped here while still borrowed ä½ é¢å¯¹çš„è€ƒéªŒå°±æ˜¯ï¼šä¿®æ”¹äº†ä¸€äº›ä»£ç ï¼Œç„¶åçªç„¶é—´æ•´ä¸ª Future ä¸å†å®ç° Send ï¼Œä½†æ˜¯ä½ éœ€è¦å®ƒå®ç° Send ã€‚å‚è€ƒGetting in and out of trouble with Rust futuresã€‚\nåœ¨æˆ‘ä»¬è¿›ä¸€æ­¥æ·±å…¥ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æƒ³æä¸€ä¸‹ï¼Œé™¤äº†é€šè¿‡ tokio::spawn å¯ä»¥åŒæ—¶è¿è¡Œä¸¤ä¸ª future å¹¶ä¸”ç«‹å³ç­‰å¾…ä¸¤ä¸ª future å®Œæˆï¼Œè¿˜æ˜¯ä½¿ç”¨ FuturesUnordered å®ç°ç›¸åŒç›®çš„ã€‚\n$ cargo add futures@0.3.16 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding futures v0.3.16 to dependencies use futures::{stream::FuturesUnordered, StreamExt}; #[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let client = Client::new(); let mut group = vec![ fetch_thing(client.clone(), URL_1), fetch_thing(client, URL_2), ] .into_iter() .collect::\u0026lt;FuturesUnordered\u0026lt;_\u0026gt;\u0026gt;(); while let Some(item) = group.next().await { // propagate errors item?; } Ok(()) } é€šè¿‡è¿™ä¸ªè§£å†³åŠå•ƒå•Šï¼Œæˆ‘ä»¬å¯ä»¥ await ä»»æ„æ•°é‡çš„ future å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¹¶å‘çš„è¢«è½®è¯¢ï¼ˆpolledï¼‰ã€‚\n$ RUST_LOG=info cargo run --quiet --release Jul 25 20:12:37.208 INFO waytoodeep: Got a response! url=https://fasterthanli.me/articles/whats-in-the-box content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) Jul 25 20:12:37.227 INFO waytoodeep: Got a response! url=https://fasterthanli.me/series/advent-of-code-2020/part-13 content_type=Some(\u0026#34;text/html; charset=utf-8\u0026#34;) ä»…ä»…ã€‚ã€‚ã€‚19 æ¯«ç§’çš„é—´éš” \u0026ndash; å¯ä»¥ç¡®å®šæ˜¯å¹¶å‘çš„ã€‚\nå½»åº•æ‘†è„± DNS ç°åœ¨è®©æˆ‘ä»¬æš‚æ—¶å¿˜æ‰ reqwest ã€‚\nHTTP å¹¶ä¸éš¾ ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ„å»ºã€‚åªè¦ TCP å°±è¡Œï¼š\nuse std::net::SocketAddr; use tokio::{ io::{AsyncReadExt, AsyncWriteExt}, net::TcpStream, }; async fn fetch_thing(name: \u0026amp;str) -\u0026gt; Result\u0026lt;(), Report\u0026gt; { // look mom, no DNS! let addr: SocketAddr = ([1, 1, 1, 1], 80).into(); let mut socket = TcpStream::connect(addr).await?; // we\u0026#39;re writing straight to the socket, there\u0026#39;s no buffering // so no need to flush socket.write_all(b\u0026#34;GET / HTTP/1.1\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;Host: 1.1.1.1\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;User-Agent: cool-bear\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;Connection: close\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;\\r\\n\u0026#34;).await?; let mut response = String::with_capacity(256); socket.read_to_string(\u0026amp;mut response).await?; let status = response.lines().next().unwrap_or_default(); info!(%status, , \u0026#34;Got response!\u0026#34;); // dropping the socket will close the connection Ok(()) } å¯ä»¥æ­£å¸¸è¿è¡Œï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 20:24:05.158 INFO waytoodeep: Got response! status=HTTP/1.1 301 Moved Permanently name=second Jul 25 20:24:05.159 INFO waytoodeep: Got response! status=HTTP/1.1 301 Moved Permanently name=first ï¼ˆçœ‹ï¼Œç¬¬äºŒä¸ªèµ¢å¾—äº†èƒœåˆ©ï¼‰ã€‚\nåŒæ—¶å†ä¹Ÿæ²¡æœ‰ DNS æŸ¥è¯¢äº†ã€‚\nå½“ç„¶ http://1.1.1.1 å°†æˆ‘ä»¬é‡å®šå‘åˆ° HTTPS çš„é¡µé¢ï¼ŒæŠ€æœ¯ä¸Šå®ç° TLS å¹¶ä¸å›°éš¾ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¯‡å¹…å·²ç»å¾ˆé•¿äº†ï¼Œæ‰€ä»¥ã€‚ã€‚ã€‚\n$ cargo add tokio-rustls@0.22.0 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding tokio-rustls v0.22.0 to dependencies $ cargo add webpki@0.21.4 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding webpki v0.21.4 to dependencies $ cargo add webpki-roots@0.21.1 Updating \u0026#39;https://github.com/rust-lang/crates.io-index\u0026#39; index Adding webpki-roots v0.21.1 to dependencies ç„¶åã€‚ã€‚ã€‚\n$ cargo rm reqwest Removing reqwest from dependencies use std::sync::Arc; use webpki::DNSNameRef; use tokio_rustls::{rustls::ClientConfig, TlsConnector}; async fn fetch_thing(name: \u0026amp;str) -\u0026gt; Result\u0026lt;(), Report\u0026gt; { // look out it\u0026#39;s port 443 now let addr: SocketAddr = ([1, 1, 1, 1], 443).into(); let socket = TcpStream::connect(addr).await?; // establish a TLS session... let connector: TlsConnector = { let mut config = ClientConfig::new(); config .root_store .add_server_trust_anchors(\u0026amp;webpki_roots::TLS_SERVER_ROOTS); Arc::new(config).into() }; // we have to use the proper DNS name now ğŸ‘‡ let dnsname = DNSNameRef::try_from_ascii_str(\u0026#34;one.one.one.one\u0026#34;)?; let mut socket = connector.connect(dnsname, socket).await?; // we\u0026#39;re writing straight to the socket, there\u0026#39;s no buffering // so no need to flush socket.write_all(b\u0026#34;GET / HTTP/1.1\\r\\n\u0026#34;).await?; // ğŸ‘‡ socket.write_all(b\u0026#34;Host: one.one.one.one\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;User-Agent: cool-bear\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;Connection: close\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;\\r\\n\u0026#34;).await?; let mut response = String::with_capacity(256); socket.read_to_string(\u0026amp;mut response).await?; let status = response.lines().next().unwrap_or_default(); info!(%status, , \u0026#34;Got response!\u0026#34;); // dropping the socket will close the connection Ok(()) } $ RUST_LOG=info cargo run --quiet --release Jul 25 20:31:32.627 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:31:32.658 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first å¥½äº†ï¼Œç°åœ¨è¿”å›çŠ¶æ€ç  200ï¼\næˆ‘ä»¬çš„ç›®æ ‡æ˜¯äº†è§£ Rust çš„ futureï¼Œæˆ‘ä»¬å·²ç»è·å¾—äº†ä¸é”™çš„è¿›å±•ã€‚\nä½†æ˜¯è®©æˆ‘ä»¬è€ƒè™‘ä»¥ä¸‹åœºæ™¯ï¼šæˆ‘ä»¬æƒ³å¹¶å‘çš„æ‰§è¡Œä¸¤ä¸ªè¯·æ±‚ï¼Œä¸€æ—¦å…¶ä¸­ä¸€ä¸ªå¤±è´¥ï¼Œå¦å¤–ä¸€ä¸ªä¹Ÿåº”è¯¥ç«‹å³è¯·æ±‚å¤±è´¥ï¼Œæˆ–è€…ä¸¤ä¸ªä¸€èµ·æˆåŠŸã€‚\ntokio çš„ try_join å® å®é™…ä¸Šï¼Œåˆä¸€ä¸ªå®å¯ä»¥åšè¿™ä¸ªï¼\n#[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let res = tokio::try_join!(fetch_thing(\u0026#34;first\u0026#34;), fetch_thing(\u0026#34;second\u0026#34;),)?; info!(?res, \u0026#34;All done!\u0026#34;); Ok(()) } è¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼\n$ RUST_LOG=info cargo run --quiet --release Jul 25 20:44:52.150 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 20:44:52.165 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:44:52.165 INFO waytoodeep: All done! res=((), ()) å†æ¬¡å¿«é€Ÿæ£€æŸ¥ä»¥ä¸‹ï¼šå“åº”é—´éš”åœ¨ 15ms \u0026ndash; ä¹Ÿå°±æ˜¯ç¡®å®šæ˜¯å¹¶å‘çš„å‘é€ã€‚\ntry_join! å¸®æˆ‘ä»¬è¿›è¡Œäº† await ï¼ŒåŒæ—¶å¸®æˆ‘ä»¬å¤„ç†äº†ç»“æœã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬å¾—åˆ°æ‰€æœ‰ future å¯¹è±¡çš„ç»“æœï¼šå†…å®¹ä¸º Ok çš„ç©ºå…ƒç»„ï¼ˆæœ‰åºçš„ï¼‰ã€‚\næ‰€ä»¥æˆ‘ä»¬å¯ä»¥å–åˆ°æˆ‘ä»¬ future è¿”å›çš„å¯¹è±¡ï¼š\n// ğŸ‘‡ async fn fetch_thing(name: \u0026amp;str) -\u0026gt; Result\u0026lt;\u0026amp;str, Report\u0026gt; { // (omitted) // ğŸ‘‡ Ok(name) } ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬è‡ªå·±ï¼Œå®ƒä»¬æŒ‰ç…§é¡ºåºè¿”å›ï¼Œæ— è®ºå“ªä¸ªå…ˆè¢«æ‰§è¡Œï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 20:47:56.967 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:47:56.967 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 20:47:56.967 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 20:47:57.933 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 20:47:57.935 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:47:57.935 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 20:47:58.942 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:47:58.946 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 20:47:58.946 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æ²¡æœ‰ DNS æŸ¥è¯¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¶ˆé™¤â€œåŒæ—¶â€è¯·æ±‚æ˜¯ç”±äºå¤šçº¿ç¨‹å®ç°çš„ã€‚\nå› ä¸ºï¼Œå¦‚æœæˆ‘ä»¬åœ¨ strace ä¸‹è¿è¡Œç¨‹åºï¼Œå¹¶é€šè¿‡ -f è¯·æ±‚è·Ÿè¸ªå­çº¿ç¨‹ï¼ˆ BTW f æ„æ€æ˜¯è·Ÿè¸ªï¼ˆ follow ï¼‰å­çº¿ç¨‹ï¼‰ï¼š\n$ cargo build --quiet --release \u0026amp;\u0026amp; strace -f -e \u0026#39;connect\u0026#39; ./target/release/waytoodeep connect(9, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;1.1.1.1\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) connect(10, {sa_family=AF_INET, sin_port=htons(443), sin_addr=inet_addr(\u0026#34;1.1.1.1\u0026#34;)}, 16) = -1 EINPROGRESS (Operation now in progress) Jul 25 20:51:54.004 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 20:51:54.013 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 20:51:54.015 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) +++ exited with 0 +++ ã€‚ã€‚ã€‚ç°åœ¨æˆ‘ä»¬çœ‹åˆ°äº†é¢„æœŸçš„ä¸¤æ¬¡ connect è°ƒç”¨ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å­çº¿ç¨‹ã€‚è€Œä¸”åœ¨è¿™ä¸ªè¿è¡Œä¸­ï¼Œå“åº”ä¹‹é—´çš„é—´éš”æ—¶é—´æ˜¯ 9 æ¯«ç§’ï¼å°‘äºæˆ‘ç›´æ¥ ping 1.1.1.1:\n$ ping -c 1 1.1.1.1 PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data. 64 bytes from 1.1.1.1: icmp_seq=1 ttl=57 time=13.7 ms --- 1.1.1.1 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 13.748/13.748/13.748/0.000 ms è¿™æ˜¯å› ä¸ºæ‰§è¡Œå™¨é€šè¿‡ Event Loop æ„å»ºéé˜»å¡çš„ç³»ç»Ÿè°ƒç”¨ï¼Œç„¶åè®¢é˜… Event Loop ç®¡ç†çš„èµ„æºç›¸å…³çš„äº‹ä»¶ï¼Œ ç„¶åå°±å¯ä»¥çŸ¥é“ä¸€ä¸ª socket ä»€ä¹ˆæ—¶é—´å¯ä»¥è¿›è¡Œè¯»å†™ã€‚\næ‰€ä»¥ï¼Œfuture å¯¹è±¡åªæ˜¯ä¸€äº›çŠ¶æ€ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œ awaitï¼Œé‚£ä¹ˆåœ¨å“ªè®¢é˜…çš„äº‹ä»¶å‘¢ï¼Ÿ\nè®©æˆ‘ä»¬å°è¯•åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„ try_join \u0026ndash; ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åªæ¥å—ä¸¤ä¸ª futureã€‚ç„¶åæˆ‘ä»¬å°±èƒ½çœ‹åˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚\næˆ‘ä»¬å·²ç»å®ç°äº†è‡ªå·±çš„ futureï¼Œå®ç°ä¸€ä¸ª try_join å‡½æ•°ä¼šæœ‰å¤šéº»çƒ¦ï¼Ÿ\näº‹å®è¯æ˜å¾ˆéº»çƒ¦ æˆ‘ä»¬å…ˆä»ç®€å•çš„å¼€å§‹ï¼æˆ‘ä»¬æƒ³å®ç°ä¸€ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ª future å¯¹è±¡ç„¶åè¿”å›ä¸€ä¸ª future å¯¹è±¡ã€‚\n// in `src/main.rs` mod tj; // in `src/tj.rs` use std::future::Future; pub fn try_join\u0026lt;A, B\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = ()\u0026gt; where A: Future, B: Future, { todo!(\u0026#34;implement me!\u0026#34;); } é¢ã€‚å‡½æ•°ä¸åº”è¯¥åªè¿”å›ä¸€ä¸ªç©ºå…ƒç»„ï¼Œå®ƒéœ€è¦è¿”å›ä¸€ä¸ªåŒ…å«æˆåŠŸç»“æœçš„å…ƒç»„ã€‚æˆ–è€…é‡åˆ°çš„ç¬¬ä¸€ä¸ªé”™è¯¯ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›æ›´å¤šçš„èŒƒå‹å‚æ•°ï¼šä¸€ä¸ªé”™è¯¯ç±»å‹ï¼ˆæˆ‘ä»¬å‡è®¾ä¸¤ä¸ª future å¯¹è±¡è¿”å›åŒæ ·çš„é”™è¯¯ç±»å‹ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ future å¯¹è±¡è¿”å›çš„ Ok çš„ç±»å‹ã€‚\npub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { todo!(\u0026#34;implement me!\u0026#34;); } å¥½äº†ï¼è¿™éå¸¸ç»•å£ï¼Œä½†æ˜¯æˆ‘ç›¸ä¿¡æˆ‘ä»¬å·²ç»å®ç°äº†éœ€æ±‚ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬ä½¿ç”¨äº† impl Trait è¯­æ³•ï¼Œè®©æˆ‘ä»¬ä¸ç”¨æš´éœ²æˆ‘ä»¬è‡ªå·±çš„ try join future ã€‚è¿™ä¸é‡è¦ï¼Œä½†æ˜¯å¯ä»¥è®©æˆ‘ä»¬ç”¨æ›´å°‘çš„ pub å…³é”®å­—ï¼ŒåŒæ—¶æˆ‘ä»¬çš„æ‰‹æŒ‡å·²ç»ç ç´¯äº†ã€‚éå¸¸ç´¯ã€‚\næ‰€ä»¥ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºè¿™ä¸ªç±»å‹ï¼\nç±»å‹éœ€è¦æŒç»­ A å’Œ B ï¼Œå¹¶æ³¨æ„ AR ã€ BR å’Œ E ç±»å‹ã€‚æ‰€ä»¥ï¼Œå¸Œæœ›æ‚¨å¯¹è¿™äº›èŒƒå‹å‚æ•°æ²™æ‹‰æœ‰ä¸ªå¥½èƒƒå£ã€‚\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { a: A, b: B, } ç„¶åå¯ä»¥åœ¨æˆ‘ä»¬çš„ try_join å‡½æ•°ä¸­è¿”å›å®ƒï¼š\npub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { // so simple! TryJoin { a, b } } æˆ‘è®¤ä¸ºè¿™å¾ˆå¥½çš„è¯´æ˜ä¸€ä¸ªäº‹å®ï¼šåˆ›å»º future å¯¹è±¡ä»…ä»…æ˜¯æ„å»ºçŠ¶æ€ã€‚ä¸éœ€è¦ä»»ä½•é¢å¤–çš„å·¥ä½œã€‚\nå½“ç„¶ï¼Œè¿™ä¸ªä¸ä¼šé€šè¿‡ç¼–è¯‘ï¼Œå› ä¸º TryJoin è¿˜æ²¡æœ‰å®ç° Future ã€‚\nä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼ rust-analyzer å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆç¼ºå¤±çš„éƒ¨åˆ†ï¼š\nuse std::{ future::Future, pin::Pin, task::{Context, Poll}, }; impl\u0026lt;A, B, AR, BR, E\u0026gt; Future for TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { type Output = Result\u0026lt;(AR, BR), E\u0026gt;; fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { todo!() } } å¦‚æœæˆ‘ä»¬çœŸæ­£çš„å®ç°äº†ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§ä¸‹é¢æ–¹å¼ä½¿ç”¨ï¼š\n#[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; let res = tj::try_join(fetch_thing(\u0026#34;first\u0026#34;), fetch_thing(\u0026#34;second\u0026#34;)).await?; info!(?res, \u0026#34;All done!\u0026#34;); Ok(()) } å½“ç„¶ï¼Œç°åœ¨åªæ˜¯ä¼šå´©æºƒï¼š\n$ RUST_LOG=info cargo run --quiet --release The application panicked (crashed). Message: not yet implemented Location: src/tj.rs:32 Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it. Run with RUST_BACKTRACE=full to include source snippets. æ‰€ä»¥ï¼Œæˆ‘çŒœæˆ‘ä»¬éœ€è¦å®ç°å®ƒï¼\nå¥½å§ï¼Œè®©æˆ‘ä»¬å…ˆå°è¯•è‡³å°‘è½®è¯¢ï¼ˆpollingï¼‰ä¸€ä¸ª future å¯¹è±¡ã€‚\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let a = self.a.poll(cx); todo!() } $ RUST_LOG=info cargo run --quiet --release error[E0599]: no method named `poll` found for type parameter `A` in the current scope --\u0026gt; src/tj.rs:32:24 | 32 | let a = self.a.poll(cx); | ^^^^ method not found in `A` | ::: /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/future/future.rs:100:8 | 100 | fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt;; | ---- the method is available for `Pin\u0026lt;\u0026amp;mut A\u0026gt;` here | help: consider wrapping the receiver expression with the appropriate type | 32 | let a = Pin::new(\u0026amp;mut self.a).poll(cx); | ^^^^^^^^^^^^^ ^ é¢ï¼ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼Œå¥½çš„å¼€å§‹ã€‚\næˆ‘å·²ç»åœ¨è¿™é‡Œè¯¦ç»†çš„è§£é‡Šäº† Pinï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°±ç®€å•çš„ä»‹ç»ä¸€ä¸‹ã€‚\næ–¹æ³•é€šå¸¸é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰æ¥æ”¶è€…ï¼ˆreceiverï¼‰ï¼š\nstruct MyType { fn do_thing(\u0026amp;self) { println!(\u0026#34;my value is {}\u0026#34;, self.value) } } ä¹Ÿå°±æ˜¯ä¸‹é¢çš„ç®€å†™ï¼š\nstruct MyType { fn do_thing(self: \u0026amp;Self) { println!(\u0026#34;my value is {}\u0026#34;, self.value) } } å› ä¸ºæˆ‘ä»¬åœ¨ impl MyType ä»£ç å—ä¸­ Self å°±æ˜¯ MyType ã€‚\nå¾ˆæ¸…æ™°å§ï¼Ÿå¥½äº†ï¼Œè¿˜å¯ä»¥å®šä¹‰å…¶ä»–å¾ˆå¤šç±»å‹ä½œä¸ºæ¥æ”¶è€…ï¼Œ Pin\u0026lt;\u0026amp;mut Self\u0026gt; å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼š\nstruct MyType { fn do_thing(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;) { // good luck!1 } } é‚£ä¹ˆ MyType å¿…é¡»æ˜¯å›ºå®šçš„ï¼ˆpinnedï¼‰æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ¯”å¦‚ï¼Œå®ƒä¿è¯ä¸è¿›è¡Œè½¬ç§»ï¼ˆmoveï¼‰ã€‚é™¤éå®ƒå®ç°äº† Unpin ï¼Œ ç„¶åå®ƒå°±å¯ä»¥æ˜¯éå›ºå®šçš„ï¼ˆunpinnedï¼‰ï¼Œå¯ç§»åŠ¨ï¼Œç„¶åè¢«å†ä¸€æ¬¡å›ºå®šã€‚\nå¯¹äºå‰©ä¸‹çš„æ–‡ç« ï¼Œæˆ‘ä»¬ä¸ä¼šå‡è®¾æˆ‘ä»¬çš„ future A å’Œ B éƒ½æ˜¯ Unpin ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è‡ªå·±ä¸ä¼šç§»åŠ¨ï¼ˆmoveï¼‰å®ƒä»¬ï¼ˆåªé”€æ¯ï¼ˆdropï¼‰å®ƒä»¬ï¼‰ã€‚\nä½ å¯ä»¥è¯´æˆ‘ä»¬ä¸éœ€è¦ A å’Œ B æ˜¯ Unpin çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰æ·»åŠ æŒ‡å®šçš„ where clause æ¥æ ‡è®°éœ€è¦å®ƒä»¬æ˜¯ Unpin ã€‚ å› ä¸ºå¦‚æœæˆ‘ä»¬éœ€è¦ï¼Œæˆ‘ä»¬å°±è¦åƒä¸‹é¢è¿™æ ·æ·»åŠ é¢å¤–çš„ trait bound ï¼š\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where // ğŸ‘‡ A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt; + Unpin, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt; + Unpin, {} ä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å‡è®¾ A æˆ– B æ˜¯ Unpin çš„ã€‚\næ‰€ä»¥ï¼æˆ‘ä»¬ç°åœ¨çœŸçš„åªæ˜¯é¢ä¸´å›ºå®šï¼ˆpinï¼‰ä¿æŠ¤çš„é—®é¢˜ã€‚\næˆ‘ä»¬ç°åœ¨åªæŒæœ‰ä¸€ä¸ª Pin\u0026lt;\u0026amp;mut TryJoin\u0026lt;A, B, ...\u0026gt;\u0026gt; ä½†æ˜¯æˆ‘å¸Œæœ›æŒç»­ä¸€ä¸ª Pin\u0026lt;\u0026amp;mut A\u0026gt; ï¼ˆå› ä¸ºè¿™å°±æ˜¯æˆ‘ä»¬å› ä¸ºéœ€è¦è½®è¯¢ A ï¼‰ã€‚\nå¦å¤–ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œæˆ‘å€¾å‘äºé€šè¿‡ä¸€äº›ç±»ä¼¼ pin-project åŒ…ï¼Œæˆ–è€…ç±»ä¼¼ pin-project-liteï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬å‰è¿›çš„æ–¹å‘ç›´æ¥ä½¿ç”¨ pin-project çœŸçš„å¾ˆå°´å°¬ï¼Œ æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ unsafe ä½œä¸ºæ›¿ä»£ï¼š\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let a = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; let a = a.poll(cx); todo!() } å¯ä»¥é€šè¿‡ç¼–è¯‘ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨ unsafe ï¼Œä¹Ÿå°±æ„å‘³ç€ç¼–è¯‘å™¨æ­£å¼åœæ­¢ ç…§é¡¾ æ£€æŸ¥æˆ‘ä»¬çš„ä»£ç ã€‚ æˆ‘ä»¬è‡ªå·±å¿…é¡»å¼ºåˆ¶æ‰§è¡Œä¸€äº›ä¸å˜é‡ï¼ˆinvariantsï¼‰ï¼Œå¹¶ä¸”éå¸¸éå¸¸å°å¿ƒï¼ŒåŒæ—¶è®©å…¶ä»–äººå®¡æŸ¥ï¼ˆreviewï¼‰æˆ‘ä»¬çš„å·¥ä½œï¼Œ ä½†æ˜¯ä¾ç„¶å¯èƒ½ä¼šå‡ºé”™ï¼Œå› ä¸ºä»–ä»¬ä¹Ÿä¼šä¼‘æ¯ã€‚\nç°åœ¨ï¼Œéå¸¸æ£’çš„æ˜¯æˆ‘ä»¬å¯ä»¥è½®è¯¢ a ã€‚å®ƒå¦‚æœå®Œæˆä¼šè¿”å› Poll::Ready(Result\u0026lt;AR, E\u0026gt;) ï¼Œ å¦åˆ™å°±æ˜¯ç­‰ä¼šä¼šå®Œæˆåˆ™è¿”å› Poll::Pending ã€‚\næˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°ï¼š\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let a = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; match a.poll(cx) { Poll::Pending =\u0026gt; { info!(\u0026#34;A is pending...\u0026#34;); return Poll::Pending; } Poll::Ready(res) =\u0026gt; match res { Ok(_) =\u0026gt; info!(\u0026#34;A is ready!\u0026#34;), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } todo!() } æˆ‘ä»¬é€šè¿‡æ‰“å°æ—¥å¿—â€œA is pendingâ€çŸ¥é“å‡†å¤‡å®Œæˆã€‚è¿™å¯èƒ½éœ€è¦å‡ ä¸ªå›åˆï¼šæ¯•ç«Ÿï¼Œæˆ‘ä»¬æ­£åœ¨åšä¸€äº›é‡è¦çš„äº‹æƒ…ã€‚ æˆ‘ä»¬å»ºç«‹ä¸€ä¸ª TCP è¿æ¥ï¼Œæ¥ç€åœ¨ä¸Šé¢è¿›è¡Œ TLS ä¼šè¯ï¼Œæ¥ç€æ˜¯ä¸€äº›åˆ†å¼€çš„å†™ï¼Œæœ€åè¯»åˆ° EOFï¼ˆend of fileï¼‰ã€‚\nå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œå®ƒçš„è¯ï¼š\naytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.495 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.513 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.513 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.513 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.513 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.513 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.514 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.522 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.522 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.522 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.522 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.522 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.523 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.523 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.530 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.530 INFO waytoodeep::tj: A is pending... Jul 25 22:54:14.530 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 22:54:14.530 INFO waytoodeep::tj: A is ready! The application panicked (crashed). Message: not yet implemented Location: src/tj.rs:46 Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it. Run with RUST_BACKTRACE=full to include source snippets. æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒç¡®å®èŠ±è´¹äº†å‡ ä¸ªå›åˆã€‚\næ³¨æ„å¦‚æœ A è¿”å›é”™è¯¯æˆ‘ä»¬çš„ä»£ç ä¹Ÿä¼šè¿”å› Poll:Ready ï¼Œå› ä¸ºæˆ‘ä»¬æƒ³æ”¶é›† A å’Œ B çš„ç»“æœã€‚\næ‰€ä»¥æˆ‘ä»¬å¯¹ B åšç›¸åŒçš„äº‹æƒ…ï¼š\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let a = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; match a.poll(cx) { Poll::Pending =\u0026gt; { info!(\u0026#34;A is pending...\u0026#34;); return Poll::Pending; } Poll::Ready(res) =\u0026gt; match res { Ok(_) =\u0026gt; info!(\u0026#34;A is ready!\u0026#34;), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } let b = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; match b.poll(cx) { Poll::Pending =\u0026gt; { info!(\u0026#34;B is pending...\u0026#34;); return Poll::Pending; } Poll::Ready(res) =\u0026gt; match res { Ok(_) =\u0026gt; info!(\u0026#34;B is ready!\u0026#34;), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } todo!() } ç„¶åã€‚ã€‚whoopsï¼š\nRUST_LOG=info cargo run --quiet --release error[E0382]: use of moved value: `self` --\u0026gt; src/tj.rs:46:26 | 33 | fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { | ---- move occurs because `self` has type `Pin\u0026lt;\u0026amp;mut TryJoin\u0026lt;A, B, AR, BR, E\u0026gt;\u0026gt;`, which does not implement the `Copy` trait 34 | let a = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; | ------------------------------------- `self` moved due to this method call ... 46 | let b = unsafe { self.map_unchecked_mut(|this| \u0026amp;mut this.a) }; | ^^^^ value used here after move | note: this function takes ownership of the receiver `self`, which moves `self` --\u0026gt; /home/amos/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/pin.rs:776:43 | 776 | pub unsafe fn map_unchecked_mut\u0026lt;U, F\u0026gt;(self, func: F) -\u0026gt; Pin\u0026lt;\u0026amp;\u0026#39;a mut U\u0026gt; | ^^^^ æ˜¯çš„ã€‚ map_unchecked_mut å æœ‰äº† self ã€‚\nä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ .as_mut() ï¼š\n// ğŸ‘‡ fn poll(mut self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { // ğŸ‘‡ let a = unsafe { self.as_mut().map_unchecked_mut(|this| \u0026amp;mut this.a) }; match a.poll(cx) { Poll::Pending =\u0026gt; { info!(\u0026#34;A is pending...\u0026#34;); return Poll::Pending; } Poll::Ready(res) =\u0026gt; match res { Ok(_) =\u0026gt; info!(\u0026#34;A is ready!\u0026#34;), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } // ğŸ‘‡ let b = unsafe { self.as_mut().map_unchecked_mut(|this| \u0026amp;mut this.a) }; match b.poll(cx) { Poll::Pending =\u0026gt; { info!(\u0026#34;B is pending...\u0026#34;); return Poll::Pending; } Poll::Ready(res) =\u0026gt; match res { Ok(_) =\u0026gt; info!(\u0026#34;B is ready!\u0026#34;), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } todo!() } ä½†æ˜¯ä¾ç„¶æ— æ³•é€šè¿‡ç¼–è¯‘ï¼š\n$ RUST_LOG=info cargo run --quiet --release (cut) Jul 25 22:57:07.913 INFO waytoodeep::tj: A is pending... Jul 25 22:57:07.913 INFO waytoodeep::tj: A is pending... Jul 25 22:57:07.913 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 22:57:07.913 INFO waytoodeep::tj: A is ready! The application panicked (crashed). Message: `async fn` resumed after completion Location: src/main.rs:24 Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it. Run with RUST_BACKTRACE=full to include source snippets. å¯ä»¥çœ‹åˆ°ï¼Œä¸€æ—¦ Future è¿”å› Poll::Ready æˆ‘ä»¬å°±ä¸èƒ½å†æ¬¡è½®è¯¢å®ƒäº†ã€‚æˆ‘ä»¬ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿå› ä¸º Future å·²ç»è¿”å›äº†ç»“æœã€‚å¦‚æœç»“æœæ˜¯é Copy çš„ï¼Œå®ƒå¯èƒ½åªèƒ½è¿”å›ä¸€æ¬¡ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦ 1ï¼‰è·Ÿè¸ª A æ˜¯å¦å®Œæˆï¼Œç„¶å 2ï¼‰åœ¨æŸä¸ªåœ°æ–¹å­˜å‚¨å®ƒçš„è¿”å›ç»“æœã€‚\næˆ‘ä»¬åªéœ€è¦åœ¨æˆ‘ä»¬çš„ç»“æ„ä½“ä¸­æ·»åŠ ä¸€äº›å­—æ®µï¼š\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { a: A, b: B, // ğŸ‘‡ a_res: Option\u0026lt;AR\u0026gt;, b_res: Option\u0026lt;BR\u0026gt;, } ä¸è¦å¿˜è®°åˆå§‹åŒ–å®ƒä»¬ï¼š\npub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { TryJoin { a, b, // ğŸ‘‡ a_res: None, b_res: None, } } ç°åœ¨è®¡åˆ’æ˜¯ï¼š\nå¦‚æœ a_res æ˜¯ Some ï¼Œç„¶åæˆ‘ä»¬å°±ä¸éœ€è¦è½®è¯¢ a ,å› ä¸ºå®ƒå·²ç»å®Œæˆäº† åŒæ ·çš„é€»è¾‘å¤„ç† b_res å’Œ b è®©æˆ‘ä»¬å®ç°å®ƒã€‚åŒæ—¶ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨ä½¿ç”¨äº† unsafe ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»è´Ÿè´£ç»´æŠ¤ä¸å˜é‡ï¼ˆinvariantsï¼‰ï¼Œ æ‰€ä»¥æˆ‘å†³å®šåŒæ—¶å›ºå®š a å’Œ b ï¼Œå¦‚ä¸‹ï¼š\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let this = unsafe { self.get_unchecked_mut() }; let (a, b) = unsafe { ( Pin::new_unchecked(\u0026amp;mut this.a), Pin::new_unchecked(\u0026amp;mut this.b), ) }; if this.a_res.is_none() { match a.poll(cx) { Poll::Pending =\u0026gt; return Poll::Pending, Poll::Ready(res) =\u0026gt; match res { Ok(x) =\u0026gt; this.a_res = Some(x), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } } if this.b_res.is_none() { match b.poll(cx) { Poll::Pending =\u0026gt; return Poll::Pending, Poll::Ready(res) =\u0026gt; match res { Ok(x) =\u0026gt; this.b_res = Some(x), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } } todo!() } å¥½äº†ï¼Œè¿™ä¸ªåº”è¯¥èƒ½è®© a å’Œ b æœ‰æœºä¼šåœ¨æˆ‘ä»¬å´©æºƒä¹‹å‰å®Œæˆï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:11:03.851 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:11:04.380 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second The application panicked (crashed). Message: not yet implemented Location: src/tj.rs:69 Backtrace omitted. Run with RUST_BACKTRACE=1 environment variable to display it. Run with RUST_BACKTRACE=full to include source snippets. å¾ˆå¥½ï¼ç°åœ¨æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯è§£å‡ºä¸¤ä¸ªç»“æœå¹¶è¿”å›å®ƒä»¬ï¼š\n// instead of the `todo!()`: if let (Some(_), Some(_)) = (\u0026amp;this.a_res, \u0026amp;this.b_res) { let a = this.a_res.take().unwrap(); let b = this.b_res.take().unwrap(); Poll::Ready(Ok((a, b))) } else { Poll::Pending } å¯ä»¥å·¥ä½œï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:13:32.497 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:13:32.829 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:13:32.829 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) ã€‚ã€‚ã€‚ä½†æ˜¯è¿™ä¸æ˜¯ try_join çš„å®ç°ã€‚æˆ‘ä»¬æ­£åœ¨åšçš„å’Œè¿™ä¸ªå®Œå…¨ä¸€æ ·ï¼š\n// (pseudo-code, buncha things are missing) async fn try_join(a: A, b: B) { let a = self.a.await?; let b = self.b.await?; Ok((a, b)) } æ˜¯é¡ºåºçš„æ‰§è¡Œçš„ã€‚è¯·è®°ä½ï¼Œä»…ä»…æ˜¯å› ä¸º tokio çš„æ‰§è¡Œå™¨å¯èƒ½ç”¨äº†ä¸€å †çº¿ç¨‹å¹¶æ„å‘³ç€åŒæ—¶è¿è¡Œæ˜¯è‡ªåŠ¨çš„ã€‚ å‰é¢æˆ‘ä»¬ä¸å¾—ä¸ä½¿ç”¨ tokio::spwan æˆ– UnorderedFutures æˆ– try_join! è®©å…¶åŒæ—¶è¿è¡Œã€‚\næ‰€ä»¥è®©æˆ‘ä»¬é‡æ–°çœ‹ä¸€ä¸‹ã€‚ã€‚ã€‚å½“æˆ‘ä»¬è½®è¯¢ a çš„æ˜¯åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ\nif this.a_res.is_none() { match a.poll(cx) { Poll::Pending =\u0026gt; return Poll::Pending, Poll::Ready(res) =\u0026gt; match res { Ok(x) =\u0026gt; this.a_res = Some(x), Err(e) =\u0026gt; return Poll::Ready(Err(e)), }, } } é¢ï¼Œå½“è½®è¯¢ a çš„æ—¶å€™è¿”å› Poll::Pending æ—¶æˆ‘ä»¬ä¹Ÿä¼šè¿”å› Poll::Pending ã€‚æ‰€ä»¥è¿™å°±æ˜¯é—®é¢˜ã€‚ å¦‚æœ a æ­£åœ¨ç­‰å¾…ï¼ˆpendingï¼‰æˆ‘ä»¬ä¸åº”è¯¥è¿”å›ã€‚å› ä¸ºå¦‚æœè¿™æ—¶å€™ b å·²ç»å‡†å¤‡å¥½æˆ–è€…æœ‰é”™è¯¯å‘¢ï¼Ÿ\næˆ–è€…å¦‚æœï¼Œæˆ‘ä»¬åƒè¿™æ ·è°ƒç”¨ try_join å‘¢ï¼š\ninfo!(\u0026#34;Joining...\u0026#34;); let res = tj::try_join( async move { sleep(Duration::from_millis(2000)).await; Ok(()) }, async move { sleep(Duration::from_millis(10)).await; Err::\u0026lt;(), Report\u0026gt;(color_eyre::eyre::eyre!(\u0026#34;uh oh\u0026#34;)) }, ) .await; ã€‚ã€‚ã€‚ç„¶å a èŠ±è´¹äº† 2 ç§’é’Ÿæ‰å‡†å¤‡å¥½ï¼ŒåŒæ—¶ b ä¼šåœ¨ 10æ¯«ç§’ä¹‹åè¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œå¦‚æœæˆ‘ä»¬è½®è¯¢å®ƒï¼\nå—ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:19:26.972 INFO waytoodeep: Joining... Jul 25 23:19:28.990 INFO waytoodeep: All done! res=Err( 0: uh oh Location: src/main.rs:28 (cut) ï¼ˆæ³¨æ„æ—¶é—´æˆ³ï¼‰\né‡ç‚¹æ˜¯ try_join ä¼šæå‰å¤±è´¥ï¼šä¸€æ—¦ Future è¿”å› Result::Err~ ã€‚\næ‰€ä»¥æˆ‘ä»¬å¿…é¡»åŒæ—¶è½®è¯¢ a å’Œ b ã€‚å¥½å§ã€‚ã€‚ã€‚ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰çš„åŒæ—¶ã€‚æˆ‘ä»¬å¿…é¡»æ¯æ¬¡æˆ‘ä»¬çš„ TryJoin future å¯¹è±¡è¢«è½®è¯¢æ—¶å¹¶å‘ï¼ˆconcurrentlyï¼‰çš„è½®è¯¢å®ƒä»¬ï¼Œ ç›´åˆ°å®ƒä»¬è¿”å›ç»“æœã€‚\næœ‰ä¸€ä¸ªç®€å•è§£å†³åŠæ³• \u0026ndash; åœ¨ä»»ä¸€ future å¯¹è±¡è¿”å› Poll::Pending æ—¶ä¸è¿”å› Poll::Pending ã€‚\nåŒæ—¶ï¼Œæˆ‘åŒå€¦äº†è¾“å…¥ Poll::Ready å¹¶ä¸” Poll\u0026lt;T\u0026gt; å®ç°äº† From\u0026lt;T\u0026gt; ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ .into() äº†ï¼š\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let this = unsafe { self.get_unchecked_mut() }; let (a, b) = unsafe { ( Pin::new_unchecked(\u0026amp;mut this.a), Pin::new_unchecked(\u0026amp;mut this.b), ) }; if this.a_res.is_none() { if let Poll::Ready(res) = a.poll(cx) { match res { Ok(x) =\u0026gt; this.a_res = Some(x), Err(e) =\u0026gt; return Err(e).into(), } } } if this.b_res.is_none() { if let Poll::Ready(res) = b.poll(cx) { match res { Ok(x) =\u0026gt; this.b_res = Some(x), Err(e) =\u0026gt; return Err(e).into(), } } } if let (Some(_), Some(_)) = (\u0026amp;this.a_res, \u0026amp;this.b_res) { let a = this.a_res.take().unwrap(); let b = this.b_res.take().unwrap(); Ok((a, b)).into() } else { Poll::Pending } } è®©æˆ‘ä»¬å†æ¬¡è¿è¡Œ\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:22:40.238 INFO waytoodeep: Joining... Jul 25 23:22:40.253 INFO waytoodeep: All done! res=Err( 0: uh oh Location: src/main.rs:28 (cut) ã€‚ã€‚ã€‚å¯ä»¥äº†ï¼æˆ‘æ˜¯è¯´å®ƒæŒ‰ç…§é¢„æœŸçš„å¤±è´¥äº†ã€‚é¢„æœŸçš„å¤±è´¥å°±æ˜¯æˆåŠŸã€‚\nç„¶åæˆ‘ä»¬å°†è¿™ä¸ªæ–¹æ³•åº”ç”¨åˆ°è°ƒç”¨ try_join :\n#[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Joining...\u0026#34;); let res = tj::try_join(fetch_thing(\u0026#34;first\u0026#34;), fetch_thing(\u0026#34;second\u0026#34;)).await?; info!(?res, \u0026#34;All done!\u0026#34;); Ok(()) } æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç«äº‰åˆå›æ¥äº†ï¼šæœ‰æ—¶ first å…ˆå®Œæˆï¼Œæœ‰æ—¶åˆ™ä¸æ˜¯ï¼š\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:25:25.925 INFO waytoodeep: Joining... Jul 25 23:25:26.224 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:25:26.236 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:25:26.236 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 23:25:26.937 INFO waytoodeep: Joining... Jul 25 23:25:27.237 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:25:27.242 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:25:27.242 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 23:25:27.865 INFO waytoodeep: Joining... Jul 25 23:25:28.164 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:25:28.818 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:25:28.818 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) $ RUST_LOG=info cargo run --quiet --release Jul 25 23:25:30.153 INFO waytoodeep: Joining... Jul 25 23:25:31.477 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:25:31.496 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:25:31.496 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) ã€‚ã€‚ã€‚åŒæ—¶ç»“æœçš„é¡ºåºæ˜¯æ­£ç¡®çš„ã€‚\néå¸¸å¥½ï¼Œæˆ‘ä»¬å®ç°äº†å®ƒï¼\nä½†æ˜¯ï¼\næˆ‘ä»¬å¯ä»¥åšçš„æ›´å¥½ å¹¸è¿çš„æ˜¯ï¼Œåå°±æ˜¯å¥½ã€‚\nä¸‹é¢è¿™ä¸ªç±»å‹å›°æ‰°ç€æˆ‘ï¼š\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { a: A, b: B, a_res: Option\u0026lt;AR\u0026gt;, b_res: Option\u0026lt;BR\u0026gt;, } æˆ‘å…¶å®åªæœ‰åœ¨ a å®Œæˆåæ‰éœ€è¦ a_res ã€‚ä¸€æ—¦ a å®Œæˆç„¶åå°†ç»“æœå­˜å‚¨åˆ° a_res ï¼Œæˆ‘ä»¬å°±ä¸å†éœ€è¦ a äº†ã€‚\nå®é™…ä¸Šï¼Œç”šè‡³æˆ‘ä»¬ä¸åº”è¯¥å†ç¢° a ã€‚\nè¿™å¬èµ·æ¥æ›´åƒæˆ‘ä»¬è¦ä¹ˆæŒæœ‰ A è¦ä¹ˆæŒæœ‰ AR ï¼Œä½†æ˜¯æ°¸è¿œä¸ä¼šåŒæ—¶æŒæœ‰ã€‚\nSUM TYPES : Rust çš„æšä¸¾å°±æ˜¯ä¸€ä¸ªæ±‡æ€»ç±»å‹ã€‚\næ‰€ä»¥ï¼æ±‡æ€»ç±»å‹ã€‚Rust æšä¸¾ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå«åš State çš„ç±»å‹ï¼Œç„¶åå®ƒæœ‰ä¸¤ä¸ªå˜ä½“ï¼š ä¸€ä¸ªç”¨äºå®ƒè¿˜æ˜¯ future å¯¹è±¡ï¼Œä¸€ä¸ªç”¨äºå®ƒæ˜¯ä¸€ä¸ªç»“æœã€‚éå¸¸ç®€å•ï¼\nenum State\u0026lt;F, T, E\u0026gt; where F: Future\u0026lt;Output = Result\u0026lt;T, E\u0026gt;\u0026gt;, { Future(F), Ok(T), } è¿™å°†ä¼šéå¸¸æ£’ï¼\nè®©æˆ‘ä»¬èµ‹ç»™æˆ‘ä»¬çš„ TryJoin ç»“æ„ä½“ï¼š\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { a: State\u0026lt;A, AR, E\u0026gt;, b: State\u0026lt;B, BR, E\u0026gt;, } ï¼ˆæ˜¯ä¸æ˜¯éå¸¸æ¼‚äº®ï¼‰\nç„¶ååˆå§‹åŒ–å®ƒä»¬ï¼š\npub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { TryJoin { a: State::Future(a), b: State::Future(b), } } éå¸¸é…·ã€‚ç„¶åæˆ‘ä»¬åªéœ€è¦ç¨å¾®è°ƒæ•´ä¸€ä¸‹æˆ‘ä»¬çš„ poll æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å°† Pin\u0026lt;\u0026amp;mut Self\u0026gt; è½¬æ¢ä¸º \u0026amp;mut Self ã€‚ã€‚ã€‚\nfn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let this = unsafe { self.get_unchecked_mut() }; è¿™æ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ‰¿è¯ºç»´æŠ¤ä¸å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ä¼šè½¬ç§»ï¼ˆmoveï¼‰ State::Future å†…éƒ¨ã€‚\nç„¶åå¦‚æœ a æ˜¯ State::Future æˆ‘ä»¬å°±è½®è¯¢å®ƒï¼Œç„¶åæˆ‘ä»¬å†ä¼ æ’­é”™è¯¯æˆ–è€…ä¿å­˜å®ƒçš„ç»“æœï¼š\nif let State::Future(a) = \u0026amp;mut this.a { let a = unsafe { Pin::new_unchecked(a) }; if let Poll::Ready(res) = a.poll(cx) { match res { Ok(t) =\u0026gt; this.a = State::Ok(t), Err(e) =\u0026gt; return Err(e).into(), } } } ç„¶ååŒæ ·çš„ä¿®æ”¹ b ã€‚ã€‚ã€‚\n// you can figure that one out, I believe in you ç„¶åæˆ‘ä»¬å°±å®Œæˆäº†å¦‚æœå®ƒä»¬éƒ½æ˜¯ State::Ok ï¼å¦åˆ™æˆ‘ä»¬å°±è¿”å› Poll::Pending :\nmatch (this.a, this.b) { (State::Ok(a), State::Ok(b)) =\u0026gt; Ok((a, b)).into(), _ =\u0026gt; Poll::Pending, } éå¸¸å¥½ã€‚\né™¤äº†å®ƒæ— æ³•é€šè¿‡ç¼–è¯‘ï¼š\n$ RUST_LOG=info cargo run --quiet --release error[E0507]: cannot move out of `this.a` which is behind a mutable reference --\u0026gt; src/tj.rs:65:16 | 65 | match (this.a, this.b) { | ^^^^^^ move occurs because `this.a` has type `State\u0026lt;A, AR, E\u0026gt;`, which does not implement the `Copy` trait error[E0507]: cannot move out of `this.b` which is behind a mutable reference --\u0026gt; src/tj.rs:65:24 | 65 | match (this.a, this.b) { | ^^^^^^ move occurs because `this.b` has type `State\u0026lt;B, BR, E\u0026gt;`, which does not implement the `Copy` trait error: aborting due to 2 previous errors For more information about this error, try `rustc --explain E0507`. error: could not compile `waytoodeep` To learn more, run the command again with --verbose. å› ä¸ºã€‚ã€‚ã€‚æˆ‘ä»¬åªæœ‰ \u0026amp;mut Self è€Œä¸æ˜¯ Self ã€‚\næˆ‘ä»¬æ²¡æœ‰è‡ªå·±çš„æ‰€æœ‰æƒï¼Œä»…ä»…æ˜¯å€Ÿç”¨æˆ‘ä»¬è‡ªå·±ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å°†æˆ‘ä»¬çš„æˆå‘˜è½¬ç§»ï¼ˆmoveï¼‰å‡ºå»ï¼Œå› ä¸ºæˆ‘ä»¬ä¸èƒ½é˜»æ­¢å…¶ä»–äººå†æ¬¡è½®è¯¢ TryJoin ã€‚ æ‰€ä»¥è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å´©æºƒï¼ˆpanicï¼‰ã€‚\nå½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬åƒ Option\u0026lt;T\u0026gt; é‚£æ ·æœ‰ä¸€ä¸ª .take() æ–¹æ³•äº‹æƒ…å°±ä¼šå¤§å¤§ç®€åŒ–ã€‚ å®ƒè¿”å› Option æ‹¥æœ‰çš„ä»»ä½•å†…å®¹ï¼Œæˆ–è€… None ã€‚\nä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰ None ã€‚æˆ‘ä»¬åªæœ‰ State::Future å’Œ State::OK ï¼Œæ²¡æœ‰â€œä¸­ç«‹â€ï¼ˆneutralï¼‰çŠ¶æ€ã€‚\nè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªï¼š\nenum State\u0026lt;F, T, E\u0026gt; where F: Future\u0026lt;Output = Result\u0026lt;T, E\u0026gt;\u0026gt;, { Future(F), Ok(T), Gone, } ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°† this.a å’Œ this.b æ›¿æ¢ä¸º State::Gone ã€‚ã€‚ã€‚æˆ–è€…å®ƒçš„è¿”å›ç»“æœï¼ˆæˆ‘ä»¬æ‹¥æœ‰æ‰€æœ‰æƒï¼‰ã€‚ ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°†å®ƒä»¬è½¬ç§»ï¼ˆmoveï¼‰å‡ºå»ã€‚\nä½†æ˜¯åŒæ—¶ã€‚ã€‚ã€‚æˆ‘ä»¬éœ€è¦å†æ¬¡å¯¹å…¶è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼ˆpattern matchï¼‰ã€‚\nå°±åƒï¼š\nmatch (\u0026amp;this.a, \u0026amp;this.b) { (State::Ok(_), State::Ok(_)) =\u0026gt; { let a = match std::mem::replace(\u0026amp;mut this.a, State::Gone) { State::Ok(t) =\u0026gt; t, _ =\u0026gt; unreachable!(), }; let b = match std::mem::replace(\u0026amp;mut this.b, State::Gone) { State::Ok(t) =\u0026gt; t, _ =\u0026gt; unreachable!(), }; Ok((a, b)).into() } _ =\u0026gt; Poll::Pending, } å®è¯è¯´ã€‚ã€‚ã€‚æˆ‘çœ‹è¿‡æ›´ç³Ÿçš„ä»£ç ã€‚å®ƒåªæ˜¯æ²¡é‚£ä¹ˆDRYã€‚\néå¸¸å¥½çš„å®ç°ï¼\n$ RUST_LOG=info cargo run --quiet --release Jul 25 23:52:24.097 INFO waytoodeep: Joining... Jul 25 23:52:25.050 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 25 23:52:25.061 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 25 23:52:25.061 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) çœ‹ï¼Œåªæœ‰ 11ms çš„é—´éš”ã€‚\næ›´è¿›ä¸€æ­¥ï¼Ÿ è¿™æ®µä»£ç å†æ¬¡å›°æ‰°äº†æˆ‘ï¼š\nstruct TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { a: State\u0026lt;A, AR, E\u0026gt;, b: State\u0026lt;B, BR, E\u0026gt;, } å› ä¸ºç°åœ¨ a å’Œ b æ˜¯ä¸‰æ€çš„ï¼ˆtri-stateï¼‰ï¼š Future ã€ Ok æˆ–è€… Gone ã€‚\nå¦‚æœ a å’Œ b éƒ½æ˜¯ Gone å‘¢ï¼Ÿè¿™ä¸ªçŠ¶æ€ä¸åˆç†ï¼\nå¦‚æœå‘ç”Ÿäº†è¿™ä¸ªçŠ¶æ€ï¼Œæˆ‘ä»¬ç°åœ¨å°†ä¼šæ°¸è¿œè¿”å› Poll::Pending \u0026ndash; è¿™ä¸å¤ªå¥½ \u0026ndash; ä¸€ä¸ªæ­»é”ã€‚\næˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯ã€‚ã€‚ã€‚ä¸¤ä¸ªæšä¸¾ã€‚å®é™…ä¸Šæˆ‘ä»¬æƒ³è¦æ•´ä¸ª TryJoin ç±»å‹æ˜¯ä¸€ä¸ª enum ã€‚\nenum TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { Polling { a: State\u0026lt;A, AR, E\u0026gt;, b: State\u0026lt;B, BR, E\u0026gt;, }, Done, } åƒè¿™æ ·åˆå§‹åŒ–ï¼š\npub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { TryJoin::Polling { a: State::Future(a), b: State::Future(b), } } ç„¶åï¼Œsurpriceï¼ Poll\u0026lt;T\u0026gt; å®ç°äº† Try traitã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ? ã€‚ æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬çš„ä»£ç å®é™…ä¸Šéå¸¸çŸ­å°ï¼š\nimpl\u0026lt;A, B, AR, BR, E\u0026gt; Future for TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { type Output = Result\u0026lt;(AR, BR), E\u0026gt;; fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let this = unsafe { self.get_unchecked_mut() }; let (a, b) = match this { Self::Polling { a, b } =\u0026gt; (a, b), Self::Done =\u0026gt; panic!(\u0026#34;TryJoin future polled after completion\u0026#34;), }; if let State::Future(fut) = a { if let Poll::Ready(res) = unsafe { Pin::new_unchecked(fut) }.poll(cx) { *a = State::Ok(res?); } } if let State::Future(fut) = b { if let Poll::Ready(res) = unsafe { Pin::new_unchecked(fut) }.poll(cx) { *b = State::Ok(res?); } } match (a, b) { (State::Ok(_), State::Ok(_)) =\u0026gt; match std::mem::replace(this, Self::Done) { Self::Polling { a: State::Ok(a), b: State::Ok(b), } =\u0026gt; Ok((a, b)).into(), _ =\u0026gt; unreachable!(), }, _ =\u0026gt; Poll::Pending, } } } ç°åœ¨ï¼Œæˆ‘çŸ¥é“ä½ åœ¨æƒ³ä»€ä¹ˆã€‚ Pin\u0026lt;\u0026amp;mut T\u0026gt; ä¸æ˜¯æ°æ°ç”¨æ¥é¿å…åƒ std::mem::swap å’Œ std::mem::replace å—ï¼Ÿ è¿™äº›æ‰€æœ‰çš„è½¬ç§»ï¼ˆmoveï¼‰éƒ½æ˜¯å›´ç»•ç€å†…å­˜ï¼è¿™æ˜¯è¢«ç¦æ­¢çš„ï¼æ˜¯çš„ï¼Œæˆ‘ä»¬æ‰¿è¯ºäº†ä¸å»è½¬ç§»ï¼ˆmoveï¼‰å®ƒã€‚ ä½†æ˜¯åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨å®Œæˆè½®è¯¢ä¸¤ä¸ª future å¯¹è±¡åè½¬ç§»äº† self / this ã€‚\nç„¶åæˆ‘ä»¬å°±å†ä¹Ÿæ²¡æœ‰ä½¿ç”¨è¿‡ä¸¤ä¸ª future å¯¹è±¡ï¼Œæ— è®ºå›ºå®šè¿˜æ˜¯éå›ºå®šã€‚åŒæ—¶æˆ‘ä»¬ä»æ¥ä¹Ÿæ²¡ä¿è¯è¿‡ç»“æœè‡ªèº«æ˜¯å¦å°†è¦è¢«å›ºå®šï¼ˆpinnedï¼‰ï¼\næˆ‘ä»¬åªéœ€è¦å†³å®šæŸäº›ä¸œè¥¿æ˜¯â€œæ°¸è¿œå›ºå®šâ€è¿˜æ˜¯â€œæ°¸ä¸å›ºå®šâ€ï¼Œç„¶åæˆ‘ä»¬å¯èƒ½ä¼šç¼–å†™ç»“æœæ­£ç¡®çš„ä»£ç ã€‚\nåœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸‹ï¼Œåªæœ‰ TryJoin::Polling(State::Future(_)) å°±æ˜¯â€œæ°¸è¿œå›ºå®šâ€ çš„ï¼Œå…¶ä»–éƒ½ä¸æ˜¯ã€‚\nå½“ç„¶ï¼Œæˆ‘ä»¬å¿«é€Ÿçš„ä» Pin\u0026lt;\u0026amp;mut Self\u0026gt; åˆ‡æ¢åˆ° \u0026amp;mut Self ï¼Œç„¶ååˆå›åˆ° Pin\u0026lt;\u0026amp;mut A\u0026gt; ï¼Œ ä½†åªè¦æˆ‘ä»¬ä¸è¦åœ¨ä¸­é—´ç§»åŠ¨å°±æ²¡æœ‰é—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»¬åœ¨æŒæœ‰ future å¯¹è±¡çš„æƒ…å†µä¸‹ä½¿ç”¨ std::mem:replace æˆ– std::mem::swap å°±ä¼šä¸å¦™ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜å¥½ï¼Œæˆ‘æƒ³ï¼Œæˆ‘ä¸å¤ªç¡®å®šã€‚å¦‚æœä¸æ˜¯ï¼Œæœ‰äººåº”è¯¥ä¼šç•™è¨€ã€‚\nå°±è¿™æ · è®©æˆ‘ä»¬å›é¡¾æˆ‘ä»¬çš„å·¥ä½œï¼š\n// in `src/tj.rs` use std::{ future::Future, pin::Pin, task::{Context, Poll}, }; pub fn try_join\u0026lt;A, B, AR, BR, E\u0026gt;(a: A, b: B) -\u0026gt; impl Future\u0026lt;Output = Result\u0026lt;(AR, BR), E\u0026gt;\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { TryJoin::Polling { a: State::Future(a), b: State::Future(b), } } enum State\u0026lt;F, T, E\u0026gt; where F: Future\u0026lt;Output = Result\u0026lt;T, E\u0026gt;\u0026gt;, { Future(F), Ok(T), } enum TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { Polling { a: State\u0026lt;A, AR, E\u0026gt;, b: State\u0026lt;B, BR, E\u0026gt;, }, Done, } impl\u0026lt;A, B, AR, BR, E\u0026gt; Future for TryJoin\u0026lt;A, B, AR, BR, E\u0026gt; where A: Future\u0026lt;Output = Result\u0026lt;AR, E\u0026gt;\u0026gt;, B: Future\u0026lt;Output = Result\u0026lt;BR, E\u0026gt;\u0026gt;, { type Output = Result\u0026lt;(AR, BR), E\u0026gt;; fn poll(self: Pin\u0026lt;\u0026amp;mut Self\u0026gt;, cx: \u0026amp;mut Context\u0026lt;\u0026#39;_\u0026gt;) -\u0026gt; Poll\u0026lt;Self::Output\u0026gt; { let this = unsafe { self.get_unchecked_mut() }; let (a, b) = match this { Self::Polling { a, b } =\u0026gt; (a, b), Self::Done =\u0026gt; panic!(\u0026#34;TryJoin future polled after completion\u0026#34;), }; if let State::Future(fut) = a { if let Poll::Ready(res) = unsafe { Pin::new_unchecked(fut) }.poll(cx) { *a = State::Ok(res?); } } if let State::Future(fut) = b { if let Poll::Ready(res) = unsafe { Pin::new_unchecked(fut) }.poll(cx) { *b = State::Ok(res?); } } match (a, b) { (State::Ok(_), State::Ok(_)) =\u0026gt; match std::mem::replace(this, Self::Done) { Self::Polling { a: State::Ok(a), b: State::Ok(b), } =\u0026gt; Ok((a, b)).into(), _ =\u0026gt; unreachable!(), }, _ =\u0026gt; Poll::Pending, } } } è¿˜æœ‰æˆ‘ä»¬å°å°çš„ HTTPS å®¢æˆ·ç«¯ï¼š\n// in `src/main.rs` use color_eyre::Report; use std::{net::SocketAddr, sync::Arc}; use tokio::{ io::{AsyncReadExt, AsyncWriteExt}, net::TcpStream, }; use tokio_rustls::{rustls::ClientConfig, TlsConnector}; use tracing::info; use tracing_subscriber::EnvFilter; use webpki::DNSNameRef; mod tj; #[tokio::main(flavor = \u0026#34;current_thread\u0026#34;)] async fn main() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { setup()?; info!(\u0026#34;Joining...\u0026#34;); let res = tj::try_join(fetch_thing(\u0026#34;first\u0026#34;), fetch_thing(\u0026#34;second\u0026#34;)).await?; info!(?res, \u0026#34;All done!\u0026#34;); Ok(()) } #[allow(dead_code)] async fn fetch_thing(name: \u0026amp;str) -\u0026gt; Result\u0026lt;\u0026amp;str, Report\u0026gt; { // look out it\u0026#39;s port 443 now let addr: SocketAddr = ([1, 1, 1, 1], 443).into(); let socket = TcpStream::connect(addr).await?; // establish a TLS session... let connector: TlsConnector = { let mut config = ClientConfig::new(); config .root_store .add_server_trust_anchors(\u0026amp;webpki_roots::TLS_SERVER_ROOTS); Arc::new(config).into() }; let dnsname = DNSNameRef::try_from_ascii_str(\u0026#34;one.one.one.one\u0026#34;)?; let mut socket = connector.connect(dnsname, socket).await?; // we\u0026#39;re writing straight to the socket, there\u0026#39;s no buffering // so no need to flush socket.write_all(b\u0026#34;GET / HTTP/1.1\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;Host: one.one.one.one\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;User-Agent: cool-bear\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;Connection: close\\r\\n\u0026#34;).await?; socket.write_all(b\u0026#34;\\r\\n\u0026#34;).await?; let mut response = String::with_capacity(256); socket.read_to_string(\u0026amp;mut response).await?; let status = response.lines().next().unwrap_or_default(); info!(%status, , \u0026#34;Got response!\u0026#34;); // dropping the socket will close the connection Ok(name) } fn setup() -\u0026gt; Result\u0026lt;(), Report\u0026gt; { if std::env::var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LIB_BACKTRACE\u0026#34;, \u0026#34;1\u0026#34;) } color_eyre::install()?; if std::env::var(\u0026#34;RUST_LOG\u0026#34;).is_err() { std::env::set_var(\u0026#34;RUST_LOG\u0026#34;, \u0026#34;info\u0026#34;) } tracing_subscriber::fmt::fmt() .with_env_filter(EnvFilter::from_default_env()) .init(); Ok(()) } And it works.\n$ RUST_LOG=info cargo run --quiet --release Jul 26 00:08:13.399 INFO waytoodeep: Joining... Jul 26 00:08:13.707 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=first Jul 26 00:08:13.709 INFO waytoodeep: Got response! status=HTTP/1.1 200 OK name=second Jul 26 00:08:13.710 INFO waytoodeep: All done! res=(\u0026#34;first\u0026#34;, \u0026#34;second\u0026#34;) 2ms é—´éš”ï¼è¿™æ˜¯ä¸€ä¸ªæ–°çš„è®°å½•ã€‚\n","permalink":"https://notes.0081800.xyz/articles/20210726105711-understanding_rust_futures_by_going_way_too_deep/","summary":"tags: Translate,Rust,Tokio åŸæ–‡é“¾æ¥ï¼šUnderstanding Rust futures by going way too deepã€‚\nè¯‘è€…æ³¨ï¼šåŸæ–‡å¤§é‡çš„å¼•å…¥äº†æœ‰è¶£çš„å¯¹è¯ï¼Œè¿«äºæ’ç‰ˆé—®é¢˜è¿™é‡Œä¸è¿›è¡Œç¿»è¯‘ï¼Œå¿…è¦çš„å¯¹è¯é€šè¿‡å¼•ç”¨å—æ¥è§£é‡Šã€‚\næ·±å…¥ç†è§£ Rust future ç”¨ Rust futureï¼å°±æ˜¯è¿™ä¹ˆç®€å•ï¼ç›´åˆ°æˆ‘ä»¬å‘ç°å¹¶éå¦‚æ­¤ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆæ¢ç´¢ç®€å•çš„éƒ¨åˆ†ï¼Œç„¶åç»§ç»­æ¢ç´¢å›°éš¾éƒ¨åˆ†è€Œä¸æ˜¯ç­‰å®ƒæ…¢æ…¢é è¿‘æˆ‘ä»¬ã€‚\nèµ·æ­¥ Choo choo here comes the easy part ğŸš‚ğŸ’¨\næˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼š\n$ cargo new waytoodeep Created binary (application) `waytoodeep` package æˆ‘ä»¬éœ€è¦å®‰è£… cargo-edit å¦‚æœä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡çš„è¯ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥ cargo add ï¼š\n$ cargo install cargo-edit Updating crates.io index Downloaded cargo-edit v0.7.0 Downloaded 1 crate (57.6 KB) in 0.47s Ignored package `cargo-edit v0.7.0` is already installed, use --force to override å› ä¸º cargo-edit å¾ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥ä½ å¯èƒ½å·²ç»å®‰è£…è¿‡å®ƒã€‚éƒ¨åˆ†è¯»è€…ä¼šæ„Ÿåˆ°å›°æƒ‘æ˜¯å› ä¸ºåƒ cargo new, cargo build, cargo test, cargo run ç­‰å­å‘½ä»¤éƒ½å†…ç½®åœ¨ cargo ä¸­ï¼Œ ä½†æ˜¯ cargo add æ²¡æœ‰ã€‚","title":"Understanding Rust futures by going way too deep"},{"content":"ååºé›†åˆï¼ˆè‹±è¯­ï¼šPartiallyordered setï¼Œç®€å†™posetï¼‰æ˜¯æ•°å­¦ä¸­ï¼Œç‰¹åˆ«æ˜¯åºç†è®ºä¸­ï¼ŒæŒ‡é…å¤‡äº†éƒ¨åˆ†æ’åºå…³ç³»çš„é›†åˆã€‚ è¿™\nSee also: ååºå…³ç³»\n","permalink":"https://notes.0081800.xyz/notes/20210726080332-%E5%81%8F%E5%BA%8F/","summary":"ååºé›†åˆï¼ˆè‹±è¯­ï¼šPartiallyordered setï¼Œç®€å†™posetï¼‰æ˜¯æ•°å­¦ä¸­ï¼Œç‰¹åˆ«æ˜¯åºç†è®ºä¸­ï¼ŒæŒ‡é…å¤‡äº†éƒ¨åˆ†æ’åºå…³ç³»çš„é›†åˆã€‚ è¿™\nSee also: ååºå…³ç³»","title":"ååº"},{"content":"CAP æœ€åˆä½œä¸ºä¸€ä¸ªç»éªŒæ³•åˆ™æå‡ºï¼ˆ20 ä¸–çºª 70 å¹´ä»£ï¼‰ï¼Œå¹¶æ²¡æœ‰å‡†ç¡®çš„å®šä¹‰ï¼Œç›®çš„ä¹Ÿåªæ˜¯å¸®åŠ©å¤§å®¶æ·±å…¥æ¢è®¨æ•°æ®åº“è®¾è®¡çš„æƒè¡¡ä¹‹é“ã€‚å®ƒç”± Eric Brewer äº 2000 å¹´æ­£å¼å‘½åã€‚\nè§£é‡Šä¸€ CAP å®šç†ï¼šä¸è¦æ±‚çº¿æ€§åŒ–çš„åº”ç”¨æ›´èƒ½å®¹å¿ç½‘ç»œæ•…éšœã€‚\nåªè¦ä¸å¯é æ‰è¯¶é»„å“¦ï¼Œéƒ½ä¼šå‘ç”Ÿè¿èƒŒçº¿æ€§åŒ–çš„é£é™©ã€‚æˆ‘ä»¬å¯ä»¥åšå¦‚ä¸‹æƒè¡¡ï¼š\nå¦‚æœåº”ç”¨è¦æ±‚çº¿æ€§åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿç½‘ç»œåˆ†åŒºï¼Œåˆ™å¿…é¡»ç­‰å¾…ç½‘ç»œä¿®å¤ï¼Œæˆ–è€…ç›´æ¥è¿”å›é”™è¯¯ã€‚ç»“æœä¸ºæœåŠ¡ä¸å¯ç”¨ï¼ˆä¿è¯ä¸€è‡´æ€§æˆ–è€…çº¿æ€§åŒ–ï¼‰ã€‚ å¦‚æœåº”ç”¨ä¸è¦æ±‚çº¿æ€§åŒ–ï¼Œä¸”æ¯ä¸ªå¯å‰¯æœ¬ç‹¬ç«‹å¤„ç†è¯·æ±‚ã€‚æ­¤æ—¶æœåŠ¡å¯ç”¨ï¼Œä½†ç»“æœè¡Œä¸ºä¸ç¬¦åˆçº¿æ€§åŒ–ï¼ˆä¿è¯é«˜å¯ç”¨ï¼‰ã€‚ è§£é‡ŠäºŒ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰ã€‚ç³»ç»Ÿåªèƒ½æ”¯æŒä¸¤ä¸ªç‰¹æ€§ã€‚\nè¿™é‡Œçš„åˆ†åŒºæŒ‡ç½‘ç»œåˆ†åŒºï¼ˆå³ç½‘ç»œæ•…éšœï¼‰ã€‚\nä¸è¿‡ï¼Œè¿™ç§ç†è§£å­˜åœ¨è¯¯å¯¼æ€§ï¼Œç½‘ç»œåˆ†åŒºæ˜¯ä¸€ç§æ•…éšœï¼Œä¸ç®¡å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢ï¼Œå®ƒéƒ½å¯èƒ½å‘ç”Ÿï¼Œæ‰€ä»¥æ— æ³•é€‰æ‹©æˆ–é€ƒé¿åˆ†åŒºé—®é¢˜ã€‚\nç½‘ç»œæ­£å¸¸çš„æ—¶å€™ï¼Œç³»ç»Ÿå¯ä»¥åŒæ—¶ä¿è¯ä¸€è‡´æ€§ï¼ˆçº¿æ€§åŒ–ï¼‰å’Œå¯ç”¨æ€§ã€‚è€Œä¸€æ—¦å‘ç”Ÿäº†ç½‘ç»œæ•…éšœï¼Œå¿…é¡»è¦ä¹ˆé€‰æ‹©çº¿æ€§ï¼ˆä¸€è‡´æ€§ï¼‰ï¼Œè¦ä¹ˆå¯ç”¨æ€§ã€‚ ä¹Ÿå°±æ˜¯â€œç½‘ç»œåˆ†åŒºçš„æƒ…å†µä¸‹â€æ˜¯é€‰æ‹©ä¸€è‡´è¿˜æ˜¯å¯ç”¨ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210726072940-cap_%E7%90%86%E8%AE%BA/","summary":"CAP æœ€åˆä½œä¸ºä¸€ä¸ªç»éªŒæ³•åˆ™æå‡ºï¼ˆ20 ä¸–çºª 70 å¹´ä»£ï¼‰ï¼Œå¹¶æ²¡æœ‰å‡†ç¡®çš„å®šä¹‰ï¼Œç›®çš„ä¹Ÿåªæ˜¯å¸®åŠ©å¤§å®¶æ·±å…¥æ¢è®¨æ•°æ®åº“è®¾è®¡çš„æƒè¡¡ä¹‹é“ã€‚å®ƒç”± Eric Brewer äº 2000 å¹´æ­£å¼å‘½åã€‚\nè§£é‡Šä¸€ CAP å®šç†ï¼šä¸è¦æ±‚çº¿æ€§åŒ–çš„åº”ç”¨æ›´èƒ½å®¹å¿ç½‘ç»œæ•…éšœã€‚\nåªè¦ä¸å¯é æ‰è¯¶é»„å“¦ï¼Œéƒ½ä¼šå‘ç”Ÿè¿èƒŒçº¿æ€§åŒ–çš„é£é™©ã€‚æˆ‘ä»¬å¯ä»¥åšå¦‚ä¸‹æƒè¡¡ï¼š\nå¦‚æœåº”ç”¨è¦æ±‚çº¿æ€§åŒ–ï¼Œä¸€æ—¦å‘ç”Ÿç½‘ç»œåˆ†åŒºï¼Œåˆ™å¿…é¡»ç­‰å¾…ç½‘ç»œä¿®å¤ï¼Œæˆ–è€…ç›´æ¥è¿”å›é”™è¯¯ã€‚ç»“æœä¸ºæœåŠ¡ä¸å¯ç”¨ï¼ˆä¿è¯ä¸€è‡´æ€§æˆ–è€…çº¿æ€§åŒ–ï¼‰ã€‚ å¦‚æœåº”ç”¨ä¸è¦æ±‚çº¿æ€§åŒ–ï¼Œä¸”æ¯ä¸ªå¯å‰¯æœ¬ç‹¬ç«‹å¤„ç†è¯·æ±‚ã€‚æ­¤æ—¶æœåŠ¡å¯ç”¨ï¼Œä½†ç»“æœè¡Œä¸ºä¸ç¬¦åˆçº¿æ€§åŒ–ï¼ˆä¿è¯é«˜å¯ç”¨ï¼‰ã€‚ è§£é‡ŠäºŒ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰ã€åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition toleranceï¼‰ã€‚ç³»ç»Ÿåªèƒ½æ”¯æŒä¸¤ä¸ªç‰¹æ€§ã€‚\nè¿™é‡Œçš„åˆ†åŒºæŒ‡ç½‘ç»œåˆ†åŒºï¼ˆå³ç½‘ç»œæ•…éšœï¼‰ã€‚\nä¸è¿‡ï¼Œè¿™ç§ç†è§£å­˜åœ¨è¯¯å¯¼æ€§ï¼Œç½‘ç»œåˆ†åŒºæ˜¯ä¸€ç§æ•…éšœï¼Œä¸ç®¡å–œæ¬¢è¿˜æ˜¯ä¸å–œæ¬¢ï¼Œå®ƒéƒ½å¯èƒ½å‘ç”Ÿï¼Œæ‰€ä»¥æ— æ³•é€‰æ‹©æˆ–é€ƒé¿åˆ†åŒºé—®é¢˜ã€‚\nç½‘ç»œæ­£å¸¸çš„æ—¶å€™ï¼Œç³»ç»Ÿå¯ä»¥åŒæ—¶ä¿è¯ä¸€è‡´æ€§ï¼ˆçº¿æ€§åŒ–ï¼‰å’Œå¯ç”¨æ€§ã€‚è€Œä¸€æ—¦å‘ç”Ÿäº†ç½‘ç»œæ•…éšœï¼Œå¿…é¡»è¦ä¹ˆé€‰æ‹©çº¿æ€§ï¼ˆä¸€è‡´æ€§ï¼‰ï¼Œè¦ä¹ˆå¯ç”¨æ€§ã€‚ ä¹Ÿå°±æ˜¯â€œç½‘ç»œåˆ†åŒºçš„æƒ…å†µä¸‹â€æ˜¯é€‰æ‹©ä¸€è‡´è¿˜æ˜¯å¯ç”¨ã€‚","title":"CAP ç†è®º"},{"content":" tags: åˆ†å¸ƒå¼å…±è¯†,ä¸€è‡´æ€§ ä¸€è‡´æ€§ä¿è¯ åˆ†å¸ƒå¼ä¸€è‡´æ€§ä¸»è¦é’ˆå¯¹å»¶è¿Ÿå’Œæ•…éšœç­‰é—®é¢˜æ¥åè°ƒå‰¯æœ¬ä¹‹é—´çš„çŠ¶æ€ã€‚\nçº¿æ€§åŒ–ï¼šæœ€å¼ºä¸€è‡´æ€§æ¨¡å‹ é¡ºåºä¿è¯ï¼šä¿è¯æ—¶é—´é¡ºåºï¼Œç‰¹åˆ«æ˜¯å› æœå…³ç³»å’Œå…¨å±€é¡ºåº æœ€ç»ˆä¸€è‡´æ€§ï¼šä¸€ç§éå¸¸å¼±çš„ä¿è¯ï¼Œå‚è§æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº” å¯çº¿æ€§åŒ– åˆ†å¸ƒå¼è¯­ä¹‰ä¸‹å¯¹å¯„å­˜å™¨ï¼ˆå•ä¸ªå¯¹è±¡ï¼‰é¡ºåºçš„è¯»å†™ã€‚åº”åŒºåˆ«ä¸å¯ä¸²è¡ŒåŒ–ã€‚\nå¯ä¸²è¡ŒåŒ–é’ˆå¯¹ä¸åŒäº‹åŠ¡çš„éš”ç¦»ï¼Œç”¨æ¥ç¡®ä¿äº‹åŠ¡æ‰§è¡Œçš„ç»“æœä¸ä¸²å½¢æ‰§è¡Œçš„ç»“æœç›¸åŒ å¯çº¿æ€§åŒ–æ˜¯è¯»å†™å¯„å­˜å™¨ï¼ˆå•ä¸ªå¯¹è±¡ï¼‰çš„æœ€æ–°å€¼çš„ä¿è¯ã€‚ çº¿æ€§åŒ–ä¾èµ–çš„æ¡ä»¶ åŠ é”ä¸ä¸»èŠ‚ç‚¹é€‰ä¸¾ æ¯ä¸ªå¯åŠ¨èŠ‚ç‚¹éƒ½è¯•å›¾è·å¾—é”ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªå¯ä»¥æˆåŠŸæˆä¸ºä¸»èŠ‚ç‚¹ã€‚é€šè¿‡åŠ é”æ¥ä¿è¯ä¸»èŠ‚ç‚¹é€‰ä¸¾ã€Œçº¿æ€§åŒ–ã€ã€‚\nçº¦æŸä¸å”¯ä¸€æ€§ä¿è¯ åŒä¸€ä¸ªç”¨æˆ·åã€ç”µå­é‚®ä»¶æˆ–ç³»ç»Ÿä¸­æ–‡ä»¶åéœ€è¦å”¯ä¸€æ€§çš„ä¿è¯ï¼Œä¹Ÿåº”è¯¥è¿›è¡Œã€Œçº¿æ€§åŒ–ã€ã€‚\nè·¨é€šé“çš„æ—¶é—´ä¾èµ– ç³»ç»Ÿä¸­å­˜åœ¨å…¶ä»–é€šä¿¡æ¸ é“ä¹Ÿéœ€è¦ã€Œçº¿æ€§åŒ–ã€ã€‚\nå®ç°çº¿æ€§åŒ–ç³»ç»Ÿ ä¸»ä»å¤åˆ¶ï¼ˆéƒ¨åˆ†æ”¯æŒå¯çº¿æ€§åŒ–ï¼‰ å…±è¯†ç®—æ³•ï¼ˆå¯çº¿æ€§åŒ–ï¼‰ å¤šä¸»å¤åˆ¶ï¼ˆä¸å¯çº¿æ€§åŒ–ï¼‰ æ— ä¸»å¤åˆ¶ï¼ˆå¯èƒ½ä¸å¯çº¿æ€§åŒ–ï¼‰ çº¿æ€§åŒ–ä¸Quorum ä¸€è‡´æ€§ Dynamo é£æ ¼çš„å¤åˆ¶æ¨¡å‹ï¼Œè¯»å†™éµä»ä¸¥æ ¼çš„ quorum æ˜¯æ— æ³•æ”¯æŒå¯çº¿æ€§åŒ–çš„ã€‚\nçº¿æ€§åŒ–çš„ä»£ä»· å¤šä¸»å¤åˆ¶å’Œä¸»ä»å¤åˆ¶ï¼Œç½‘ç»œä¸­æ–­éƒ½ä¼šå¯¼è‡´åŒæ­¥æš‚åœï¼Œä»è€Œæ— æ³•ä¿è¯å®¢æˆ·ç«¯è¦æ±‚çš„çº¿æ€§åŒ–è¯»å†™ã€‚\nCAP ç†è®º å¯çº¿æ€§åŒ–ä¸ç½‘ç»œå»¶è¿Ÿ å¾ˆå°‘æœ‰ç³»ç»ŸçœŸæ­£æ»¡è¶³çº¿æ€§åŒ–ï¼Œç°ä»£å¤šä¸ª CPU å¯¹åŒä¸€ä¸ªå†…å­˜åœ°å€çš„è¯»å†™éƒ½ä¸èƒ½æ»¡è¶³ï¼ˆå‚è§ç¡¬ä»¶å†…å­˜æ¨¡å‹ï¼‰ï¼Œå¦‚æœéœ€è¦å¼ºä¸€è‡´åˆ™éœ€è¦å†…å­˜å±éšœï¼ˆæ …æ ï¼‰æŒ‡ä»¤ã€‚\nä¹‹æ‰€ä»¥æ”¾å¼ƒçº¿æ€§åŒ–çš„åŸå› å°±æ˜¯æ€§èƒ½ï¼Œè€Œä¸æ˜¯ä¸ºäº†å®¹é”™ã€‚ç”±äºç½‘ç»œå»¶è¿Ÿçš„ä¸ç¡®å®šæ€§ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿç½‘ç»œæ•…éšœï¼Œçº¿æ€§åŒ–å¯¹æ€§èƒ½çš„å½±å“éƒ½æ˜¯å·¨å¤§çš„ã€‚\né¡ºåºä¿è¯ é¡ºåºä¸å› æœå…³ç³» é¡ºåºæœ‰åŠ©äºä¿æŒå› æœå…³ç³»ã€‚\nå› æœé¡ºåºå¹¶éå…¨åºï¼šå› æœå…³ç³»æ˜¯å°èŒƒå›´é›†åˆçš„ååºï¼Œå¯çº¿æ€§åŒ–æ˜¯ä¸€ä¸ªå…¨åºæ“ä½œã€‚ å¯çº¿æ€§åŒ–å¼ºäºå› æœä¸€è‡´æ€§ æ•è·å› æœä¾èµ–å…³ç³»ï¼šæ£€æµ‹å¹¶å‘å†™ åºåˆ—å·æ’åº éå› æœåºåˆ—å‘ç”Ÿå™¨ é€‚ç”¨äºç³»ç»Ÿä¸å­˜åœ¨å”¯ä¸€ä¸»èŠ‚ç‚¹ã€‚\næ¯ä¸ªèŠ‚ç‚¹éƒ½ç‹¬ç«‹äº§ç”Ÿè‡ªå·±çš„ä¸€ç»„åºåˆ—å·ï¼šä¸€ä¸ªå¥‡æ•°ä¸€ä¸ªå¶æ•°ï¼Œæˆ–è€…åˆ‡å…¥èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ ç”¨è¶³å¤Ÿé«˜çš„åˆ†è¾¨ç‡çš„å¢™ä¸Šæ—¶é—´æˆ³é™„åŠ åˆ°æ¯ä¸ªæ“ä½œä¸Šã€‚ é¢„å…ˆåˆ†é…åŒºé—´èŒƒå›´ï¼Œå¹¶åŠæ—¶æ‰©å®¹ã€‚ Lamport æ—¶é—´æˆ³ å¯ä»¥äº§ç”Ÿå› æœå…³ç³»ä¸€è‡´çš„åºåˆ—å·ã€‚Lamport æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªå€¼å¯¹ ï¼ˆè®¡æ•°å™¨ï¼ŒèŠ‚ç‚¹ IDï¼‰ ï¼š\nèŠ‚ç‚¹ IDï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡å¿—ç¬¦ã€‚ è®¡æ•°å™¨ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªè®¡æ•°å™¨è®°å½•å„è‡ªå¤„ç†çš„è¯·æ±‚æ€»æ•°ã€‚ ä¼˜ç‚¹ï¼š\nä¸¤ä¸ªèŠ‚ç‚¹å¯èƒ½å­˜åœ¨ç›¸åŒçš„è®¡æ•°å™¨ï¼Œä½†æ˜¯æ—¶é—´æˆ³ä¸­çš„èŠ‚ç‚¹ ID å¯ä»¥ç¡®ä¿æ¯ä¸ªæ—¶é—´æˆ³éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ä¿è¯å…¨åºï¼šæ¯”è¾ƒä¸¤ä¸ª Lamport æ—¶é—´æˆ³ï¼Œè®¡æ•°å™¨è¾ƒå¤§çš„æ—¶é—´æˆ³è¶Šå¤§ï¼Œè®¡æ•°å™¨ç›¸åŒåˆ™èŠ‚ç‚¹ ID å¤§çš„é‚£ä¸ªæ—¶é—´æˆ³è¶Šå¤§ã€‚ é€šè¿‡èŠ‚ç‚¹æ’åºä¿è¯äº†å…¨å±€å› æœå…³ç³»ã€‚Lamport ä¸åŒäºç‰ˆæœ¬çŸ¢é‡ï¼š\nç‰ˆæœ¬çŸ¢é‡ç”¨ä»¥åŒºåˆ†ä¸¤ä¸ªæ“ä½œæ˜¯å¹¶å‘è¿˜æ˜¯å› æœä¾èµ–ã€‚ Lamport æ—¶é—´æˆ³ä¸»è¦ç”¨äºç¡®ä¿å…¨åºå…³ç³»ã€‚ æ—¶é—´æˆ³ä¾ç„¶ä¸å¤Ÿ æŸäº›åœºæ™¯ä¸‹å…¨åºå…³ç³»ä¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œæ¯”å¦‚ç”¨æˆ·åå”¯ä¸€æ€§è¦æ±‚ï¼Œä¸ºäº†ç¡®è®¤ç”¨æˆ·åå”¯ä¸€ï¼Œéœ€è¦è·å–æ‰€æœ‰èŠ‚ç‚¹æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚ï¼ŒæŸ¥çœ‹æœ‰æ²¡æœ‰ç›¸åŒçš„ç”¨æˆ·åè¯·æ±‚ï¼Œæ‰èƒ½å»ºç«‹å…¨åºå…³ç³»ã€‚\nå…¨åºå…³ç³»å¹¿æ’­ åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜ï¼š\nåˆ†å¸ƒå¼ç³»ç»Ÿä¸­è®©æ‰€æœ‰èŠ‚ç‚¹å°±å…¨åºå…³ç³»è¾¾æˆä¸€è‡´ã€‚ å¦‚ä½•æ‰©å±•ç³»ç»Ÿçš„ååé‡ä½¿ä¹‹çªç ´å•ä¸€ä¸»èŠ‚ç‚¹çš„é™åˆ¶ã€‚ å¦‚ä½•å¤„ç†ä¸»èŠ‚ç‚¹å¤±æ•ˆæ—¶çš„æ•…éšœåˆ‡æ¢ã€‚ å…¨åºå…³ç³»å¹¿æ’­é€šå¸¸æŒ‡èŠ‚ç‚¹ä¹‹é—´äº¤æ¢æ¶ˆæ¯çš„æŸç§åè®®ã€‚éœ€è¦æ»¡è¶³ä¸¤ä¸ªåŸºæœ¬å®‰å…¨å±æ€§ï¼š\nå¯é å‘é€ï¼šæ²¡æœ‰æ¶ˆæ¯ä¸¢å¤±ï¼Œä¸€å®šå‘é€åˆ°æ‰€æœ‰èŠ‚ç‚¹ã€‚ ä¸¥æ ¼æœ‰åºï¼šæ¶ˆæ¯æ€»æ˜¯ä»¥ç›¸åŒé¡ºåºå‘é€ç»™æ¯ä¸ªèŠ‚ç‚¹ã€‚ å…¨ç³»å…³ç³»å¹¿æ’­ä½¿ç”¨åœºæ™¯ ZooKeeper å’Œ etcd è¿™æ ·çš„å…±è¯†æœåŠ¡å®é™…ä¸Šå°±å®ç°äº†å…¨åºå…³ç³»å¹¿æ’­ã€‚\næ•°æ®åº“å¤åˆ¶ï¼šé€šè¿‡æ¶ˆæ¯ä¼ é€’ä»£è¡¨æ•°æ®åº“å†™è¯·æ±‚ï¼Œè®©æ¯ä¸ªå‰¯æœ¬æŒ‰ç…§ç›¸åŒçš„é¡ºåºå¤„ç†å†™è¯·æ±‚ï¼Œé‚£ä¹ˆå‰¯æœ¬å¯ä»¥ä¿æŒä¸€è‡´ã€‚ å¯ä¸²å½¢åŒ–äº‹åŠ¡ï¼šé€šè¿‡æ¶ˆæ¯è¡¨ç¤ºç¡®å®šæ€§äº‹åŠ¡å¹¶ä¸”ä½œä¸ºå­˜å‚¨è¿‡ç¨‹æ¥æ‰§è¡Œï¼Œåˆ‡æ¯ä¸ªèŠ‚ç‚¹éƒ½éµä»ç›¸åŒçš„æ‰§è¡Œé¡ºåºã€‚ æä¾› Fencing ä»¤ç‰Œçš„é”æœåŠ¡ï¼šæ¯ä¸ªè·å–é”çš„è¯·æ±‚éƒ½ä½œä¸ºæ¶ˆæ¯é™„åŠ åˆ°æ—¥å¿—ä¸­ï¼Œæ‰€æœ‰æ¶ˆæ¯æŒ‰ç…§æ—¥å¿—ä¸­çš„é¡ºåºä¸€æ¬¡ç¼–å·ã€‚ï¼ˆZooKeeper çš„ zxidï¼‰ã€‚ å…¨åºå…³ç³»å¹¿æ’­å’Œå¯çº¿æ€§åŒ– å…¨ç³»å…³ç³»å¹¿æ’­ï¼šåŸºäºå¼‚æ­¥æ¨¡å‹ï¼Œä¿è¯æ¶ˆæ¯ä»¥å›ºå®šé¡ºåºå¯é çš„å‘é€ï¼Œä½†æ˜¯ä¸ä¿è¯æ¶ˆæ¯ä½•æ—¶å‘é€æˆåŠŸ å¯çº¿æ€§åŒ–å¼ºè°ƒå°±è¿‘æ€§ï¼šè¯»å–æ—¶ä¿è¯èƒ½å¤Ÿçœ‹åˆ°æœ€æ–°å†™å…¥å€¼ã€‚ é‡‡ç”¨å…¨åºå…³ç³»å¹¿æ’­å®ç°çº¿æ€§åŒ–å­˜å‚¨ å¯ä»¥é€šè¿‡ä½¿ç”¨å…¨åºå…³ç³»å¹¿æ’­ä»¥è¿½åŠ æ—¥å¿—çš„æ–¹å¼æ¥å®ç°çº¿æ€§åŒ–çš„åŸå­æ¯”è¾ƒ-è®¾ç½®æ“ä½œï¼š\næ—¥å¿—ä¸­è¿½åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶æŒ‡æ˜ç”¨æˆ·å è¯»å–æ—¥å¿—ï¼Œå°†å…¶å¹¿æ’­ç»™æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¶ç­‰å¾…å›å¤ æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•æ¶ˆæ¯å£°ç§°æ”¹ç”¨æˆ·åå·²è¢«æ³¨å†Œã€‚å¦‚æœç¬¬ä¸€æ¡è¿™æ ·çš„å›å¤æ¥è‡ªå½“å‰èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æˆåŠŸè·å–ç”¨æˆ·åã€‚ æ­¤è¿‡ç¨‹åªä¿è¯äº†çº¿æ€§åŒ–å†™å…¥ï¼Œæ— æ³•ä¿è¯çº¿æ€§åŒ–è¯»å–ï¼Œè¿™é‡Œåªæä¾›äº†é¡ºåºä¸€è‡´æ€§æœ‰æ—¶ä¹Ÿæˆä¸ºæ—¶é—´çº¿ä¸€è‡´æ€§ï¼Œå¼±ä¸çº¿æ€§åŒ–çš„ä¿è¯ã€‚\næ»¡è¶³çº¿æ€§åŒ–è¯»å–çš„æ–¹æ¡ˆï¼š\nectd çš„ quorum è¯»å–ï¼šè¿½åŠ çš„æ–¹å¼æŠŠè¯»å–è¯·æ±‚æ’åºã€å¹¿æ’­ï¼Œç„¶åå„ä¸ªèŠ‚ç‚¹è·å–è¯¥æ—¥å¿—ï¼Œå½“æœ¬èŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯æ—¶æ‰æ‰§è¡ŒçœŸæ­£çš„æ“ä½œã€‚ ZooKeeper çš„ sync() æ“ä½œï¼šå¦‚æœå¯ä»¥ä»¥çº¿æ€§åŒ–çš„æ–¹å¼è·å–å½“å‰æœ€æ–°æ—¥å¿—ä¸­çš„æ¶ˆæ¯çš„ä½ç½®ï¼Œåˆ™æŸ¥è¯¢ä½ç½®ï¼Œç­‰å¾…ç›´åˆ°è¯¥ä½ç½®ä¹‹å‰çš„æ‰€æœ‰æ¡ç›®éƒ½å·²ç»å‘é€ç»™ä½ ï¼Œæ¥ä¸‹æ¥å†æ‰§è¡Œè¯»å–ã€‚ å¯ä»¥ä»åŒæ­¥æ›´æ–°çš„å‰¯æœ¬ä¸Šè¿›è¡Œè¯»å–ï¼Œè¿™æ ·ç¡®ä¿æ€»æ˜¯è¯»å–æœ€æ–°å€¼ã€‚è¿™ç§æŠ€æœ¯å¯ä»¥ç”¨äºé“¾å¼å¤åˆ¶ã€‚ é‡‡ç”¨çº¿æ€§åŒ–å­˜å‚¨å®ç°å…¨åºå…³ç³»å¹¿æ’­ é€šè¿‡çº¿æ€§åŒ–å­˜å‚¨é€’å¢ä¸€ä¸ªè®¡æ•°ï¼Œç›¸æ¯”äº Lamport æ—¶é—´æˆ³ å…¶å…·æœ‰è¿ç»­æ€§ï¼Œå¯ä»¥æ£€æµ‹æ¶ˆæ¯å¯é æ€§ã€‚\nå®ç°çº¿æ€§åŒ–å­˜å‚¨éš¾ç‚¹æ˜¯å¤±æ•ˆã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡ä¸å…±è¯† å…±è¯†é—®é¢˜æ˜¯åˆ†å¸ƒå¼è®¡ç®—ä¸­æœ€é‡è¦ä¹Ÿæ˜¯æœ€åŸºæœ¬çš„é—®é¢˜ä¹‹ä¸€ã€‚\nå¾ˆå¤šé‡è¦çš„åœºæ™¯éœ€è¦é›†ç¾¤èŠ‚ç‚¹è¾¾æˆä¸€è‡´ï¼Œä¾‹å¦‚ï¼š\nä¸»èŠ‚ç‚¹é€‰ä¸¾ï¼šè„‘è£‚ã€‚ åŸå­äº‹åŠ¡æäº¤ï¼šè·¨èŠ‚ç‚¹æˆ–è·¨åˆ†åŒºäº‹åŠ¡æäº¤ã€‚æ‰€æœ‰èŠ‚ç‚¹è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨ä¸­æ­¢ã€‚ åŸå­æäº¤ä¸ä¸¤é˜¶æ®µæäº¤ ä¸¤é˜¶æ®µæäº¤ tags: åˆ†å¸ƒå¼å…±è¯† 2PC æ˜¯ä¸€ç§åœ¨å¤šèŠ‚ç‚¹ä¹‹é—´å®ç°äº‹åŠ¡åŸå­æäº¤çš„ç®—æ³•ï¼Œç”¨æ¥ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹è¦ä¹ˆå…¨éƒ¨æäº¤ï¼Œè¦ä¹ˆå…¨éƒ¨ä¸­æ­¢ã€‚\nä¸åŒäºå•èŠ‚ç‚¹ä¸Šè¯·æ±‚æäº¤ï¼Œ2PC ä¸­çš„æäº¤/ä¸­æ­¢è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚\nä¸è¦æ··æ·† 2PC å’Œ 2PLã€‚\n2PL å¼•å…¥äº†æ–°çš„ç»„ä»¶ï¼šåè°ƒè€…ï¼ˆä¹Ÿç§°ä¸ºäº‹åŠ¡ç®¡ç†å™¨ï¼‰ã€‚åè°ƒè€…é€šå¸¸å®ç°ä¸ºå…±äº«åº“ï¼Œè¿è¡Œåœ¨è¯·æ±‚äº‹åŠ¡ç›¸åŒè¿›ç¨‹ä¸­ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å•ç‹¬çš„è¿›ç¨‹æˆ–æœåŠ¡ã€‚\næ•°æ®åº“èŠ‚ç‚¹ç§°ä¸ºäº‹åŠ¡ä¸­çš„å‚ä¸è€…ã€‚å½“åº”ç”¨ç¨‹åºå‡†å¤‡æäº¤äº‹åŠ¡æ—¶ï¼Œåè°ƒè€…å¼€å§‹é˜¶æ®µ1:å‘é€ä¸€ä¸ªå‡†å¤‡è¯·æ±‚åˆ°æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¯¢é—®å®ƒä»¬æ˜¯å¦å¯ä»¥æäº¤ã€‚åè°ƒè€…ç„¶åè·Ÿè¸ªå‚ä¸è€…çš„å›åº”ï¼š\nå…¨éƒ¨å›åº”ã€Œæ˜¯ã€ï¼šè¡¨ç¤ºå‡†å¤‡å¥½æäº¤ï¼Œåè°ƒè€…å¼€å§‹é˜¶æ®µ 2 ï¼Œæäº¤å¼€å§‹å®é™…æ‰§è¡Œã€‚ ä»»ä½•å›åº”ã€Œå¦ã€ï¼šåè°ƒè€…å‘é€æ”¾å¼ƒè¯·æ±‚ã€‚ å®è·µä¸­çš„åˆ†å¸ƒå¼äº‹åŠ¡ ç›®å‰ä¸¤ç§æˆªç„¶ä¸åŒçš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼š\næ•°æ®åº“å†…éƒ¨çš„åˆ†å¸ƒå¼äº‹åŠ¡ï¼šæ‰€æœ‰èŠ‚ç‚¹è¿è¡Œç›¸åŒçš„è½¯ä»¶ï¼Œåè®®ä¹Ÿæ˜¯å†…éƒ¨çš„æ— éœ€è€ƒè™‘å…¼å®¹æ€§ã€‚ å¼‚æ„åˆ†å¸ƒå¼äº‹åŠ¡ï¼šå­˜åœ¨ä¸¤ç§æˆ–ä¸¤ç§ä»¥ä¸Šçš„ä¸åŒå‚ä¸è€…å®ç°æŠ€æœ¯ã€‚å³ä½¿å®Œå…¨ä¸åŒçš„ç³»ç»Ÿï¼Œè·¨ç³»ç»Ÿçš„åˆ†å¸ƒå¼äº‹åŠ¡å¿…é¡»ç¡®ä¿åŸå­æäº¤ã€‚ å¼‚æ„åˆ†å¸ƒå¼äº‹åŠ¡å……æ»¡æŒ‘æˆ˜ã€‚\nExactly-once æ¶ˆæ¯å¤„ç† å¼‚æ„åˆ†å¸ƒå¼äº‹åŠ¡æ—¨åœ¨æ— ç¼é›†æˆå¤šç§ä¸åŒçš„ç³»ç»Ÿã€‚æ¶ˆæ¯é˜Ÿåˆ—é€šè¿‡è‡ªåŠ¨æäº¤æ¶ˆæ¯å’Œæ¶ˆæ¯å¤„ç†ç»“æœï¼Œå¯ä»¥ç¡®ä¿æ¶ˆæ¯å¯ä»¥æœ‰æ•ˆå¤„ç†æœ‰ä¸”ä»…æœ‰ä¸€æ¬¡ã€‚ è®©ç³»ç»Ÿå¯ä»¥è¿›è¡Œå®‰å…¨çš„é‡è¯•ï¼Œæ¥ä¿æŒåŸå­æ€§ã€‚\nX/A äº¤æ˜“ X/Open XAï¼ˆeXtend Architectrueï¼ŒXAï¼‰æ˜¯å¼‚æ„ç¯å¢ƒä¸‹å®æ–½ä¸¤é˜¶æ®µæäº¤çš„ä¸€ä¸ªå·¥ä¸šæ ‡å‡†ã€‚å…¶å¹¶ä¸æ˜¯ä¸€ä¸ªç½‘ç»œåè®®ï¼Œè€Œæ˜¯ä¸€ä¸ª C APIã€‚ XA å‡å®šåº”ç”¨ç¨‹åºé€šè¿‡ç½‘ç»œæˆ–è€…å®¢æˆ·ç«¯åº“å‡½æ•°ä¸å‚ä¸è€…èŠ‚ç‚¹è¿›è¡Œé€šä¿¡ã€‚äº‹åŠ¡åè°ƒè€…éœ€è¦å®ç° XA APIã€‚\nåº”ç”¨ç¨‹åºå´©æºƒï¼Œäº‹åŠ¡æ—¥å¿—ä¿å­˜åœ¨åº”ç”¨æœåŠ¡æœ¬åœ°ç£ç›˜ï¼Œéœ€è¦é‡å¯å´©æºƒèŠ‚ç‚¹ï¼ŒXA API è¯»å–æ—¥å¿—ï¼Œè¿›è€Œæ¢å¤äº‹åŠ¡çš„å†³å®šã€‚\nåœé¡¿æ‰”æŒæœ‰é” ä»åè°ƒè€…æ•…éšœæ¢å¤ å¯å‘å¼å†³ç­–ï¼šå‚ä¸è€…èŠ‚ç‚¹å¯ä»¥åœ¨ç´§æ€¥æƒ…å†µä¸‹å•æ–¹é¢åšå‡ºå†³å®šï¼Œæ”¾å¼ƒæˆ–è€…ç»§ç»­é‚£äº›åœé¡¿çš„äº‹åŠ¡ï¼Œè€Œä¸éœ€è¦ç­‰åˆ°åè°ƒè€…å‘å‡ºæŒ‡ä»¤ã€‚\nåˆ†å¸ƒå¼äº‹åŠ¡é™åˆ¶ å¦‚æœåè°ƒè€…ä¸æ”¯æŒæ•°æ®å¤åˆ¶ï¼Œä¼šé€ æˆå•ç‚¹æ•…éšœã€‚ ç ´åç°åœ¨å¾ˆå¤š HTTP æœåŠ¡çš„æ— çŠ¶æ€ç‰¹æ€§ã€‚ X/A éœ€è¦ä¿æŒå¤šç³»ç»Ÿå¯å…¼å®¹çš„æœ€ä½æ ‡å‡†ï¼Œæ¥å…¼å®¹å„ç§æ•°æ®ç³»ç»Ÿï¼Œæ— æ³•å®ç°è¯¸å¦‚æ­»é”æ£€æµ‹å’Œ SSIã€‚ åˆ†å¸ƒå¼äº‹åŠ¡æœ‰æ‰©å¤§äº‹åŠ¡å¤±è´¥çš„é£é™©ï¼Œä¸æ„å»ºå®¹é”™ç³»ç»ŸèƒŒé“è€Œé©°ã€‚ æ”¯æŒå®¹é”™çš„å…±è¯† å…±è¯†å°±æ˜¯è®©å‡ ä¸ªèŠ‚ç‚¹å°±æŸé¡¹åè®®è¾¾æˆä¸€è‡´ã€‚\néœ€è¦æ»¡è¶³çš„æ€§è´¨ï¼š\nåå•†ä¸€è‡´æ€§ï¼ˆUniform agreementï¼‰ï¼šæ‰€æœ‰èŠ‚ç‚¹éƒ½æ¥å—ç›¸åŒçš„å†³è®®ã€‚å…±è¯†çš„æ ¸å¿ƒæ€æƒ³ï¼šå†³å®šä¸€è‡´çš„ç»“æœï¼Œä¸€æ—¦å†³å®šï¼Œå°±ä¸èƒ½æ”¹å˜ã€‚ è¯šå®æ€§ï¼ˆIntegrityï¼‰ï¼šæ‰€æœ‰èŠ‚ç‚¹ä¸èƒ½åæ‚”ï¼Œå³å¯¹æŸä¸€äº›æè®®ä¸èƒ½æœ‰ä¸¤æ¬¡å†³å®šã€‚ åˆæ³•æ€§ï¼ˆValidityï¼‰ï¼šå¦‚æœå†³å®šäº†å€¼ vï¼Œåˆ™ v ä¸€å®šæ˜¯ç”±æŸä¸ªèŠ‚ç‚¹é”æè®®çš„ã€‚ å¯ç»ˆæ­¢æ€§ï¼šèŠ‚ç‚¹å¦‚æœä¸å´©æºƒåˆ™æœ€ç»ˆä¸€å®šå¯ä»¥è¾¾æˆå†³è®®ã€‚å¼•å…¥å®¹é”™æ€æƒ³ï¼šå¼ºè°ƒå…±è¯†ç®—æ³•ä¸èƒ½åŸåœ°ç©ºè½¬ï¼Œå¿…é¡»å–å¾—å®è´¨æ€§çš„è¿›å±•ã€‚å±äºä¸€ç§æ´»æ€§ï¼ˆå®‰å…¨æ€§å’Œæ´»æ€§)ã€‚ å¤§éƒ¨åˆ†èŠ‚ç‚¹éƒ½æ­£å¸¸è¿è¡Œæ‰èƒ½ç¡®ä¿å¯ç»ˆæ­¢æ€§ï¼Œè¿™ä¸ªå¤šæ•°å°±å¯èƒ½å®‰å…¨çš„æ„æˆ quorumã€‚\nå¯ç»ˆæ­¢æ€§çš„å‰æä¸‹ï¼Œå‘ç”Ÿå´©æºƒæˆ–è€…ä¸å¯ç”¨çš„èŠ‚ç‚¹æ•°å¿…é¡»å°äºåŠæ•°èŠ‚ç‚¹ã€‚\nå¤§å¤šæ•°å…±è¯†ç®—æ³•éƒ½å‡å®šç³»ç»Ÿä¸å­˜åœ¨æ‹œå åº­æ•…éšœã€‚\nå…±è¯†ç®—æ³•ä¸å…¨åºå¹¿æ’­ æœ€è‘—åçš„å®¹é”™å¼å…±è¯†ç®—æ³•åŒ…æ‹¬ï¼šVSRã€Paxosã€Raft å’Œ Zabã€‚\nè¿™äº›ç®—æ³•å®é™…ä¸Šå¹¶æ²¡æœ‰ç›´æ¥é‡‡ç”¨ä¸Šè¿°çš„å½¢å¼åŒ–æ¨¡å‹ï¼šæè®®ä¸€ä¸ªå€¼ï¼ŒåŒæ—¶æ»¡è¶³ä¸Šé¢ 4 ä¸ªå±æ€§ã€‚ ç›¸åï¼Œä»–ä»¬æ˜¯å†³å®šä¸€ä¸ªå€¼ï¼Œç„¶åé‡‡ç”¨å…¨åºå…³ç³»å¹¿æ’­ç®—æ³•ï¼šåœ¨æ¯ä¸€è½®ä¸­ï¼ŒèŠ‚ç‚¹æå‡ºä»–ä»¬æ¥ä¸‹æ¥æƒ³è¦å‘é€çš„æ¶ˆæ¯ï¼Œç„¶åå†³å®šä¸‹ä¸€ä¸ªæ¶ˆæ¯çš„å…¨å±€é¡ºåºã€‚\nå…¨åºå¹¿æ’­ç›¸å½“äºæŒç»­å¤šè½®å…±è¯†ï¼š\nç”±ä¸åå•†ä¸€è‡´æ€§ï¼Œæ‰€æœ‰èŠ‚ç‚¹å†³å®šä»¥ç›¸åŒçš„é¡ºåºå‘é€ç›¸åŒçš„æ¶ˆæ¯ã€‚ ç”±äºè¯šå®æ€§ï¼Œæ¶ˆæ¯ä¸èƒ½é‡å¤ã€‚ ç”±äºåˆæ³•æ€§ï¼Œæ¶ˆæ¯ä¸ä¼šè¢«ç ´åï¼Œä¹Ÿä¸æ˜¯å‡­ç©ºæé€ ã€‚ ç”±äºå¯ç»ˆæ­¢æ€§ï¼Œæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ å…¨åºå…³ç³»å¹¿æ’­æ¯”é‡å¤æ€§çš„ä¸€è½®å…±è¯†åªè§£å†³ä¸€ä¸ªæè®®æ›´åŠ é«˜æ•ˆï¼ˆVSRã€Raft å’Œ Zabï¼ŒPaxos å¯¹åº”çš„æ˜¯å…¶ä¼˜åŒ–ç‰ˆæœ¬ Multi-Paxiosï¼‰ã€‚\nä¸»ä»å¤åˆ¶ä¸å…±è¯† ä¸»ä»å¤åˆ¶çš„ä¸»èŠ‚ç‚¹ä¸€èˆ¬æ˜¯æœ‰è¿ç»´äººå‘˜æ‰‹åŠ¨é€‰æ‹©å’Œé…ç½®çš„ï¼Œæ˜¯ä¸€ä¸ªç‹¬è£æ€§è´¨çš„â€œä¸€è‡´æ€§ç®—æ³•â€ã€‚ å¦‚æœæ”¯æŒè‡ªåŠ¨é€‰ä¸¾ä¸»èŠ‚ç‚¹å’Œåˆ‡æ¢ï¼Œè¿™æ ·æ›´æ¥è¿‘å®¹é”™å¼å…¨åºå¹¿æ’­ï¼Œä»è€Œè¾¾æˆå…±è¯†ã€‚\nå…±è¯†é¢ä¸´é€‰ä¸¾ä¸€ä¸ªä¸»èŠ‚ç‚¹éœ€è¦ä¸€ä¸ªä¸»èŠ‚ç‚¹ã€‚è¦è§£å†³å…±è¯†ï¼Œå¿…é¡»å…ˆå¤„ç†å…±è¯†ã€‚\nEpoch å’Œ Quorum å…±è¯†ç®—æ³•åè®®é‡‡ç”¨äº†ä¸€ç§å¼±åŒ–ä¿è¯ï¼šåè®®å®šä¹‰äº†ä¸€ä¸ªä¸–ä»£ç¼–å·ï¼ˆepoch numberï¼ŒPaxos çš„ ballot numberï¼ŒVSP çš„ view numberï¼ŒRaft ä¸­çš„ term numberï¼‰ï¼Œ å¹¶ä¿è¯åœ¨æ¯ä¸ªä¸–ä»£é‡Œï¼Œä¸»èŠ‚ç‚¹æ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚\nå¦‚æœå½“å‰ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼ŒèŠ‚ç‚¹å°±å¼€å§‹ä¸€è½®æŠ•ç¥¨ã€‚é€‰ä¸¾ä¼šèµ‹äºˆä¸€ä¸ªå•è°ƒé€’å¢çš„ epoch å·ã€‚\nä¸»èŠ‚ç‚¹å¦‚æœæƒ³åšæŸä¸ªå†³å®šï¼Œéœ€å°†æè®®å‘é€ç»™å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ï¼Œç­‰å¾… quorum èŠ‚ç‚¹å“åº”ã€‚\nä¸¤è½®ä¸åŒçš„æŠ•ç¥¨ï¼šé¦–å…ˆå†³å®šè°æ˜¯ä¸»èŠ‚ç‚¹ï¼Œç„¶åå¯¹ä¸»èŠ‚ç‚¹çš„æè®®è¿›è¡ŒæŠ•ç¥¨ã€‚\nå’Œ 2PC æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼š\n2PC çš„åè°ƒè€…ä¸ä¾é é€‰ä¸¾äº§ç”Ÿã€‚ 2PC è¦æ±‚æ¯ä¸ªå‚ä¸è€…éƒ½å¿…é¡»åšå‡ºâ€œæ˜¯â€ï¼Œå®¹é”™å…±è¯†ç®—æ³•åªéœ€è¦æ”¶åˆ°å¤šæ•°èŠ‚ç‚¹çš„æŠ•ç¥¨ç»“æœå³å¯é€šè¿‡å†³è®®ã€‚ å…±è¯†ç®—æ³•å®šä¹‰äº†æ¢å¤è¿‡ç¨‹ï¼Œå‡ºç°æ•…éšœå¯é‡æ–°é€‰ä¸¾ä¸»èŠ‚ç‚¹ã€‚ å…±è¯†çš„å±€é™æ€§ èŠ‚ç‚¹æŠ•ç¥¨è¿‡ç¨‹æ˜¯ä¸€ä¸ªåŒæ­¥å¤åˆ¶è¿‡ç¨‹ã€‚ è®¸å¤šä¸¥æ ¼çš„å¤šæ•°èŠ‚ç‚¹æ‰èƒ½å…è®¸ã€‚3èŠ‚ç‚¹å…è®¸1èŠ‚ç‚¹å¤±æ•ˆã€5/2ã€‚ å¤šæ•°å…±è¯†ç®—æ³•å‡å®šä¸€ç»„å›ºå®šå‚ä¸æŠ•ç¥¨çš„èŠ‚ç‚¹é›†ï¼Œæ— æ³•åŠ¨æ€ç¼©æ‰©å®¹ã€‚ ä¾é è¶…æ—¶æ¥æ£€æµ‹èŠ‚ç‚¹å¤±æ•ˆã€‚ å¯¹ç½‘ç»œç‰¹åˆ«æ•æ„Ÿï¼Œæ¯”å¦‚ Raft ä¸­ä¸¤ä¸ªèŠ‚ç‚¹å¦‚æœç½‘ç»œæŒç»­ä¸å¯é ä¼šå‡ºç°ä¸»ä»åå¤åˆ‡æ¢ï¼Œä»è€Œæ€§èƒ½ä¸‹é™ã€‚ æˆå‘˜åè°ƒæœåŠ¡ ZooKeeper etcd å°†æˆåƒä¸Šä¸‡èŠ‚ç‚¹çš„å…±è¯†äº¤ç”±åƒ ZooKeeper è¿™æ ·ç”±ä¸‰äº”èŠ‚ç‚¹ç»„æˆçš„å…±è¯†ä»£ç†å¤§å¤§æé«˜æ€§èƒ½ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210725072621-%E4%B8%80%E8%87%B4%E6%80%A7%E4%B8%8E%E5%85%B1%E8%AF%86/","summary":"tags: åˆ†å¸ƒå¼å…±è¯†,ä¸€è‡´æ€§ ä¸€è‡´æ€§ä¿è¯ åˆ†å¸ƒå¼ä¸€è‡´æ€§ä¸»è¦é’ˆå¯¹å»¶è¿Ÿå’Œæ•…éšœç­‰é—®é¢˜æ¥åè°ƒå‰¯æœ¬ä¹‹é—´çš„çŠ¶æ€ã€‚\nçº¿æ€§åŒ–ï¼šæœ€å¼ºä¸€è‡´æ€§æ¨¡å‹ é¡ºåºä¿è¯ï¼šä¿è¯æ—¶é—´é¡ºåºï¼Œç‰¹åˆ«æ˜¯å› æœå…³ç³»å’Œå…¨å±€é¡ºåº æœ€ç»ˆä¸€è‡´æ€§ï¼šä¸€ç§éå¸¸å¼±çš„ä¿è¯ï¼Œå‚è§æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº” å¯çº¿æ€§åŒ– åˆ†å¸ƒå¼è¯­ä¹‰ä¸‹å¯¹å¯„å­˜å™¨ï¼ˆå•ä¸ªå¯¹è±¡ï¼‰é¡ºåºçš„è¯»å†™ã€‚åº”åŒºåˆ«ä¸å¯ä¸²è¡ŒåŒ–ã€‚\nå¯ä¸²è¡ŒåŒ–é’ˆå¯¹ä¸åŒäº‹åŠ¡çš„éš”ç¦»ï¼Œç”¨æ¥ç¡®ä¿äº‹åŠ¡æ‰§è¡Œçš„ç»“æœä¸ä¸²å½¢æ‰§è¡Œçš„ç»“æœç›¸åŒ å¯çº¿æ€§åŒ–æ˜¯è¯»å†™å¯„å­˜å™¨ï¼ˆå•ä¸ªå¯¹è±¡ï¼‰çš„æœ€æ–°å€¼çš„ä¿è¯ã€‚ çº¿æ€§åŒ–ä¾èµ–çš„æ¡ä»¶ åŠ é”ä¸ä¸»èŠ‚ç‚¹é€‰ä¸¾ æ¯ä¸ªå¯åŠ¨èŠ‚ç‚¹éƒ½è¯•å›¾è·å¾—é”ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªå¯ä»¥æˆåŠŸæˆä¸ºä¸»èŠ‚ç‚¹ã€‚é€šè¿‡åŠ é”æ¥ä¿è¯ä¸»èŠ‚ç‚¹é€‰ä¸¾ã€Œçº¿æ€§åŒ–ã€ã€‚\nçº¦æŸä¸å”¯ä¸€æ€§ä¿è¯ åŒä¸€ä¸ªç”¨æˆ·åã€ç”µå­é‚®ä»¶æˆ–ç³»ç»Ÿä¸­æ–‡ä»¶åéœ€è¦å”¯ä¸€æ€§çš„ä¿è¯ï¼Œä¹Ÿåº”è¯¥è¿›è¡Œã€Œçº¿æ€§åŒ–ã€ã€‚\nè·¨é€šé“çš„æ—¶é—´ä¾èµ– ç³»ç»Ÿä¸­å­˜åœ¨å…¶ä»–é€šä¿¡æ¸ é“ä¹Ÿéœ€è¦ã€Œçº¿æ€§åŒ–ã€ã€‚\nå®ç°çº¿æ€§åŒ–ç³»ç»Ÿ ä¸»ä»å¤åˆ¶ï¼ˆéƒ¨åˆ†æ”¯æŒå¯çº¿æ€§åŒ–ï¼‰ å…±è¯†ç®—æ³•ï¼ˆå¯çº¿æ€§åŒ–ï¼‰ å¤šä¸»å¤åˆ¶ï¼ˆä¸å¯çº¿æ€§åŒ–ï¼‰ æ— ä¸»å¤åˆ¶ï¼ˆå¯èƒ½ä¸å¯çº¿æ€§åŒ–ï¼‰ çº¿æ€§åŒ–ä¸Quorum ä¸€è‡´æ€§ Dynamo é£æ ¼çš„å¤åˆ¶æ¨¡å‹ï¼Œè¯»å†™éµä»ä¸¥æ ¼çš„ quorum æ˜¯æ— æ³•æ”¯æŒå¯çº¿æ€§åŒ–çš„ã€‚\nçº¿æ€§åŒ–çš„ä»£ä»· å¤šä¸»å¤åˆ¶å’Œä¸»ä»å¤åˆ¶ï¼Œç½‘ç»œä¸­æ–­éƒ½ä¼šå¯¼è‡´åŒæ­¥æš‚åœï¼Œä»è€Œæ— æ³•ä¿è¯å®¢æˆ·ç«¯è¦æ±‚çš„çº¿æ€§åŒ–è¯»å†™ã€‚\nCAP ç†è®º å¯çº¿æ€§åŒ–ä¸ç½‘ç»œå»¶è¿Ÿ å¾ˆå°‘æœ‰ç³»ç»ŸçœŸæ­£æ»¡è¶³çº¿æ€§åŒ–ï¼Œç°ä»£å¤šä¸ª CPU å¯¹åŒä¸€ä¸ªå†…å­˜åœ°å€çš„è¯»å†™éƒ½ä¸èƒ½æ»¡è¶³ï¼ˆå‚è§ç¡¬ä»¶å†…å­˜æ¨¡å‹ï¼‰ï¼Œå¦‚æœéœ€è¦å¼ºä¸€è‡´åˆ™éœ€è¦å†…å­˜å±éšœï¼ˆæ …æ ï¼‰æŒ‡ä»¤ã€‚\nä¹‹æ‰€ä»¥æ”¾å¼ƒçº¿æ€§åŒ–çš„åŸå› å°±æ˜¯æ€§èƒ½ï¼Œè€Œä¸æ˜¯ä¸ºäº†å®¹é”™ã€‚ç”±äºç½‘ç»œå»¶è¿Ÿçš„ä¸ç¡®å®šæ€§ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿç½‘ç»œæ•…éšœï¼Œçº¿æ€§åŒ–å¯¹æ€§èƒ½çš„å½±å“éƒ½æ˜¯å·¨å¤§çš„ã€‚\né¡ºåºä¿è¯ é¡ºåºä¸å› æœå…³ç³» é¡ºåºæœ‰åŠ©äºä¿æŒå› æœå…³ç³»ã€‚\nå› æœé¡ºåºå¹¶éå…¨åºï¼šå› æœå…³ç³»æ˜¯å°èŒƒå›´é›†åˆçš„ååºï¼Œå¯çº¿æ€§åŒ–æ˜¯ä¸€ä¸ªå…¨åºæ“ä½œã€‚ å¯çº¿æ€§åŒ–å¼ºäºå› æœä¸€è‡´æ€§ æ•è·å› æœä¾èµ–å…³ç³»ï¼šæ£€æµ‹å¹¶å‘å†™ åºåˆ—å·æ’åº éå› æœåºåˆ—å‘ç”Ÿå™¨ é€‚ç”¨äºç³»ç»Ÿä¸å­˜åœ¨å”¯ä¸€ä¸»èŠ‚ç‚¹ã€‚\næ¯ä¸ªèŠ‚ç‚¹éƒ½ç‹¬ç«‹äº§ç”Ÿè‡ªå·±çš„ä¸€ç»„åºåˆ—å·ï¼šä¸€ä¸ªå¥‡æ•°ä¸€ä¸ªå¶æ•°ï¼Œæˆ–è€…åˆ‡å…¥èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ ç”¨è¶³å¤Ÿé«˜çš„åˆ†è¾¨ç‡çš„å¢™ä¸Šæ—¶é—´æˆ³é™„åŠ åˆ°æ¯ä¸ªæ“ä½œä¸Šã€‚ é¢„å…ˆåˆ†é…åŒºé—´èŒƒå›´ï¼Œå¹¶åŠæ—¶æ‰©å®¹ã€‚ Lamport æ—¶é—´æˆ³ å¯ä»¥äº§ç”Ÿå› æœå…³ç³»ä¸€è‡´çš„åºåˆ—å·ã€‚Lamport æ—¶é—´æˆ³æ˜¯ä¸€ä¸ªå€¼å¯¹ ï¼ˆè®¡æ•°å™¨ï¼ŒèŠ‚ç‚¹ IDï¼‰ ï¼š\nèŠ‚ç‚¹ IDï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ ‡å¿—ç¬¦ã€‚ è®¡æ•°å™¨ï¼šæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªè®¡æ•°å™¨è®°å½•å„è‡ªå¤„ç†çš„è¯·æ±‚æ€»æ•°ã€‚ ä¼˜ç‚¹ï¼š\nä¸¤ä¸ªèŠ‚ç‚¹å¯èƒ½å­˜åœ¨ç›¸åŒçš„è®¡æ•°å™¨ï¼Œä½†æ˜¯æ—¶é—´æˆ³ä¸­çš„èŠ‚ç‚¹ ID å¯ä»¥ç¡®ä¿æ¯ä¸ªæ—¶é—´æˆ³éƒ½æ˜¯å”¯ä¸€çš„ã€‚ ä¿è¯å…¨åºï¼šæ¯”è¾ƒä¸¤ä¸ª Lamport æ—¶é—´æˆ³ï¼Œè®¡æ•°å™¨è¾ƒå¤§çš„æ—¶é—´æˆ³è¶Šå¤§ï¼Œè®¡æ•°å™¨ç›¸åŒåˆ™èŠ‚ç‚¹ ID å¤§çš„é‚£ä¸ªæ—¶é—´æˆ³è¶Šå¤§ã€‚ é€šè¿‡èŠ‚ç‚¹æ’åºä¿è¯äº†å…¨å±€å› æœå…³ç³»ã€‚Lamport ä¸åŒäºç‰ˆæœ¬çŸ¢é‡ï¼š","title":"ä¸€è‡´æ€§ä¸å…±è¯†"},{"content":"èŠ‚ç‚¹æ’’è°ä¼ªé€  Fencing ä»¤ç‰Œï¼Œæˆ–è€…éƒ¨åˆ†èŠ‚ç‚¹æ•…éšœã€ä¸éµä»åè®®ã€å¹²æ‰°ç½‘ç»œæˆ–è€…æ¶æ„æ”»å‡»ï¼Œåˆ™ä¸ºã€Œæ‹œå åº­æ•…éšœã€ã€‚ å¦‚æœç³»ç»Ÿä»å¯ä»¥ç»§ç»­è¿è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºã€Œæ‹œå åº­å¼å®¹é”™ç³»ç»Ÿã€ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210722080226-%E6%8B%9C%E5%8D%A0%E5%BA%AD%E6%95%85%E9%9A%9C/","summary":"èŠ‚ç‚¹æ’’è°ä¼ªé€  Fencing ä»¤ç‰Œï¼Œæˆ–è€…éƒ¨åˆ†èŠ‚ç‚¹æ•…éšœã€ä¸éµä»åè®®ã€å¹²æ‰°ç½‘ç»œæˆ–è€…æ¶æ„æ”»å‡»ï¼Œåˆ™ä¸ºã€Œæ‹œå åº­æ•…éšœã€ã€‚ å¦‚æœç³»ç»Ÿä»å¯ä»¥ç»§ç»­è¿è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºã€Œæ‹œå åº­å¼å®¹é”™ç³»ç»Ÿã€ã€‚","title":"æ‹œå åº­æ•…éšœ"},{"content":"Fencingï¼ˆå›´æ ï¼‰é”ï¼Œæ¯æ¬¡é”æœåŠ¡æˆäºˆé”æ—¶ï¼ŒåŒæ—¶è¿”å› fencing ä»¤ç‰Œï¼Œæ¯æ¬¡å®¢æˆ·ç«¯å‘é€å†™è¯·æ±‚ï¼Œéƒ½å¿…é¡»åŒ…å«æ‰€æŒæœ‰çš„ fencing ä»¤ç‰Œã€‚\nfencing ä»¤ç‰Œå•è°ƒé€’å¢ï¼Œå¦‚æœä½ç‰ˆæœ¬çš„å†™å…¥ååˆ°è¾¾ï¼Œå‘ç°å·²ç»æœ‰é«˜ç‰ˆæœ¬çš„ fencing ä»¤ç‰Œå†™å…¥ï¼Œåˆ™æ‹’ç»æ­¤æ¬¡å†™å…¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210722075942-fencing_%E4%BB%A4%E7%89%8C/","summary":"Fencingï¼ˆå›´æ ï¼‰é”ï¼Œæ¯æ¬¡é”æœåŠ¡æˆäºˆé”æ—¶ï¼ŒåŒæ—¶è¿”å› fencing ä»¤ç‰Œï¼Œæ¯æ¬¡å®¢æˆ·ç«¯å‘é€å†™è¯·æ±‚ï¼Œéƒ½å¿…é¡»åŒ…å«æ‰€æŒæœ‰çš„ fencing ä»¤ç‰Œã€‚\nfencing ä»¤ç‰Œå•è°ƒé€’å¢ï¼Œå¦‚æœä½ç‰ˆæœ¬çš„å†™å…¥ååˆ°è¾¾ï¼Œå‘ç°å·²ç»æœ‰é«˜ç‰ˆæœ¬çš„ fencing ä»¤ç‰Œå†™å…¥ï¼Œåˆ™æ‹’ç»æ­¤æ¬¡å†™å…¥ã€‚","title":"Fencing ä»¤ç‰Œ"},{"content":"å¢™ä¸Šæ—¶é’Ÿ æ ¹æ®æŸä¸ªæ—¥å†è¿”å›å½“å‰çš„æ—¥æœŸä¸æ—¶é—´ã€‚\nLinux ä¸Šçš„ clock_gettime(CLOCK_REALTIME) Java ä¸­çš„ System.currentTimeMills() ä¼šè¿”å› 1970-01-01ï¼ˆUTCï¼‰çš„æ—¶é—´æˆ³ï¼ˆç§’å’Œæ¯«ç§’ï¼‰ã€‚\nå¢™ä¸Šæ—¶é’Ÿä¼šå’Œ NTP æœåŠ¡å™¨åŒæ­¥äº§ç”Ÿè·³è·ƒå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚\nå•è°ƒæ—¶é’Ÿ æ›´é€‚åˆæµ‹é‡æŒç»­æ—¶é—´æ®µï¼ˆæ—¶é—´é—´éš”ï¼‰ï¼Œå¦‚è¶…æ—¶æˆ–æœåŠ¡çš„å“åº”æ—¶é—´ã€‚ä¿è¯æ€»æ˜¯å‘å‰ï¼ˆä¸ä¼šå‡ºç°å¢™ä¸Šæ—¶é’Ÿçš„å›æ‹¨ç°è±¡ï¼‰ã€‚\nLinux ä¸Šçš„ clock_gettime(CLOCK_MONOTONIC) Java ä¸­çš„ System.nanoTime() å•è°ƒæ—¶é’Ÿå¤šä¸ªèŠ‚ç‚¹çš„å¯¹æ¯”æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå¤šè·¯ CPU å¯èƒ½æœ‰å•ç‹¬çš„è®¡æ—¶å™¨ï¼Œä¸”ä¸ä¸å…¶ä»– CPU è¿›è¡ŒåŒæ­¥ã€‚ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œè¡¥å¿å®ƒä»¬ä¹‹é—´çš„åå·®ã€‚\nNTP æ£€æµ‹åˆ°æœ¬åœ°çŸ³è‹±æ¯”æ—¶é—´æœåŠ¡å™¨æ›´å¿«æˆ–è€…æ›´æ…¢ï¼ŒNTP ä¼šè°ƒæ•´æœ¬åœ°çŸ³è‹±çš„éœ‡åŠ¨é¢‘ç‡ï¼ˆæ‘†åŠ¨ï¼‰ï¼Œæœ€å¤§å¹…åº¦ä¸º 0.05%ã€‚ NTP å¹¶ä¸ä¼šç›´æ¥è°ƒæ•´å•è°ƒæ—¶é’Ÿå‘å‰æˆ–å›æ‹¨ ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210722073012-%E5%8D%95%E8%B0%83%E6%97%B6%E9%92%9F%E4%B8%8E%E5%A2%99%E4%B8%8A%E6%97%B6%E9%92%9F/","summary":"å¢™ä¸Šæ—¶é’Ÿ æ ¹æ®æŸä¸ªæ—¥å†è¿”å›å½“å‰çš„æ—¥æœŸä¸æ—¶é—´ã€‚\nLinux ä¸Šçš„ clock_gettime(CLOCK_REALTIME) Java ä¸­çš„ System.currentTimeMills() ä¼šè¿”å› 1970-01-01ï¼ˆUTCï¼‰çš„æ—¶é—´æˆ³ï¼ˆç§’å’Œæ¯«ç§’ï¼‰ã€‚\nå¢™ä¸Šæ—¶é’Ÿä¼šå’Œ NTP æœåŠ¡å™¨åŒæ­¥äº§ç”Ÿè·³è·ƒå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚\nå•è°ƒæ—¶é’Ÿ æ›´é€‚åˆæµ‹é‡æŒç»­æ—¶é—´æ®µï¼ˆæ—¶é—´é—´éš”ï¼‰ï¼Œå¦‚è¶…æ—¶æˆ–æœåŠ¡çš„å“åº”æ—¶é—´ã€‚ä¿è¯æ€»æ˜¯å‘å‰ï¼ˆä¸ä¼šå‡ºç°å¢™ä¸Šæ—¶é’Ÿçš„å›æ‹¨ç°è±¡ï¼‰ã€‚\nLinux ä¸Šçš„ clock_gettime(CLOCK_MONOTONIC) Java ä¸­çš„ System.nanoTime() å•è°ƒæ—¶é’Ÿå¤šä¸ªèŠ‚ç‚¹çš„å¯¹æ¯”æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå¤šè·¯ CPU å¯èƒ½æœ‰å•ç‹¬çš„è®¡æ—¶å™¨ï¼Œä¸”ä¸ä¸å…¶ä»– CPU è¿›è¡ŒåŒæ­¥ã€‚ç”±æ“ä½œç³»ç»Ÿè¿›è¡Œè¡¥å¿å®ƒä»¬ä¹‹é—´çš„åå·®ã€‚\nNTP æ£€æµ‹åˆ°æœ¬åœ°çŸ³è‹±æ¯”æ—¶é—´æœåŠ¡å™¨æ›´å¿«æˆ–è€…æ›´æ…¢ï¼ŒNTP ä¼šè°ƒæ•´æœ¬åœ°çŸ³è‹±çš„éœ‡åŠ¨é¢‘ç‡ï¼ˆæ‘†åŠ¨ï¼‰ï¼Œæœ€å¤§å¹…åº¦ä¸º 0.05%ã€‚ NTP å¹¶ä¸ä¼šç›´æ¥è°ƒæ•´å•è°ƒæ—¶é’Ÿå‘å‰æˆ–å›æ‹¨ ã€‚","title":"å•è°ƒæ—¶é’Ÿä¸å¢™ä¸Šæ—¶é’Ÿ"},{"content":" tags: LeetCode,backtracking è§†é¢‘è§£æï¼šhttps://www.youtube.com/watch?v=s7AvT7cGdSo\nåœ¨ LeetCode: 46. Permutations çš„åŸºç¡€ä¸Šå¢åŠ é‡å¤çš„å…ƒç´ ã€‚æ„Ÿè§‰ä¸èƒ½ä¾èµ–äº track + map çš„å»é‡é€»è¾‘å›æº¯ã€‚\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permuteUnique(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; } }; æ•°æ®ç‰¹å¾ï¼š\nValue: 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, Index: 2, 1, 0, 1, 0, 2, 1, 0, 1, 0, 2, 1, 0, 1, 0, class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permuteUnique(vector\u0026lt;int\u0026gt;\u0026amp; nums) { set\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; ret; int n, i; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; perms; if (nums.size() == 1) { ret.push_back(nums); return ret; } for (i = 0; i \u0026lt; nums.size(); i++) { n = nums.back(); nums.pop_back(); perms = permuteUnique(nums); for (auto perm : perms) { perm.push_back(n); res.insert(perm); } nums.insert(nums.begin(), n); } for (auto r : res) { ret.push_back(r); } return ret; } }; ","permalink":"https://notes.0081800.xyz/notes/20210721073657-leetcode_47_permutations_ii/","summary":"tags: LeetCode,backtracking è§†é¢‘è§£æï¼šhttps://www.youtube.com/watch?v=s7AvT7cGdSo\nåœ¨ LeetCode: 46. Permutations çš„åŸºç¡€ä¸Šå¢åŠ é‡å¤çš„å…ƒç´ ã€‚æ„Ÿè§‰ä¸èƒ½ä¾èµ–äº track + map çš„å»é‡é€»è¾‘å›æº¯ã€‚\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permuteUnique(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; } }; æ•°æ®ç‰¹å¾ï¼š\nValue: 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, Index: 2, 1, 0, 1, 0, 2, 1, 0, 1, 0, 2, 1, 0, 1, 0, class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permuteUnique(vector\u0026lt;int\u0026gt;\u0026amp; nums) { set\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; ret; int n, i; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; perms; if (nums.","title":"LeetCode: 47. Permutations II"},{"content":" tags: åˆ†å¸ƒå¼ æ•…éšœä¸éƒ¨åˆ†å¤±æ•ˆ å•èŠ‚ç‚¹ä¸€èˆ¬æ˜¯è¦ä¹ˆå·¥ä½œè¦ä¹ˆå¤±æ•ˆï¼Œä½†æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå¤šèŠ‚ç‚¹é¢ä¸´éƒ¨åˆ†å¤±æ•ˆï¼Œå¤§å¤§æé«˜äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚\nå•èŠ‚ç‚¹è½¯ä»¶ç‰¹æ€§ï¼š\nç¡¬ä»¶æ­£å¸¸å·¥ä½œæ—¶ï¼Œç›¸åŒçš„æ“ä½œé€šå¸¸æ€»ä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œå³ç¡®å®šæ€§ã€‚ å¦‚æœå‘ç”Ÿäº†æŸç§å†…éƒ¨é”™è¯¯ï¼Œæˆ‘ä»¬å®æ„¿ä½¿è®¡ç®—æœºå…¨éƒ¨å´©æºƒï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªé”™è¯¯çš„ç»“æœã€‚ äº‘è®¡ç®—å’Œè¶…ç®— è¶…ç®—ï¼šå‚ç›´æ‰©å±•çš„æç«¯ï¼Œè®¾ç½®æ£€æŸ¥ç‚¹ï¼Œä¸€ç‚¹èŠ‚ç‚¹æ•…éšœåˆ™å…¨éƒ¨å¤±æ•ˆä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹é‡æ–°å¼€å§‹ï¼ˆç¦»çº¿æ‰¹å¤„ç†ï¼‰ï¼Œç±»ä¼¼å•æœºä¸Šå†…æ ¸å´©æºƒã€‚ äº‘è®¡ç®—ï¼šæ°´å¹³æ‰©å±•çš„æç«¯ ä¼ ç»Ÿä¼ä¸šä½äºä¸¤ä¸ªæç«¯çš„ä¸­é—´ åˆ†å¸ƒå¼å¯é å¿…ç„¶é¢ä¸´éƒ¨åˆ†å¤±æ•ˆï¼Œéœ€è¦ä¾èµ–è½¯ä»¶ç³»ç»Ÿæ¥æä¾›å®¹é”™æœºåˆ¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨ä¸å¯é çš„ç»„ä»¶ä¸Šæ„å»ºå¯é çš„ç³»ç»Ÿã€‚\nä¸å¯é ç½‘ç»œ åˆ†å¸ƒå¼æ— å…±äº«ç³»ç»Ÿï¼šæˆæœ¬ä½å»‰ã€‚ äº’è”ç½‘ä»¥åŠå¤§å¤šæ•° IDC å†…éƒ¨ç½‘ç»œéƒ½æ˜¯å¼‚æ­¥ç½‘ç»œï¼šä¸ä¿è¯å‘é€ä¸€å®šåˆ°è¾¾ï¼ˆæ’é˜Ÿï¼‰ï¼Œç­‰å¾…å“åº”æ—¶å¯èƒ½å‡ºç°ä»»ä½•é”™è¯¯ã€‚ ç°å®ä¸­çš„ç½‘ç»œæ•…éšœéå¸¸æ™®é æ•…éšœæ£€æµ‹ï¼šHAã€ä¸»ä»åˆ‡æ¢ã€ä¿æ´»æœºåˆ¶ï¼ˆICMPï¼ŒSYNï¼‰ è¶…æ—¶ä¸æ— é™æœŸçš„å»¶è¿Ÿ ç½‘ç»œæ‹¥å¡ä¸æ’é˜Ÿ ç½‘ç»œè´Ÿè½½è¿‡é«˜ä¼šå‡ºç°æ‹¥å¡ã€‚ æ•°æ®åœ¨å‘é€çš„è¿‡ç¨‹ä¸­åˆ†åˆ«ä¼šåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯è¿›è¡Œæ’é˜Ÿï¼šç­‰å¾…å‘é€å’Œç­‰å¾…å¤„ç†ã€‚ TCP çš„æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚ è™šæ‹ŸåŒ– CPU æ ¸åˆ‡æ¢è™šæ‹Ÿæœº åŒæ­¥ä¸å¼‚æ­¥ç½‘ç»œ åŒæ­¥ç½‘ç»œï¼šå›ºå®šç”µè¯ç½‘ç»œï¼Œä¸€è·¯ç”µè¯åˆ†é…å›ºå®šçš„ç”µè·¯ã€æœ‰å¸¦å®½ä¿è¯ï¼Œè§„å®šå»¶è¿Ÿå†…ä¿è¯å®Œæˆæ•°æ®åŒ…å‘é€ï¼Œä¸ä¼šä¸¢å¼ƒæ•°æ®åŒ…ï¼Œæˆæœ¬é«˜ï¼Œåˆ©ç”¨ç‡ä½ å¼‚æ­¥ç½‘ç»œï¼šæ•°æ®ä¸­å¿ƒç½‘ç»œï¼Œå…±äº«å¸¦å®½ï¼Œæ— æ³•ä¿è¯å»¶è¿Ÿå’Œæ•°æ®åŒ…å‘é€ï¼Œæˆæœ¬ä½å»‰ï¼Œåˆ©ç”¨ç‡é«˜ ä¸å¯é æ—¶é’Ÿ å•è°ƒæ—¶é’Ÿä¸å¢™ä¸Šæ—¶é’Ÿ æ—¶é—´åŒæ­¥ä¸å‡†ç¡®æ€§ è®¡ç®—æœºä¸­çš„çŸ³è‹±é’Ÿä¸å¤Ÿç²¾ç¡® NTP æœåŠ¡å™¨ä¸ç¨³å®šï¼ˆç½‘ç»œã€é˜²ç«å¢™æˆ–æœåŠ¡æœ¬èº«ï¼‰ è™šæ‹Ÿæœºä¸­æ—¶é’Ÿæ˜¯è™šæ‹ŸåŒ–çš„ã€‚ ç»ˆç«¯è®¾å¤‡ä¸å¯æ§ï¼šä¼‘çœ ã€æ•…æ„è®¾ç½® ä¾èµ–åŒæ­¥çš„æ—¶é’Ÿ æ—¶é’Ÿé™·é˜±ï¼š\nä¸€å¤©å¯èƒ½ä¸æ€»æ˜¯ 86400 ç§’ å›æ‹¨ å¤šä¸ªèŠ‚ç‚¹ä¸Šçš„æ—¶é—´å®Œå…¨ä¸ç›¸åŒ éœ€è¦ç²¾ç¡®åŒæ­¥çš„æ—¶é’Ÿï¼š\nè‡ªå·±ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„æ—¶é’Ÿåå·® æŸä¸ªèŠ‚ç‚¹æ—¶é’Ÿæ¼‚ç§»è¶…å‡ºä¸Šé™åˆ™å°†å…¶å®£å‘Šå¤±æ•ˆ æ—¶é—´æˆ³ä¸æ—¶é—´é¡ºåº æœ€åå†™å…¥è€…è·èƒœ æ—¶é’Ÿçš„ç½®ä¿¡åŒºé—´ é€šè¿‡ç›´æ¥å®‰è£… GPS æ¥æ”¶å™¨æˆ–åŸå­ï¼ˆé“¯ï¼‰æ—¶é’Ÿï¼Œå®ƒçš„è¯¯å·®èŒƒå›´é€šå¸¸å¯ä»¥æŸ¥è¯¢åˆ¶é€ å•†æ‰‹å†Œã€‚\nå…¨å±€å¿«ç…§çš„åŒæ­¥æ—¶é’Ÿ Google Spanner æ ¹æ®éƒ¨ç½²äº† GPS æ¥æ”¶å™¨æˆ–è€…åŸå­æ—¶é’Ÿçš„ TrueTime API è¿”å›çš„æ—¶é’Ÿç½®ä¿¡åŒºé—´ã€‚ç¡®ä¿è¯»äº‹åŠ¡è¶³å¤Ÿæ™šå‘ç”Ÿï¼Œé¿å…ä¸å…ˆå‰äº‹åŠ¡çš„ç½®ä¿¡åŒºé—´äº§ç”Ÿé‡å ã€‚\nè¿›ç¨‹æš‚åœ åƒåœ¾å›æ”¶ è™šæ‹ŸåŒ–æš‚åœè™šæ‹Ÿæœº ç£ç›˜ I/O å†…å­˜äº¤æ¢åˆ†åŒº æ‰‹åŠ¨æš‚åœè¿›ç¨‹ï¼ˆSIGSTOP/SIGCONTï¼‰ å“åº”æ—¶é—´ä¿è¯ RTOS ç³»ç»Ÿ è°ƒæ•´åƒåœ¾å›æ”¶çš„å½±å“ çŸ¥è¯†ï¼ŒçœŸç›¸ä¸è°è¨€ çœŸç›¸ç”±å¤šæ•°å†³å®šï¼šQuorum ä¸€è‡´æ€§ ä¸»èŠ‚ç‚¹ä¸é” Fencing ä»¤ç‰Œ æ‹œå åº­æ•…éšœ ç†è®ºç³»ç»Ÿæ¨¡å‹ä¸ç°å® è®¡æ—¶æ–¹é¢\nåŒæ­¥æ¨¡å‹ï¼šæœ‰ä¸Šç•Œç½‘ç»œå»¶è¿Ÿã€ä¸Šç•Œè¿›ç¨‹æš‚åœã€ä¸Šç•Œçš„æ—¶é’Ÿè¯¯å·®ã€‚ éƒ¨åˆ†åŒæ­¥æ¨¡å‹ï¼šå…è®¸å°‘é‡çš„ç½‘ç»œå»¶è¿Ÿã€è¿›ç¨‹æš‚åœã€æ—¶é’Ÿè¯¯å·®è¶…è¿‡ä¸Šç•Œã€‚ å¼‚æ­¥æ¨¡å‹ï¼šä¸ä¼šåšä»»ä½•å‡è®¾ã€‚ èŠ‚ç‚¹å¤±æ•ˆæ¨¡å‹ï¼š\nå´©æºƒ-ä¸­æ­¢æ¨¡å‹ å´©æºƒ-æ¢å¤æ¨¡å‹ æ‹œå åº­ï¼ˆä»»æ„ï¼‰å¤±æ•ˆæ¨¡å‹ ç®—æ³•çš„æ­£ç¡®æ€§ å”¯ä¸€æ€§ï¼šä¸¤ä¸ªä»¤ç‰Œä¸èƒ½è·å–åˆ°ç›¸åŒçš„å€¼ å•è°ƒé€’å¢ å¯ç”¨æ€§ å®‰å…¨æ€§å’Œæ´»æ€§ å®‰å…¨æ€§ï¼šæ²¡æœ‰æ„å¤–å‘ç”Ÿ æ´»æ€§ï¼š é¢„æœŸçš„äº‹æƒ…æœ€ç»ˆä¸€å®šä¼šå‘ç”Ÿ ","permalink":"https://notes.0081800.xyz/notes/20210721063222-%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%8C%91%E6%88%98/","summary":"tags: åˆ†å¸ƒå¼ æ•…éšœä¸éƒ¨åˆ†å¤±æ•ˆ å•èŠ‚ç‚¹ä¸€èˆ¬æ˜¯è¦ä¹ˆå·¥ä½œè¦ä¹ˆå¤±æ•ˆï¼Œä½†æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿå¤šèŠ‚ç‚¹é¢ä¸´éƒ¨åˆ†å¤±æ•ˆï¼Œå¤§å¤§æé«˜äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚\nå•èŠ‚ç‚¹è½¯ä»¶ç‰¹æ€§ï¼š\nç¡¬ä»¶æ­£å¸¸å·¥ä½œæ—¶ï¼Œç›¸åŒçš„æ“ä½œé€šå¸¸æ€»ä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œå³ç¡®å®šæ€§ã€‚ å¦‚æœå‘ç”Ÿäº†æŸç§å†…éƒ¨é”™è¯¯ï¼Œæˆ‘ä»¬å®æ„¿ä½¿è®¡ç®—æœºå…¨éƒ¨å´©æºƒï¼Œè€Œä¸æ˜¯è¿”å›ä¸€ä¸ªé”™è¯¯çš„ç»“æœã€‚ äº‘è®¡ç®—å’Œè¶…ç®— è¶…ç®—ï¼šå‚ç›´æ‰©å±•çš„æç«¯ï¼Œè®¾ç½®æ£€æŸ¥ç‚¹ï¼Œä¸€ç‚¹èŠ‚ç‚¹æ•…éšœåˆ™å…¨éƒ¨å¤±æ•ˆä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹é‡æ–°å¼€å§‹ï¼ˆç¦»çº¿æ‰¹å¤„ç†ï¼‰ï¼Œç±»ä¼¼å•æœºä¸Šå†…æ ¸å´©æºƒã€‚ äº‘è®¡ç®—ï¼šæ°´å¹³æ‰©å±•çš„æç«¯ ä¼ ç»Ÿä¼ä¸šä½äºä¸¤ä¸ªæç«¯çš„ä¸­é—´ åˆ†å¸ƒå¼å¯é å¿…ç„¶é¢ä¸´éƒ¨åˆ†å¤±æ•ˆï¼Œéœ€è¦ä¾èµ–è½¯ä»¶ç³»ç»Ÿæ¥æä¾›å®¹é”™æœºåˆ¶ã€‚æˆ‘ä»¬éœ€è¦åœ¨ä¸å¯é çš„ç»„ä»¶ä¸Šæ„å»ºå¯é çš„ç³»ç»Ÿã€‚\nä¸å¯é ç½‘ç»œ åˆ†å¸ƒå¼æ— å…±äº«ç³»ç»Ÿï¼šæˆæœ¬ä½å»‰ã€‚ äº’è”ç½‘ä»¥åŠå¤§å¤šæ•° IDC å†…éƒ¨ç½‘ç»œéƒ½æ˜¯å¼‚æ­¥ç½‘ç»œï¼šä¸ä¿è¯å‘é€ä¸€å®šåˆ°è¾¾ï¼ˆæ’é˜Ÿï¼‰ï¼Œç­‰å¾…å“åº”æ—¶å¯èƒ½å‡ºç°ä»»ä½•é”™è¯¯ã€‚ ç°å®ä¸­çš„ç½‘ç»œæ•…éšœéå¸¸æ™®é æ•…éšœæ£€æµ‹ï¼šHAã€ä¸»ä»åˆ‡æ¢ã€ä¿æ´»æœºåˆ¶ï¼ˆICMPï¼ŒSYNï¼‰ è¶…æ—¶ä¸æ— é™æœŸçš„å»¶è¿Ÿ ç½‘ç»œæ‹¥å¡ä¸æ’é˜Ÿ ç½‘ç»œè´Ÿè½½è¿‡é«˜ä¼šå‡ºç°æ‹¥å¡ã€‚ æ•°æ®åœ¨å‘é€çš„è¿‡ç¨‹ä¸­åˆ†åˆ«ä¼šåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯è¿›è¡Œæ’é˜Ÿï¼šç­‰å¾…å‘é€å’Œç­‰å¾…å¤„ç†ã€‚ TCP çš„æ‹¥å¡æ§åˆ¶æœºåˆ¶ã€‚ è™šæ‹ŸåŒ– CPU æ ¸åˆ‡æ¢è™šæ‹Ÿæœº åŒæ­¥ä¸å¼‚æ­¥ç½‘ç»œ åŒæ­¥ç½‘ç»œï¼šå›ºå®šç”µè¯ç½‘ç»œï¼Œä¸€è·¯ç”µè¯åˆ†é…å›ºå®šçš„ç”µè·¯ã€æœ‰å¸¦å®½ä¿è¯ï¼Œè§„å®šå»¶è¿Ÿå†…ä¿è¯å®Œæˆæ•°æ®åŒ…å‘é€ï¼Œä¸ä¼šä¸¢å¼ƒæ•°æ®åŒ…ï¼Œæˆæœ¬é«˜ï¼Œåˆ©ç”¨ç‡ä½ å¼‚æ­¥ç½‘ç»œï¼šæ•°æ®ä¸­å¿ƒç½‘ç»œï¼Œå…±äº«å¸¦å®½ï¼Œæ— æ³•ä¿è¯å»¶è¿Ÿå’Œæ•°æ®åŒ…å‘é€ï¼Œæˆæœ¬ä½å»‰ï¼Œåˆ©ç”¨ç‡é«˜ ä¸å¯é æ—¶é’Ÿ å•è°ƒæ—¶é’Ÿä¸å¢™ä¸Šæ—¶é’Ÿ æ—¶é—´åŒæ­¥ä¸å‡†ç¡®æ€§ è®¡ç®—æœºä¸­çš„çŸ³è‹±é’Ÿä¸å¤Ÿç²¾ç¡® NTP æœåŠ¡å™¨ä¸ç¨³å®šï¼ˆç½‘ç»œã€é˜²ç«å¢™æˆ–æœåŠ¡æœ¬èº«ï¼‰ è™šæ‹Ÿæœºä¸­æ—¶é’Ÿæ˜¯è™šæ‹ŸåŒ–çš„ã€‚ ç»ˆç«¯è®¾å¤‡ä¸å¯æ§ï¼šä¼‘çœ ã€æ•…æ„è®¾ç½® ä¾èµ–åŒæ­¥çš„æ—¶é’Ÿ æ—¶é’Ÿé™·é˜±ï¼š\nä¸€å¤©å¯èƒ½ä¸æ€»æ˜¯ 86400 ç§’ å›æ‹¨ å¤šä¸ªèŠ‚ç‚¹ä¸Šçš„æ—¶é—´å®Œå…¨ä¸ç›¸åŒ éœ€è¦ç²¾ç¡®åŒæ­¥çš„æ—¶é’Ÿï¼š\nè‡ªå·±ç›‘æ§æ‰€æœ‰èŠ‚ç‚¹ä¸Šçš„æ—¶é’Ÿåå·® æŸä¸ªèŠ‚ç‚¹æ—¶é’Ÿæ¼‚ç§»è¶…å‡ºä¸Šé™åˆ™å°†å…¶å®£å‘Šå¤±æ•ˆ æ—¶é—´æˆ³ä¸æ—¶é—´é¡ºåº æœ€åå†™å…¥è€…è·èƒœ æ—¶é’Ÿçš„ç½®ä¿¡åŒºé—´ é€šè¿‡ç›´æ¥å®‰è£… GPS æ¥æ”¶å™¨æˆ–åŸå­ï¼ˆé“¯ï¼‰æ—¶é’Ÿï¼Œå®ƒçš„è¯¯å·®èŒƒå›´é€šå¸¸å¯ä»¥æŸ¥è¯¢åˆ¶é€ å•†æ‰‹å†Œã€‚\nå…¨å±€å¿«ç…§çš„åŒæ­¥æ—¶é’Ÿ Google Spanner æ ¹æ®éƒ¨ç½²äº† GPS æ¥æ”¶å™¨æˆ–è€…åŸå­æ—¶é’Ÿçš„ TrueTime API è¿”å›çš„æ—¶é’Ÿç½®ä¿¡åŒºé—´ã€‚ç¡®ä¿è¯»äº‹åŠ¡è¶³å¤Ÿæ™šå‘ç”Ÿï¼Œé¿å…ä¸å…ˆå‰äº‹åŠ¡çš„ç½®ä¿¡åŒºé—´äº§ç”Ÿé‡å ã€‚\nè¿›ç¨‹æš‚åœ åƒåœ¾å›æ”¶ è™šæ‹ŸåŒ–æš‚åœè™šæ‹Ÿæœº ç£ç›˜ I/O å†…å­˜äº¤æ¢åˆ†åŒº æ‰‹åŠ¨æš‚åœè¿›ç¨‹ï¼ˆSIGSTOP/SIGCONTï¼‰ å“åº”æ—¶é—´ä¿è¯ RTOS ç³»ç»Ÿ è°ƒæ•´åƒåœ¾å›æ”¶çš„å½±å“ çŸ¥è¯†ï¼ŒçœŸç›¸ä¸è°è¨€ çœŸç›¸ç”±å¤šæ•°å†³å®šï¼šQuorum ä¸€è‡´æ€§ ä¸»èŠ‚ç‚¹ä¸é” Fencing ä»¤ç‰Œ æ‹œå åº­æ•…éšœ ç†è®ºç³»ç»Ÿæ¨¡å‹ä¸ç°å® è®¡æ—¶æ–¹é¢","title":"åˆ†å¸ƒå¼ç³»ç»ŸæŒ‘æˆ˜"},{"content":" tags: LeetCode,backtracking Keywords backtrack å›æº¯ç®—æ³•\nå›¾è§£ ä¸¾ä¾‹ï¼š [1, 2, 3] ï¼Œé¡ºç€å¶å­èŠ‚ç‚¹å’Œåˆ é™¤çš„èŠ‚ç‚¹å°±å¯ä»¥è¿˜åŸæˆå…¨æ’åˆ—ã€‚\nä»ä¸Šé¢å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¶å­èŠ‚ç‚¹åŠ ä¸Šå›æº¯è·¯å¾„ä¸Šè¢«ç§»é™¤çš„èŠ‚ç‚¹å°±æ˜¯ç»“æœçš„ä¸€é¡¹ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ï¼š\n[3,R:2,R:1] -\u0026gt; [3,2,1] [2,R:3,R:1] -\u0026gt; [2,3,1] \u0026hellip; class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permute(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; backtrack(res, track, nums); return res; } void backtrack(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; \u0026amp; res, vector\u0026lt;int\u0026gt; \u0026amp; track, vector\u0026lt;int\u0026gt;\u0026amp; nums) { if (track.size() == nums.size()) { res.push_back(track); return; } for (int i = 0; i \u0026lt; nums.size(); i++) { if (visited.find(nums[i]) != visited.end() \u0026amp;\u0026amp; visited[nums[i]]) { continue; } track.push_back(nums[i]); visited[nums[i]] = true; // go into next level backtrack(res, track, nums); visited[nums[i]] = false; track.pop_back(); } } private: map\u0026lt;int, bool\u0026gt; visited; }; æ ¹æ®è§†é¢‘è§£æï¼šhttps://www.youtube.com/watch?v=s7AvT7cGdSo\nå¾—å‡ºä»¥ä¸‹è§£æ³•ï¼š\nclass Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permute(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; int n, i; vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; perms; if (nums.size() == 1) { res.push_back(nums); return res; } for (i = 0; i \u0026lt; nums.size(); i++) { n = nums.back(); nums.pop_back(); perms = permute(nums); for (auto perm : perms) { perm.push_back(n); res.push_back(perm); } nums.insert(nums.begin(), n); } return res; } }; ","permalink":"https://notes.0081800.xyz/notes/20210719073125-leetcode_46_permutations/","summary":"tags: LeetCode,backtracking Keywords backtrack å›æº¯ç®—æ³•\nå›¾è§£ ä¸¾ä¾‹ï¼š [1, 2, 3] ï¼Œé¡ºç€å¶å­èŠ‚ç‚¹å’Œåˆ é™¤çš„èŠ‚ç‚¹å°±å¯ä»¥è¿˜åŸæˆå…¨æ’åˆ—ã€‚\nä»ä¸Šé¢å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¶å­èŠ‚ç‚¹åŠ ä¸Šå›æº¯è·¯å¾„ä¸Šè¢«ç§»é™¤çš„èŠ‚ç‚¹å°±æ˜¯ç»“æœçš„ä¸€é¡¹ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ˜¯ï¼š\n[3,R:2,R:1] -\u0026gt; [3,2,1] [2,R:3,R:1] -\u0026gt; [2,3,1] \u0026hellip; class Solution { public: vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; permute(vector\u0026lt;int\u0026gt;\u0026amp; nums) { vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; res; vector\u0026lt;int\u0026gt; track; backtrack(res, track, nums); return res; } void backtrack(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; \u0026amp; res, vector\u0026lt;int\u0026gt; \u0026amp; track, vector\u0026lt;int\u0026gt;\u0026amp; nums) { if (track.size() == nums.size()) { res.push_back(track); return; } for (int i = 0; i \u0026lt; nums.size(); i++) { if (visited.find(nums[i]) != visited.end() \u0026amp;\u0026amp; visited[nums[i]]) { continue; } track.","title":"LeetCode: 46. Permutations"},{"content":" tags: ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹,JavaScript litmus test\nLitmus Test: ES2017 racy reads on ARMv8 Can this program (using atomics) see r1 = 0, r2 = 1? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y x = 2 (non-atomic) r2 = x C++: yes (data race, can do anything at all). Java: the program cannot be written. ARMv8 using ldar/stlr: yes. ES2017: no! (contradicting ARMv8) ","permalink":"https://notes.0081800.xyz/notes/20210716120333-javascript_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B_2017/","summary":" tags: ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹,JavaScript litmus test\nLitmus Test: ES2017 racy reads on ARMv8 Can this program (using atomics) see r1 = 0, r2 = 1? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y x = 2 (non-atomic) r2 = x C++: yes (data race, can do anything at all). Java: the program cannot be written. ARMv8 using ldar/stlr: yes. ES2017: no! (contradicting ARMv8) ","title":"JavaScript å†…å­˜æ¨¡å‹ (2017)"},{"content":" tags: Rust,Swift,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ éƒ½é‡‡ç”¨C++11 å†…å­˜æ¨¡å‹ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716120258-c_rust_%E5%92%8C_swift_%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":"tags: Rust,Swift,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ éƒ½é‡‡ç”¨C++11 å†…å­˜æ¨¡å‹ã€‚","title":"Cã€Rust å’Œ Swift çš„å†…å­˜æ¨¡å‹"},{"content":" tags: C++11 å†…å­˜æ¨¡å‹,C/C++ C++ è¿˜æ·»åŠ äº†è¾ƒå¼±çš„åŸå­ï¼Œå¯ä»¥ä½¿ç”¨ atomic_store_explicit å’Œ atomic_load_explicit ä»¥åŠé™„åŠ çš„nå†…å­˜æ’åºå‚æ•°æ¥è®¿é—®è¿™äº›åŸå­ã€‚ä½¿ç”¨ memory_order_seq_cst ä½¿æ˜¾å¼è°ƒç”¨ç­‰æ•ˆäºC++ åŒæ­¥åŸå­ï¼ˆatomicï¼‰è¾ƒçŸ­çš„è°ƒç”¨ã€‚\nè¾ƒå¼±çš„åŸå­ç§°ä¸º acquire/release åŸå­ï¼Œä¸€ä¸ª release å¦‚æœè¢«åæ¥çš„ acquire è§‚å¯Ÿåˆ°ï¼Œé‚£ä¹ˆå°±åˆ›å»ºäº†ä¸€ä¸ª happen-before çš„å…³ç³»(ä» release åˆ° acquire)ã€‚è¿™ä¸ªæœ¯è¯­æ„åœ¨å”¤èµ· mutex:release å°±åƒ unlock mutex ï¼Œ acquire å°±åƒé”å®šåŒä¸€ä¸ª mutex ã€‚release ä¹‹å‰æ‰§è¡Œçš„å†™å…¥å¿…é¡»å¯¹åç»­ acquire ä¹‹åæ‰§è¡Œçš„è¯»å–å¯è§ï¼Œå°±åƒè§£é” mutex ä¹‹å‰æ‰§è¡Œçš„å†™å…¥å¿…é¡»å¯¹åè§£é” mutex ä¹‹åæ‰§è¡Œçš„è¯»å–å¯è§ä¸€æ ·ã€‚\natomic\u0026lt;int\u0026gt; done; // Thread 1 // Thread 2 atomic_store(\u0026amp;done, 1, memory_order_release); while(atomic_load(\u0026amp;done, memory_order_acquire) == 0) { /* loop */ } acquire/release åŸå­åªå¯¹å•ä¸ªå†…å­˜ä½ç½®çš„æ“ä½œè¿›è¡Œé¡ºåºä¸€è‡´çš„äº¤æ›¿æ‰§è¡Œï¼Œæ‰€ä»¥å±äºå†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰è€Œéé¡ºåºä¸€è‡´æ€§ã€‚\næ¥çœ‹ä¸‹é¢ litmus testï¼š\nLitmus Test: Store Buffering Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): yes! On ARM/POWER: yes! On Java (using volatiles): no. On C++11 (sequentially consistent atomics): no. On C++11 (acquire/release atomics): yes! ","permalink":"https://notes.0081800.xyz/notes/20210716115953-c_%E5%BC%B1%E5%90%8C%E6%AD%A5%E5%8E%9F%E5%AD%90_acquire_release_atomic/","summary":"tags: C++11 å†…å­˜æ¨¡å‹,C/C++ C++ è¿˜æ·»åŠ äº†è¾ƒå¼±çš„åŸå­ï¼Œå¯ä»¥ä½¿ç”¨ atomic_store_explicit å’Œ atomic_load_explicit ä»¥åŠé™„åŠ çš„nå†…å­˜æ’åºå‚æ•°æ¥è®¿é—®è¿™äº›åŸå­ã€‚ä½¿ç”¨ memory_order_seq_cst ä½¿æ˜¾å¼è°ƒç”¨ç­‰æ•ˆäºC++ åŒæ­¥åŸå­ï¼ˆatomicï¼‰è¾ƒçŸ­çš„è°ƒç”¨ã€‚\nè¾ƒå¼±çš„åŸå­ç§°ä¸º acquire/release åŸå­ï¼Œä¸€ä¸ª release å¦‚æœè¢«åæ¥çš„ acquire è§‚å¯Ÿåˆ°ï¼Œé‚£ä¹ˆå°±åˆ›å»ºäº†ä¸€ä¸ª happen-before çš„å…³ç³»(ä» release åˆ° acquire)ã€‚è¿™ä¸ªæœ¯è¯­æ„åœ¨å”¤èµ· mutex:release å°±åƒ unlock mutex ï¼Œ acquire å°±åƒé”å®šåŒä¸€ä¸ª mutex ã€‚release ä¹‹å‰æ‰§è¡Œçš„å†™å…¥å¿…é¡»å¯¹åç»­ acquire ä¹‹åæ‰§è¡Œçš„è¯»å–å¯è§ï¼Œå°±åƒè§£é” mutex ä¹‹å‰æ‰§è¡Œçš„å†™å…¥å¿…é¡»å¯¹åè§£é” mutex ä¹‹åæ‰§è¡Œçš„è¯»å–å¯è§ä¸€æ ·ã€‚\natomic\u0026lt;int\u0026gt; done; // Thread 1 // Thread 2 atomic_store(\u0026amp;done, 1, memory_order_release); while(atomic_load(\u0026amp;done, memory_order_acquire) == 0) { /* loop */ } acquire/release åŸå­åªå¯¹å•ä¸ªå†…å­˜ä½ç½®çš„æ“ä½œè¿›è¡Œé¡ºåºä¸€è‡´çš„äº¤æ›¿æ‰§è¡Œï¼Œæ‰€ä»¥å±äºå†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰è€Œéé¡ºåºä¸€è‡´æ€§ã€‚\næ¥çœ‹ä¸‹é¢ litmus testï¼š\nLitmus Test: Store Buffering Can this program see r1 = 0, r2 = 0?","title":"C++ å¼±åŒæ­¥åŸå­ï¼ˆacquire/release atomicï¼‰"},{"content":" tags: C++11 å†…å­˜æ¨¡å‹,C/C++ C++ å¹¶æ²¡æœ‰ä»…ä»…åœç•™åœ¨å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰çš„C++ å¼±åŒæ­¥åŸå­ï¼ˆacquire/release atomicï¼‰ã€‚å®ƒè¿˜å¼•å…¥äº†éåŒæ­¥åŸå­ï¼Œç§°ä¸º relaxed åŸå­ï¼ˆmemory_order_relaxedï¼‰ã€‚è¿™äº›åŸå­æ ¹æœ¬æ²¡æœ‰åŒæ­¥æ•ˆæœâ€”â€”å®ƒä»¬æ²¡æœ‰åˆ›å»ºå…ˆå‘ç”Ÿçš„è¾¹â€”â€”å¹¶ä¸”å®ƒä»¬æ ¹æœ¬æ²¡æœ‰æ’åºä¿è¯ã€‚äº‹å®ä¸Šï¼Œå®½æ¾åŸå­è¯»_å†™å’Œæ™®é€šè¯»_å†™æ²¡æœ‰åŒºåˆ«ï¼Œé™¤äº†å®½æ¾åŸå­ä¸Šçš„ç«äº‰ä¸è¢«è®¤ä¸ºæ˜¯ç«äº‰ï¼Œ ä¸èƒ½ç€ç« ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716114242-c_%E9%9D%9E%E5%90%8C%E6%AD%A5%E5%8E%9F%E5%AD%90_relaxed_atomic/","summary":"tags: C++11 å†…å­˜æ¨¡å‹,C/C++ C++ å¹¶æ²¡æœ‰ä»…ä»…åœç•™åœ¨å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰çš„C++ å¼±åŒæ­¥åŸå­ï¼ˆacquire/release atomicï¼‰ã€‚å®ƒè¿˜å¼•å…¥äº†éåŒæ­¥åŸå­ï¼Œç§°ä¸º relaxed åŸå­ï¼ˆmemory_order_relaxedï¼‰ã€‚è¿™äº›åŸå­æ ¹æœ¬æ²¡æœ‰åŒæ­¥æ•ˆæœâ€”â€”å®ƒä»¬æ²¡æœ‰åˆ›å»ºå…ˆå‘ç”Ÿçš„è¾¹â€”â€”å¹¶ä¸”å®ƒä»¬æ ¹æœ¬æ²¡æœ‰æ’åºä¿è¯ã€‚äº‹å®ä¸Šï¼Œå®½æ¾åŸå­è¯»_å†™å’Œæ™®é€šè¯»_å†™æ²¡æœ‰åŒºåˆ«ï¼Œé™¤äº†å®½æ¾åŸå­ä¸Šçš„ç«äº‰ä¸è¢«è®¤ä¸ºæ˜¯ç«äº‰ï¼Œ ä¸èƒ½ç€ç« ã€‚","title":"C++ éåŒæ­¥åŸå­ï¼ˆRelaxed atomicï¼‰"},{"content":" tags: C++11 å†…å­˜æ¨¡å‹ C++ é‡‡ç”¨äº†é¡ºåºä¸€è‡´çš„åŸå­å˜é‡ï¼Œå¾ˆåƒJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰(ä¸ C++ volatile æ²¡æœ‰å…³ç³»ï¼‰ã€‚\natomic\u0026lt;int\u0026gt; done; // Thread 1 // Thread 2 atomic_store(\u0026amp;done, 1); while(atomic_load(\u0026amp;done) == 0) { /* loop */ } C++ å¼±åŒæ­¥åŸå­ï¼ˆacquire/release atomicï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20210716113858-c_%E5%90%8C%E6%AD%A5%E5%8E%9F%E5%AD%90_atomic/","summary":" tags: C++11 å†…å­˜æ¨¡å‹ C++ é‡‡ç”¨äº†é¡ºåºä¸€è‡´çš„åŸå­å˜é‡ï¼Œå¾ˆåƒJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰(ä¸ C++ volatile æ²¡æœ‰å…³ç³»ï¼‰ã€‚\natomic\u0026lt;int\u0026gt; done; // Thread 1 // Thread 2 atomic_store(\u0026amp;done, 1); while(atomic_load(\u0026amp;done) == 0) { /* loop */ } C++ å¼±åŒæ­¥åŸå­ï¼ˆacquire/release atomicï¼‰ ","title":"C++ åŒæ­¥åŸå­ï¼ˆatomicï¼‰"},{"content":" tags: C++11 å†…å­˜æ¨¡å‹ ä¸ Java ä¸åŒï¼ŒC++ æ²¡æœ‰ç»™æœ‰ç«äº‰çš„ç¨‹åºä»»ä½•ä¿è¯ã€‚ä»»ä½•æœ‰ç«äº‰çš„ç¨‹åºéƒ½å±äºâ€œæœªå®šä¹‰çš„è¡Œä¸ºâ€ã€‚å…è®¸åœ¨ç¨‹åºæ‰§è¡Œçš„æœ€åˆå‡ å¾®ç§’å†…è¿›è¡Œç«äº‰è®¿é—®ï¼Œä»è€Œåœ¨å‡ å°æ—¶æˆ–å‡ å¤©åå¯¼è‡´ä»»æ„çš„é”™è¯¯è¡Œä¸ºã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œDRF-SCæˆ–ç€ç«â€ï¼šå¦‚æœç¨‹åºæ²¡æœ‰æ•°æ®ç«äº‰ï¼Œå®ƒä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿è¡Œï¼Œå¦‚æœæœ‰æ•°æ®ç«äº‰ï¼Œå®ƒå¯ä»¥åšä»»ä½•äº‹æƒ…ï¼ŒåŒ…æ‹¬ç€ç«ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716113642-drf_sc_%E8%BF%98%E6%98%AF%E7%9D%80%E7%81%AB_catch_fire/","summary":"tags: C++11 å†…å­˜æ¨¡å‹ ä¸ Java ä¸åŒï¼ŒC++ æ²¡æœ‰ç»™æœ‰ç«äº‰çš„ç¨‹åºä»»ä½•ä¿è¯ã€‚ä»»ä½•æœ‰ç«äº‰çš„ç¨‹åºéƒ½å±äºâ€œæœªå®šä¹‰çš„è¡Œä¸ºâ€ã€‚å…è®¸åœ¨ç¨‹åºæ‰§è¡Œçš„æœ€åˆå‡ å¾®ç§’å†…è¿›è¡Œç«äº‰è®¿é—®ï¼Œä»è€Œåœ¨å‡ å°æ—¶æˆ–å‡ å¤©åå¯¼è‡´ä»»æ„çš„é”™è¯¯è¡Œä¸ºã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œDRF-SCæˆ–ç€ç«â€ï¼šå¦‚æœç¨‹åºæ²¡æœ‰æ•°æ®ç«äº‰ï¼Œå®ƒä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿è¡Œï¼Œå¦‚æœæœ‰æ•°æ®ç«äº‰ï¼Œå®ƒå¯ä»¥åšä»»ä½•äº‹æƒ…ï¼ŒåŒ…æ‹¬ç€ç«ã€‚","title":"DRF-SC è¿˜æ˜¯ç€ç«ï¼ˆCatch Fireï¼‰"},{"content":" tags: C/C++,Memory Model,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ å—æ–°çš„ Java å†…å­˜æ¨¡å‹ï¼ˆ2004ï¼‰è®¸å¤šåŒæ ·çš„äººå¼€å§‹ä¸º C++ å®šä¹‰ä¸€ä¸ªç±»ä¼¼çš„å†…å­˜æ¨¡å‹ï¼Œæœ€ç»ˆåœ¨ C++11 ä¸­é‡‡ç”¨ã€‚ ä¸¤ä¸ªé‡è¦æ–¹ä¾¿çš„å·®å¼‚ï¼š\nC++ å¯¹å…·æœ‰æ•°æ®ç«äº‰çš„ç¨‹åºä¸åšä»»ä½•ä¿è¯ C++ æä¾›äº†ä¸‰ç§åŸå­æ€§ï¼šå¼ºåŒæ­¥ï¼ˆé¡ºåºä¸€è‡´æ€§ï¼‰ï¼Œå¼±åŒæ­¥ï¼ˆå†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ï¼‰å’Œæ— åŒæ­¥ï¼ˆâ€œrelaxedâ€ï¼Œç”¨äºéšè—ç«äº‰ï¼‰ã€‚ ç¬¬ä¸€ç‚¹å°è¯•æ¶ˆé™¤å¯¹ Java æ¨¡å‹çš„å¤æ‚æ€§éœ€æ±‚ï¼Œâ€œrelaxedâ€ çš„åŸå­æ€§é‡æ–°å¼•å…¥ Java å…³äºå®šä¹‰ä»€ä¹ˆæ˜¯ç«äº‰ç¨‹åºçš„æ‰€æœ‰å¤æ‚æ€§ã€‚ç»“æœæ˜¯C++æ¨¡å‹æ¯”Javaæ›´å¤æ‚ï¼Œä½†å¯¹ç¨‹åºå‘˜çš„å¸®åŠ©æ›´å°ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716113225-c_11_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":"tags: C/C++,Memory Model,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ å—æ–°çš„ Java å†…å­˜æ¨¡å‹ï¼ˆ2004ï¼‰è®¸å¤šåŒæ ·çš„äººå¼€å§‹ä¸º C++ å®šä¹‰ä¸€ä¸ªç±»ä¼¼çš„å†…å­˜æ¨¡å‹ï¼Œæœ€ç»ˆåœ¨ C++11 ä¸­é‡‡ç”¨ã€‚ ä¸¤ä¸ªé‡è¦æ–¹ä¾¿çš„å·®å¼‚ï¼š\nC++ å¯¹å…·æœ‰æ•°æ®ç«äº‰çš„ç¨‹åºä¸åšä»»ä½•ä¿è¯ C++ æä¾›äº†ä¸‰ç§åŸå­æ€§ï¼šå¼ºåŒæ­¥ï¼ˆé¡ºåºä¸€è‡´æ€§ï¼‰ï¼Œå¼±åŒæ­¥ï¼ˆå†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ï¼‰å’Œæ— åŒæ­¥ï¼ˆâ€œrelaxedâ€ï¼Œç”¨äºéšè—ç«äº‰ï¼‰ã€‚ ç¬¬ä¸€ç‚¹å°è¯•æ¶ˆé™¤å¯¹ Java æ¨¡å‹çš„å¤æ‚æ€§éœ€æ±‚ï¼Œâ€œrelaxedâ€ çš„åŸå­æ€§é‡æ–°å¼•å…¥ Java å…³äºå®šä¹‰ä»€ä¹ˆæ˜¯ç«äº‰ç¨‹åºçš„æ‰€æœ‰å¤æ‚æ€§ã€‚ç»“æœæ˜¯C++æ¨¡å‹æ¯”Javaæ›´å¤æ‚ï¼Œä½†å¯¹ç¨‹åºå‘˜çš„å¸®åŠ©æ›´å°ã€‚","title":"C++11 å†…å­˜æ¨¡å‹"},{"content":" çº¿ç¨‹çš„åˆ›å»ºå‰ç½®äºï¼ˆhappens bofereï¼‰çº¿ç¨‹çš„ç¬¬ä¸€ä¸ªåŠ¨ä½œã€‚ äº’æ–¥ä½“ m çš„è§£é”å‰ç½®äºï¼ˆhappens beforeï¼‰ä»»ä½• åç»­ï¼ˆsubsequentï¼‰ å¯¹äº’æ–¥ä½“ m çš„é”å®šã€‚ volatile å˜é‡ v çš„å†™å…¥å‰ç½®äºï¼ˆhappens bofereï¼‰ä»»ä½• åç»­ï¼ˆsubsequentï¼‰ å¯¹å˜é‡ v çš„è¯»å–ã€‚ â€œåç»­ï¼ˆsubsequentï¼‰â€ æ„å‘³ç€ä»€ä¹ˆï¼ŸJava å®šä¹‰äº†æ‰€æœ‰é”å®šã€è§£é”å’Œ volatile å˜é‡è®¿é—®çš„è¡Œä¸ºï¼Œç»™å‡ºäº†æ•´ä¸ªç¨‹åºä¸­æ‰€æœ‰è¿™äº›æ“ä½œçš„æ€»é¡ºåºï¼Œå°±åƒå®ƒä»¬å‘ç”Ÿåœ¨æŸä¸ªé¡ºåºä¸€è‡´çš„äº¤é”™ä¸­ä¸€æ ·ã€‚â€œåç»­ï¼ˆsubsequentï¼‰â€æŒ‡åœ¨æ€»é¡ºåºä¸­è¾ƒæ™šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šé”å®šã€è§£é”å’Œ volatile å˜é‡çš„è®¿é—®çš„â€œæ€»é¡ºåºâ€å®šä¹‰äº†â€œåç»­â€çš„å«ä¹‰ï¼Œâ€œåç»­â€å®šä¹‰äº†ç”±ç‰¹å®šæ‰§è¡Œåˆ›å»ºçš„â€œå‰ç½®äºï¼ˆhappens beforeï¼‰â€å…³ç³»ï¼Œæœ€ç»ˆâ€œå‰ç½®äºï¼ˆhappens beforeï¼‰â€å…³ç³»å®šä¹‰äº†è¯¥ç‰¹å®šæ‰§è¡Œæ˜¯å¦å­˜åœ¨æ•°æ®ç«äº‰ã€‚å¦‚æœæ²¡æœ‰æ•°æ®ç«äº‰ï¼Œé‚£ä¹ˆæ‰§è¡Œå°±ä¼šä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿›è¡Œã€‚\näº‹å®ä¸Šï¼Œ volatile è®¿é—®å¿…é¡»è¡¨ç°å¾—åƒåœ¨æŸç§æ€»æ’åºä¸€æ ·ï¼Œæ„å‘³è¿™åœ¨ä¸‹é¢ litmus test ä¸­ï¼Œä¸èƒ½å‡ºç° r1=0 å’Œ r2=0 çš„ç»“æœ:\nLitmus Test: Store Buffering Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): yes! On ARM/POWER: yes! On Java using volatiles: no. Java ä¸­å¯¹ volatile å˜é‡ x å’Œ y çš„è¯»å†™ä¸èƒ½è¢«é‡æ–°æ’åºï¼šä¸€ä¸ªçº¿ç¨‹çš„å†™å…¥ä¸€å®šä¼šåŒæ­¥åˆ°ç¬¬äºŒä¸ªï¼Œç´§éšç€ç¬¬äºŒä¸ªçš„å†™å…¥çš„è¯»å–å°±ä¸€å®šèƒ½çœ‹åˆ°ç¬¬ä¸€ä¸ªå†™å…¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716112805-java_%E5%90%8C%E6%AD%A5%E5%8E%9F%E5%AD%90_volatile/","summary":"çº¿ç¨‹çš„åˆ›å»ºå‰ç½®äºï¼ˆhappens bofereï¼‰çº¿ç¨‹çš„ç¬¬ä¸€ä¸ªåŠ¨ä½œã€‚ äº’æ–¥ä½“ m çš„è§£é”å‰ç½®äºï¼ˆhappens beforeï¼‰ä»»ä½• åç»­ï¼ˆsubsequentï¼‰ å¯¹äº’æ–¥ä½“ m çš„é”å®šã€‚ volatile å˜é‡ v çš„å†™å…¥å‰ç½®äºï¼ˆhappens bofereï¼‰ä»»ä½• åç»­ï¼ˆsubsequentï¼‰ å¯¹å˜é‡ v çš„è¯»å–ã€‚ â€œåç»­ï¼ˆsubsequentï¼‰â€ æ„å‘³ç€ä»€ä¹ˆï¼ŸJava å®šä¹‰äº†æ‰€æœ‰é”å®šã€è§£é”å’Œ volatile å˜é‡è®¿é—®çš„è¡Œä¸ºï¼Œç»™å‡ºäº†æ•´ä¸ªç¨‹åºä¸­æ‰€æœ‰è¿™äº›æ“ä½œçš„æ€»é¡ºåºï¼Œå°±åƒå®ƒä»¬å‘ç”Ÿåœ¨æŸä¸ªé¡ºåºä¸€è‡´çš„äº¤é”™ä¸­ä¸€æ ·ã€‚â€œåç»­ï¼ˆsubsequentï¼‰â€æŒ‡åœ¨æ€»é¡ºåºä¸­è¾ƒæ™šæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šé”å®šã€è§£é”å’Œ volatile å˜é‡çš„è®¿é—®çš„â€œæ€»é¡ºåºâ€å®šä¹‰äº†â€œåç»­â€çš„å«ä¹‰ï¼Œâ€œåç»­â€å®šä¹‰äº†ç”±ç‰¹å®šæ‰§è¡Œåˆ›å»ºçš„â€œå‰ç½®äºï¼ˆhappens beforeï¼‰â€å…³ç³»ï¼Œæœ€ç»ˆâ€œå‰ç½®äºï¼ˆhappens beforeï¼‰â€å…³ç³»å®šä¹‰äº†è¯¥ç‰¹å®šæ‰§è¡Œæ˜¯å¦å­˜åœ¨æ•°æ®ç«äº‰ã€‚å¦‚æœæ²¡æœ‰æ•°æ®ç«äº‰ï¼Œé‚£ä¹ˆæ‰§è¡Œå°±ä¼šä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿›è¡Œã€‚\näº‹å®ä¸Šï¼Œ volatile è®¿é—®å¿…é¡»è¡¨ç°å¾—åƒåœ¨æŸç§æ€»æ’åºä¸€æ ·ï¼Œæ„å‘³è¿™åœ¨ä¸‹é¢ litmus test ä¸­ï¼Œä¸èƒ½å‡ºç° r1=0 å’Œ r2=0 çš„ç»“æœ:\nLitmus Test: Store Buffering Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no.","title":"Java åŒæ­¥åŸå­ï¼ˆvolatileï¼‰"},{"content":"å¯¹äºå°äºç­‰äº word å¤§å°çš„å˜é‡ï¼Œå¯¹å˜é‡ï¼ˆæˆ–å­—æ®µï¼‰ x çš„è¯»å–å¿…é¡»çœ‹åˆ°å¯¹ x çš„æŸä¸€æ¬¡å†™å…¥æ‰€å­˜å‚¨çš„å€¼ã€‚ å¦‚æœè¯»å– r è§‚å¯Ÿåˆ°å¯¹ x çš„å†™å…¥ w ï¼Œé‚£ä¹ˆ r ä¸å‘ç”Ÿåœ¨ w ä¹‹å‰ã€‚\nä¹Ÿå°±æ˜¯è¯´ r å¯ä»¥è§‚å¯Ÿå‘ç”Ÿåœ¨ r ä¹‹å‰çš„æ‰€æœ‰å†™å…¥ï¼Œå¹¶ä¸”å¯ä»¥è§‚å¯Ÿä¸ r ç«äº‰çš„å†™å…¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716112456-java_%E5%86%B3%E5%AE%9A%E7%AB%9E%E4%BA%89%E8%AF%BB%E5%86%99%E7%9A%84%E5%85%B7%E4%BD%93%E8%A7%84%E5%88%99/","summary":"å¯¹äºå°äºç­‰äº word å¤§å°çš„å˜é‡ï¼Œå¯¹å˜é‡ï¼ˆæˆ–å­—æ®µï¼‰ x çš„è¯»å–å¿…é¡»çœ‹åˆ°å¯¹ x çš„æŸä¸€æ¬¡å†™å…¥æ‰€å­˜å‚¨çš„å€¼ã€‚ å¦‚æœè¯»å– r è§‚å¯Ÿåˆ°å¯¹ x çš„å†™å…¥ w ï¼Œé‚£ä¹ˆ r ä¸å‘ç”Ÿåœ¨ w ä¹‹å‰ã€‚\nä¹Ÿå°±æ˜¯è¯´ r å¯ä»¥è§‚å¯Ÿå‘ç”Ÿåœ¨ r ä¹‹å‰çš„æ‰€æœ‰å†™å…¥ï¼Œå¹¶ä¸”å¯ä»¥è§‚å¯Ÿä¸ r ç«äº‰çš„å†™å…¥ã€‚","title":"Java å†³å®šç«äº‰è¯»å†™çš„å…·ä½“è§„åˆ™"},{"content":"See also: é¡ºåºä¸€è‡´æ€§ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716111043-%E5%86%85%E5%AD%98%E9%A1%BA%E5%BA%8F%E4%B8%80%E8%87%B4%E6%80%A7_sequential_consistency/","summary":"See also: é¡ºåºä¸€è‡´æ€§ã€‚","title":"å†…å­˜é¡ºåºä¸€è‡´æ€§ï¼ˆsequential consistencyï¼‰"},{"content":" tags: Memory Modelï¼Œä¸€è‡´æ€§ FROM ç¡¬ä»¶å†…å­˜æ¨¡å‹ï¼š\nthreads in the system must agree about a total order for the writes to a single memory location. That is, threads must agree which writes overwrite other writes. This property is called called coherence.\nå†…å­˜ä¸€è‡´æ€§çš„ç³»ç»Ÿéƒ½æ‰€æœ‰çº¿ç¨‹éƒ½å¿…é¡»æ¥å—å¯¹ä¸€ä¸ªå†…å­˜åœ°å€æ‰€æœ‰å†™å…¥çš„æ€»é¡ºåºã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰çº¿ç¨‹å¿…é¡»åŒæ„å“ªäº›å†™å…¥å¯ä»¥è¦†ç›–å¦å¤–çš„ä¸€äº›å†™å…¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716110953-%E5%86%85%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7_coherence/","summary":"tags: Memory Modelï¼Œä¸€è‡´æ€§ FROM ç¡¬ä»¶å†…å­˜æ¨¡å‹ï¼š\nthreads in the system must agree about a total order for the writes to a single memory location. That is, threads must agree which writes overwrite other writes. This property is called called coherence.\nå†…å­˜ä¸€è‡´æ€§çš„ç³»ç»Ÿéƒ½æ‰€æœ‰çº¿ç¨‹éƒ½å¿…é¡»æ¥å—å¯¹ä¸€ä¸ªå†…å­˜åœ°å€æ‰€æœ‰å†™å…¥çš„æ€»é¡ºåºã€‚æ¢å¥è¯è¯´ï¼Œæ‰€æœ‰çº¿ç¨‹å¿…é¡»åŒæ„å“ªäº›å†™å…¥å¯ä»¥è¦†ç›–å¦å¤–çš„ä¸€äº›å†™å…¥ã€‚","title":"å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰"},{"content":" Coherence deals with maintaining a global order in which writes to a single location or single variable are seen by all processors. Consistency deals with the ordering of operations to multiple locations with respect to all processors.\nMemory coherence: a memory system is coherent if any read of a data item returns the most recently written value of that data item (what values can be returned by a read).\nMemory consistency: A memory consistency model for a shared address space specifies constraints on the order in which memory operations must appear to be performed (i.e. to become visible to the processors) with respect to one another.(when a written value will be returned/seen by a read).\nCoherence defines the behavior of reads and writes to the same memory location, while consistency defines the behavior of reads and writes with respect to accesses to other locations.\nè¿™é‡Œåº”è¯¥æƒ³è¦åŒºåˆ†è¿˜æ˜¯å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰å’Œå†…å­˜é¡ºåºä¸€è‡´æ€§ï¼ˆsequential consistencyï¼‰ã€‚\nSee also Whatâ€™s the difference between memory coherence and consistency? ","permalink":"https://notes.0081800.xyz/notes/20210716110147-memory_coherence_vs_consistency/","summary":"Coherence deals with maintaining a global order in which writes to a single location or single variable are seen by all processors. Consistency deals with the ordering of operations to multiple locations with respect to all processors.\nMemory coherence: a memory system is coherent if any read of a data item returns the most recently written value of that data item (what values can be returned by a read).","title":"Memory coherence vs consistency"},{"content":"æ‚²è§‚å¹¶å‘æ§åˆ¶ ä¸¤é˜¶æ®µåŠ é”æ˜¯ä¸€ä¸ªå…¸å‹çš„æ‚²è§‚å¹¶å‘æ§åˆ¶ã€‚è®¾è®¡åŸåˆ™ï¼šå¦‚æœæŸäº›æ“ä½œå¯èƒ½å‡ºé”™ï¼Œåˆ™ç›´æ¥æ”¾å¼ƒç­‰å¾…ç›´åˆ°å®‰å…¨ã€‚\nä¹è§‚å¹¶å‘æ§åˆ¶ å¦‚æœå¯èƒ½å‘ç”Ÿæ½œåœ¨å†²çªï¼Œäº‹åŠ¡ä¼šç»§ç»­æ‰§è¡Œè€Œä¸æ˜¯ç»ˆæ­¢ï¼Œå¯„å¸Œæœ›ä¸ç›¸å®‰æ— äº‹ï¼›è€Œå½“äº‹åŠ¡æäº¤æ—¶ï¼Œæ•°æ®åº“ä¼šæ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†å†²çªï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œä¸­æ­¢äº‹åŠ¡å¹¶æ¥ä¸‹æ¥é‡è¯•ã€‚\nå¯¹æ¯” å¦‚æœå†²çªå¾ˆå¤šåˆ™æ€§èƒ½ä¸ä½³ï¼Œå¦‚æœæ€§èƒ½è‰¯å¥½ï¼Œä¸”äº‹åŠ¡ä¹‹é—´çš„ç«äº‰ä¸å¤§ï¼Œä¹è§‚å¹¶å‘æ§åˆ¶ä¼šæ¯”æ‚²è§‚æ–¹å¼æ€§èƒ½é«˜å¾ˆå¤šã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716080024-%E6%82%B2%E8%A7%82%E4%B8%8E%E4%B9%90%E8%A7%82%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6/","summary":"æ‚²è§‚å¹¶å‘æ§åˆ¶ ä¸¤é˜¶æ®µåŠ é”æ˜¯ä¸€ä¸ªå…¸å‹çš„æ‚²è§‚å¹¶å‘æ§åˆ¶ã€‚è®¾è®¡åŸåˆ™ï¼šå¦‚æœæŸäº›æ“ä½œå¯èƒ½å‡ºé”™ï¼Œåˆ™ç›´æ¥æ”¾å¼ƒç­‰å¾…ç›´åˆ°å®‰å…¨ã€‚\nä¹è§‚å¹¶å‘æ§åˆ¶ å¦‚æœå¯èƒ½å‘ç”Ÿæ½œåœ¨å†²çªï¼Œäº‹åŠ¡ä¼šç»§ç»­æ‰§è¡Œè€Œä¸æ˜¯ç»ˆæ­¢ï¼Œå¯„å¸Œæœ›ä¸ç›¸å®‰æ— äº‹ï¼›è€Œå½“äº‹åŠ¡æäº¤æ—¶ï¼Œæ•°æ®åº“ä¼šæ£€æŸ¥æ˜¯å¦å‘ç”Ÿäº†å†²çªï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œä¸­æ­¢äº‹åŠ¡å¹¶æ¥ä¸‹æ¥é‡è¯•ã€‚\nå¯¹æ¯” å¦‚æœå†²çªå¾ˆå¤šåˆ™æ€§èƒ½ä¸ä½³ï¼Œå¦‚æœæ€§èƒ½è‰¯å¥½ï¼Œä¸”äº‹åŠ¡ä¹‹é—´çš„ç«äº‰ä¸å¤§ï¼Œä¹è§‚å¹¶å‘æ§åˆ¶ä¼šæ¯”æ‚²è§‚æ–¹å¼æ€§èƒ½é«˜å¾ˆå¤šã€‚","title":"æ‚²è§‚ä¸ä¹è§‚å¹¶å‘æ§åˆ¶"},{"content":"å¯ä¸²å½¢åŒ–çš„å¿«ç…§éš”ç¦»ï¼ˆSerializable Snapshot Isolationï¼ŒSSIï¼‰è¿‘ä¸¤å¹´è¢«ç ”ç©¶ï¼Œå°šéœ€åœ¨å®è·µä¸­è¯æ˜å…¶æ€§èƒ½ï¼Œä½†æ˜¯å®ƒå¾ˆæœ‰å¯èƒ½æˆä¸ºæœªæ¥æ•°æ®çš„æ ‡é…ã€‚\næ‚²è§‚ä¸ä¹è§‚å¹¶å‘æ§åˆ¶ ","permalink":"https://notes.0081800.xyz/notes/20210716075758-%E5%8F%AF%E4%B8%B2%E5%BD%A2%E5%8C%96%E7%9A%84%E5%BF%AB%E7%85%A7%E9%9A%94%E7%A6%BB/","summary":"å¯ä¸²å½¢åŒ–çš„å¿«ç…§éš”ç¦»ï¼ˆSerializable Snapshot Isolationï¼ŒSSIï¼‰è¿‘ä¸¤å¹´è¢«ç ”ç©¶ï¼Œå°šéœ€åœ¨å®è·µä¸­è¯æ˜å…¶æ€§èƒ½ï¼Œä½†æ˜¯å®ƒå¾ˆæœ‰å¯èƒ½æˆä¸ºæœªæ¥æ•°æ®çš„æ ‡é…ã€‚\næ‚²è§‚ä¸ä¹è§‚å¹¶å‘æ§åˆ¶ ","title":"å¯ä¸²å½¢åŒ–çš„å¿«ç…§éš”ç¦»"},{"content":"ä¸¤é˜¶æ®µæ·é”ï¼ˆtwo-phase lockingï¼Œ2PLï¼‰æ˜¯è¿‘ 30 å¹´æ¥æ•°æ®åº“å”¯ä¸€ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„ä¸²å½¢åŒ–ç®—æ³•ã€‚ å¤šä¸ªäº‹åŠ¡å¯ä»¥åŒæ—¶è¯»å–åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†åªè¦å‡ºç°ä»»ä½•å†™æ“ä½œï¼ˆä¿®æ”¹æˆ–åˆ é™¤ï¼‰ï¼Œåˆ™å¿…é¡»åŠ é”ä»¥ç‹¬å è®¿é—®ã€‚\nä¸¤é˜¶æ®µåŒ…æ‹¬ï¼š\näº‹åŠ¡æ‰§è¡Œä¹‹å‰è¦è·å¾—é”ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰ äº‹åŠ¡ç»“æŸä¹‹åè¦é‡Šæ”¾é”ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰ å®ç° 2PL ç”¨äº MySQLï¼ˆInnoDBï¼‰å’Œ SQL Server ä¸­çš„â€œå¯ä¸²å½¢åŒ–éš”ç¦»â€ï¼Œä»¥åŠ DB2 çš„â€œå¯é‡å¤è¯»â€ã€‚\næ¯ä¸ªå¯¹è±¡é€šè¿‡ä¸€ä¸ªã€Œè¯»å†™é”ã€éš”ç¦»è¯»å†™æ“ä½œã€‚\nå…±äº«é”è¿›è¡Œè¯»å–ã€‚ ç‹¬å é”è¿›è¡Œä¿®æ”¹ã€‚ è¯»å–å…ˆè·å–å…±äº«é”ï¼Œå¦‚æœè¦ä¿®æ”¹åˆ™å‡çº§ä¸ºç‹¬å é”ã€‚ äº‹åŠ¡è·å¾—é”ä¹‹åä¸€ç›´æŒæœ‰åˆ°äº‹åŠ¡ç»“æŸã€‚ æ€§èƒ½ æ…¢å’Œæ­»é”\nè°“è¯é” é€šè¿‡å¯¹åŒºé—´æ¡ä»¶åŠ è°“è¯é”ã€‚\nç´¢å¼•åŒºé—´é” ","permalink":"https://notes.0081800.xyz/notes/20210716074845-%E4%B8%A4%E9%98%B6%E6%AE%B5%E5%8A%A0%E9%94%81/","summary":"ä¸¤é˜¶æ®µæ·é”ï¼ˆtwo-phase lockingï¼Œ2PLï¼‰æ˜¯è¿‘ 30 å¹´æ¥æ•°æ®åº“å”¯ä¸€ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„ä¸²å½¢åŒ–ç®—æ³•ã€‚ å¤šä¸ªäº‹åŠ¡å¯ä»¥åŒæ—¶è¯»å–åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†åªè¦å‡ºç°ä»»ä½•å†™æ“ä½œï¼ˆä¿®æ”¹æˆ–åˆ é™¤ï¼‰ï¼Œåˆ™å¿…é¡»åŠ é”ä»¥ç‹¬å è®¿é—®ã€‚\nä¸¤é˜¶æ®µåŒ…æ‹¬ï¼š\näº‹åŠ¡æ‰§è¡Œä¹‹å‰è¦è·å¾—é”ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰ äº‹åŠ¡ç»“æŸä¹‹åè¦é‡Šæ”¾é”ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰ å®ç° 2PL ç”¨äº MySQLï¼ˆInnoDBï¼‰å’Œ SQL Server ä¸­çš„â€œå¯ä¸²å½¢åŒ–éš”ç¦»â€ï¼Œä»¥åŠ DB2 çš„â€œå¯é‡å¤è¯»â€ã€‚\næ¯ä¸ªå¯¹è±¡é€šè¿‡ä¸€ä¸ªã€Œè¯»å†™é”ã€éš”ç¦»è¯»å†™æ“ä½œã€‚\nå…±äº«é”è¿›è¡Œè¯»å–ã€‚ ç‹¬å é”è¿›è¡Œä¿®æ”¹ã€‚ è¯»å–å…ˆè·å–å…±äº«é”ï¼Œå¦‚æœè¦ä¿®æ”¹åˆ™å‡çº§ä¸ºç‹¬å é”ã€‚ äº‹åŠ¡è·å¾—é”ä¹‹åä¸€ç›´æŒæœ‰åˆ°äº‹åŠ¡ç»“æŸã€‚ æ€§èƒ½ æ…¢å’Œæ­»é”\nè°“è¯é” é€šè¿‡å¯¹åŒºé—´æ¡ä»¶åŠ è°“è¯é”ã€‚\nç´¢å¼•åŒºé—´é” ","title":"ä¸¤é˜¶æ®µåŠ é”"},{"content":"å®é™…ä¸²è¡Œæ‰§è¡Œ è§£å†³å¹¶å‘é—®é¢˜æœ€ç›´æ¥çš„æ–¹æ³•ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸ŠæŒ‰ç…§é¡ºåºæ–¹å¼æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªäº‹åŠ¡ã€‚\nä¸ºä»€ä¹ˆå¯è¡Œï¼š\nå†…å­˜è¶Šæ¥è¶Šä¾¿å®œï¼Œå¯ä»¥å°†äº‹åŠ¡éœ€è¦çš„æ•°æ®éƒ½æ”¾åœ¨å†…å­˜ä¸­ã€‚ OLTP äº‹åŠ¡é€šå¸¸æ‰§è¡Œå¾ˆå¿«ï¼Œåªäº§ç”Ÿå°‘é‡çš„è¯»å†™æ“ä½œã€‚é€šå¸¸è¾ƒé•¿æ—¶é—´çš„åˆ†ææ“ä½œé€šå¸¸æ˜¯åªè¯»ã€‚ äº‹åŠ¡ä¸ºäº†å……åˆ†åˆ©ç”¨å•çº¿ç¨‹æ‰€åšçš„è°ƒæ•´ï¼š\né‡‡ç”¨å­˜å‚¨è¿‡ç¨‹å°è£…äº‹åŠ¡ï¼ŒRedis é‡‡ç”¨ Lua åˆ†åŒº çº¦æŸ äº‹åŠ¡å¿…é¡»ç®€çŸ­è€Œé«˜æ•ˆã€‚ äº‹åŠ¡æ‰€éœ€æ•°æ®éƒ½åœ¨å†…å­˜ã€‚ å†™å…¥ååé‡å¿…é¡»ä½ï¼Œå¦åˆ™éœ€è¦é‡‡ç”¨åˆ†åŒºï¼Œæœ€å¥½æ²¡æœ‰è·¨åˆ†åŒºäº‹åŠ¡ã€‚ è¦æ”¯æŒè·¨åˆ†åŒºäº‹åŠ¡å¿…é¡»ç¡®ä¿è·¨åˆ†åŒºäº‹åŠ¡å æ¯”å¾ˆå°ã€‚ ä¸¤é˜¶æ®µåŠ é” å¯ä¸²å½¢åŒ–çš„å¿«ç…§éš”ç¦» ","permalink":"https://notes.0081800.xyz/notes/20210716074157-%E4%B8%B2%E8%A1%8C%E5%8C%96/","summary":"å®é™…ä¸²è¡Œæ‰§è¡Œ è§£å†³å¹¶å‘é—®é¢˜æœ€ç›´æ¥çš„æ–¹æ³•ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸ŠæŒ‰ç…§é¡ºåºæ–¹å¼æ¯æ¬¡æ‰§è¡Œä¸€ä¸ªäº‹åŠ¡ã€‚\nä¸ºä»€ä¹ˆå¯è¡Œï¼š\nå†…å­˜è¶Šæ¥è¶Šä¾¿å®œï¼Œå¯ä»¥å°†äº‹åŠ¡éœ€è¦çš„æ•°æ®éƒ½æ”¾åœ¨å†…å­˜ä¸­ã€‚ OLTP äº‹åŠ¡é€šå¸¸æ‰§è¡Œå¾ˆå¿«ï¼Œåªäº§ç”Ÿå°‘é‡çš„è¯»å†™æ“ä½œã€‚é€šå¸¸è¾ƒé•¿æ—¶é—´çš„åˆ†ææ“ä½œé€šå¸¸æ˜¯åªè¯»ã€‚ äº‹åŠ¡ä¸ºäº†å……åˆ†åˆ©ç”¨å•çº¿ç¨‹æ‰€åšçš„è°ƒæ•´ï¼š\né‡‡ç”¨å­˜å‚¨è¿‡ç¨‹å°è£…äº‹åŠ¡ï¼ŒRedis é‡‡ç”¨ Lua åˆ†åŒº çº¦æŸ äº‹åŠ¡å¿…é¡»ç®€çŸ­è€Œé«˜æ•ˆã€‚ äº‹åŠ¡æ‰€éœ€æ•°æ®éƒ½åœ¨å†…å­˜ã€‚ å†™å…¥ååé‡å¿…é¡»ä½ï¼Œå¦åˆ™éœ€è¦é‡‡ç”¨åˆ†åŒºï¼Œæœ€å¥½æ²¡æœ‰è·¨åˆ†åŒºäº‹åŠ¡ã€‚ è¦æ”¯æŒè·¨åˆ†åŒºäº‹åŠ¡å¿…é¡»ç¡®ä¿è·¨åˆ†åŒºäº‹åŠ¡å æ¯”å¾ˆå°ã€‚ ä¸¤é˜¶æ®µåŠ é” å¯ä¸²å½¢åŒ–çš„å¿«ç…§éš”ç¦» ","title":"ä¸²è¡ŒåŒ–"},{"content":"å³ä¸æ˜¯è„å†™ä¹Ÿä¸ä¼šæ›´æ–°ä¸¢å¤±ï¼Œäº‹åŠ¡ä¹‹é—´çš„å†™å†²çªå¹¶ä¸ç›´æ¥ï¼Œå†™å€¾æ–œå¯ä»¥è§†ä¸ºæ›´å¹¿ä¹‰çš„æ•°æ®ä¸¢å¤±ã€‚\nè€ƒè™‘æ€¥è¯ŠåŒ»ç”Ÿè¯·å‡ç³»ç»Ÿï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯å¿…é¡»è¦æœ‰ä¸€ä¸ªåŒ»ç”Ÿå€¼ç­ã€‚ä¸¤ä¸ªåŒ»ç”ŸåŒæ—¶è¯·å‡ï¼Œäº‹åŠ¡åŒæ—¶åŒæ—¶å¼€å§‹ï¼Œé‚£ä¹ˆä¸¤ä¸ªåŒ»ç”Ÿéƒ½èƒ½æŸ¥è¯¢åˆ°æœ‰ä¸¤ä¸ªåŒ»ç”Ÿå€¼ç­ï¼Œæœ€åè¯·å‡æˆåŠŸï¼Œå¯¼è‡´æ— åŒ»ç”Ÿå€¼ç­ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716072157-%E5%86%99%E5%80%BE%E6%96%9C/","summary":"å³ä¸æ˜¯è„å†™ä¹Ÿä¸ä¼šæ›´æ–°ä¸¢å¤±ï¼Œäº‹åŠ¡ä¹‹é—´çš„å†™å†²çªå¹¶ä¸ç›´æ¥ï¼Œå†™å€¾æ–œå¯ä»¥è§†ä¸ºæ›´å¹¿ä¹‰çš„æ•°æ®ä¸¢å¤±ã€‚\nè€ƒè™‘æ€¥è¯ŠåŒ»ç”Ÿè¯·å‡ç³»ç»Ÿï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯å¿…é¡»è¦æœ‰ä¸€ä¸ªåŒ»ç”Ÿå€¼ç­ã€‚ä¸¤ä¸ªåŒ»ç”ŸåŒæ—¶è¯·å‡ï¼Œäº‹åŠ¡åŒæ—¶åŒæ—¶å¼€å§‹ï¼Œé‚£ä¹ˆä¸¤ä¸ªåŒ»ç”Ÿéƒ½èƒ½æŸ¥è¯¢åˆ°æœ‰ä¸¤ä¸ªåŒ»ç”Ÿå€¼ç­ï¼Œæœ€åè¯·å‡æˆåŠŸï¼Œå¯¼è‡´æ— åŒ»ç”Ÿå€¼ç­ã€‚","title":"å†™å€¾æ–œ"},{"content":"å†™äº‹åŠ¡å¹¶å‘é™¤äº†éœ€è¦é˜²æ­¢æ›´æ–°ä¸¢å¤±è¿˜æœ‰ä¸€äº›æ›´ä¸ºå¾®å¦™çš„å†™å†²çªã€‚\nå†™å€¾æ–œä¸å¹»è¯» å®šä¹‰å†™å€¾æ–œã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210716071953-%E5%86%99%E5%80%BE%E6%96%9C%E4%B8%8E%E5%B9%BB%E8%AF%BB/","summary":"å†™äº‹åŠ¡å¹¶å‘é™¤äº†éœ€è¦é˜²æ­¢æ›´æ–°ä¸¢å¤±è¿˜æœ‰ä¸€äº›æ›´ä¸ºå¾®å¦™çš„å†™å†²çªã€‚\nå†™å€¾æ–œä¸å¹»è¯» å®šä¹‰å†™å€¾æ–œã€‚","title":"å†™å€¾æ–œä¸å¹»è¯»"},{"content":"è¯»äº‹åŠ¡é‡åˆ°å¹¶å‘å†™ä¼šå‡ºç°è„è¯»ï¼ˆè¯»-æäº¤å’Œå¯é‡å¤è¯»å¯ä»¥è§£å†³ï¼‰ï¼Œå†™äº‹åŠ¡å¹¶å‘ä¼šå¸¦æ¥ä¸€äº›å†²çªï¼Œæœ€å€¼å¾—å…³æ³¨çš„å°±æ˜¯æ›´æ–°ä¸¢å¤±é—®é¢˜ã€‚ åº”ç”¨ç¨‹åºä»æ•°æ®åº“è¯»å–æŸäº›å€¼ï¼Œç„¶ååº”ç”¨é€»è¾‘åšå‡ºä¿®æ”¹ï¼Œç„¶åå†™å›æ–°å€¼ã€‚\nåŸå­å†™æ“ä½œ UPDATE counters SET value=value+1 WHERE key = \u0026#39;foo\u0026#39;; åŸå­æ“ä½œé€šå¸¸é‡‡ç”¨æ–¹å¼ï¼š\nå¯¹è¯»å–å¯¹è±¡åŠ ç‹¬å åŠ é”ï¼Œè¿™ç§æŠ€æœ¯æœ‰æ—¶è¢«ç§°ä¸ºã€Œæ¸¸æ ‡ç¨³å®šæ€§ã€ã€‚ å¼ºåˆ¶æ‰€æœ‰åŸå­æ“ä½œéƒ½åœ¨å•çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚ æ˜¾å¼æ·é” BEGIN TRANSACTION; SELECT * FROM figures WHERE name = \u0026#39;robot\u0026#39; AND game_id = 222 FOR UPDATE; -- æŒ‡ç¤ºæ•°æ®åº“å¯¹è¿”å›çš„æ‰€æœ‰ç»“æœè¡Œè¦åŠ é”ã€‚ ç¼ºç‚¹ï¼šä¾µå…¥åº”ç”¨é€»è¾‘ã€å®¹æ˜“å¼•å‘æ­»é”ï¼ˆç«äº‰å†²çªï¼‰ã€‚\nè‡ªåŠ¨æ£€æµ‹æ›´æ–°ä¸¢å¤± æ•°æ®åº“ï¼ˆOracle çš„ä¸²å½¢åŒ–å’Œ SQL Server çš„å¿«ç…§çº§åˆ«éš”ç¦»ï¼‰å¯ä»¥è‡ªåŠ¨æ£€æµ‹ä½•æ—¶å‘ç”Ÿäº†æ›´æ–°ä¸¢å¤±ï¼Œç„¶åç»ˆæ­¢è¿è§„çš„é‚£ä¸ªäº‹åŠ¡ã€‚\nåŸå­æ¯”è¾ƒå’Œè®¾ç½® UPDATE wiki_pages SET content = \u0026#39;new_content\u0026#39; WHERE id = 1234 AND conetnt = \u0026#39;old_content\u0026#39;; å†²çªè§£å†³ä¸å¤åˆ¶ æœ€åå†™å…¥è€…è·èƒœ ","permalink":"https://notes.0081800.xyz/notes/20210716070457-%E9%98%B2%E6%AD%A2%E6%9B%B4%E6%96%B0%E4%B8%A2%E5%A4%B1/","summary":"è¯»äº‹åŠ¡é‡åˆ°å¹¶å‘å†™ä¼šå‡ºç°è„è¯»ï¼ˆè¯»-æäº¤å’Œå¯é‡å¤è¯»å¯ä»¥è§£å†³ï¼‰ï¼Œå†™äº‹åŠ¡å¹¶å‘ä¼šå¸¦æ¥ä¸€äº›å†²çªï¼Œæœ€å€¼å¾—å…³æ³¨çš„å°±æ˜¯æ›´æ–°ä¸¢å¤±é—®é¢˜ã€‚ åº”ç”¨ç¨‹åºä»æ•°æ®åº“è¯»å–æŸäº›å€¼ï¼Œç„¶ååº”ç”¨é€»è¾‘åšå‡ºä¿®æ”¹ï¼Œç„¶åå†™å›æ–°å€¼ã€‚\nåŸå­å†™æ“ä½œ UPDATE counters SET value=value+1 WHERE key = \u0026#39;foo\u0026#39;; åŸå­æ“ä½œé€šå¸¸é‡‡ç”¨æ–¹å¼ï¼š\nå¯¹è¯»å–å¯¹è±¡åŠ ç‹¬å åŠ é”ï¼Œè¿™ç§æŠ€æœ¯æœ‰æ—¶è¢«ç§°ä¸ºã€Œæ¸¸æ ‡ç¨³å®šæ€§ã€ã€‚ å¼ºåˆ¶æ‰€æœ‰åŸå­æ“ä½œéƒ½åœ¨å•çº¿ç¨‹ä¸Šæ‰§è¡Œã€‚ æ˜¾å¼æ·é” BEGIN TRANSACTION; SELECT * FROM figures WHERE name = \u0026#39;robot\u0026#39; AND game_id = 222 FOR UPDATE; -- æŒ‡ç¤ºæ•°æ®åº“å¯¹è¿”å›çš„æ‰€æœ‰ç»“æœè¡Œè¦åŠ é”ã€‚ ç¼ºç‚¹ï¼šä¾µå…¥åº”ç”¨é€»è¾‘ã€å®¹æ˜“å¼•å‘æ­»é”ï¼ˆç«äº‰å†²çªï¼‰ã€‚\nè‡ªåŠ¨æ£€æµ‹æ›´æ–°ä¸¢å¤± æ•°æ®åº“ï¼ˆOracle çš„ä¸²å½¢åŒ–å’Œ SQL Server çš„å¿«ç…§çº§åˆ«éš”ç¦»ï¼‰å¯ä»¥è‡ªåŠ¨æ£€æµ‹ä½•æ—¶å‘ç”Ÿäº†æ›´æ–°ä¸¢å¤±ï¼Œç„¶åç»ˆæ­¢è¿è§„çš„é‚£ä¸ªäº‹åŠ¡ã€‚\nåŸå­æ¯”è¾ƒå’Œè®¾ç½® UPDATE wiki_pages SET content = \u0026#39;new_content\u0026#39; WHERE id = 1234 AND conetnt = \u0026#39;old_content\u0026#39;; å†²çªè§£å†³ä¸å¤åˆ¶ æœ€åå†™å…¥è€…è·èƒœ ","title":"é˜²æ­¢æ›´æ–°ä¸¢å¤±"},{"content":" tags: Go,Memory Model source: æ›´æ–°Goå†…å­˜æ¨¡å‹ https://research.swtch.com/gomm ","permalink":"https://notes.0081800.xyz/notes/20210715110202-%E6%9B%B4%E6%96%B0_go_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":" tags: Go,Memory Model source: æ›´æ–°Goå†…å­˜æ¨¡å‹ https://research.swtch.com/gomm ","title":"æ›´æ–° Go å†…å­˜æ¨¡å‹"},{"content":" tags: LeetCode source: https://leetcode.com/problems/reverse-nodes-in-k-group/ /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* reverseKGroup(ListNode* head, int k) { deque\u0026lt;ListNode*\u0026gt; dq; ListNode* cur = head; ListNode* top = nullptr; ListNode* tail = nullptr; bool first_k = true; while (cur != nullptr) { dq.push_front(cur); cur = cur-\u0026gt;next; if (dq.size() == k) { // start reverse in k top = dq.front(); dq.pop_front(); // override head or connected from last k if (first_k) { head = top; first_k = false; } else { tail-\u0026gt;next = top; } while(!dq.empty()) { top-\u0026gt;next = dq.front(); dq.pop_front(); top = top-\u0026gt;next; } top-\u0026gt;next = cur; tail = top; // mark the tail of linked list } } if (!dq.empty() \u0026amp;\u0026amp; tail != nullptr) { tail-\u0026gt;next = dq.back(); } return head; } }; ","permalink":"https://notes.0081800.xyz/notes/20210715064442-leetcode_25_reverse_nodes_in_k_group/","summary":"tags: LeetCode source: https://leetcode.com/problems/reverse-nodes-in-k-group/ /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* reverseKGroup(ListNode* head, int k) { deque\u0026lt;ListNode*\u0026gt; dq; ListNode* cur = head; ListNode* top = nullptr; ListNode* tail = nullptr; bool first_k = true; while (cur !","title":"LeetCode: 25. Reverse Nodes in k-Group"},{"content":"è¯»-æœªæäº¤ è¯»æ•°æ®æ—¶ï¼Œä¼šè¯»åˆ°æœªæˆåŠŸæäº¤çš„æ•°æ®ï¼ˆæœªé˜²æ­¢â€œè„è¯»â€ï¼‰ å†™æ•°æ®æ—¶ï¼Œåªä¼šè¦†ç›–å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„å†™â€ï¼‰ è¯»-æäº¤ è¯»æ•°æ®æ—¶ï¼Œåªä¼šè¯»åˆ°å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„è¯»â€ï¼‰ å†™æ•°æ®æ—¶ï¼Œåªä¼šè¦†ç›–å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„å†™â€ï¼‰ é˜²æ­¢è„å†™ é€šå¸¸é€šè¿‡æ¨è¿Ÿç¬¬äºŒä¸ªå†™è¯·æ±‚ï¼ˆè¡Œé”ï¼‰ï¼Œç›´åˆ°å‰é¢çš„äº‹åŠ¡å®Œæˆæäº¤ï¼ˆæˆ–è€…ç»ˆæ­¢ï¼‰ã€‚\né˜²æ­¢è„è¯» é€šè¿‡è¡Œé”åŒæ ·å¯ä»¥é¿å…è„è¯»ï¼Œä½†æ˜¯å®é™…ä¸­ä¸å¯è¡Œï¼ˆæ€§èƒ½å¤ªå·®ï¼‰ï¼Œä¸€èˆ¬é‡‡ç”¨ç±»ä¼¼ MVCC çš„æ–¹å¼ï¼šå¯¹äºå¾…æ›´æ–°çš„å¯¹è±¡ï¼Œæ•°æ®åº“éƒ½ä¼šç»´æŠ¤å…¶æ—§å€¼å’Œå½“å‰æŒé”äº‹åŠ¡å°†è¦è®¾ç½®çš„æ–°å€¼ä¸¤ä¸ªç‰ˆæœ¬ã€‚ äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå…¶ä»–æ‰€æœ‰è¯»æ“ä½œè¯»æ—§å€¼ï¼›ä»…å½“å†™äº‹åŠ¡æäº¤ä¹‹åï¼Œæ‰ä¼šåˆ‡æ¢åˆ°è¯»å–æ–°å€¼ã€‚\nå¯é‡å¤è¯»ï¼ˆå¿«ç…§çº§åˆ«éš”ç¦»ï¼‰ åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œåå¤è¯»å–æ€»èƒ½è·å¾—ä¸€è‡´æ€§çš„ç»“æœï¼Œè€Œä¸ä¼šè¯»å–åˆ°å…¶ä»–äº‹åŠ¡æäº¤ä¿®æ”¹çš„æ–°å€¼ã€‚æ€»ä½“æ€§æƒ³æ³•æ˜¯ï¼šæ¯ä¸ªäº‹åŠ¡éƒ½ä»æ•°æ®åº“çš„ä¸€è‡´æ€§å¿«ç…§ä¸­è¯»å–ï¼Œäº‹åŠ¡ä¸€å¼€å§‹æ‰€çœ‹åˆ°çš„æ˜¯æœ€è¿‘æäº¤çš„æ•°æ®ï¼Œå³ä½¿æ•°æ®éšåå¯èƒ½è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ›´æ”¹ï¼Œä½†ä¿è¯æ¯ä¸ªäº‹åŠ¡éƒ½åªçœ‹åˆ°ç‰¹å®šæ—¶é—´ç‚¹çš„æ—§æ•°æ®ã€‚\nå®ç°å¿«ç…§çº§åˆ«éš”ç¦» MVCC\nä¸²è¡ŒåŒ– ","permalink":"https://notes.0081800.xyz/notes/20210714074945-%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB/","summary":"è¯»-æœªæäº¤ è¯»æ•°æ®æ—¶ï¼Œä¼šè¯»åˆ°æœªæˆåŠŸæäº¤çš„æ•°æ®ï¼ˆæœªé˜²æ­¢â€œè„è¯»â€ï¼‰ å†™æ•°æ®æ—¶ï¼Œåªä¼šè¦†ç›–å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„å†™â€ï¼‰ è¯»-æäº¤ è¯»æ•°æ®æ—¶ï¼Œåªä¼šè¯»åˆ°å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„è¯»â€ï¼‰ å†™æ•°æ®æ—¶ï¼Œåªä¼šè¦†ç›–å·²æˆåŠŸæäº¤çš„æ•°æ®ï¼ˆé˜²æ­¢â€œè„å†™â€ï¼‰ é˜²æ­¢è„å†™ é€šå¸¸é€šè¿‡æ¨è¿Ÿç¬¬äºŒä¸ªå†™è¯·æ±‚ï¼ˆè¡Œé”ï¼‰ï¼Œç›´åˆ°å‰é¢çš„äº‹åŠ¡å®Œæˆæäº¤ï¼ˆæˆ–è€…ç»ˆæ­¢ï¼‰ã€‚\né˜²æ­¢è„è¯» é€šè¿‡è¡Œé”åŒæ ·å¯ä»¥é¿å…è„è¯»ï¼Œä½†æ˜¯å®é™…ä¸­ä¸å¯è¡Œï¼ˆæ€§èƒ½å¤ªå·®ï¼‰ï¼Œä¸€èˆ¬é‡‡ç”¨ç±»ä¼¼ MVCC çš„æ–¹å¼ï¼šå¯¹äºå¾…æ›´æ–°çš„å¯¹è±¡ï¼Œæ•°æ®åº“éƒ½ä¼šç»´æŠ¤å…¶æ—§å€¼å’Œå½“å‰æŒé”äº‹åŠ¡å°†è¦è®¾ç½®çš„æ–°å€¼ä¸¤ä¸ªç‰ˆæœ¬ã€‚ äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå…¶ä»–æ‰€æœ‰è¯»æ“ä½œè¯»æ—§å€¼ï¼›ä»…å½“å†™äº‹åŠ¡æäº¤ä¹‹åï¼Œæ‰ä¼šåˆ‡æ¢åˆ°è¯»å–æ–°å€¼ã€‚\nå¯é‡å¤è¯»ï¼ˆå¿«ç…§çº§åˆ«éš”ç¦»ï¼‰ åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œåå¤è¯»å–æ€»èƒ½è·å¾—ä¸€è‡´æ€§çš„ç»“æœï¼Œè€Œä¸ä¼šè¯»å–åˆ°å…¶ä»–äº‹åŠ¡æäº¤ä¿®æ”¹çš„æ–°å€¼ã€‚æ€»ä½“æ€§æƒ³æ³•æ˜¯ï¼šæ¯ä¸ªäº‹åŠ¡éƒ½ä»æ•°æ®åº“çš„ä¸€è‡´æ€§å¿«ç…§ä¸­è¯»å–ï¼Œäº‹åŠ¡ä¸€å¼€å§‹æ‰€çœ‹åˆ°çš„æ˜¯æœ€è¿‘æäº¤çš„æ•°æ®ï¼Œå³ä½¿æ•°æ®éšåå¯èƒ½è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡æ›´æ”¹ï¼Œä½†ä¿è¯æ¯ä¸ªäº‹åŠ¡éƒ½åªçœ‹åˆ°ç‰¹å®šæ—¶é—´ç‚¹çš„æ—§æ•°æ®ã€‚\nå®ç°å¿«ç…§çº§åˆ«éš”ç¦» MVCC\nä¸²è¡ŒåŒ– ","title":"äº‹åŠ¡éš”ç¦»çº§åˆ«"},{"content":"åŸå­æ€§ï¼ˆAtomicityï¼‰ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ ä¸€è‡´æ€§å¹¶ä¸æ˜¯æ•°æ®æ‰€ä¿è¯çš„ï¼Œè€Œæ˜¯ç¨‹åºå€ŸåŠ©æ•°æ®åº“çš„åŸå­æ€§å’Œéš”ç¦»æ€§ï¼ˆADï¼‰æ¥è¾¾åˆ°ä¸€è‡´æ€§ã€‚ä¸€è‡´æ€§çš„ C æ”¾åˆ° ACID ä¸­åªæ˜¯ä¸ºäº†å¯ä»¥æ›´åŠ é¡ºç•…çš„å®£ä¼ ï¼ˆè¯»ï¼‰ã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ äº‹åŠ¡éš”ç¦»çº§åˆ«\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20210714074135-acid/","summary":"åŸå­æ€§ï¼ˆAtomicityï¼‰ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ ä¸€è‡´æ€§å¹¶ä¸æ˜¯æ•°æ®æ‰€ä¿è¯çš„ï¼Œè€Œæ˜¯ç¨‹åºå€ŸåŠ©æ•°æ®åº“çš„åŸå­æ€§å’Œéš”ç¦»æ€§ï¼ˆADï¼‰æ¥è¾¾åˆ°ä¸€è‡´æ€§ã€‚ä¸€è‡´æ€§çš„ C æ”¾åˆ° ACID ä¸­åªæ˜¯ä¸ºäº†å¯ä»¥æ›´åŠ é¡ºç•…çš„å®£ä¼ ï¼ˆè¯»ï¼‰ã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ äº‹åŠ¡éš”ç¦»çº§åˆ«\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ ","title":"ACID"},{"content":"äº‹åŠ¡ç®€åŒ–ç¨‹åºå±‚é”™è¯¯å¤„ç†ï¼Œå°†å¤šä¸ªè¯»å†™æ†ç»‘æˆä¸€ä¸ªæ“ä½œé€»è¾‘æ“ä½œå•å…ƒï¼ŒæˆåŠŸåˆ™å…¨éƒ¨æˆåŠŸï¼Œå¤±è´¥åˆ™å¯ä»¥è¿›è¡Œå®‰å…¨é‡è¯•ã€‚\næ·±å…¥ç†è§£äº‹åŠ¡ ACID å•å¯¹è±¡ä¸å¤šå¯¹è±¡äº‹åŠ¡æ“ä½œ äº‹åŠ¡æ“ä½œæ¶‰åŠå¤šå¯¹è±¡å’Œä½†å¯¹è±¡ã€‚\nå¤šå¯¹è±¡ï¼Œå¦‚æ›´æ–°é‚®ä»¶æœªè¯»æ•°å’Œæœªè¯»é‚®ä»¶ä¸ªæ•° å•å¯¹è±¡ï¼Œå¦‚æ›´æ–°ä¸€ä¸ªå¤§çš„å­—æ®µï¼ˆ20KB çš„ JSONï¼‰ å¼±éš”ç¦»çº§åˆ« äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸­çš„ã€Œè¯»-æœªæäº¤ã€ã€ã€Œè¯»-æäº¤ã€å’Œã€Œå¿«ç…§çº§åˆ«éš”ç¦»å¯é‡å¤è¯»ã€ã€‚\né˜²æ­¢æ›´æ–°ä¸¢å¤± å†™å€¾æ–œä¸å¹»è¯» ä¸²è¡ŒåŒ– ","permalink":"https://notes.0081800.xyz/notes/20210714073909-%E4%BA%8B%E5%8A%A1/","summary":"äº‹åŠ¡ç®€åŒ–ç¨‹åºå±‚é”™è¯¯å¤„ç†ï¼Œå°†å¤šä¸ªè¯»å†™æ†ç»‘æˆä¸€ä¸ªæ“ä½œé€»è¾‘æ“ä½œå•å…ƒï¼ŒæˆåŠŸåˆ™å…¨éƒ¨æˆåŠŸï¼Œå¤±è´¥åˆ™å¯ä»¥è¿›è¡Œå®‰å…¨é‡è¯•ã€‚\næ·±å…¥ç†è§£äº‹åŠ¡ ACID å•å¯¹è±¡ä¸å¤šå¯¹è±¡äº‹åŠ¡æ“ä½œ äº‹åŠ¡æ“ä½œæ¶‰åŠå¤šå¯¹è±¡å’Œä½†å¯¹è±¡ã€‚\nå¤šå¯¹è±¡ï¼Œå¦‚æ›´æ–°é‚®ä»¶æœªè¯»æ•°å’Œæœªè¯»é‚®ä»¶ä¸ªæ•° å•å¯¹è±¡ï¼Œå¦‚æ›´æ–°ä¸€ä¸ªå¤§çš„å­—æ®µï¼ˆ20KB çš„ JSONï¼‰ å¼±éš”ç¦»çº§åˆ« äº‹åŠ¡éš”ç¦»çº§åˆ«ä¸­çš„ã€Œè¯»-æœªæäº¤ã€ã€ã€Œè¯»-æäº¤ã€å’Œã€Œå¿«ç…§çº§åˆ«éš”ç¦»å¯é‡å¤è¯»ã€ã€‚\né˜²æ­¢æ›´æ–°ä¸¢å¤± å†™å€¾æ–œä¸å¹»è¯» ä¸²è¡ŒåŒ– ","title":"äº‹åŠ¡"},{"content":" tags: LeetCode source: https://leetcode.com/problems/reverse-linked-list-ii/ /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* reverseBetween(ListNode* head, int left, int right) { stack\u0026lt;int\u0026gt; st; ListNode* cur = head; ListNode* prev_start = nullptr; if (left == 1) { prev_start = new ListNode(0, head); // dummy prev_start point to head } int i = 1; while(cur != nullptr) { if (i \u0026gt;= left \u0026amp;\u0026amp; i \u0026lt;= right) { st.push(cur-\u0026gt;val); } if ((i + 1) == left) { prev_start = cur; } // move ahead i++; cur = cur-\u0026gt;next; } if (prev_start != nullptr) { cur = prev_start-\u0026gt;next; while (st.size() \u0026gt; 0) { cur-\u0026gt;val = st.top(); cur = cur-\u0026gt;next; st.pop(); } } return head; } }; ","permalink":"https://notes.0081800.xyz/notes/20210714065549-leetcode_92_reverse_linked_list_ii/","summary":"tags: LeetCode source: https://leetcode.com/problems/reverse-linked-list-ii/ /** * Definition for singly-linked list. * struct ListNode { * int val; * ListNode *next; * ListNode() : val(0), next(nullptr) {} * ListNode(int x) : val(x), next(nullptr) {} * ListNode(int x, ListNode *next) : val(x), next(next) {} * }; */ class Solution { public: ListNode* reverseBetween(ListNode* head, int left, int right) { stack\u0026lt;int\u0026gt; st; ListNode* cur = head; ListNode* prev_start = nullptr; if (left == 1) { prev_start = new ListNode(0, head); // dummy prev_start point to head } int i = 1; while(cur !","title":"LeetCode: 92. Reverse Linked List II"},{"content":" tags: Emacs æœ€è¿‘æ¢åˆ° ivy ä¹‹å projectile åˆ‡æ¢é¡¹ç›®åŠ è½½ Buffer æˆ–æŸ¥æ‰¾æ–‡ä»¶å˜å¾—å·¨æ…¢ï¼ŒæŸ¥æŠ„ä¸€ç•ªå‘ç°é—®é¢˜å¯ä»¥é€šè¿‡ç¼“å­˜è§£å†³ï¼š\nivy-rich Projectile Caching ","permalink":"https://notes.0081800.xyz/notes/20210714065205-emacs_projectile_%E4%BC%98%E5%8C%96/","summary":" tags: Emacs æœ€è¿‘æ¢åˆ° ivy ä¹‹å projectile åˆ‡æ¢é¡¹ç›®åŠ è½½ Buffer æˆ–æŸ¥æ‰¾æ–‡ä»¶å˜å¾—å·¨æ…¢ï¼ŒæŸ¥æŠ„ä¸€ç•ªå‘ç°é—®é¢˜å¯ä»¥é€šè¿‡ç¼“å­˜è§£å†³ï¼š\nivy-rich Projectile Caching ","title":"Emacs Projectile ä¼˜åŒ–"},{"content":" tags: Memory Model,Java,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","permalink":"https://notes.0081800.xyz/notes/20210713202541-java_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":" tags: Memory Model,Java,ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","title":"Java å†…å­˜æ¨¡å‹"},{"content":" tags: Java å†…å­˜æ¨¡å‹ æ–°æ¨¡å‹éµå¾ª DRF-SC æ–¹æ³•ï¼šä¿è¯å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰çš„ Java ç¨‹åºä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼æ‰§è¡Œã€‚\nJSR-133ï¼Œåœ¨ 2004 å¹´å‘å¸ƒçš„ Java 5.0 ä¸­è¢«é‡‡ç”¨ã€‚è§„èŒƒï¼šThe Java Memory Model, 2005ã€‚\nJava ä¸­ç¨‹åºå‘˜éœ€è¦åŒæ­¥æ“ä½œå»ºç«‹ happens-before å…³ç³»ï¼Œç¡®ä¿ä¸€ä¸ªçº¿ç¨‹ä¸ä¼šåœ¨å¦ä¸€ä¸ªçº¿ç¨‹è¯»å–æˆ–å†™å…¥æ—¶å¹¶å‘çš„å†™å…¥éåŸå­å˜é‡ã€‚ä¸»è¦çš„åŒæ­¥æ“ä½œæœ‰ï¼š\nåŒæ­¥åŸå­ï¼ˆvolatileï¼‰å’Œå…¶å®ƒæ“ä½œ å‚è§ï¼šJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰ã€‚\næœ‰æ•°æ®ç«äº‰çš„ç¨‹åºè¯­ä¹‰ å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰åªä¿è¯ã€Œæ— æ•°æ®ã€ç«äº‰çš„ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§è¡Œä¸ºã€‚æ–°çš„ Java æ¨¡å‹ï¼ˆå’ŒåŸç‰ˆæœ¬ä¸€è‡´ï¼‰å‡ºäºä»¥ä¸‹åŸå› å®šä¹‰äº†ã€Œæœ‰æ•°æ®ã€ç«äº‰ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§è¡Œä¸ºï¼š\næ”¯æŒJavaçš„ä¸€èˆ¬å®‰å…¨ï¼ˆsecurityï¼‰å’Œå®‰å…¨ä¿éšœï¼ˆsafety guaranteeï¼‰ã€‚ è®©ç¨‹åºå‘˜æ›´å®¹æ˜“å‘ç°é”™è¯¯ã€‚ ä½¿æ”»å‡»è€…æ›´éš¾åˆ©ç”¨é—®é¢˜ï¼Œå› ä¸ºç”±äºæ•°æ®ç«äº‰çš„åŸå› å¯èƒ½é€ æˆçš„æŸå¤±æ›´æœ‰é™ã€‚ è®©ç¨‹åºå‘˜æ›´æ¸…æ¥šä»–ä»¬çš„ç¨‹åºæ˜¯åšä»€ä¹ˆçš„ æ–°çš„æ¨¡å‹ä¸å†ä¾èµ–å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ï¼Œå–è€Œä»£ä¹‹çš„å¤ç”¨ happens-beforeï¼ˆå·²ç»ç”¨äºå†³å®šç¨‹åºæ˜¯å¦å­˜åœ¨ç«äº‰ï¼‰æ¥å†³å®šç«äº‰è¯»å†™çš„ç»“æœã€‚\nå…·ä½“è§„åˆ™å‚è§ï¼šJava å†³å®šç«äº‰è¯»å†™çš„å…·ä½“è§„åˆ™ã€‚ä½¿ç”¨ happens-before å¹¶ç»“åˆJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰å°±å¯ä»¥å»ºç«‹æ–°çš„ happen before å…³ç³»ï¼Œæ˜¯å¯¹åŸå§‹Javaå†…å­˜æ¨¡å‹çš„é‡å¤§æ”¹è¿›ã€‚å®ƒä¸ºç¨‹åºå‘˜æä¾›äº†æ›´å¤šæœ‰ç”¨çš„ä¿è¯ï¼Œå¹¶ä½¿å¤§é‡é‡è¦çš„ç¼–è¯‘å™¨ä¼˜åŒ–å¾—åˆ°äº†æ˜ç¡®çš„å…ã€‚\nhappens-before ä¸æ’é™¤è¯­æ— ä¼¦æ¬¡ï¼ˆincoherenceï¼‰ ä»¥å‰å‘ç”Ÿçš„äº‹ä¸æ’é™¤æ— ç”¨æ€§ï¼ˆacausalityï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20210713201332-%E6%96%B0%E7%9A%84_java_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B_2004/","summary":" tags: Java å†…å­˜æ¨¡å‹ æ–°æ¨¡å‹éµå¾ª DRF-SC æ–¹æ³•ï¼šä¿è¯å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰çš„ Java ç¨‹åºä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼æ‰§è¡Œã€‚\nJSR-133ï¼Œåœ¨ 2004 å¹´å‘å¸ƒçš„ Java 5.0 ä¸­è¢«é‡‡ç”¨ã€‚è§„èŒƒï¼šThe Java Memory Model, 2005ã€‚\nJava ä¸­ç¨‹åºå‘˜éœ€è¦åŒæ­¥æ“ä½œå»ºç«‹ happens-before å…³ç³»ï¼Œç¡®ä¿ä¸€ä¸ªçº¿ç¨‹ä¸ä¼šåœ¨å¦ä¸€ä¸ªçº¿ç¨‹è¯»å–æˆ–å†™å…¥æ—¶å¹¶å‘çš„å†™å…¥éåŸå­å˜é‡ã€‚ä¸»è¦çš„åŒæ­¥æ“ä½œæœ‰ï¼š\nåŒæ­¥åŸå­ï¼ˆvolatileï¼‰å’Œå…¶å®ƒæ“ä½œ å‚è§ï¼šJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰ã€‚\næœ‰æ•°æ®ç«äº‰çš„ç¨‹åºè¯­ä¹‰ å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰åªä¿è¯ã€Œæ— æ•°æ®ã€ç«äº‰çš„ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§è¡Œä¸ºã€‚æ–°çš„ Java æ¨¡å‹ï¼ˆå’ŒåŸç‰ˆæœ¬ä¸€è‡´ï¼‰å‡ºäºä»¥ä¸‹åŸå› å®šä¹‰äº†ã€Œæœ‰æ•°æ®ã€ç«äº‰ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§è¡Œä¸ºï¼š\næ”¯æŒJavaçš„ä¸€èˆ¬å®‰å…¨ï¼ˆsecurityï¼‰å’Œå®‰å…¨ä¿éšœï¼ˆsafety guaranteeï¼‰ã€‚ è®©ç¨‹åºå‘˜æ›´å®¹æ˜“å‘ç°é”™è¯¯ã€‚ ä½¿æ”»å‡»è€…æ›´éš¾åˆ©ç”¨é—®é¢˜ï¼Œå› ä¸ºç”±äºæ•°æ®ç«äº‰çš„åŸå› å¯èƒ½é€ æˆçš„æŸå¤±æ›´æœ‰é™ã€‚ è®©ç¨‹åºå‘˜æ›´æ¸…æ¥šä»–ä»¬çš„ç¨‹åºæ˜¯åšä»€ä¹ˆçš„ æ–°çš„æ¨¡å‹ä¸å†ä¾èµ–å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ï¼Œå–è€Œä»£ä¹‹çš„å¤ç”¨ happens-beforeï¼ˆå·²ç»ç”¨äºå†³å®šç¨‹åºæ˜¯å¦å­˜åœ¨ç«äº‰ï¼‰æ¥å†³å®šç«äº‰è¯»å†™çš„ç»“æœã€‚\nå…·ä½“è§„åˆ™å‚è§ï¼šJava å†³å®šç«äº‰è¯»å†™çš„å…·ä½“è§„åˆ™ã€‚ä½¿ç”¨ happens-before å¹¶ç»“åˆJava åŒæ­¥åŸå­ï¼ˆvolatileï¼‰å°±å¯ä»¥å»ºç«‹æ–°çš„ happen before å…³ç³»ï¼Œæ˜¯å¯¹åŸå§‹Javaå†…å­˜æ¨¡å‹çš„é‡å¤§æ”¹è¿›ã€‚å®ƒä¸ºç¨‹åºå‘˜æä¾›äº†æ›´å¤šæœ‰ç”¨çš„ä¿è¯ï¼Œå¹¶ä½¿å¤§é‡é‡è¦çš„ç¼–è¯‘å™¨ä¼˜åŒ–å¾—åˆ°äº†æ˜ç¡®çš„å…ã€‚\nhappens-before ä¸æ’é™¤è¯­æ— ä¼¦æ¬¡ï¼ˆincoherenceï¼‰ ä»¥å‰å‘ç”Ÿçš„äº‹ä¸æ’é™¤æ— ç”¨æ€§ï¼ˆacausalityï¼‰ ","title":"æ–°çš„ Java å†…å­˜æ¨¡å‹ï¼ˆ2004ï¼‰"},{"content":"// p and q may or may not point at the same object. int i = p.x; // ... maybe another thread writes p.x at this point ... int j = q.x; int k = p.x; åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œå…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ï¼ˆcommon subexpression eliminationï¼‰ä¼šæ³¨æ„åˆ° p.x è¢«è®¡ç®—äº†ä¸¤æ¬¡ï¼Œå¹¶å°†æœ€åä¸€è¡Œä¼˜åŒ–ä¸º k = i ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210713201045-java_%E7%BC%96%E8%AF%91%E5%99%A8%E5%85%AC%E5%85%B1%E5%AD%90%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B6%88%E9%99%A4_common_subexpression_elimination/","summary":"// p and q may or may not point at the same object. int i = p.x; // ... maybe another thread writes p.x at this point ... int j = q.x; int k = p.x; åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œå…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ï¼ˆcommon subexpression eliminationï¼‰ä¼šæ³¨æ„åˆ° p.x è¢«è®¡ç®—äº†ä¸¤æ¬¡ï¼Œå¹¶å°†æœ€åä¸€è¡Œä¼˜åŒ–ä¸º k = i ã€‚","title":"Java ç¼–è¯‘å™¨å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ï¼ˆcommon subexpression eliminationï¼‰"},{"content":" tags: Java å†…å­˜æ¨¡å‹,Java Java æ˜¯ç¬¬ä¸€ä¸ªè¯•å›¾å†™ä¸‹å¤šçº¿ç¨‹ç¨‹åºä¿è¯çš„ä¸»æµè¯­è¨€ã€‚å®ƒåŒ…æ‹¬ï¼š\näº’æ–¥ä½“ï¼ˆmutexï¼‰ï¼Œå¹¶å®šä¹‰äº†å®ƒä»¬éšå«çš„å†…å­˜æ’åºè¦æ±‚ã€‚ â€œvolatileâ€ åŸå­å˜é‡: volatile å˜é‡çš„æ‰€æœ‰è¯»å’Œå†™éƒ½éœ€è¦ç›´æ¥åœ¨ä¸»å†…å­˜ä¸­æŒ‰ç¨‹åºé¡ºåºæ‰§è¡Œï¼Œä½¿å¾—å¯¹ volatile å˜é‡çš„æ“ä½œä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿›è¡Œã€‚ åˆ¶å®šäº†ï¼ˆæˆ–è€…è‡³å°‘è¯•å›¾åˆ¶å®šï¼‰å…·æœ‰æ•°æ®ç«äº‰çš„ç¨‹åºçš„è¡Œä¸ºã€‚ ç¼ºé™· Atomic éœ€è¦åŒæ­¥ï¼švolatile åŸå­å˜é‡æ˜¯ä¸åŒæ­¥çš„ï¼Œæ‰€ä»¥å®ƒä»¬æ— åŠ©äºæ¶ˆé™¤ç¨‹åºå…¶ä½™éƒ¨åˆ†çš„ç«äº‰ã€‚ä¸èƒ½ç”¨äºæ„å»ºæ–°çš„åŒæ­¥åŸè¯­ã€‚ ä¸€è‡´æ€§ä¸ç¼–è¯‘å™¨ä¼˜åŒ–ä¸å…¼å®¹ï¼šJava ç¼–è¯‘å™¨å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ï¼ˆcommon subexpression eliminationï¼‰ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹å†™å…¥æ–°å€¼æ— æ³•å¯¹æ¶ˆé™¤åè¡¨è¾¾å¼ç”Ÿæ•ˆã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210713200556-%E5%8E%9F%E5%A7%8B_java_%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B_1996/","summary":" tags: Java å†…å­˜æ¨¡å‹,Java Java æ˜¯ç¬¬ä¸€ä¸ªè¯•å›¾å†™ä¸‹å¤šçº¿ç¨‹ç¨‹åºä¿è¯çš„ä¸»æµè¯­è¨€ã€‚å®ƒåŒ…æ‹¬ï¼š\näº’æ–¥ä½“ï¼ˆmutexï¼‰ï¼Œå¹¶å®šä¹‰äº†å®ƒä»¬éšå«çš„å†…å­˜æ’åºè¦æ±‚ã€‚ â€œvolatileâ€ åŸå­å˜é‡: volatile å˜é‡çš„æ‰€æœ‰è¯»å’Œå†™éƒ½éœ€è¦ç›´æ¥åœ¨ä¸»å†…å­˜ä¸­æŒ‰ç¨‹åºé¡ºåºæ‰§è¡Œï¼Œä½¿å¾—å¯¹ volatile å˜é‡çš„æ“ä½œä»¥é¡ºåºä¸€è‡´çš„æ–¹å¼è¿›è¡Œã€‚ åˆ¶å®šäº†ï¼ˆæˆ–è€…è‡³å°‘è¯•å›¾åˆ¶å®šï¼‰å…·æœ‰æ•°æ®ç«äº‰çš„ç¨‹åºçš„è¡Œä¸ºã€‚ ç¼ºé™· Atomic éœ€è¦åŒæ­¥ï¼švolatile åŸå­å˜é‡æ˜¯ä¸åŒæ­¥çš„ï¼Œæ‰€ä»¥å®ƒä»¬æ— åŠ©äºæ¶ˆé™¤ç¨‹åºå…¶ä½™éƒ¨åˆ†çš„ç«äº‰ã€‚ä¸èƒ½ç”¨äºæ„å»ºæ–°çš„åŒæ­¥åŸè¯­ã€‚ ä¸€è‡´æ€§ä¸ç¼–è¯‘å™¨ä¼˜åŒ–ä¸å…¼å®¹ï¼šJava ç¼–è¯‘å™¨å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ï¼ˆcommon subexpression eliminationï¼‰ä¼šå¯¼è‡´å…¶ä»–çº¿ç¨‹å†™å…¥æ–°å€¼æ— æ³•å¯¹æ¶ˆé™¤åè¡¨è¾¾å¼ç”Ÿæ•ˆã€‚ ","title":"åŸå§‹ Java å†…å­˜æ¨¡å‹ï¼ˆ1996ï¼‰"},{"content":"ä¿è¯äº†å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰çš„ç³»ç»Ÿä¼šæä¾›ç§°ä¸ºåŒæ­¥çš„ç‰¹å®šæŒ‡ä»¤ï¼Œæä¾›ä¸€ç§åè°ƒä¸åŒå¤„ç†å™¨ï¼ˆç›¸å½“äºç¡¬ä»¶çº¿ç¨‹ï¼‰çš„å±æ€§ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210713195115-drf_sc_%E7%B3%BB%E7%BB%9F%E5%90%8C%E6%AD%A5%E6%8C%87%E4%BB%A4/","summary":"ä¿è¯äº†å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰çš„ç³»ç»Ÿä¼šæä¾›ç§°ä¸ºåŒæ­¥çš„ç‰¹å®šæŒ‡ä»¤ï¼Œæä¾›ä¸€ç§åè°ƒä¸åŒå¤„ç†å™¨ï¼ˆç›¸å½“äºç¡¬ä»¶çº¿ç¨‹ï¼‰çš„å±æ€§ã€‚","title":"DRF-SC ç³»ç»ŸåŒæ­¥æŒ‡ä»¤"},{"content":"åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆtomic operationï¼‰æ›´å¥½çš„è§£é‡Šã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210713194409-%E5%90%8C%E6%AD%A5%E5%8E%9F%E5%AD%90_synchronizing_atomic/","summary":"åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆtomic operationï¼‰æ›´å¥½çš„è§£é‡Šã€‚","title":"åŒæ­¥åŸå­ï¼ˆsynchronizing atomicï¼‰"},{"content":"ç°ä»£è¯­è¨€ä»¥åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆatomic operationï¼‰çš„å½¢å¼æä¾›ç‰¹æ®Šèƒ½åŠ›ï¼Œå…è®¸ç¨‹åºåŒæ­¥å…¶çº¿ç¨‹(å‚è§ç¡¬ä»¶å†…å­˜ä¸€è‡´æ€§æ¨¡å‹)ã€‚\nä»£ç ç¤ºä¾‹\n// Thread 1 // Thread 2 x = 1; while(done == 0) { /* loop */ } done = 1; print(x); å¦‚æœä½¿ç”¨åŸå­å˜é‡å®ç° done ä¼šäº§ç”Ÿå¾ˆå¤šæ•ˆæœï¼š\nThread 1 çš„ç¼–è¯‘ä»£ç å¿…é¡»ç¡®ä¿å¯¹ x çš„å†™å…¥å®Œæˆï¼Œå¹¶ä¸”å¯¹ done çš„å†™å…¥å¯è§ä¹‹å‰å¯¹ x çš„å†™å…¥å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚ Thread 2 çš„ç¼–è¯‘ä»£ç å¿…é¡»åœ¨å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼ˆé‡æ–°ï¼‰è¯»å– done ã€‚ Thread 2 çš„ç¼–è¯‘ä»£ç å¿…é¡»åœ¨è¯»å– done ä¹‹åæ‰è¯»å– x ã€‚ ç¼–è¯‘åçš„ä»£ç å¿…é¡»åšä»»ä½•å¿…è¦çš„äº‹æƒ…æ¥ç¦ç”¨å¯èƒ½ä¼šé‡æ–°å¼•å…¥è¿™äº›é—®é¢˜çš„ç¡¬ä»¶ä¼˜åŒ–ã€‚ ä½¿ done åŸå­åŒ–çš„æœ€ç»ˆç»“æœæ˜¯ç¨‹åºæŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼è¿è¡Œï¼ŒæˆåŠŸåœ°å°† x çš„å€¼ä» Thread 1 ä¼ é€’åˆ° Thread 2 ã€‚ ä¸Šé¢ä»£ç å¦‚æœä¸ä½¿ç”¨åŸå­å˜é‡ä¼šå‡ºç° Thread 1 å’Œ Thread 2 è¯»å– x çš„åŒæ—¶å†™ x ï¼Œä»è€Œå¯¼è‡´æ•°æ®ç«äº‰ï¼ˆdata race)ã€‚ done ä½¿ç”¨åŸå­å˜é‡å®ç°åï¼Œç”¨äºåŒæ­¥å¯¹ x çš„è®¿é—®ï¼š Thread 1 ç°åœ¨ä¸å¯èƒ½åœ¨ Thread 2 è¯»å– x çš„åŒæ—¶å†™ xï¼Œä»è€Œé¿å…æ•°æ®ç«äº‰ã€‚ è¿™æ˜¯ç¡¬ä»¶å†…å­˜æ¨¡å‹å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰åœ¨ç¼–ç¨‹è¯­è¨€ç¯å¢ƒçš„åº”ç”¨ã€‚\nåŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆatomic operationï¼‰æ›´æ°å½“çš„åç§°åº”è¯¥æ˜¯ã€ŒåŒæ­¥åŸå­ï¼ˆsynchronizing atomicï¼‰ã€ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210713193214-%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F_atomic_variable_%E6%88%96%E5%8E%9F%E5%AD%90%E6%93%8D%E4%BD%9C_tomic_operation/","summary":"ç°ä»£è¯­è¨€ä»¥åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆatomic operationï¼‰çš„å½¢å¼æä¾›ç‰¹æ®Šèƒ½åŠ›ï¼Œå…è®¸ç¨‹åºåŒæ­¥å…¶çº¿ç¨‹(å‚è§ç¡¬ä»¶å†…å­˜ä¸€è‡´æ€§æ¨¡å‹)ã€‚\nä»£ç ç¤ºä¾‹\n// Thread 1 // Thread 2 x = 1; while(done == 0) { /* loop */ } done = 1; print(x); å¦‚æœä½¿ç”¨åŸå­å˜é‡å®ç° done ä¼šäº§ç”Ÿå¾ˆå¤šæ•ˆæœï¼š\nThread 1 çš„ç¼–è¯‘ä»£ç å¿…é¡»ç¡®ä¿å¯¹ x çš„å†™å…¥å®Œæˆï¼Œå¹¶ä¸”å¯¹ done çš„å†™å…¥å¯è§ä¹‹å‰å¯¹ x çš„å†™å…¥å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚ Thread 2 çš„ç¼–è¯‘ä»£ç å¿…é¡»åœ¨å¾ªç¯çš„æ¯æ¬¡è¿­ä»£ä¸­ï¼ˆé‡æ–°ï¼‰è¯»å– done ã€‚ Thread 2 çš„ç¼–è¯‘ä»£ç å¿…é¡»åœ¨è¯»å– done ä¹‹åæ‰è¯»å– x ã€‚ ç¼–è¯‘åçš„ä»£ç å¿…é¡»åšä»»ä½•å¿…è¦çš„äº‹æƒ…æ¥ç¦ç”¨å¯èƒ½ä¼šé‡æ–°å¼•å…¥è¿™äº›é—®é¢˜çš„ç¡¬ä»¶ä¼˜åŒ–ã€‚ ä½¿ done åŸå­åŒ–çš„æœ€ç»ˆç»“æœæ˜¯ç¨‹åºæŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ–¹å¼è¿è¡Œï¼ŒæˆåŠŸåœ°å°† x çš„å€¼ä» Thread 1 ä¼ é€’åˆ° Thread 2 ã€‚ ä¸Šé¢ä»£ç å¦‚æœä¸ä½¿ç”¨åŸå­å˜é‡ä¼šå‡ºç° Thread 1 å’Œ Thread 2 è¯»å– x çš„åŒæ—¶å†™ x ï¼Œä»è€Œå¯¼è‡´æ•°æ®ç«äº‰ï¼ˆdata race)ã€‚ done ä½¿ç”¨åŸå­å˜é‡å®ç°åï¼Œç”¨äºåŒæ­¥å¯¹ x çš„è®¿é—®ï¼š Thread 1 ç°åœ¨ä¸å¯èƒ½åœ¨ Thread 2 è¯»å– x çš„åŒæ—¶å†™ xï¼Œä»è€Œé¿å…æ•°æ®ç«äº‰ã€‚ è¿™æ˜¯ç¡¬ä»¶å†…å­˜æ¨¡å‹å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰åœ¨ç¼–ç¨‹è¯­è¨€ç¯å¢ƒçš„åº”ç”¨ã€‚","title":"åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆtomic operationï¼‰"},{"content":"å¼±æœ‰åºæ˜¯ Sarita Adve å’Œ Mark Hill åœ¨ä»–ä»¬ 1990 å¹´çš„è®ºæ–‡ Weak Ordering - A New Definition (1990) æå‡ºã€‚\nå®šä¹‰å¦‚ä¸‹\nLet a synchronization model be a set of constraints on memory accesses that specify how and when synchronization needs to be done.\nåŒæ­¥æ¨¡å‹æ˜¯å¯¹å†…å­˜è®¿é—®çš„ä¸€ç»„çº¦æŸï¼Œè¿™äº›çº¦æŸæŒ‡å®šäº†ä½•æ—¶ä»¥åŠå¦‚ä½•è¿›è¡ŒåŒæ­¥ã€‚\nç¡¬ä»¶ç›¸å¯¹äºåŒæ­¥æ¨¡å‹æ˜¯å¼±æœ‰åºçš„ï¼Œå½“ä¸”ä»…å½“å®ƒåœ¨é¡ºåºä¸Šä¸éµå®ˆåŒæ­¥æ¨¡å‹çš„æ‰€æœ‰è½¯ä»¶ä¸€è‡´æ—¶ã€‚\nAdveå’ŒHillæå‡ºäº†ä¸€ç§åŒæ­¥æ¨¡å‹ï¼Œä»–ä»¬ç§°ä¹‹ä¸ºæ— æ•°æ®ç«äº‰(data-race-freeï¼ŒDRF)ã€‚è¯¥æ¨¡å‹å‡è®¾ç¡¬ä»¶å…·æœ‰ç‹¬ç«‹äºæ™®é€šå†…å­˜è¯»å†™çš„å†…å­˜åŒæ­¥æ“ä½œã€‚æ™®é€šçš„å†…å­˜è¯»å†™å¯ä»¥åœ¨åŒæ­¥æ“ä½œä¹‹é—´é‡æ–°æ’åºï¼Œä½†ä¸èƒ½åœ¨è·¨å®ƒä»¬ç§»åŠ¨ã€‚(ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ­¥æ“ä½œä¹Ÿå¯ç”¨æ¥åšé‡æ–°æ’åºçš„å†…å­˜å±éšœã€‚)å¦‚æœå¯¹äºæ‰€æœ‰ç†æƒ³åŒ–çš„é¡ºåºä¸€è‡´çš„æ‰§è¡Œï¼Œä»ä¸åŒçº¿ç¨‹å¯¹åŒä¸€ä½ç½®çš„ä»»ä½•ä¸¤ä¸ªæ™®é€šå­˜å‚¨å™¨è®¿é—®è¦ä¹ˆéƒ½æ˜¯è¯»å–ï¼Œè¦ä¹ˆé€šè¿‡åŒæ­¥æ“ä½œå¼ºåˆ¶ä¸€ä¸ªåœ¨å¦ä¸€ä¸ªä¹‹å‰å‘ç”Ÿè€Œåˆ†å¼€æ‰§è¡Œï¼Œåˆ™ç¨‹åºè¢«ç§°ä¸ºæ— æ•°æ®ç«äº‰çš„ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712164357-%E5%BC%B1%E6%9C%89%E5%BA%8F%E5%92%8C%E6%97%A0%E6%95%B0%E6%8D%AE%E7%AB%9E%E4%BA%89_drf/","summary":"å¼±æœ‰åºæ˜¯ Sarita Adve å’Œ Mark Hill åœ¨ä»–ä»¬ 1990 å¹´çš„è®ºæ–‡ Weak Ordering - A New Definition (1990) æå‡ºã€‚\nå®šä¹‰å¦‚ä¸‹\nLet a synchronization model be a set of constraints on memory accesses that specify how and when synchronization needs to be done.\nåŒæ­¥æ¨¡å‹æ˜¯å¯¹å†…å­˜è®¿é—®çš„ä¸€ç»„çº¦æŸï¼Œè¿™äº›çº¦æŸæŒ‡å®šäº†ä½•æ—¶ä»¥åŠå¦‚ä½•è¿›è¡ŒåŒæ­¥ã€‚\nç¡¬ä»¶ç›¸å¯¹äºåŒæ­¥æ¨¡å‹æ˜¯å¼±æœ‰åºçš„ï¼Œå½“ä¸”ä»…å½“å®ƒåœ¨é¡ºåºä¸Šä¸éµå®ˆåŒæ­¥æ¨¡å‹çš„æ‰€æœ‰è½¯ä»¶ä¸€è‡´æ—¶ã€‚\nAdveå’ŒHillæå‡ºäº†ä¸€ç§åŒæ­¥æ¨¡å‹ï¼Œä»–ä»¬ç§°ä¹‹ä¸ºæ— æ•°æ®ç«äº‰(data-race-freeï¼ŒDRF)ã€‚è¯¥æ¨¡å‹å‡è®¾ç¡¬ä»¶å…·æœ‰ç‹¬ç«‹äºæ™®é€šå†…å­˜è¯»å†™çš„å†…å­˜åŒæ­¥æ“ä½œã€‚æ™®é€šçš„å†…å­˜è¯»å†™å¯ä»¥åœ¨åŒæ­¥æ“ä½œä¹‹é—´é‡æ–°æ’åºï¼Œä½†ä¸èƒ½åœ¨è·¨å®ƒä»¬ç§»åŠ¨ã€‚(ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ­¥æ“ä½œä¹Ÿå¯ç”¨æ¥åšé‡æ–°æ’åºçš„å†…å­˜å±éšœã€‚)å¦‚æœå¯¹äºæ‰€æœ‰ç†æƒ³åŒ–çš„é¡ºåºä¸€è‡´çš„æ‰§è¡Œï¼Œä»ä¸åŒçº¿ç¨‹å¯¹åŒä¸€ä½ç½®çš„ä»»ä½•ä¸¤ä¸ªæ™®é€šå­˜å‚¨å™¨è®¿é—®è¦ä¹ˆéƒ½æ˜¯è¯»å–ï¼Œè¦ä¹ˆé€šè¿‡åŒæ­¥æ“ä½œå¼ºåˆ¶ä¸€ä¸ªåœ¨å¦ä¸€ä¸ªä¹‹å‰å‘ç”Ÿè€Œåˆ†å¼€æ‰§è¡Œï¼Œåˆ™ç¨‹åºè¢«ç§°ä¸ºæ— æ•°æ®ç«äº‰çš„ã€‚","title":"å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰"},{"content":"ARMå’ŒPOWERç³»ç»Ÿçš„æ¦‚å¿µæ¨¡å‹æ˜¯ï¼Œæ¯ä¸ªå¤„ç†å™¨ä»å…¶è‡ªå·±çš„å®Œæ•´å†…å­˜å‰¯æœ¬ä¸­è¯»å–å’Œå‘å…¶å†™å…¥ï¼Œæ¯ä¸ªå†™å…¥ç‹¬ç«‹åœ°ä¼ æ’­åˆ°å…¶ä»–å¤„ç†å™¨ï¼Œéšç€å†™å…¥çš„ä¼ æ’­ï¼Œå…è®¸é‡æ–°æ’åºã€‚\nåœ¨è¿™ä¸ªå®½æ¾çš„(relaxed)æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬è¿„ä»Šä¸ºæ­¢æ‰€çœ‹åˆ°çš„æ¯ä¸€ä¸ªlitmus testçš„ç­”æ¡ˆéƒ½æ˜¯â€œyesï¼Œè¿™çœŸçš„å¯èƒ½å‘ç”Ÿã€‚â€\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. On ARM/POWER: yes! Litmus Test: Store Buffering Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): yes! On ARM/POWER: yes! Litmus Test: Independent Reads of Independent Writes (IRIW) Can this program see r1 = 1, r2 = 0, r3 = 1, r4 = 0? (Can Threads 3 and 4 see x and y change in different orders?) // Thread 1 // Thread 2 // Thread 3 // Thread 4 x = 1 y = 1 r1 = x r3 = y r2 = y r4 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. On ARM/POWER: yes! Litmus Test: Load Buffering Can this program see r1 = 1, r2 = 1? (Can each thread\u0026#39;s read happen after the other thread\u0026#39;s write?) // Thread 1 // Thread 2 r1 = x r2 = y y = 1 x = 1 On sequentially consistent hardware: no. On x86 (or other TSO): no. On ARM/POWER: yes! ","permalink":"https://notes.0081800.xyz/notes/20210712162917-arm_power_relaxed_memory_model/","summary":"ARMå’ŒPOWERç³»ç»Ÿçš„æ¦‚å¿µæ¨¡å‹æ˜¯ï¼Œæ¯ä¸ªå¤„ç†å™¨ä»å…¶è‡ªå·±çš„å®Œæ•´å†…å­˜å‰¯æœ¬ä¸­è¯»å–å’Œå‘å…¶å†™å…¥ï¼Œæ¯ä¸ªå†™å…¥ç‹¬ç«‹åœ°ä¼ æ’­åˆ°å…¶ä»–å¤„ç†å™¨ï¼Œéšç€å†™å…¥çš„ä¼ æ’­ï¼Œå…è®¸é‡æ–°æ’åºã€‚\nåœ¨è¿™ä¸ªå®½æ¾çš„(relaxed)æ¨¡å‹ä¸­ï¼Œæˆ‘ä»¬è¿„ä»Šä¸ºæ­¢æ‰€çœ‹åˆ°çš„æ¯ä¸€ä¸ªlitmus testçš„ç­”æ¡ˆéƒ½æ˜¯â€œyesï¼Œè¿™çœŸçš„å¯èƒ½å‘ç”Ÿã€‚â€\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. On ARM/POWER: yes! Litmus Test: Store Buffering Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no.","title":"ARM/POWER Relaxed Memory Model"},{"content":"å†…å­˜å±éšœï¼ˆæˆ–æ …æ ï¼‰æ˜¯éé¡ºåºä¸€è‡´æ€§çš„ç¡¬ä»¶æä¾›çš„ä¸€ç§æ˜¾å¼æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶æ’åºæä¾›æ›´å¼ºçš„å†…å­˜æ’åºï¼Œä¿®å¤åŒæ­¥ç®—æ³•ã€‚\næ·»åŠ å†…å­˜å±éšœï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹åœ¨å¼€å§‹è¯»å–ä¹‹å‰éƒ½ä¼šåˆ·æ–°å…¶å…ˆå‰å¯¹å†…å­˜çš„å†™å…¥ï¼š\n// Thread 1 // Thread 2 x = 1 y = 1 barrier barrier r1 = y r2 = x x86 æ€»å­˜å‚¨æœ‰åºï¼ˆx86-TSO) åŠ ä¸Šå†…å­˜å±éšœä¹‹å r1=0, r2=0 å°±ä¼šå˜å¾—ä¸å¯èƒ½ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712162102-%E5%86%85%E5%AD%98%E5%B1%8F%E9%9A%9C/","summary":"å†…å­˜å±éšœï¼ˆæˆ–æ …æ ï¼‰æ˜¯éé¡ºåºä¸€è‡´æ€§çš„ç¡¬ä»¶æä¾›çš„ä¸€ç§æ˜¾å¼æŒ‡ä»¤ï¼Œç”¨äºæ§åˆ¶æ’åºæä¾›æ›´å¼ºçš„å†…å­˜æ’åºï¼Œä¿®å¤åŒæ­¥ç®—æ³•ã€‚\næ·»åŠ å†…å­˜å±éšœï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹åœ¨å¼€å§‹è¯»å–ä¹‹å‰éƒ½ä¼šåˆ·æ–°å…¶å…ˆå‰å¯¹å†…å­˜çš„å†™å…¥ï¼š\n// Thread 1 // Thread 2 x = 1 y = 1 barrier barrier r1 = y r2 = x x86 æ€»å­˜å‚¨æœ‰åºï¼ˆx86-TSO) åŠ ä¸Šå†…å­˜å±éšœä¹‹å r1=0, r2=0 å°±ä¼šå˜å¾—ä¸å¯èƒ½ã€‚","title":"å†…å­˜å±éšœ"},{"content":" x86 æ€»å­˜å‚¨æœ‰åº(x86 Total Store Order, x86-TSO)ï¼šæ‰€æœ‰å¤„ç†å™¨ä»ç„¶è¿æ¥åˆ°ä¸€ä¸ªå…±äº«å†…å­˜ï¼Œä½†æ˜¯æ¯ä¸ªå¤„ç†å™¨éƒ½å°†å¯¹è¯¥å†…å­˜çš„å†™å…¥(write)æ”¾å…¥åˆ°æœ¬åœ°å†™å…¥é˜Ÿåˆ—ä¸­ã€‚å¤„ç†å™¨ç»§ç»­æ‰§è¡Œæ–°æŒ‡ä»¤ï¼ŒåŒæ—¶å†™æ“ä½œ(write)ä¼šæ›´æ–°åˆ°è¿™ä¸ªå…±äº«å†…å­˜ã€‚ä¸€ä¸ªå¤„ç†å™¨ä¸Šçš„å†…å­˜è¯»å–åœ¨æŸ¥è¯¢ä¸»å†…å­˜ä¹‹å‰ä¼šæŸ¥è¯¢æœ¬åœ°å†™é˜Ÿåˆ—ï¼Œä½†å®ƒçœ‹ä¸åˆ°å…¶ä»–å¤„ç†å™¨ä¸Šçš„å†™é˜Ÿåˆ—ã€‚å…¶æ•ˆæœå°±æ˜¯å½“å‰å¤„ç†å™¨æ¯”å…¶ä»–å¤„ç†å™¨ä¼šå…ˆçœ‹åˆ°è‡ªå·±çš„å†™æ“ä½œã€‚\né‡è¦çš„æ˜¯ï¼š æ‰€æœ‰å¤„ç†å™¨éƒ½ä¿è¯å†™å…¥ï¼ˆå­˜å‚¨ storeï¼‰åˆ°å…±äº«å†…å­˜çš„ï¼ˆæ€»ï¼‰é¡ºåºï¼Œæ‰€ä»¥ç»™è¿™ä¸ªæ¨¡å‹èµ·äº†ä¸ªåå­—ï¼šæ€»å­˜å‚¨æœ‰åºï¼ˆTotal Store Orderï¼ŒTSOï¼‰ã€‚\nå†™é˜Ÿåˆ—æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼šå†…å­˜å†™æ“ä½œæ€»æ˜¯ä»¥ä¸å¤„ç†å™¨æ‰§è¡Œç›¸åŒé¡ºåºçš„åº”ç”¨äºå…±äº«å†…å­˜ã€‚\nåŸºäºä»¥ä¸Šä¸‹é¢ litmus test çš„ç­”æ¡ˆä¾ç„¶æ˜¯ no ï¼Œè¿™ç§æƒ…å†µä¸é¡ºåºä¸€è‡´æ€§æ¨¡å‹ç»“æœä¸€è‡´ï¼š\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. ä½†å…¶ä»–æµ‹è¯•åˆ™å¹¶ä¸ä¸€è‡´åŒºåˆ†ä¸é¡ºåºä¸€è‡´æ€§çš„å¸¸ç”¨ä¾‹å­:\nLitmus Test: Write Queue (also called Store Buffer) Can this program see r1 = 0, r2 = 0? // Thread 1 // Thread 2 x = 1 y = 1 r1 = y r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): yes! TSO ç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹ 1å’Œ 2 å¯èƒ½ä¼šå°†å®ƒä»¬çš„å†™æ“ä½œæ’é˜Ÿï¼Œç„¶åä»»ä½•ä¸€ä¸ªå†™æ“ä½œè¿›å…¥å†…å­˜ä¹‹å‰ä»å†…å­˜ä¸­è¯»å–ï¼Œè¿™ä¸¤ä¸ªè¯»æ“ä½œéƒ½ä¼šçœ‹åˆ°é›¶ã€‚ä½†æ˜¯ä»»ä½•é¡ºåºä¸€è‡´çš„æ‰§è¡Œä¸­ï¼Œ x=1 æˆ– y=1 å¿…ä¼šæœ‰ä¸€ä¸ªé¦–å…ˆç”Ÿæ•ˆã€‚\nå¦‚æœåŸºäº TSO ç³»ç»Ÿéœ€è¦æ›´å¼ºçš„å†…å­˜æ’åºï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜å±éšœã€‚\nä¸€æ—¦ä¸€ä¸ªå†™æ“ä½œåˆ°è¾¾ä¸»å­˜å‚¨å™¨ï¼Œæ‰€æœ‰å¤„ç†å™¨ä¸ä»…åŒè®¤åŒè¯¥å€¼å­˜åœ¨ï¼Œè€Œä¸”è¿˜è®¤åŒå®ƒç›¸å¯¹äºæ¥è‡ªå…¶ä»–å¤„ç†å™¨çš„å†™æ“ä½œçš„å…ˆåé¡ºåºã€‚è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªlitmus test:\nLitmus Test: Independent Reads of Independent Writes (IRIW) Can this program see r1 = 1, r2 = 0, r3 = 1, r4 = 0? (Can Threads 3 and 4 see x and y change in different orders?) // Thread 1 // Thread 2 // Thread 3 // Thread 4 x = 1 y = 1 r1 = x r3 = y r2 = y r4 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. ","permalink":"https://notes.0081800.xyz/notes/20210712155827-x86_%E6%80%BB%E5%AD%98%E5%82%A8%E6%9C%89%E5%BA%8F_x86_tso/","summary":"x86 æ€»å­˜å‚¨æœ‰åº(x86 Total Store Order, x86-TSO)ï¼šæ‰€æœ‰å¤„ç†å™¨ä»ç„¶è¿æ¥åˆ°ä¸€ä¸ªå…±äº«å†…å­˜ï¼Œä½†æ˜¯æ¯ä¸ªå¤„ç†å™¨éƒ½å°†å¯¹è¯¥å†…å­˜çš„å†™å…¥(write)æ”¾å…¥åˆ°æœ¬åœ°å†™å…¥é˜Ÿåˆ—ä¸­ã€‚å¤„ç†å™¨ç»§ç»­æ‰§è¡Œæ–°æŒ‡ä»¤ï¼ŒåŒæ—¶å†™æ“ä½œ(write)ä¼šæ›´æ–°åˆ°è¿™ä¸ªå…±äº«å†…å­˜ã€‚ä¸€ä¸ªå¤„ç†å™¨ä¸Šçš„å†…å­˜è¯»å–åœ¨æŸ¥è¯¢ä¸»å†…å­˜ä¹‹å‰ä¼šæŸ¥è¯¢æœ¬åœ°å†™é˜Ÿåˆ—ï¼Œä½†å®ƒçœ‹ä¸åˆ°å…¶ä»–å¤„ç†å™¨ä¸Šçš„å†™é˜Ÿåˆ—ã€‚å…¶æ•ˆæœå°±æ˜¯å½“å‰å¤„ç†å™¨æ¯”å…¶ä»–å¤„ç†å™¨ä¼šå…ˆçœ‹åˆ°è‡ªå·±çš„å†™æ“ä½œã€‚\né‡è¦çš„æ˜¯ï¼š æ‰€æœ‰å¤„ç†å™¨éƒ½ä¿è¯å†™å…¥ï¼ˆå­˜å‚¨ storeï¼‰åˆ°å…±äº«å†…å­˜çš„ï¼ˆæ€»ï¼‰é¡ºåºï¼Œæ‰€ä»¥ç»™è¿™ä¸ªæ¨¡å‹èµ·äº†ä¸ªåå­—ï¼šæ€»å­˜å‚¨æœ‰åºï¼ˆTotal Store Orderï¼ŒTSOï¼‰ã€‚\nå†™é˜Ÿåˆ—æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼šå†…å­˜å†™æ“ä½œæ€»æ˜¯ä»¥ä¸å¤„ç†å™¨æ‰§è¡Œç›¸åŒé¡ºåºçš„åº”ç”¨äºå…±äº«å†…å­˜ã€‚\nåŸºäºä»¥ä¸Šä¸‹é¢ litmus test çš„ç­”æ¡ˆä¾ç„¶æ˜¯ no ï¼Œè¿™ç§æƒ…å†µä¸é¡ºåºä¸€è‡´æ€§æ¨¡å‹ç»“æœä¸€è‡´ï¼š\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x On sequentially consistent hardware: no. On x86 (or other TSO): no. ä½†å…¶ä»–æµ‹è¯•åˆ™å¹¶ä¸ä¸€è‡´åŒºåˆ†ä¸é¡ºåºä¸€è‡´æ€§çš„å¸¸ç”¨ä¾‹å­:\nLitmus Test: Write Queue (also called Store Buffer) Can this program see r1 = 0, r2 = 0?","title":"x86 æ€»å­˜å‚¨æœ‰åºï¼ˆx86-TSO)"},{"content":"ä¸‹é¢è¿™ç§å…³äºæ ·æœ¬ç»“æœçš„é—®é¢˜è¢«ç§°ä¸º litmus test ã€‚å®ƒåªæœ‰ä¸¤ä¸ªç­”æ¡ˆï¼šå¯èƒ½è¿˜æ˜¯ä¸å¯èƒ½ï¼Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§åŒºåˆ†å†…å­˜ä¸€è‡´æ€§æ¨¡å‹çš„æ¸…æ™°æ–¹æ³•ï¼šå¦‚æœä¸€ä¸ªæ¨¡å‹æ”¯æŒç‰¹å®šçš„æ‰§è¡Œï¼Œè€Œå¦ä¸€ä¸ªä¸æ”¯æŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ¨¡å‹æ˜¾ç„¶ä¸åŒã€‚\nlitmus test å‡è®¾æ‰€æœ‰å˜é‡éƒ½åˆå§‹ä¸º 0 ï¼Œ rN è¡¨ç¤ºéå…±äº«å˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªçº¿ç¨‹æœ¬åœ°å¯„å­˜å™¨ã€‚\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x ç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œä¸€ä¸ªç‰¹å®šçš„æ¨¡å‹å¯¹ä¸€ä¸ªç‰¹å®šçš„ litmus test ç»™å‡ºçš„ç­”æ¡ˆå¾€å¾€ä»¤äººæƒŠè®¶ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712153952-litmus_test/","summary":"ä¸‹é¢è¿™ç§å…³äºæ ·æœ¬ç»“æœçš„é—®é¢˜è¢«ç§°ä¸º litmus test ã€‚å®ƒåªæœ‰ä¸¤ä¸ªç­”æ¡ˆï¼šå¯èƒ½è¿˜æ˜¯ä¸å¯èƒ½ï¼Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§åŒºåˆ†å†…å­˜ä¸€è‡´æ€§æ¨¡å‹çš„æ¸…æ™°æ–¹æ³•ï¼šå¦‚æœä¸€ä¸ªæ¨¡å‹æ”¯æŒç‰¹å®šçš„æ‰§è¡Œï¼Œè€Œå¦ä¸€ä¸ªä¸æ”¯æŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ¨¡å‹æ˜¾ç„¶ä¸åŒã€‚\nlitmus test å‡è®¾æ‰€æœ‰å˜é‡éƒ½åˆå§‹ä¸º 0 ï¼Œ rN è¡¨ç¤ºéå…±äº«å˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªçº¿ç¨‹æœ¬åœ°å¯„å­˜å™¨ã€‚\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x ç„¶è€Œä¸å¹¸çš„æ˜¯ï¼Œä¸€ä¸ªç‰¹å®šçš„æ¨¡å‹å¯¹ä¸€ä¸ªç‰¹å®šçš„ litmus test ç»™å‡ºçš„ç­”æ¡ˆå¾€å¾€ä»¤äººæƒŠè®¶ã€‚","title":"litmus test"},{"content":"Leslie Lamport 1979 å¹´çš„è®ºæ–‡ How to Make a Multiprocessor Computer That Correctly Executes Multiprocess Programs å®šä¹‰ï¼š\nThe customary approach to designing and proving the correctness of multiprocess algorithms for such a computer assumes that the following condition is satisfied: the result of any execution is the same as if the operations of all the processors were executed in some sequential order, and the operations of each individual processor appear in this sequence in the order specified by its program. A multiprocessor satisfying this condition will be called sequentially consistent.\nä¸ºè¿™ç§è®¡ç®—æœºè®¾è®¡å’Œè¯æ˜å¤šå¤„ç†ç®—æ³•æ­£ç¡®æ€§çš„é€šå¸¸æ–¹æ³•å‡å®šæ»¡è¶³ä¸‹åˆ—æ¡ä»¶:ä»»ä½•æ‰§è¡Œçš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ï¼Œå°±å¥½åƒæ‰€æœ‰å¤„ç†å™¨çš„æ“ä½œéƒ½æ˜¯æŒ‰æŸç§é¡ºåºæ‰§è¡Œçš„ï¼Œæ¯ä¸ªå¤„ç†å™¨çš„æ“ä½œéƒ½æ˜¯æŒ‰ç¨‹åºæŒ‡å®šçš„é¡ºåºå‡ºç°çš„ã€‚æ»¡è¶³è¿™ä¸€æ¡ä»¶çš„å¤šå¤„ç†å™¨ç³»ç»Ÿå°†è¢«ç§°ä¸ºé¡ºåºä¸€è‡´çš„ã€‚\né¡ºåºä¸€è‡´æ€§å…è®¸ç¨‹åºå‘˜å‡è®¾ç¨‹åºæŒ‰ç…§å®ƒä»¬åœ¨æºç ä¸­ç»„ç»‡ç›¸åŒçš„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”å•ä¸ªçº¿ç¨‹çš„æ‰§è¡Œåªæ˜¯ä»¥æŸç§é¡ºåºäº¤æ›¿ï¼ˆinterleavingï¼‰ï¼Œè€Œä¸æ˜¯ä»¥å…¶ä»–æ–¹å¼æ’åˆ—ã€‚\nçœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ª litmus testï¼š\nLitmus Test: Message Passing Can this program see r1 = 1, r2 = 0? // Thread 1 // Thread 2 x = 1 r1 = y y = 1 r2 = x å¦‚æœ litmus test çš„æ‰§è¡Œé¡ºåºä¸€è‡´ï¼Œåˆ™æœ‰å…­ç§å¯èƒ½çš„äº¤æ›¿ï¼š\næ‰€ä»¥è¿™ä¸ª litmus test çš„ç­”æ¡ˆæ˜¯ no ã€‚\nä¸å¹¸å¾—æ—¶ï¼Œå®è·µä¸­ç°åœ¨ç¡¬ä»¶éƒ½ä¼šåç¦»é¡ºåºä¸€è‡´æ€§æ¥æ”¾å¼ƒä¸¥æ ¼çš„é¡ºåºä¸€è‡´æ€§å¯ä»¥è®©ç¡¬ä»¶æ›´å¿«çš„æ‰§è¡Œç¨‹åºã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712151942-%E9%A1%BA%E5%BA%8F%E4%B8%80%E8%87%B4%E6%80%A7/","summary":"Leslie Lamport 1979 å¹´çš„è®ºæ–‡ How to Make a Multiprocessor Computer That Correctly Executes Multiprocess Programs å®šä¹‰ï¼š\nThe customary approach to designing and proving the correctness of multiprocess algorithms for such a computer assumes that the following condition is satisfied: the result of any execution is the same as if the operations of all the processors were executed in some sequential order, and the operations of each individual processor appear in this sequence in the order specified by its program.","title":"é¡ºåºä¸€è‡´æ€§"},{"content":" tags: ä¸€è‡´æ€§ï¼ŒMemory Model å½“æ‰§è¡Œç»™å®šç¨‹åºæ—¶ï¼Œç¡¬ä»¶å’Œç¼–è¯‘å™¨ä¹‹é—´çš„å¥‘çº¦ï¼Œå¯¹ç¼–è¯‘ååçš„ä»£ç å¯¹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ•°æ®æ›´æ”¹çš„å¯è§æ€§å’Œä¸€è‡´æ€§ã€‚ è¿™ç§å¥‘çº¦ç§°ä¸ºã€Œå†…å­˜ä¸€è‡´æ€§æ¨¡å‹ï¼ˆMemeory Consistency Modelï¼‰ã€æˆ–ä»…ä»…æ˜¯ã€Œå†…å­˜æ¨¡å‹ï¼ˆMemory Modelï¼‰ã€ã€‚\næœ€åˆç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºå‘˜ç¼–å†™æ±‡ç¼–ä»£ç æ—¶ç¡¬ä»¶æä¾›çš„ä¿è¯ï¼Œåæ¥ç”¨æ¥å®šä¹‰é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ C++ æˆ– Javaï¼‰å¯¹è¯¥è¯­è¨€ç¼–å†™ä»£ç çš„ç¨‹åºå‘˜æä¾›çš„ä¿è¯ã€‚\nä¾‹å¦‚ä¸‹é¢å˜é‡éƒ½åˆå§‹ä¸º 0 çš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ 1 å’Œ 2 éƒ½è¿è¡Œåœ¨è‡ªå·±ä¸“ç”¨çš„å¤„ç†å™¨ä¸Šï¼Œéƒ½è¿è¡Œåˆ°å®Œæˆï¼Œè¿™ä¸ªç¨‹åºèƒ½æ‰“å° 0 å—ï¼Ÿ\n// Thread 1 // Thread 2 x = 1; while(done == 0) { /* loop */ } done = 1; print(x); Memory coherence vs consistency å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ å†…å­˜é¡ºåºä¸€è‡´æ€§ï¼ˆsequential consistencyï¼‰ ç¡¬ä»¶ é¡ºåºä¸€è‡´æ€§ x86 æ€»å­˜å‚¨æœ‰åºï¼ˆx86-TSO) ARM/POWER Relaxed Memory Model å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","permalink":"https://notes.0081800.xyz/notes/20210712150516-%E5%86%85%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E6%A8%A1%E5%9E%8B/","summary":" tags: ä¸€è‡´æ€§ï¼ŒMemory Model å½“æ‰§è¡Œç»™å®šç¨‹åºæ—¶ï¼Œç¡¬ä»¶å’Œç¼–è¯‘å™¨ä¹‹é—´çš„å¥‘çº¦ï¼Œå¯¹ç¼–è¯‘ååçš„ä»£ç å¯¹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ•°æ®æ›´æ”¹çš„å¯è§æ€§å’Œä¸€è‡´æ€§ã€‚ è¿™ç§å¥‘çº¦ç§°ä¸ºã€Œå†…å­˜ä¸€è‡´æ€§æ¨¡å‹ï¼ˆMemeory Consistency Modelï¼‰ã€æˆ–ä»…ä»…æ˜¯ã€Œå†…å­˜æ¨¡å‹ï¼ˆMemory Modelï¼‰ã€ã€‚\næœ€åˆç›®æ ‡æ˜¯å®šä¹‰ç¨‹åºå‘˜ç¼–å†™æ±‡ç¼–ä»£ç æ—¶ç¡¬ä»¶æä¾›çš„ä¿è¯ï¼Œåæ¥ç”¨æ¥å®šä¹‰é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ C++ æˆ– Javaï¼‰å¯¹è¯¥è¯­è¨€ç¼–å†™ä»£ç çš„ç¨‹åºå‘˜æä¾›çš„ä¿è¯ã€‚\nä¾‹å¦‚ä¸‹é¢å˜é‡éƒ½åˆå§‹ä¸º 0 çš„æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ 1 å’Œ 2 éƒ½è¿è¡Œåœ¨è‡ªå·±ä¸“ç”¨çš„å¤„ç†å™¨ä¸Šï¼Œéƒ½è¿è¡Œåˆ°å®Œæˆï¼Œè¿™ä¸ªç¨‹åºèƒ½æ‰“å° 0 å—ï¼Ÿ\n// Thread 1 // Thread 2 x = 1; while(done == 0) { /* loop */ } done = 1; print(x); Memory coherence vs consistency å†…å­˜ä¸€è‡´æ€§ï¼ˆcoherenceï¼‰ å†…å­˜é¡ºåºä¸€è‡´æ€§ï¼ˆsequential consistencyï¼‰ ç¡¬ä»¶ é¡ºåºä¸€è‡´æ€§ x86 æ€»å­˜å‚¨æœ‰åºï¼ˆx86-TSO) ARM/POWER Relaxed Memory Model å¼±æœ‰åºå’Œæ— æ•°æ®ç«äº‰ï¼ˆDRFï¼‰ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","title":"å†…å­˜ä¸€è‡´æ€§æ¨¡å‹"},{"content":" tags: Memory Model,Programming Language,Computer Systems Programming Language Memory Models ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹å›ç­”äº†å¹¶è¡Œç¨‹åºå¯ä»¥ä¾é ä»€ä¹ˆè¡Œä¸ºä»¥ä¾¿å®ƒä»¬çš„çº¿ç¨‹ä¹‹é—´å¯ä»¥å…±äº«å†…å­˜çš„é—®é¢˜ã€‚\né¦–å…ˆéœ€è¦ç†è§£åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆtomic operationï¼‰ï¼Œç¼–ç¨‹è¯­è¨€æ¨¡å‹ä½œä¸ºç¨‹åºå‘˜å’Œç¼–è¯‘å™¨ä¹‹é—´çš„çº¦å®šè§„å®šäº†å®ƒä»¬ä¹‹é—´æ‰€éœ€è¦çš„é¢å¤–ç»†èŠ‚ã€‚\nç¡¬ä»¶ã€Litmus Testsã€Happens Before å’Œ DRF-SC ç¨‹åºä½¿ç”¨DRF-SC ç³»ç»ŸåŒæ­¥æŒ‡ä»¤åœ¨å¤šä¸ªå¤„ç†å™¨è¿è¡Œçš„ä»£ç ä¹‹é—´åˆ›å»ºä¸€ç§â€œhappens beforeâ€çš„å…³ç³»ã€‚\nThread 1 å’Œ Thread 2 æ‰§è¡Œ S(a) åŒæ­¥æŒ‡ä»¤ã€‚åœ¨è¿™ä¸ªç‰¹å®šæ‰§è¡Œä¸­ï¼Œä¸¤æ¡ S(a) æŒ‡ä»¤å»ºç«‹äº†ä» Thread 1 åˆ° Thread 2 çš„ happens-before å…³ç³»ï¼Œå› æ­¤ Thread 1 ä¸­çš„ = W(x)= å‘ç”Ÿåœ¨ Thread 2 ä¸­çš„ R(x) ä¹‹å‰ã€‚\n","permalink":"https://notes.0081800.xyz/topics/20210712143544-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":"tags: Memory Model,Programming Language,Computer Systems Programming Language Memory Models ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹å›ç­”äº†å¹¶è¡Œç¨‹åºå¯ä»¥ä¾é ä»€ä¹ˆè¡Œä¸ºä»¥ä¾¿å®ƒä»¬çš„çº¿ç¨‹ä¹‹é—´å¯ä»¥å…±äº«å†…å­˜çš„é—®é¢˜ã€‚\né¦–å…ˆéœ€è¦ç†è§£åŸå­å˜é‡ï¼ˆatomic variableï¼‰æˆ–åŸå­æ“ä½œï¼ˆtomic operationï¼‰ï¼Œç¼–ç¨‹è¯­è¨€æ¨¡å‹ä½œä¸ºç¨‹åºå‘˜å’Œç¼–è¯‘å™¨ä¹‹é—´çš„çº¦å®šè§„å®šäº†å®ƒä»¬ä¹‹é—´æ‰€éœ€è¦çš„é¢å¤–ç»†èŠ‚ã€‚\nç¡¬ä»¶ã€Litmus Testsã€Happens Before å’Œ DRF-SC ç¨‹åºä½¿ç”¨DRF-SC ç³»ç»ŸåŒæ­¥æŒ‡ä»¤åœ¨å¤šä¸ªå¤„ç†å™¨è¿è¡Œçš„ä»£ç ä¹‹é—´åˆ›å»ºä¸€ç§â€œhappens beforeâ€çš„å…³ç³»ã€‚\nThread 1 å’Œ Thread 2 æ‰§è¡Œ S(a) åŒæ­¥æŒ‡ä»¤ã€‚åœ¨è¿™ä¸ªç‰¹å®šæ‰§è¡Œä¸­ï¼Œä¸¤æ¡ S(a) æŒ‡ä»¤å»ºç«‹äº†ä» Thread 1 åˆ° Thread 2 çš„ happens-before å…³ç³»ï¼Œå› æ­¤ Thread 1 ä¸­çš„ = W(x)= å‘ç”Ÿåœ¨ Thread 2 ä¸­çš„ R(x) ä¹‹å‰ã€‚","title":"ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹"},{"content":" tags: Memory Model,Computer Systems Hardware Memory Models ç¡¬ä»¶å†…å­˜æ¨¡å‹ å†…å­˜æ¨¡å‹ å†…å­˜ä¸€è‡´æ€§æ¨¡å‹\n","permalink":"https://notes.0081800.xyz/notes/20210712143220-%E7%A1%AC%E4%BB%B6%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/","summary":"tags: Memory Model,Computer Systems Hardware Memory Models ç¡¬ä»¶å†…å­˜æ¨¡å‹ å†…å­˜æ¨¡å‹ å†…å­˜ä¸€è‡´æ€§æ¨¡å‹","title":"ç¡¬ä»¶å†…å­˜æ¨¡å‹"},{"content":" tags: Emacs ä¼˜åŒ– GC å‚è€ƒï¼šLSP Mode Performance\n;; Optmization ;; Sources: ;; ;; - https://www.reddit.com/r/emacs/comments/ofhket/further_boost_start_up_time_with_a_simple_tweak/ ;; - https://emacs-lsp.github.io/lsp-mode/page/performance/ ;; (setq gc-cons-threshold 32000000) ;; 32mb (setq read-process-output-max (* 1024 1024)) ;; 1mb å°†å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–åˆ° 3 ç§’å·¦å³ã€‚\nDumping Emacs Emacs WIKI: Dumping Emacs Painless Transition to Portable Dumper ","permalink":"https://notes.0081800.xyz/notes/20210712114303-emacs_%E4%BC%98%E5%8C%96%E5%90%AF%E5%8A%A8%E9%80%9F%E5%BA%A6/","summary":" tags: Emacs ä¼˜åŒ– GC å‚è€ƒï¼šLSP Mode Performance\n;; Optmization ;; Sources: ;; ;; - https://www.reddit.com/r/emacs/comments/ofhket/further_boost_start_up_time_with_a_simple_tweak/ ;; - https://emacs-lsp.github.io/lsp-mode/page/performance/ ;; (setq gc-cons-threshold 32000000) ;; 32mb (setq read-process-output-max (* 1024 1024)) ;; 1mb å°†å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–åˆ° 3 ç§’å·¦å³ã€‚\nDumping Emacs Emacs WIKI: Dumping Emacs Painless Transition to Portable Dumper ","title":"Emacs ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦"},{"content":"ä¸ºä»€ä¹ˆä¸ç”¨å–æ¨¡ï¼Ÿ èŠ‚ç‚¹æ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå¯¼è‡´å¾ˆå¤šå…³é”®å­—éœ€è¦åšèŠ‚ç‚¹æ•°æ®è¿ç§»ï¼Œä¼šå¤§å¤§å¢åŠ å†å¹³è¡¡çš„æˆæœ¬ã€‚\nå›ºå®šæ•°é‡çš„åˆ†åŒº åˆ›å»ºè¿œè¶…å®é™…èŠ‚ç‚¹æ•°çš„åˆ†åŒºæ•°é‡ï¼Œç„¶åå†ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…å¤šä¸ªåˆ†åŒºã€‚\næ–°åŠ å…¥èŠ‚ç‚¹ ä»ç°æœ‰çš„èŠ‚ç‚¹ä¸ŠåŒ€èµ°å‡ ä¸ªåˆ†åŒºï¼Œç›´åˆ°åˆ†åŒºå†æ¬¡è¾¾åˆ°å¹³è¡¡ã€‚\nåˆ é™¤èŠ‚ç‚¹ é‡‡å–å’Œä¸Šé¢ç›¸åçš„è¿‡ç¨‹ã€‚\nä¼˜ç‚¹ åˆ†åŒºæ€»æ•°é‡ä¸å˜ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å…³é”®å­—çš„åˆ†åŒºæ˜ å°„å…³ç³»ã€‚ å”¯ä¸€éœ€è¦è°ƒæ•´çš„åˆ†åŒºä¸èŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ã€‚ åˆ†åŒºå’ŒèŠ‚ç‚¹çš„æ˜ å°„å…³ç³»è°ƒæ•´å¯ä»¥é€æ­¥å®Œæˆã€‚ ç¼ºç‚¹ åˆ†åŒºæ•°é‡éœ€è¦æ•°æ®åº“åˆ›å»ºæ—¶ç¡®å®šï¼Œå¹¶ä¸èƒ½æ›´æ”¹ åŠ¨æ€åˆ†åŒº åˆ†åŒºæ•°æ®å¢é•¿è¶…è¿‡ä¸€ä¸ªå¯é…å‚æ•°çš„é˜ˆå€¼ï¼ˆHBase 10GBï¼‰ï¼Œå®ƒå°±æ‹†åˆ†ä¸ºä¸¤ä¸ªåˆ†åŒºï¼Œç›¸ååˆ™åˆå¹¶ç›¸é‚»çš„åˆ†åŒºã€‚è¿‡ç¨‹ç±»ä¼¼B-trees çš„åˆ†è£‚æ“ä½œã€‚\næ¯ä¸ªåˆ†åŒºæ€»æ˜¯åˆ†é…ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ‰¿è½½å¤šä¸ªåˆ†åŒºã€‚\nåˆ†åŒºåˆ†è£‚ å°†å…¶ä¸­çš„ä¸€åŠè½¬ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ä»¥å¹³è¡¡è´Ÿè½½ã€‚\nä¼˜ç‚¹ åˆ†åŒºæ•°é‡å¯ä»¥è‡ªåŠ¨é€‚é…æ•°æ®æ€»é‡ã€‚ ç©ºæ•°æ®åº“å¯ä»¥é…ç½®åˆå§‹åˆ†åŒºè§£å†³å°‘é‡æ•°æ®é›†å°±ä¸€ä¸ªåˆ†åŒºé¿å…ç³»ç»Ÿçƒ­ç‚¹ï¼ˆHBase å’Œ MongoDBï¼‰ æŒ‰èŠ‚ç‚¹æ¯”ä¾‹åˆ†åŒº ä½¿åˆ†åŒºæ•°ä¸é›†ç¾¤èŠ‚ç‚¹æ•°æˆæ­£æ¯”å…³ç³»ï¼ˆCassandra å’Œ Ketamaï¼‰ï¼Œå°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰å›ºå®šæ•°é‡çš„åˆ†åŒºã€‚ å½“èŠ‚ç‚¹æ•°ä¸å˜æ—¶ï¼Œæ¯ä¸ªåˆ†åŒºçš„å¤§å°ä¸æ•°æ®é›†å¤§å°ä¿æŒæ­£æ¯”å¢é•¿å…³ç³»ã€‚\næ–°åŠ å…¥èŠ‚ç‚¹ éšæœºé€‰æ‹©å›ºå®šæ•°é‡çš„ç°æœ‰åˆ†åŒºè¿›è¡Œåˆ†è£‚ï¼Œç„¶åæ‹¿èµ°è¿™äº›åˆ†åŒºçš„ä¸€åŠæ•°æ®é‡ã€‚\nä¼˜ç‚¹ è¾ƒå¤§çš„æ•°æ®å¯ä»¥ä½¿æ¯ä¸ªåˆ†åŒºçš„å¤§å°ä¿æŒç¨³å®šã€‚ ç¼ºç‚¹ å­˜åœ¨ä¸å…¬å¹³åˆ†è£‚ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210712072221-%E5%8A%A8%E6%80%81%E5%86%8D%E5%B9%B3%E8%A1%A1%E7%AD%96%E7%95%A5/","summary":"ä¸ºä»€ä¹ˆä¸ç”¨å–æ¨¡ï¼Ÿ èŠ‚ç‚¹æ•°å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šå¯¼è‡´å¾ˆå¤šå…³é”®å­—éœ€è¦åšèŠ‚ç‚¹æ•°æ®è¿ç§»ï¼Œä¼šå¤§å¤§å¢åŠ å†å¹³è¡¡çš„æˆæœ¬ã€‚\nå›ºå®šæ•°é‡çš„åˆ†åŒº åˆ›å»ºè¿œè¶…å®é™…èŠ‚ç‚¹æ•°çš„åˆ†åŒºæ•°é‡ï¼Œç„¶åå†ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…å¤šä¸ªåˆ†åŒºã€‚\næ–°åŠ å…¥èŠ‚ç‚¹ ä»ç°æœ‰çš„èŠ‚ç‚¹ä¸ŠåŒ€èµ°å‡ ä¸ªåˆ†åŒºï¼Œç›´åˆ°åˆ†åŒºå†æ¬¡è¾¾åˆ°å¹³è¡¡ã€‚\nåˆ é™¤èŠ‚ç‚¹ é‡‡å–å’Œä¸Šé¢ç›¸åçš„è¿‡ç¨‹ã€‚\nä¼˜ç‚¹ åˆ†åŒºæ€»æ•°é‡ä¸å˜ï¼Œä¹Ÿä¸ä¼šæ”¹å˜å…³é”®å­—çš„åˆ†åŒºæ˜ å°„å…³ç³»ã€‚ å”¯ä¸€éœ€è¦è°ƒæ•´çš„åˆ†åŒºä¸èŠ‚ç‚¹çš„æ˜ å°„å…³ç³»ã€‚ åˆ†åŒºå’ŒèŠ‚ç‚¹çš„æ˜ å°„å…³ç³»è°ƒæ•´å¯ä»¥é€æ­¥å®Œæˆã€‚ ç¼ºç‚¹ åˆ†åŒºæ•°é‡éœ€è¦æ•°æ®åº“åˆ›å»ºæ—¶ç¡®å®šï¼Œå¹¶ä¸èƒ½æ›´æ”¹ åŠ¨æ€åˆ†åŒº åˆ†åŒºæ•°æ®å¢é•¿è¶…è¿‡ä¸€ä¸ªå¯é…å‚æ•°çš„é˜ˆå€¼ï¼ˆHBase 10GBï¼‰ï¼Œå®ƒå°±æ‹†åˆ†ä¸ºä¸¤ä¸ªåˆ†åŒºï¼Œç›¸ååˆ™åˆå¹¶ç›¸é‚»çš„åˆ†åŒºã€‚è¿‡ç¨‹ç±»ä¼¼B-trees çš„åˆ†è£‚æ“ä½œã€‚\næ¯ä¸ªåˆ†åŒºæ€»æ˜¯åˆ†é…ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æ‰¿è½½å¤šä¸ªåˆ†åŒºã€‚\nåˆ†åŒºåˆ†è£‚ å°†å…¶ä¸­çš„ä¸€åŠè½¬ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ä»¥å¹³è¡¡è´Ÿè½½ã€‚\nä¼˜ç‚¹ åˆ†åŒºæ•°é‡å¯ä»¥è‡ªåŠ¨é€‚é…æ•°æ®æ€»é‡ã€‚ ç©ºæ•°æ®åº“å¯ä»¥é…ç½®åˆå§‹åˆ†åŒºè§£å†³å°‘é‡æ•°æ®é›†å°±ä¸€ä¸ªåˆ†åŒºé¿å…ç³»ç»Ÿçƒ­ç‚¹ï¼ˆHBase å’Œ MongoDBï¼‰ æŒ‰èŠ‚ç‚¹æ¯”ä¾‹åˆ†åŒº ä½¿åˆ†åŒºæ•°ä¸é›†ç¾¤èŠ‚ç‚¹æ•°æˆæ­£æ¯”å…³ç³»ï¼ˆCassandra å’Œ Ketamaï¼‰ï¼Œå°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹å…·æœ‰å›ºå®šæ•°é‡çš„åˆ†åŒºã€‚ å½“èŠ‚ç‚¹æ•°ä¸å˜æ—¶ï¼Œæ¯ä¸ªåˆ†åŒºçš„å¤§å°ä¸æ•°æ®é›†å¤§å°ä¿æŒæ­£æ¯”å¢é•¿å…³ç³»ã€‚\næ–°åŠ å…¥èŠ‚ç‚¹ éšæœºé€‰æ‹©å›ºå®šæ•°é‡çš„ç°æœ‰åˆ†åŒºè¿›è¡Œåˆ†è£‚ï¼Œç„¶åæ‹¿èµ°è¿™äº›åˆ†åŒºçš„ä¸€åŠæ•°æ®é‡ã€‚\nä¼˜ç‚¹ è¾ƒå¤§çš„æ•°æ®å¯ä»¥ä½¿æ¯ä¸ªåˆ†åŒºçš„å¤§å°ä¿æŒç¨³å®šã€‚ ç¼ºç‚¹ å­˜åœ¨ä¸å…¬å¹³åˆ†è£‚ã€‚ ","title":"åŠ¨æ€å†å¹³è¡¡ç­–ç•¥"},{"content":"å¯¹æ‰€æœ‰æ•°æ®æ„å»ºå…¨å±€ç´¢å¼•ï¼Œä¸ºäº†é¿å…ç“¶é¢ˆï¼Œå¯¹ç´¢å¼•æœ¬èº«è¿›è¡Œåˆ†åŒºï¼Œæ¯”å¦‚ï¼š\nå°† aï½r å¼€å§‹çš„å…³é”®å­—æ”¾åœ¨åˆ†åŒº 0 å°† sï½z å¼€å§‹çš„å…³é”®å­—æ”¾åœ¨åˆ†åŒº 1 ä¼˜ç‚¹ å¯ä»¥æ”¯æŒé«˜æ•ˆçš„åŒºé—´æŸ¥è¯¢ è¯»å–æ›´ä¸ºé«˜æ•ˆ ç¼ºç‚¹ å†™å…¥é€Ÿåº¦æ…¢ï¼Œä¼šå¼•å…¥æ˜æ˜¾çš„å†™å…¥æ”¾å¤§ å†™å…¥é€»è¾‘å¤æ‚ éš¾ä»¥ä¿è¯ç´¢å¼•æ—¶åˆ»æœ€æ–°ï¼Œéœ€è¦è·¨å¤šä¸ªç›¸å…³åˆ†åŒºçš„åˆ†å¸ƒå¼äº‹åŠ¡æ”¯æŒ å®è·µ å¯¹å…¨å±€äºŒçº§ç´¢å¼•çš„æ›´æ–°å¾€å¾€éƒ½æ˜¯å¼‚æ­¥çš„ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712071502-%E5%9F%BA%E4%BA%8E%E8%AF%8D%E6%9D%A1%E7%9A%84%E4%BA%8C%E7%BA%A7%E7%B4%A2%E5%BC%95%E5%88%86%E5%8C%BA/","summary":"å¯¹æ‰€æœ‰æ•°æ®æ„å»ºå…¨å±€ç´¢å¼•ï¼Œä¸ºäº†é¿å…ç“¶é¢ˆï¼Œå¯¹ç´¢å¼•æœ¬èº«è¿›è¡Œåˆ†åŒºï¼Œæ¯”å¦‚ï¼š\nå°† aï½r å¼€å§‹çš„å…³é”®å­—æ”¾åœ¨åˆ†åŒº 0 å°† sï½z å¼€å§‹çš„å…³é”®å­—æ”¾åœ¨åˆ†åŒº 1 ä¼˜ç‚¹ å¯ä»¥æ”¯æŒé«˜æ•ˆçš„åŒºé—´æŸ¥è¯¢ è¯»å–æ›´ä¸ºé«˜æ•ˆ ç¼ºç‚¹ å†™å…¥é€Ÿåº¦æ…¢ï¼Œä¼šå¼•å…¥æ˜æ˜¾çš„å†™å…¥æ”¾å¤§ å†™å…¥é€»è¾‘å¤æ‚ éš¾ä»¥ä¿è¯ç´¢å¼•æ—¶åˆ»æœ€æ–°ï¼Œéœ€è¦è·¨å¤šä¸ªç›¸å…³åˆ†åŒºçš„åˆ†å¸ƒå¼äº‹åŠ¡æ”¯æŒ å®è·µ å¯¹å…¨å±€äºŒçº§ç´¢å¼•çš„æ›´æ–°å¾€å¾€éƒ½æ˜¯å¼‚æ­¥çš„ã€‚","title":"åŸºäºè¯æ¡çš„äºŒçº§ç´¢å¼•åˆ†åŒº"},{"content":"æ¯ä¸ªåˆ†åŒºå„è‡ªç»´æŠ¤è‡ªèº«çš„äºŒçº§ç´¢å¼•ï¼Œè¯»å–æ—¶éœ€è¦å¯¹æ‰€æœ‰åˆ†åŒºèŠ‚ç‚¹è¿›è¡ŒæŸ¥è¯¢ç„¶åå¯¹ç»“æœè¿›è¡Œåˆå¹¶ã€‚\nè¿™ç§æ–¹æ³•è™½ç„¶äºŒçº§ç´¢å¼•æŸ¥è¯¢ä»£ä»·é«˜ï¼Œä½†ä¾ç„¶å¹¿æ³›ç”¨äºå®è·µï¼šMongoDBã€Riakã€Cassandraã€ElasticSearchã€SolrCloud å’Œ VoltDBã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210712071105-%E5%9F%BA%E4%BA%8E%E6%96%87%E6%A1%A3%E5%88%86%E5%8C%BA%E7%9A%84%E4%BA%8C%E7%BA%A7%E7%B4%A2%E5%BC%95/","summary":"æ¯ä¸ªåˆ†åŒºå„è‡ªç»´æŠ¤è‡ªèº«çš„äºŒçº§ç´¢å¼•ï¼Œè¯»å–æ—¶éœ€è¦å¯¹æ‰€æœ‰åˆ†åŒºèŠ‚ç‚¹è¿›è¡ŒæŸ¥è¯¢ç„¶åå¯¹ç»“æœè¿›è¡Œåˆå¹¶ã€‚\nè¿™ç§æ–¹æ³•è™½ç„¶äºŒçº§ç´¢å¼•æŸ¥è¯¢ä»£ä»·é«˜ï¼Œä½†ä¾ç„¶å¹¿æ³›ç”¨äºå®è·µï¼šMongoDBã€Riakã€Cassandraã€ElasticSearchã€SolrCloud å’Œ VoltDBã€‚","title":"åŸºäºæ–‡æ¡£åˆ†åŒºçš„äºŒçº§ç´¢å¼•"},{"content":"å¯ä»¥åŸºäºå…³é”®å€¼å“ˆå¸Œå‡½æ•°çš„æ–¹å¼åˆ†åŒºï¼Œè§£å†³åŸºäºå…³é”®å­—åŒºé—´åˆ†åŒºæ•°æ®å€¾æ–œä¸çƒ­ç‚¹çš„é—®é¢˜ã€‚ä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°å¯ä»¥å¤„ç†æ•°æ®å€¾æ–œå¹¶ä½¿å…¶å‡åŒ€åˆ†å¸ƒï¼Œå¹¶ä¸”ä¸éœ€è¦åœ¨åŠ å¯†æ–¹é¢å¾ˆå¼ºã€‚\nä¼˜ç‚¹ è¿™ç§æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å°†å…³é”®å­—å‡åŒ€åˆ†é…åˆ°å¤šä¸ªåˆ†åŒºä¸­ã€‚\nç¼ºç‚¹ ä¸§å¤±è‰¯å¥½çš„åŒºé—´æŸ¥è¯¢æ€§èƒ½ã€‚å³ä½¿å…³é”®å­—ç›¸é‚»ï¼Œä¹Ÿä¼šåˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºä¸Šã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210711171149-%E5%9F%BA%E4%BA%8E%E5%85%B3%E9%94%AE%E5%AD%97%E5%93%88%E5%B8%8C%E5%80%BC%E5%88%86%E5%8C%BA/","summary":"å¯ä»¥åŸºäºå…³é”®å€¼å“ˆå¸Œå‡½æ•°çš„æ–¹å¼åˆ†åŒºï¼Œè§£å†³åŸºäºå…³é”®å­—åŒºé—´åˆ†åŒºæ•°æ®å€¾æ–œä¸çƒ­ç‚¹çš„é—®é¢˜ã€‚ä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°å¯ä»¥å¤„ç†æ•°æ®å€¾æ–œå¹¶ä½¿å…¶å‡åŒ€åˆ†å¸ƒï¼Œå¹¶ä¸”ä¸éœ€è¦åœ¨åŠ å¯†æ–¹é¢å¾ˆå¼ºã€‚\nä¼˜ç‚¹ è¿™ç§æ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å°†å…³é”®å­—å‡åŒ€åˆ†é…åˆ°å¤šä¸ªåˆ†åŒºä¸­ã€‚\nç¼ºç‚¹ ä¸§å¤±è‰¯å¥½çš„åŒºé—´æŸ¥è¯¢æ€§èƒ½ã€‚å³ä½¿å…³é”®å­—ç›¸é‚»ï¼Œä¹Ÿä¼šåˆ†å¸ƒåœ¨ä¸åŒçš„åˆ†åŒºä¸Šã€‚","title":"åŸºäºå…³é”®å­—å“ˆå¸Œå€¼åˆ†åŒº"},{"content":"ä¸ºæ¯ä¸ªåˆ†åŒºåˆ†é…ä¸€æ®µè¿ç»­çš„å…³é”®å­—æˆ–è€…å…³é”®å­—åŒºé—´èŒƒå›´ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210711154220-%E5%9F%BA%E4%BA%8E%E5%85%B3%E9%94%AE%E5%AD%97%E5%8C%BA%E9%97%B4%E5%88%86%E5%8C%BA/","summary":"ä¸ºæ¯ä¸ªåˆ†åŒºåˆ†é…ä¸€æ®µè¿ç»­çš„å…³é”®å­—æˆ–è€…å…³é”®å­—åŒºé—´èŒƒå›´ã€‚","title":"åŸºäºå…³é”®å­—åŒºé—´åˆ†åŒº"},{"content":"è´Ÿè½½å€¾æ–œä¼šå¯¼è‡´æ‰€æœ‰è´Ÿè½½éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåˆ†åŒºèŠ‚ç‚¹ä¸Šï¼Œè¿™ç§è´Ÿè½½ä¸¥é‡ä¸æˆæ¯”ä¾‹çš„åˆ†åŒºå³ç§°ä¸ºç³»ç»Ÿçƒ­ç‚¹ã€‚\nåº”ç”¨å±‚è§£å†³ å³ä½¿é€šè¿‡åŸºäºå…³é”®å­—å“ˆå¸Œå€¼åˆ†åŒºå’ŒåŸºäºå…³é”®å­—åŒºé—´åˆ†åŒºç­‰ç­–ç•¥è§£å†³äº†å¤§éƒ¨åˆ†çƒ­ç‚¹é—®é¢˜ï¼Œä½†æ˜¯æç«¯æƒ…å†µä¸‹ä¾ç„¶ä¼šå‡ºç°çƒ­ç‚¹ï¼Œæ¯”å¦‚ç¤¾äº¤åª’ä½“çš„çƒ­ç‚¹æ—¶é—´éƒ½ä¼šå¯¼è‡´çƒ­ç‚¹ï¼Œåªèƒ½é€šè¿‡åº”ç”¨å±‚è§£å†³ï¼Œä¸€ä¸ªç®€å•çš„æŠ€æœ¯ï¼š\nå…³é”®å­—å¼€å¤´æˆ–ç»“å°¾æ·»åŠ ä¸€ä¸ªéšæœºæ•°ï¼Œä¸¤ä½éšæœºæ•°å°±å¯ä»¥å°†å…³é”®å­—çš„å†™æ“ä½œåˆ†å¸ƒåˆ° 100 ä¸ªä¸åŒçš„åˆ†åŒºä¸Šï¼› è¯»å–å°±å¿…é¡»ä»æ‰€æœ‰çš„ 1000 ä¸ªå…³é”®å­—ä¸­è¯»å–æ•°æ®ç„¶åè¿›è¡Œåˆå¹¶ï¼› é€šè¿‡é¢å¤–çš„å…ƒæ•°æ®æ ‡è®°å“ªäº›å…³é”®å­—è¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ã€‚ ç”±äºå¯¹è¯»å–é€ æˆçš„é¢å¤–å¼€é”€ï¼Œæ‰€ä»¥é€šå¸¸åªæœ‰å¯¹å°‘é‡çš„çƒ­ç‚¹å…³é”®è¯é™„åŠ éšæœºæ•°æ‰æœ‰æ„ä¹‰ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210711153934-%E7%B3%BB%E7%BB%9F%E7%83%AD%E7%82%B9/","summary":"è´Ÿè½½å€¾æ–œä¼šå¯¼è‡´æ‰€æœ‰è´Ÿè½½éƒ½é›†ä¸­åœ¨ä¸€ä¸ªåˆ†åŒºèŠ‚ç‚¹ä¸Šï¼Œè¿™ç§è´Ÿè½½ä¸¥é‡ä¸æˆæ¯”ä¾‹çš„åˆ†åŒºå³ç§°ä¸ºç³»ç»Ÿçƒ­ç‚¹ã€‚\nåº”ç”¨å±‚è§£å†³ å³ä½¿é€šè¿‡åŸºäºå…³é”®å­—å“ˆå¸Œå€¼åˆ†åŒºå’ŒåŸºäºå…³é”®å­—åŒºé—´åˆ†åŒºç­‰ç­–ç•¥è§£å†³äº†å¤§éƒ¨åˆ†çƒ­ç‚¹é—®é¢˜ï¼Œä½†æ˜¯æç«¯æƒ…å†µä¸‹ä¾ç„¶ä¼šå‡ºç°çƒ­ç‚¹ï¼Œæ¯”å¦‚ç¤¾äº¤åª’ä½“çš„çƒ­ç‚¹æ—¶é—´éƒ½ä¼šå¯¼è‡´çƒ­ç‚¹ï¼Œåªèƒ½é€šè¿‡åº”ç”¨å±‚è§£å†³ï¼Œä¸€ä¸ªç®€å•çš„æŠ€æœ¯ï¼š\nå…³é”®å­—å¼€å¤´æˆ–ç»“å°¾æ·»åŠ ä¸€ä¸ªéšæœºæ•°ï¼Œä¸¤ä½éšæœºæ•°å°±å¯ä»¥å°†å…³é”®å­—çš„å†™æ“ä½œåˆ†å¸ƒåˆ° 100 ä¸ªä¸åŒçš„åˆ†åŒºä¸Šï¼› è¯»å–å°±å¿…é¡»ä»æ‰€æœ‰çš„ 1000 ä¸ªå…³é”®å­—ä¸­è¯»å–æ•°æ®ç„¶åè¿›è¡Œåˆå¹¶ï¼› é€šè¿‡é¢å¤–çš„å…ƒæ•°æ®æ ‡è®°å“ªäº›å…³é”®å­—è¿›è¡Œäº†ç‰¹æ®Šå¤„ç†ã€‚ ç”±äºå¯¹è¯»å–é€ æˆçš„é¢å¤–å¼€é”€ï¼Œæ‰€ä»¥é€šå¸¸åªæœ‰å¯¹å°‘é‡çš„çƒ­ç‚¹å…³é”®è¯é™„åŠ éšæœºæ•°æ‰æœ‰æ„ä¹‰ã€‚","title":"ç³»ç»Ÿçƒ­ç‚¹"},{"content":"åˆ†åŒºä¸å‡åŒ€æ—¶å‡ºç°æŸäº›åˆ†åŒºèŠ‚ç‚¹æ¯”å…¶ä»–åˆ†åŒºæ‰¿æ‹…æ›´å¤šçš„æ•°æ®é‡å’ŒæŸ¥è¯¢è´Ÿè½½ã€‚å€¾æ–œä¼šå¯¼è‡´åˆ†åŒºæ•ˆç‡ä¸¥é‡ä¸‹é™ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210711153606-%E8%B4%9F%E8%BD%BD%E5%80%BE%E6%96%9C/","summary":"åˆ†åŒºä¸å‡åŒ€æ—¶å‡ºç°æŸäº›åˆ†åŒºèŠ‚ç‚¹æ¯”å…¶ä»–åˆ†åŒºæ‰¿æ‹…æ›´å¤šçš„æ•°æ®é‡å’ŒæŸ¥è¯¢è´Ÿè½½ã€‚å€¾æ–œä¼šå¯¼è‡´åˆ†åŒºæ•ˆç‡ä¸¥é‡ä¸‹é™ã€‚","title":"è´Ÿè½½å€¾æ–œ"},{"content":"æ¯ä¸€æ¡æ•°æ®éƒ½å±äºç‰¹å®šçš„åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªå°å‹æ•°æ®åº“ã€‚\nç›®çš„ æé«˜æ‰©å±•æ€§ï¼Œåˆ†æ•£å¤§çš„æ•°æ®é›†å’ŒæŸ¥è¯¢è´Ÿè½½ã€‚\nç›®æ ‡ å°†æ•°æ®å’ŒæŸ¥è¯¢è´Ÿè½½å‡åŒ€çš„åˆ†æ­¥åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šã€‚å¦‚æœåˆ†å¸ƒä¸å‡åŒ€ä¼šå‡ºç°è´Ÿè½½å€¾æ–œå’Œç³»ç»Ÿçƒ­ç‚¹ã€‚\næ•°æ®åˆ†åŒºä¸æ•°æ®å¤åˆ¶ ç»“åˆæ•°æ®å¤åˆ¶æ¯ä¸ªåˆ†åŒºåœ¨å¤šä¸ªèŠ‚ç‚¹éƒ½æœ‰å‰¯æœ¬ï¼Œè¿›è¡Œå†—ä½™æé«˜å¯ç”¨æ€§ã€‚\né”®-å€¼æ•°æ®çš„åˆ†åŒº é¿å…ç³»ç»Ÿçƒ­ç‚¹æœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†è®°å½•éšæœºåˆ†é…ç»™æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼Œç¼ºç‚¹æ˜¯ï¼šæ²¡åŠæ³•çŸ¥é“æ•°æ®ä¿å­˜åœ¨å“ªä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥è¯»å–æ—¶éœ€è¦æŸ¥è¯¢æ‰€æœ‰èŠ‚ç‚¹ã€‚\nåŸºäºå…³é”®å­—åŒºé—´åˆ†åŒº åŸºäºå…³é”®å­—å“ˆå¸Œå€¼åˆ†åŒº è´Ÿè½½å€¾æ–œä¸ç³»ç»Ÿçƒ­ç‚¹ åˆ†åŒºä¸äºŒçº§ç´¢å¼• äºŒçº§ç´¢å¼•ä¸èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œæ¯”å¦‚æŸ¥è¯¢é¢œè‰²ä¸ºçº¢è‰²çš„æ±½è½¦ã€‚äºŒçº§ç´¢å¼•å¸¦æ¥çš„ä¸»è¦æŒ‘æˆ˜æ˜¯å®ƒä»¬ä¸èƒ½è§„æ•´çš„æ˜ å°„åˆ°åˆ†åŒºä¸­ã€‚\næœ‰ä¸¤ç§æ–¹æ³•æ¥æ”¯æŒå¯¹äºŒçº§ç´¢å¼•è¿›è¡Œåˆ†åŒºï¼š\nåŸºäºæ–‡æ¡£åˆ†åŒºçš„äºŒçº§ç´¢å¼• åŸºäºè¯æ¡çš„äºŒçº§ç´¢å¼•åˆ†åŒº åˆ†åŒºå†å¹³è¡¡ åŠ¨æ€å†å¹³è¡¡ç­–ç•¥ è‡ªåŠ¨ä¸æ‰‹åŠ¨å†å¹³è¡¡æ“ä½œ è¯·æ±‚è·¯ç”± ç­–ç•¥ å®¢æˆ·ç«¯å¯ä»¥è¿æ¥ä»»æ„èŠ‚ç‚¹ï¼Œå¹¶ç”±èŠ‚ç‚¹åšè½¬å‘ä¸åœ¨å½“å‰èŠ‚ç‚¹çš„åˆ†åŒºè¯·æ±‚ã€‚ ç”±è·¯ç”±å±‚æ¥å……å½“åˆ†åŒºæ„ŸçŸ¥çš„è´Ÿè½½å‡è¡¡å™¨ã€‚ å®¢æˆ·ç«¯ç›´æ¥æ„ŸçŸ¥åˆ†åŒºå’ŒèŠ‚ç‚¹åˆ†é…å…³ç³»ï¼Œå®¢æˆ·ç«¯ç›´è¿ç›®æ ‡èŠ‚ç‚¹ã€‚ åšå‡ºè·¯ç”±å†³ç­–çš„ç»„ä»¶ Zookeeper gossip åè®® ","permalink":"https://notes.0081800.xyz/notes/20210711153015-%E6%95%B0%E6%8D%AE%E5%88%86%E5%8C%BA/","summary":"æ¯ä¸€æ¡æ•°æ®éƒ½å±äºç‰¹å®šçš„åˆ†åŒºï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªå°å‹æ•°æ®åº“ã€‚\nç›®çš„ æé«˜æ‰©å±•æ€§ï¼Œåˆ†æ•£å¤§çš„æ•°æ®é›†å’ŒæŸ¥è¯¢è´Ÿè½½ã€‚\nç›®æ ‡ å°†æ•°æ®å’ŒæŸ¥è¯¢è´Ÿè½½å‡åŒ€çš„åˆ†æ­¥åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šã€‚å¦‚æœåˆ†å¸ƒä¸å‡åŒ€ä¼šå‡ºç°è´Ÿè½½å€¾æ–œå’Œç³»ç»Ÿçƒ­ç‚¹ã€‚\næ•°æ®åˆ†åŒºä¸æ•°æ®å¤åˆ¶ ç»“åˆæ•°æ®å¤åˆ¶æ¯ä¸ªåˆ†åŒºåœ¨å¤šä¸ªèŠ‚ç‚¹éƒ½æœ‰å‰¯æœ¬ï¼Œè¿›è¡Œå†—ä½™æé«˜å¯ç”¨æ€§ã€‚\né”®-å€¼æ•°æ®çš„åˆ†åŒº é¿å…ç³»ç»Ÿçƒ­ç‚¹æœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†è®°å½•éšæœºåˆ†é…ç»™æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼Œç¼ºç‚¹æ˜¯ï¼šæ²¡åŠæ³•çŸ¥é“æ•°æ®ä¿å­˜åœ¨å“ªä¸ªèŠ‚ç‚¹ä¸Šï¼Œæ‰€ä»¥è¯»å–æ—¶éœ€è¦æŸ¥è¯¢æ‰€æœ‰èŠ‚ç‚¹ã€‚\nåŸºäºå…³é”®å­—åŒºé—´åˆ†åŒº åŸºäºå…³é”®å­—å“ˆå¸Œå€¼åˆ†åŒº è´Ÿè½½å€¾æ–œä¸ç³»ç»Ÿçƒ­ç‚¹ åˆ†åŒºä¸äºŒçº§ç´¢å¼• äºŒçº§ç´¢å¼•ä¸èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•ï¼Œæ¯”å¦‚æŸ¥è¯¢é¢œè‰²ä¸ºçº¢è‰²çš„æ±½è½¦ã€‚äºŒçº§ç´¢å¼•å¸¦æ¥çš„ä¸»è¦æŒ‘æˆ˜æ˜¯å®ƒä»¬ä¸èƒ½è§„æ•´çš„æ˜ å°„åˆ°åˆ†åŒºä¸­ã€‚\næœ‰ä¸¤ç§æ–¹æ³•æ¥æ”¯æŒå¯¹äºŒçº§ç´¢å¼•è¿›è¡Œåˆ†åŒºï¼š\nåŸºäºæ–‡æ¡£åˆ†åŒºçš„äºŒçº§ç´¢å¼• åŸºäºè¯æ¡çš„äºŒçº§ç´¢å¼•åˆ†åŒº åˆ†åŒºå†å¹³è¡¡ åŠ¨æ€å†å¹³è¡¡ç­–ç•¥ è‡ªåŠ¨ä¸æ‰‹åŠ¨å†å¹³è¡¡æ“ä½œ è¯·æ±‚è·¯ç”± ç­–ç•¥ å®¢æˆ·ç«¯å¯ä»¥è¿æ¥ä»»æ„èŠ‚ç‚¹ï¼Œå¹¶ç”±èŠ‚ç‚¹åšè½¬å‘ä¸åœ¨å½“å‰èŠ‚ç‚¹çš„åˆ†åŒºè¯·æ±‚ã€‚ ç”±è·¯ç”±å±‚æ¥å……å½“åˆ†åŒºæ„ŸçŸ¥çš„è´Ÿè½½å‡è¡¡å™¨ã€‚ å®¢æˆ·ç«¯ç›´æ¥æ„ŸçŸ¥åˆ†åŒºå’ŒèŠ‚ç‚¹åˆ†é…å…³ç³»ï¼Œå®¢æˆ·ç«¯ç›´è¿ç›®æ ‡èŠ‚ç‚¹ã€‚ åšå‡ºè·¯ç”±å†³ç­–çš„ç»„ä»¶ Zookeeper gossip åè®® ","title":"æ•°æ®åˆ†åŒº"},{"content":" syn::Span ä»£ç ä½ç½® ","permalink":"https://notes.0081800.xyz/notes/20210616144616-syn/","summary":" syn::Span ä»£ç ä½ç½® ","title":"syn"},{"content":"å¾ªç¯å±•å¼€ let fields = vec![ syn::Ident::new(\u0026#34;foo\u0026#34;, syn::Span::call_site()), syn::Ident::new(\u0026#34;bar\u0026#34;, syn::Span::call_site()), ]; let token = quote!{ #(#fields),* }; // -\u0026gt; foo,bar ","permalink":"https://notes.0081800.xyz/notes/20210616144334-quote/","summary":"å¾ªç¯å±•å¼€ let fields = vec![ syn::Ident::new(\u0026#34;foo\u0026#34;, syn::Span::call_site()), syn::Ident::new(\u0026#34;bar\u0026#34;, syn::Span::call_site()), ]; let token = quote!{ #(#fields),* }; // -\u0026gt; foo,bar ","title":"quote"},{"content":"å‡†å¤‡ è§£æå®é€šè¿‡ä¸¤ä¸ª crate è¿›è¡Œï¼š\nquote = \u0026ldquo;1.0\u0026rdquo; syn = \u0026ldquo;1.0\u0026rdquo; Derive å±æ€§å® æ¢è®¨ Rust å®ç³»ç»Ÿä¸­å¸¦å±æ€§ï¼ˆAttributesï¼‰çš„ Derive å®çš„å‡ ç§å˜ä½“ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œè§£æã€‚\nå±æ€§å®çš„å˜ä½“ å‡½æ•°è°ƒç”¨\n#[derive(Custom)] struct Demo { #[attr(arg)] a: i8, } å…³é”®å­—å‚æ•°è°ƒç”¨\n#[derive(Custom)] struct Demo { #[args(name = \u0026#34;val\u0026#34;)] b: i8, } ç›´æ¥èµ‹å€¼\n#[derive(Custom)] struct Demo { #[meta = \u0026#34;val\u0026#34;] c: i8, } å‡½æ•°è°ƒç”¨ å…³é”®å­—å‚æ•°è°ƒç”¨ å¯ä»¥ä» Struct è§£æå‡ºå„ä¸ªå­—æ®µï¼Œé€šè¿‡è§£æå„ä¸ªå­—æ®µçš„ attrs å±æ€§ï¼Œå¹¶å¯¹ attrs è¿›è¡Œéå†ï¼Œä½¿ç”¨ attr.parse_args()? å³å¯è§£æå‡ºå¯¹åº”çš„å…³é”®å­—å‚æ•°ï¼Œå’±ä»¬ä»¥å‰é¢çš„ä»£ç ä¸ºä¾‹:\n#[derive(Custom)] struct Demo { #[args(name = \u0026#34;val\u0026#34;)] b: i8, } å¯¹åº”çš„è§£æä»£ç ä¸ºï¼š\nuse proc_macro::TokenStream; use quote::quote; use syn::{self, parse, DeriveInput}; #[proc_macro_derive(Custom, attributes(args))] pub fn derive(input: TokenStream) -\u0026gt; TokenStream { let ast: DeriveInput = parse(input).unwrap(); let name = \u0026amp;ast.ident; let mut debug_fields = vec![]; if let syn::Data::Struct(ds) = ast.data { if let syn::Fields::Named(fields) = ds.fields { for field in fields.named.iter() { let field_name = field.ident.clone().unwrap(); if let Some(attr) = field.attrs.clone().iter().next() { match parse_args_attr_value(\u0026amp;attr) { Ok(v) =\u0026gt; { // TODO }, Err(err) =\u0026gt; return err.to_compile_error().into(), } } } } } let tokens = quote!{ }; tokens.into() } fn parse_args_attr_value(attr: \u0026amp;syn::Attribute) -\u0026gt; Result\u0026lt;Option\u0026lt;syn::LitStr\u0026gt;, syn::Error\u0026gt; { if let Some(seg) = attr.path.segments.first() { if seg.ident == \u0026#34;args\u0026#34; { let args = attr.parse_args()?; if let syn::Meta::NameValue(values) = args { let arg_name = \u0026amp;values.path.segments.first().unwrap().ident; if arg_name == \u0026#34;name\u0026#34; { if let syn::Lit::Str(name) = values.lit { return Ok(Some(name)); } } else { return Err(syn::Error::new(attr.bracket_token.span, \u0026#34;expected `args(name = \\\u0026#34;...\\\u0026#34;)`\u0026#34;.to_owned())); } } } } return Ok(None) } ç›´æ¥èµ‹å€¼ ç›´æ¥èµ‹å€¼ç±»ä¼¼äºä¸Šé¢çš„å…³é”®å­—è§£æè°ƒç”¨ï¼Œä½†æ˜¯å¯¹åº”çš„ attr.parse_args éœ€è¦æ›¿æ¢ä¸º attr.parse_meta ï¼Œæ¯”å¦‚è§£æï¼š\n#[derive(Custom)] struct Demo { #[meta = \u0026#34;val\u0026#34;] c: i8, } å¯¹åº”çš„ä»£ç å¦‚ä¸‹\nuse proc_macro::TokenStream; use quote::quote; use syn::{self, parse, DeriveInput}; #[proc_macro_derive(Custom, attributes(args))] pub fn derive(input: TokenStream) -\u0026gt; TokenStream { let ast: DeriveInput = parse(input).unwrap(); let name = \u0026amp;ast.ident; let mut debug_fields = vec![]; if let syn::Data::Struct(ds) = ast.data { if let syn::Fields::Named(fields) = ds.fields { for field in fields.named.iter() { let field_name = field.ident.clone().unwrap(); if let Some(attr) = field.attrs.clone().iter().next() { match parse_meta_attr_value(\u0026amp;attr) { Ok(v) =\u0026gt; { // TODO }, Err(err) =\u0026gt; return err.to_compile_error().into(), } } } } } let tokens = quote!{ }; tokens.into() } fn parse_meta_attr_value(attr: \u0026amp;syn::Attribute) -\u0026gt; Result\u0026lt;Option\u0026lt;syn::LitStr\u0026gt;, syn::Error\u0026gt; { if let Some(seg) = attr.path.segments.first() { if seg.ident == \u0026#34;meta\u0026#34; { let args = attr.parse_meta()?; if let syn::Meta::NameValue(values) = args { let arg_name = \u0026amp;values.path.segments.first().unwrap().ident; if arg_name == \u0026#34;meta\u0026#34; { if let syn::Lit::Str(name) = values.lit { return Ok(Some(name)); } } else { return Err(syn::Error::new(attr.bracket_token.span, \u0026#34;expected `meta = \\\u0026#34;...\\\u0026#34;`\u0026#34;.to_owned())); } } } } return Ok(None) } ","permalink":"https://notes.0081800.xyz/notes/20210616141500-rust_%E5%B1%9E%E6%80%A7%E5%AE%8F%E8%A7%A3%E6%9E%90/","summary":"å‡†å¤‡ è§£æå®é€šè¿‡ä¸¤ä¸ª crate è¿›è¡Œï¼š\nquote = \u0026ldquo;1.0\u0026rdquo; syn = \u0026ldquo;1.0\u0026rdquo; Derive å±æ€§å® æ¢è®¨ Rust å®ç³»ç»Ÿä¸­å¸¦å±æ€§ï¼ˆAttributesï¼‰çš„ Derive å®çš„å‡ ç§å˜ä½“ï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œè§£æã€‚\nå±æ€§å®çš„å˜ä½“ å‡½æ•°è°ƒç”¨\n#[derive(Custom)] struct Demo { #[attr(arg)] a: i8, } å…³é”®å­—å‚æ•°è°ƒç”¨\n#[derive(Custom)] struct Demo { #[args(name = \u0026#34;val\u0026#34;)] b: i8, } ç›´æ¥èµ‹å€¼\n#[derive(Custom)] struct Demo { #[meta = \u0026#34;val\u0026#34;] c: i8, } å‡½æ•°è°ƒç”¨ å…³é”®å­—å‚æ•°è°ƒç”¨ å¯ä»¥ä» Struct è§£æå‡ºå„ä¸ªå­—æ®µï¼Œé€šè¿‡è§£æå„ä¸ªå­—æ®µçš„ attrs å±æ€§ï¼Œå¹¶å¯¹ attrs è¿›è¡Œéå†ï¼Œä½¿ç”¨ attr.parse_args()? å³å¯è§£æå‡ºå¯¹åº”çš„å…³é”®å­—å‚æ•°ï¼Œå’±ä»¬ä»¥å‰é¢çš„ä»£ç ä¸ºä¾‹:\n#[derive(Custom)] struct Demo { #[args(name = \u0026#34;val\u0026#34;)] b: i8, } å¯¹åº”çš„è§£æä»£ç ä¸ºï¼š","title":"Rust å±æ€§å®è§£æ"},{"content":"ç¡®å®šå‰åå…³ç³» æœåŠ¡å™¨ä¸ºæ¯ä¸ªä¸»é”®ç»´æŠ¤ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯å½“ä¸»é”®æ–°å€¼å†™å…¥æ—¶é€’å¢ç‰ˆæœ¬å·ï¼Œå¹¶å°†æ–°ç‰ˆæœ¬å·ä¸å†™å…¥å€¼ä¸€èµ·ä¿å­˜ã€‚ å½“å®¢æˆ·ç«¯è¯»å–ä¸»é”®æ—¶ï¼ŒæœåŠ¡å™¨å°†è¿”å›æ‰€æœ‰ï¼ˆæœªè¢«è¦†ç›–çš„ï¼‰å½“å‰å€¼ä»¥åŠæœ€æ–°çš„ç‰ˆæœ¬å·ã€‚ä¸”è¦æ±‚å†™å…¥ä¹‹å‰ï¼Œå®¢æˆ·ç«¯å¿…é¡»å…ˆå‘é€è¯»è¯·æ±‚ã€‚ å®¢æˆ·ç«¯å†™ä¸»é”®ï¼Œå†™è¯·æ±‚å¿…é¡»åŒ…å«ä¹‹å‰è¯»åˆ°çš„ç‰ˆæœ¬å·ï¼Œè¯»åˆ°çš„å€¼å’Œæ–°å€¼åˆå¹¶åçš„é›†åˆã€‚å†™è¯·æ±‚çš„å“åº”å¯ä»¥åƒè¯»æ“ä½œä¸€æ ·ï¼Œä¼šè¿”å›æ‰€æœ‰å½“å‰å€¼ï¼Œè¿™æ ·å¯ä»¥ä¸€æ­¥æ­¥é“¾æ¥èµ·å¤šä¸ªå†™å…¥çš„å€¼ã€‚ å½“æœåŠ¡å™¨æ”¶åˆ°å¸¦æœ‰ç‰¹å®šç‰ˆæœ¬å·çš„å†™å…¥æ—¶ï¼Œè¦†ç›–è¯¥ç‰ˆæœ¬å·æˆ–è€…æ›´ä½ç‰ˆæœ¬çš„æ‰€æœ‰å€¼ï¼Œä½†å¿…é¡»ä¿å­˜æ›´é«˜ç‰ˆæœ¬å·æ‰€æœ‰å€¼ã€‚ å½“å†™è¯·æ±‚åŒ…å«äº†å‰ä¸€æ¬¡è¯»å–çš„ç‰ˆæœ¬å·æ—¶ï¼Œæ„å‘³ç€ä¿®æ”¹æ—¶åŸºäºä»¥å‰çš„çŠ¶æ€ã€‚å¦åˆ™å®ƒå°†ä¸æ‰€æœ‰çš„å…¶ä»–å†™å…¥åŒæ—¶è¿›è¡Œï¼Œä¸ä¼šè¦†ç›–ä»»ä½•å·²æœ‰å€¼ï¼Œå…¶ä¼ å…¥çš„å€¼å°†åŒ…å«åœ¨åç»­è¯»è¯·æ±‚çš„è¿”å›å€¼åˆ—è¡¨ä¸­ã€‚\nåˆå¹¶åŒæ—¶å†™å…¥çš„å€¼ ä¸Šé¢ç®—æ³•ä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯å®¢æˆ·ç«¯éœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼šå¦‚æœå¤šä¸ªæ“ä½œå¹¶å‘å‘ç”Ÿï¼Œåˆ™å®¢æˆ·ç«¯å¿…é¡»é€šè¿‡åˆå¹¶å¹¶å‘å†™å…¥çš„å€¼æ¥ç»§æ‰¿æ—§å€¼ã€‚åŒæ—¶åˆ é™¤éœ€è¦ç‰¹æ®Šçš„å¢“ç¢‘æ ‡è®°ï¼Œé˜²æ­¢è¢«åˆå¹¶å›å»ã€‚\nç‰ˆæœ¬çŸ¢é‡ æ¯ä¸ªå‰¯æœ¬å’Œæ¯ä¸ªä¸»é”®å‡å®šä¹‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯ä¸ªå‰¯æœ¬åœ¨å¤„ç†æ—¶å¢åŠ è‡ªå·±çš„ç‰ˆæœ¬å·ï¼Œå¹¶è·Ÿè¸ªä»å…¶ä»–å‰¯æœ¬çœ‹åˆ°çš„ç‰ˆæœ¬å·ã€‚é€šè¿‡è¿™äº›ä¿¡æ¯æ¥æŒ‡ç¤ºè¦è¦†ç›–é‚£äº›å€¼ï¼Œè¯¥ä¿ç•™é‚£äº›å¹¶å‘å€¼ã€‚\næ‰€æœ‰çš„ç‰ˆæœ¬å·é›†åˆç§°ä¸ºç‰ˆæœ¬çŸ¢é‡ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615215426-happens_before_%E5%85%B3%E7%B3%BB%E5%92%8C%E5%B9%B6%E5%8F%91/","summary":"ç¡®å®šå‰åå…³ç³» æœåŠ¡å™¨ä¸ºæ¯ä¸ªä¸»é”®ç»´æŠ¤ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯å½“ä¸»é”®æ–°å€¼å†™å…¥æ—¶é€’å¢ç‰ˆæœ¬å·ï¼Œå¹¶å°†æ–°ç‰ˆæœ¬å·ä¸å†™å…¥å€¼ä¸€èµ·ä¿å­˜ã€‚ å½“å®¢æˆ·ç«¯è¯»å–ä¸»é”®æ—¶ï¼ŒæœåŠ¡å™¨å°†è¿”å›æ‰€æœ‰ï¼ˆæœªè¢«è¦†ç›–çš„ï¼‰å½“å‰å€¼ä»¥åŠæœ€æ–°çš„ç‰ˆæœ¬å·ã€‚ä¸”è¦æ±‚å†™å…¥ä¹‹å‰ï¼Œå®¢æˆ·ç«¯å¿…é¡»å…ˆå‘é€è¯»è¯·æ±‚ã€‚ å®¢æˆ·ç«¯å†™ä¸»é”®ï¼Œå†™è¯·æ±‚å¿…é¡»åŒ…å«ä¹‹å‰è¯»åˆ°çš„ç‰ˆæœ¬å·ï¼Œè¯»åˆ°çš„å€¼å’Œæ–°å€¼åˆå¹¶åçš„é›†åˆã€‚å†™è¯·æ±‚çš„å“åº”å¯ä»¥åƒè¯»æ“ä½œä¸€æ ·ï¼Œä¼šè¿”å›æ‰€æœ‰å½“å‰å€¼ï¼Œè¿™æ ·å¯ä»¥ä¸€æ­¥æ­¥é“¾æ¥èµ·å¤šä¸ªå†™å…¥çš„å€¼ã€‚ å½“æœåŠ¡å™¨æ”¶åˆ°å¸¦æœ‰ç‰¹å®šç‰ˆæœ¬å·çš„å†™å…¥æ—¶ï¼Œè¦†ç›–è¯¥ç‰ˆæœ¬å·æˆ–è€…æ›´ä½ç‰ˆæœ¬çš„æ‰€æœ‰å€¼ï¼Œä½†å¿…é¡»ä¿å­˜æ›´é«˜ç‰ˆæœ¬å·æ‰€æœ‰å€¼ã€‚ å½“å†™è¯·æ±‚åŒ…å«äº†å‰ä¸€æ¬¡è¯»å–çš„ç‰ˆæœ¬å·æ—¶ï¼Œæ„å‘³ç€ä¿®æ”¹æ—¶åŸºäºä»¥å‰çš„çŠ¶æ€ã€‚å¦åˆ™å®ƒå°†ä¸æ‰€æœ‰çš„å…¶ä»–å†™å…¥åŒæ—¶è¿›è¡Œï¼Œä¸ä¼šè¦†ç›–ä»»ä½•å·²æœ‰å€¼ï¼Œå…¶ä¼ å…¥çš„å€¼å°†åŒ…å«åœ¨åç»­è¯»è¯·æ±‚çš„è¿”å›å€¼åˆ—è¡¨ä¸­ã€‚\nåˆå¹¶åŒæ—¶å†™å…¥çš„å€¼ ä¸Šé¢ç®—æ³•ä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œä½†æ˜¯å®¢æˆ·ç«¯éœ€è¦åšä¸€äº›é¢å¤–çš„å·¥ä½œï¼šå¦‚æœå¤šä¸ªæ“ä½œå¹¶å‘å‘ç”Ÿï¼Œåˆ™å®¢æˆ·ç«¯å¿…é¡»é€šè¿‡åˆå¹¶å¹¶å‘å†™å…¥çš„å€¼æ¥ç»§æ‰¿æ—§å€¼ã€‚åŒæ—¶åˆ é™¤éœ€è¦ç‰¹æ®Šçš„å¢“ç¢‘æ ‡è®°ï¼Œé˜²æ­¢è¢«åˆå¹¶å›å»ã€‚\nç‰ˆæœ¬çŸ¢é‡ æ¯ä¸ªå‰¯æœ¬å’Œæ¯ä¸ªä¸»é”®å‡å®šä¹‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œæ¯ä¸ªå‰¯æœ¬åœ¨å¤„ç†æ—¶å¢åŠ è‡ªå·±çš„ç‰ˆæœ¬å·ï¼Œå¹¶è·Ÿè¸ªä»å…¶ä»–å‰¯æœ¬çœ‹åˆ°çš„ç‰ˆæœ¬å·ã€‚é€šè¿‡è¿™äº›ä¿¡æ¯æ¥æŒ‡ç¤ºè¦è¦†ç›–é‚£äº›å€¼ï¼Œè¯¥ä¿ç•™é‚£äº›å¹¶å‘å€¼ã€‚\næ‰€æœ‰çš„ç‰ˆæœ¬å·é›†åˆç§°ä¸ºç‰ˆæœ¬çŸ¢é‡ã€‚","title":"Happens-before å…³ç³»å’Œå¹¶å‘"},{"content":"LWWï¼šæœ€åå†™å…¥è€…è·èƒœ Happens-before å…³ç³»å’Œå¹¶å‘ ","permalink":"https://notes.0081800.xyz/notes/20210615213433-%E6%A3%80%E6%B5%8B%E5%B9%B6%E5%8F%91%E5%86%99/","summary":"LWWï¼šæœ€åå†™å…¥è€…è·èƒœ Happens-before å…³ç³»å’Œå¹¶å‘ ","title":"æ£€æµ‹å¹¶å‘å†™"},{"content":"å½“èŠ‚ç‚¹ä¸èƒ½æ»¡è¶³ \\(w + r \u0026gt; n\\) æ—¶å°†å†™è¯·æ±‚æš‚æ—¶å†™å…¥ä¸€äº›å¯è®¿é—®çš„ä¸´æ—¶èŠ‚ç‚¹ä¸­ï¼Œä¸€æ—¦ç½‘ç»œé—®é¢˜å¾—åˆ°äº¤æ¥ï¼Œä¸´æ—¶èŠ‚ç‚¹éœ€è¦æŠŠæ¥æ”¶çš„å†™å…¥å…¨éƒ¨å‘é€åˆ°åŸå§‹ä¸»èŠ‚ç‚¹ä¸Šã€‚è¿™å°±æ˜¯æ‰€è°“çš„æ•°æ®å›ä¼ ï¼ˆæˆ–è€…æš—ç¤ºç§»äº¤ï¼‰ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615212500-sloppy_quorum/","summary":"å½“èŠ‚ç‚¹ä¸èƒ½æ»¡è¶³ \\(w + r \u0026gt; n\\) æ—¶å°†å†™è¯·æ±‚æš‚æ—¶å†™å…¥ä¸€äº›å¯è®¿é—®çš„ä¸´æ—¶èŠ‚ç‚¹ä¸­ï¼Œä¸€æ—¦ç½‘ç»œé—®é¢˜å¾—åˆ°äº¤æ¥ï¼Œä¸´æ—¶èŠ‚ç‚¹éœ€è¦æŠŠæ¥æ”¶çš„å†™å…¥å…¨éƒ¨å‘é€åˆ°åŸå§‹ä¸»èŠ‚ç‚¹ä¸Šã€‚è¿™å°±æ˜¯æ‰€è°“çš„æ•°æ®å›ä¼ ï¼ˆæˆ–è€…æš—ç¤ºç§»äº¤ï¼‰ã€‚","title":"sloppy quorum"},{"content":" tags: ä¸€è‡´æ€§ ç¡®å®šè¯»å†™æˆåŠŸ ç¡®å®šè¯»å†™èŠ‚ç‚¹åœ¨å¤šå°‘èŠ‚ç‚¹æˆåŠŸæ‰å¯ä»¥è®¤ä¸ºå†™å…¥æˆåŠŸï¼šéœ€è¦ä¿è¯è¯»å–æ—¶è‡³å°‘ä¸€ä¸ªåŒ…å«æ–°å€¼ã€‚\nn ä¸ªå‰¯æœ¬çš„æƒ…å†µä¸‹ï¼Œå†™å…¥éœ€è¦ \\(w\\) ä¸ªèŠ‚ç‚¹ç¡®è®¤ï¼Œè¯»å–å¿…é¡»è‡³å°‘æŸ¥è¯¢ \\(r\\) ä¸ªèŠ‚ç‚¹ï¼Œåˆ™åªè¦ \\(w + r \u0026gt; n\\) ï¼Œè¯»å–çš„èŠ‚ç‚¹ä¸­ä¸€å®šä¼šåŒ…å«æœ€æ–°å€¼ã€‚\n\\(w\\) ä»²è£å†™ï¼ˆæ³•å®šç¥¨æ•°å†™ï¼‰ \\(r\\) ä»²è£è¯»ï¼ˆæ³•å®šç¥¨è¯´è¯»ï¼‰ ä¸€èˆ¬ \\(n\\) è®¾ç½®ä¸ºå¥‡æ•°ï¼š \\(w=r=(n+1)/2\\) ï¼ˆå‘ä¸Šå–æ•´ï¼‰ã€‚\nå¯å®¹å¿çš„å¤±æ•ˆèŠ‚ç‚¹æ•° ä»²è£æ¡ä»¶ \\(w+r\u0026gt;n\\) å®šä¹‰äº†ç³»ç»Ÿå¯å®¹å¿çš„å¤±æ•ˆèŠ‚ç‚¹æ•°ã€‚\n\\(w\u0026lt;n\\) ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œä»ç„¶å¯ä»¥å¤„ç†å†™å…¥ã€‚ \\(r\u0026lt;n\\) ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œä»ç„¶å¯ä»¥å¤„ç†è¯»å–ã€‚ \\(n=3\\),\\(w=2\\),\\(r=2\\)ï¼Œåˆ™å¯ä»¥å®¹å¿ä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ \\(n=5\\),\\(w=3\\),\\(r=3\\), åˆ™å¯ä»¥å®¹å¿ä¸¤ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ å±€é™æ€§ å¦‚æœé‡‡ç”¨äº† sloppy quorumï¼Œå†™æ“ä½œçš„ w èŠ‚ç‚¹å’Œè¯»å–çš„ r èŠ‚ç‚¹å¯èƒ½å®Œå…¨ä¸åŒï¼Œå› æ­¤æ— æ³•ä¿è¯å†™è¯·æ±‚ä¸€å®šå­˜åœ¨é‡å çš„èŠ‚ç‚¹ã€‚ å¹¶å‘æ— æ³•æ˜ç¡®é¡ºåºï¼Œéœ€è¦è¿›è¡Œåˆå¹¶å¹¶å‘å†™å…¥ã€‚å¦‚æœ€åå†™å…¥è€…è·èƒœã€‚ åŒæ—¶è¯»å†™ï¼Œå†™æ“ä½œåœ¨ä¸€éƒ¨åˆ†èŠ‚ç‚¹ä¸Šå®Œæˆï¼Œåˆ™è¯»å–æ–°å€¼è¿˜æ˜¯æ—§å€¼å­˜åœ¨ä¸ç¡®å®šæ€§ã€‚ éƒ¨åˆ†èŠ‚ç‚¹å†™å…¥æˆåŠŸï¼Œä½†æ˜¯æœ€ç»ˆå†™å…¥å¤±è´¥æ— æ³•å›æ»šã€‚ æ–°å€¼çš„èŠ‚ç‚¹å¤±æ•ˆï¼Œä½†æ¢å¤æ•°æ®æ¥è‡ªæŸä¸ªæ—§å€¼ï¼Œåˆ™æ€»çš„æ–°å€¼èŠ‚ç‚¹æ•°ä½äº w è¾¹ç•Œæƒ…å†µ ","permalink":"https://notes.0081800.xyz/notes/20210615211745-quorum_%E4%B8%80%E8%87%B4%E6%80%A7/","summary":" tags: ä¸€è‡´æ€§ ç¡®å®šè¯»å†™æˆåŠŸ ç¡®å®šè¯»å†™èŠ‚ç‚¹åœ¨å¤šå°‘èŠ‚ç‚¹æˆåŠŸæ‰å¯ä»¥è®¤ä¸ºå†™å…¥æˆåŠŸï¼šéœ€è¦ä¿è¯è¯»å–æ—¶è‡³å°‘ä¸€ä¸ªåŒ…å«æ–°å€¼ã€‚\nn ä¸ªå‰¯æœ¬çš„æƒ…å†µä¸‹ï¼Œå†™å…¥éœ€è¦ \\(w\\) ä¸ªèŠ‚ç‚¹ç¡®è®¤ï¼Œè¯»å–å¿…é¡»è‡³å°‘æŸ¥è¯¢ \\(r\\) ä¸ªèŠ‚ç‚¹ï¼Œåˆ™åªè¦ \\(w + r \u0026gt; n\\) ï¼Œè¯»å–çš„èŠ‚ç‚¹ä¸­ä¸€å®šä¼šåŒ…å«æœ€æ–°å€¼ã€‚\n\\(w\\) ä»²è£å†™ï¼ˆæ³•å®šç¥¨æ•°å†™ï¼‰ \\(r\\) ä»²è£è¯»ï¼ˆæ³•å®šç¥¨è¯´è¯»ï¼‰ ä¸€èˆ¬ \\(n\\) è®¾ç½®ä¸ºå¥‡æ•°ï¼š \\(w=r=(n+1)/2\\) ï¼ˆå‘ä¸Šå–æ•´ï¼‰ã€‚\nå¯å®¹å¿çš„å¤±æ•ˆèŠ‚ç‚¹æ•° ä»²è£æ¡ä»¶ \\(w+r\u0026gt;n\\) å®šä¹‰äº†ç³»ç»Ÿå¯å®¹å¿çš„å¤±æ•ˆèŠ‚ç‚¹æ•°ã€‚\n\\(w\u0026lt;n\\) ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œä»ç„¶å¯ä»¥å¤„ç†å†™å…¥ã€‚ \\(r\u0026lt;n\\) ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œä»ç„¶å¯ä»¥å¤„ç†è¯»å–ã€‚ \\(n=3\\),\\(w=2\\),\\(r=2\\)ï¼Œåˆ™å¯ä»¥å®¹å¿ä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ \\(n=5\\),\\(w=3\\),\\(r=3\\), åˆ™å¯ä»¥å®¹å¿ä¸¤ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ å±€é™æ€§ å¦‚æœé‡‡ç”¨äº† sloppy quorumï¼Œå†™æ“ä½œçš„ w èŠ‚ç‚¹å’Œè¯»å–çš„ r èŠ‚ç‚¹å¯èƒ½å®Œå…¨ä¸åŒï¼Œå› æ­¤æ— æ³•ä¿è¯å†™è¯·æ±‚ä¸€å®šå­˜åœ¨é‡å çš„èŠ‚ç‚¹ã€‚ å¹¶å‘æ— æ³•æ˜ç¡®é¡ºåºï¼Œéœ€è¦è¿›è¡Œåˆå¹¶å¹¶å‘å†™å…¥ã€‚å¦‚æœ€åå†™å…¥è€…è·èƒœã€‚ åŒæ—¶è¯»å†™ï¼Œå†™æ“ä½œåœ¨ä¸€éƒ¨åˆ†èŠ‚ç‚¹ä¸Šå®Œæˆï¼Œåˆ™è¯»å–æ–°å€¼è¿˜æ˜¯æ—§å€¼å­˜åœ¨ä¸ç¡®å®šæ€§ã€‚ éƒ¨åˆ†èŠ‚ç‚¹å†™å…¥æˆåŠŸï¼Œä½†æ˜¯æœ€ç»ˆå†™å…¥å¤±è´¥æ— æ³•å›æ»šã€‚ æ–°å€¼çš„èŠ‚ç‚¹å¤±æ•ˆï¼Œä½†æ¢å¤æ•°æ®æ¥è‡ªæŸä¸ªæ—§å€¼ï¼Œåˆ™æ€»çš„æ–°å€¼èŠ‚ç‚¹æ•°ä½äº w è¾¹ç•Œæƒ…å†µ ","title":"Quorum ä¸€è‡´æ€§"},{"content":"æ²¡æœ‰ä¸»èŠ‚ç‚¹ï¼Œå…è®¸ä»»ä½•èŠ‚ç‚¹æ¥å—æ¥è‡ªå®¢æˆ·ç«¯çš„å†™è¯·æ±‚ã€‚\nå®ç°æ–¹å¼ å®¢æˆ·ç«¯ç›´æ¥å°†å…¶å†™è¯·æ±‚å‘é€åˆ°å¤šèŠ‚ç‚¹ ä¸€ä¸ªåè°ƒè€…ä»£è¡¨å®¢æˆ·ç«¯è¿›è¡Œå†™å…¥ï¼Œä¸ä¸»èŠ‚ç‚¹çš„æ•°æ®åº“ä¸åŒï¼Œåè°ƒè€…å¹¶ä¸è´Ÿè´£å†™å…¥é¡ºåºçš„ç»´æŠ¤ã€‚ èŠ‚ç‚¹å¤±æ•ˆæ—¶å†™å…¥æ•°æ®åº“ å®¢æˆ·ç«¯å°†å†™è¯·æ±‚å¹¶è¡Œå‘é€ç»™ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªå¯ç”¨èŠ‚ç‚¹æ¥å—å†™è¯·æ±‚ï¼Œè€Œä¸å¯ç”¨å‰¯æœ¬åˆ™æ— æ³•å¤„ç†è¯¥è¯·æ±‚ã€‚\nç°åœ¨å¤±æ•ˆçš„èŠ‚ç‚¹é‡æ–°ä¸Šçº¿ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šè¯»å–åˆ°æ—§çš„å€¼ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å®¢æˆ·ç«¯å¹¶è¡Œçš„å‘å¤šä¸ªèŠ‚ç‚¹å‘é€è¯»è¯·æ±‚ï¼Œå¹¶é€šè¿‡ç‰ˆæœ¬å·æ¥ç¡®å®šå“ªä¸ªå€¼æ›´æ–°ã€‚\nè¯»ä¿®å¤ä¸åç†µ è¯»ä¿®å¤ï¼›å®¢æˆ·ç«¯å¹¶è¡Œè¯»å–å¤šä¸ªèŠ‚ç‚¹ï¼Œæ£€æµ‹åˆ°è¿‡æœŸçš„è¿”å›å€¼ï¼Œç„¶åç”¨æ–°çš„è¿”å›å€¼å†™å…¥åˆ°è¿”å›æ—§å€¼çš„å‰¯æœ¬ã€‚ åç†µè¿‡ç¨‹ï¼šåå°ä¸æ–­æŸ¥æ‰¾å‰¯æœ¬ä¹‹é—´çš„å·®å¼‚ï¼Œå°†ä»»ä½•ç¼ºå°‘çš„æ•°æ®ä»ä¸€ä¸ªèŠ‚ç‚¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸ä¿è¯ç‰¹å®šé¡ºåºçš„å¤åˆ¶å†™å…¥ï¼Œå¹¶ä¸”ä¼šå¼•å…¥æ˜æ˜¾çš„å¤åˆ¶æ»åé—®é¢˜ã€‚ Quorum ä¸€è‡´æ€§ æ£€æµ‹å¹¶å‘å†™ ","permalink":"https://notes.0081800.xyz/notes/20210615210219-%E6%97%A0%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%8D%E5%88%B6/","summary":"æ²¡æœ‰ä¸»èŠ‚ç‚¹ï¼Œå…è®¸ä»»ä½•èŠ‚ç‚¹æ¥å—æ¥è‡ªå®¢æˆ·ç«¯çš„å†™è¯·æ±‚ã€‚\nå®ç°æ–¹å¼ å®¢æˆ·ç«¯ç›´æ¥å°†å…¶å†™è¯·æ±‚å‘é€åˆ°å¤šèŠ‚ç‚¹ ä¸€ä¸ªåè°ƒè€…ä»£è¡¨å®¢æˆ·ç«¯è¿›è¡Œå†™å…¥ï¼Œä¸ä¸»èŠ‚ç‚¹çš„æ•°æ®åº“ä¸åŒï¼Œåè°ƒè€…å¹¶ä¸è´Ÿè´£å†™å…¥é¡ºåºçš„ç»´æŠ¤ã€‚ èŠ‚ç‚¹å¤±æ•ˆæ—¶å†™å…¥æ•°æ®åº“ å®¢æˆ·ç«¯å°†å†™è¯·æ±‚å¹¶è¡Œå‘é€ç»™ä¸‰ä¸ªèŠ‚ç‚¹ï¼Œä¸¤ä¸ªå¯ç”¨èŠ‚ç‚¹æ¥å—å†™è¯·æ±‚ï¼Œè€Œä¸å¯ç”¨å‰¯æœ¬åˆ™æ— æ³•å¤„ç†è¯¥è¯·æ±‚ã€‚\nç°åœ¨å¤±æ•ˆçš„èŠ‚ç‚¹é‡æ–°ä¸Šçº¿ï¼Œå®¢æˆ·ç«¯å¯èƒ½ä¼šè¯»å–åˆ°æ—§çš„å€¼ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å®¢æˆ·ç«¯å¹¶è¡Œçš„å‘å¤šä¸ªèŠ‚ç‚¹å‘é€è¯»è¯·æ±‚ï¼Œå¹¶é€šè¿‡ç‰ˆæœ¬å·æ¥ç¡®å®šå“ªä¸ªå€¼æ›´æ–°ã€‚\nè¯»ä¿®å¤ä¸åç†µ è¯»ä¿®å¤ï¼›å®¢æˆ·ç«¯å¹¶è¡Œè¯»å–å¤šä¸ªèŠ‚ç‚¹ï¼Œæ£€æµ‹åˆ°è¿‡æœŸçš„è¿”å›å€¼ï¼Œç„¶åç”¨æ–°çš„è¿”å›å€¼å†™å…¥åˆ°è¿”å›æ—§å€¼çš„å‰¯æœ¬ã€‚ åç†µè¿‡ç¨‹ï¼šåå°ä¸æ–­æŸ¥æ‰¾å‰¯æœ¬ä¹‹é—´çš„å·®å¼‚ï¼Œå°†ä»»ä½•ç¼ºå°‘çš„æ•°æ®ä»ä¸€ä¸ªèŠ‚ç‚¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸ä¿è¯ç‰¹å®šé¡ºåºçš„å¤åˆ¶å†™å…¥ï¼Œå¹¶ä¸”ä¼šå¼•å…¥æ˜æ˜¾çš„å¤åˆ¶æ»åé—®é¢˜ã€‚ Quorum ä¸€è‡´æ€§ æ£€æµ‹å¹¶å‘å†™ ","title":"æ— ä¸»èŠ‚ç‚¹å¤åˆ¶"},{"content":"æœ€å¸¸è§çš„æ‹“æ‰‘ç»“æ„ï¼Œæä¾›æ›´å¥½çš„å®¹é”™ã€‚æ¯ä¸ªèŠ‚ç‚¹ä»å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹åŒæ­¥å†™å…¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615084309-%E5%85%A8%E9%83%A8_%E8%87%B3_%E5%85%A8%E9%83%A8%E5%9E%8B%E6%8B%93%E6%89%91/","summary":"æœ€å¸¸è§çš„æ‹“æ‰‘ç»“æ„ï¼Œæä¾›æ›´å¥½çš„å®¹é”™ã€‚æ¯ä¸ªèŠ‚ç‚¹ä»å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹åŒæ­¥å†™å…¥ã€‚","title":"å…¨éƒ¨-è‡³-å…¨éƒ¨å‹æ‹“æ‰‘"},{"content":"é€šè¿‡æŒ‡å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ ¹ç»“ç‚¹å°†æ‰€æœ‰çš„å†™æ“ä½œè½¬å‘ç»™å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615084143-%E6%98%9F%E5%9E%8B%E6%8B%93%E6%89%91/","summary":"é€šè¿‡æŒ‡å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ ¹ç»“ç‚¹å°†æ‰€æœ‰çš„å†™æ“ä½œè½¬å‘ç»™å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹ã€‚","title":"æ˜Ÿå‹æ‹“æ‰‘"},{"content":"æ¯ä¸ªèŠ‚ç‚¹æ¥æ”¶æ¥è‡ªå‰åºèŠ‚ç‚¹çš„å†™å…¥ï¼Œå¹¶å°†è¿™äº›å†™å…¥ï¼ˆåŠ ä¸Šå­—èŠ‚çš„å†™å…¥ï¼‰è½¬å‘åååºèŠ‚ç‚¹ã€‚åŒæ—¶é€šè¿‡å”¯ä¸€ ID é˜²æ­¢æ— é™å¾ªç¯ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615084010-%E7%8E%AF%E5%BD%A2%E6%8B%93%E6%89%91/","summary":"æ¯ä¸ªèŠ‚ç‚¹æ¥æ”¶æ¥è‡ªå‰åºèŠ‚ç‚¹çš„å†™å…¥ï¼Œå¹¶å°†è¿™äº›å†™å…¥ï¼ˆåŠ ä¸Šå­—èŠ‚çš„å†™å…¥ï¼‰è½¬å‘åååºèŠ‚ç‚¹ã€‚åŒæ—¶é€šè¿‡å”¯ä¸€ ID é˜²æ­¢æ— é™å¾ªç¯ã€‚","title":"ç¯å½¢æ‹“æ‰‘"},{"content":"æ¯ä¸ªå‰¯æœ¬æ€»æ˜¯ä¿å­˜æœ€æ–°å€¼ï¼Œå…è®¸è¦†ç›–å¹¶ä¸¢å¼ƒæ—§å€¼ã€‚å‡å®šæ¯ä¸ªå†™è¯·æ±‚éƒ½æœ€ç»ˆåŒæ­¥åˆ°æ‰€æœ‰å‰¯æœ¬ï¼Œåªè¦æˆ‘ä»¬æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ–¹æ³•æ¥ç¡®å®šå“ªä¸ªå†™å…¥æ—¶æœ€æ–°çš„ï¼Œåˆ™å‰¯æœ¬å¯ä»¥æœ€ç»ˆæ”¶æ•›åˆ°ç›¸åŒçš„å€¼ã€‚\né€šè¿‡æ¯ä¸ªè¯·æ±‚é™„åŠ ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œé€‰æ‹©æœ€æ–°å³æœ€å¤§çš„æ—¶é—´æˆ³ï¼Œä¸¢å¼ƒè¾ƒæ—©çš„å†™å…¥ã€‚åˆ™ä¸ºæœ€åå†™å…¥ç€è·èƒœï¼ˆlast write winsï¼ŒLWWï¼‰ã€‚\nç¼ºç‚¹ ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚\né€‚ç”¨åœºæ™¯ ç¼“å­˜ç³»ç»Ÿã€‚ ç¡®ä¿å®‰å…¨æ— å‰¯ä½œç”¨ å”¯ä¸€æ–¹æ³•æ˜¯åªå†™å…¥ä¸€æ¬¡ç„¶åå†™å…¥å€¼è§†ä¸ºä¸å¯å˜ï¼Œè¿™æ ·æ—§é¿å…å¯¹åŒä¸€ä¸ªä¸»é”®çš„å¹¶å‘ï¼ˆè¦†ç›–ï¼‰å†™ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615083500-%E6%9C%80%E5%90%8E%E5%86%99%E5%85%A5%E8%80%85%E8%8E%B7%E8%83%9C/","summary":"æ¯ä¸ªå‰¯æœ¬æ€»æ˜¯ä¿å­˜æœ€æ–°å€¼ï¼Œå…è®¸è¦†ç›–å¹¶ä¸¢å¼ƒæ—§å€¼ã€‚å‡å®šæ¯ä¸ªå†™è¯·æ±‚éƒ½æœ€ç»ˆåŒæ­¥åˆ°æ‰€æœ‰å‰¯æœ¬ï¼Œåªè¦æˆ‘ä»¬æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ–¹æ³•æ¥ç¡®å®šå“ªä¸ªå†™å…¥æ—¶æœ€æ–°çš„ï¼Œåˆ™å‰¯æœ¬å¯ä»¥æœ€ç»ˆæ”¶æ•›åˆ°ç›¸åŒçš„å€¼ã€‚\né€šè¿‡æ¯ä¸ªè¯·æ±‚é™„åŠ ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œé€‰æ‹©æœ€æ–°å³æœ€å¤§çš„æ—¶é—´æˆ³ï¼Œä¸¢å¼ƒè¾ƒæ—©çš„å†™å…¥ã€‚åˆ™ä¸ºæœ€åå†™å…¥ç€è·èƒœï¼ˆlast write winsï¼ŒLWWï¼‰ã€‚\nç¼ºç‚¹ ä¼šé€ æˆæ•°æ®ä¸¢å¤±ã€‚\né€‚ç”¨åœºæ™¯ ç¼“å­˜ç³»ç»Ÿã€‚ ç¡®ä¿å®‰å…¨æ— å‰¯ä½œç”¨ å”¯ä¸€æ–¹æ³•æ˜¯åªå†™å…¥ä¸€æ¬¡ç„¶åå†™å…¥å€¼è§†ä¸ºä¸å¯å˜ï¼Œè¿™æ ·æ—§é¿å…å¯¹åŒä¸€ä¸ªä¸»é”®çš„å¹¶å‘ï¼ˆè¦†ç›–ï¼‰å†™ã€‚","title":"æœ€åå†™å…¥è€…è·èƒœ"},{"content":"å¤šä¸ªä¸»èŠ‚ç‚¹çœ‹åˆ°çš„æ‰§è¡Œé¡ºåºä¸ä¸€è‡´ï¼Œç—…äº†åŒæ—¶æŒ‰ç…§å„è‡ªçœ‹åˆ°çš„å†™å…¥é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆæ•°æ®åº“æœ€ç»ˆå°†å¤„äºä¸ä¸€è‡´çŠ¶æ€ã€‚\næ•°æ®åº“å¿…é¡»ä»¥ä¸€ç§è¶‹åŒçš„æ–¹å¼æ¥è§£å†³å†²çªã€‚\nå¯èƒ½çš„è§£å†³æ–¹å¼ ç»™æ¯ä¸ªå†™å…¥åˆ†é…å”¯ä¸€çš„ IDï¼Œå¦‚åŸºäºæ—¶é—´æˆ³çš„æœ€åå†™å…¥è€…è·èƒœã€‚ ä¸ºæ¯ä¸ªä¸»èŠ‚ç‚¹åˆ†é…ä¸€ä¸ªå”¯ä¸€ IDï¼Œåºåˆ—å·é«˜çš„ä¼˜å…ˆäºåºåˆ—å·ä½çš„ä¸»èŠ‚ç‚¹ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤± ä»¥æŸç§æ–¹å¼åˆå¹¶å€¼ï¼Œå¦‚æŒ‰ç…§å­—æ¯é¡ºåºæ‹¼æ¥åœ¨ä¸€èµ· åˆ©ç”¨é¢„å®šä¹‰å·çš„æ ¼å¼è®°å½•ï¼Œç„¶åä¾é åº”ç”¨å±‚é€»è¾‘ï¼Œäº‹åè§£å†³å†²çªï¼ˆå¯èƒ½ä¼šæç¤ºç”¨æˆ·ï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20210615083221-%E6%94%B6%E6%95%9B%E4%BA%8E%E4%B8%80%E8%87%B4%E7%9A%84%E7%8A%B6%E6%80%81/","summary":"å¤šä¸ªä¸»èŠ‚ç‚¹çœ‹åˆ°çš„æ‰§è¡Œé¡ºåºä¸ä¸€è‡´ï¼Œç—…äº†åŒæ—¶æŒ‰ç…§å„è‡ªçœ‹åˆ°çš„å†™å…¥é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆæ•°æ®åº“æœ€ç»ˆå°†å¤„äºä¸ä¸€è‡´çŠ¶æ€ã€‚\næ•°æ®åº“å¿…é¡»ä»¥ä¸€ç§è¶‹åŒçš„æ–¹å¼æ¥è§£å†³å†²çªã€‚\nå¯èƒ½çš„è§£å†³æ–¹å¼ ç»™æ¯ä¸ªå†™å…¥åˆ†é…å”¯ä¸€çš„ IDï¼Œå¦‚åŸºäºæ—¶é—´æˆ³çš„æœ€åå†™å…¥è€…è·èƒœã€‚ ä¸ºæ¯ä¸ªä¸»èŠ‚ç‚¹åˆ†é…ä¸€ä¸ªå”¯ä¸€ IDï¼Œåºåˆ—å·é«˜çš„ä¼˜å…ˆäºåºåˆ—å·ä½çš„ä¸»èŠ‚ç‚¹ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤± ä»¥æŸç§æ–¹å¼åˆå¹¶å€¼ï¼Œå¦‚æŒ‰ç…§å­—æ¯é¡ºåºæ‹¼æ¥åœ¨ä¸€èµ· åˆ©ç”¨é¢„å®šä¹‰å·çš„æ ¼å¼è®°å½•ï¼Œç„¶åä¾é åº”ç”¨å±‚é€»è¾‘ï¼Œäº‹åè§£å†³å†²çªï¼ˆå¯èƒ½ä¼šæç¤ºç”¨æˆ·ï¼‰ ","title":"æ”¶æ•›äºä¸€è‡´çš„çŠ¶æ€"},{"content":"åº”ç”¨å±‚ä¿è¯å¯¹ç‰¹å®šè®°å½•çš„å†™è¯·æ±‚æ€»æ˜¯é€šè¿‡åŒä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼Œæ¥é¿å…å‘ç”Ÿäº›å†²çªã€‚\nå¦‚ç”¨æˆ·æ›´æ–°è‡ªå·±çš„é…ç½®æ€»æ˜¯è·¯ç”±åˆ°ç‰¹å®šçš„æ•°æ®ä¸­å¿ƒã€‚\nç¼ºç‚¹ ç‰¹å®šæ•°æ®ä¸­å¿ƒå‘ç”Ÿæ•…éšœä¸å¾—ä¸æ”¹å˜äº‹å…ˆæŒ‡å®šçš„ä¸»èŠ‚ç‚¹ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210615082908-%E9%81%BF%E5%85%8D%E5%86%B2%E7%AA%81/","summary":"åº”ç”¨å±‚ä¿è¯å¯¹ç‰¹å®šè®°å½•çš„å†™è¯·æ±‚æ€»æ˜¯é€šè¿‡åŒä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼Œæ¥é¿å…å‘ç”Ÿäº›å†²çªã€‚\nå¦‚ç”¨æˆ·æ›´æ–°è‡ªå·±çš„é…ç½®æ€»æ˜¯è·¯ç”±åˆ°ç‰¹å®šçš„æ•°æ®ä¸­å¿ƒã€‚\nç¼ºç‚¹ ç‰¹å®šæ•°æ®ä¸­å¿ƒå‘ç”Ÿæ•…éšœä¸å¾—ä¸æ”¹å˜äº‹å…ˆæŒ‡å®šçš„ä¸»èŠ‚ç‚¹ã€‚","title":"é¿å…å†²çª"},{"content":"å¯¹äºä¸€ç³»åˆ—æŒ‰ç…§æŸä¸ªé¡ºåºå‘ç”Ÿçš„å†™è¯·æ±‚ï¼ŒåŒæ—¶è¯»å–è¿™äº›å†…å®¹æ—¶ä¹Ÿä¼šæŒ‰ç…§å½“æ—¶å†™å…¥çš„é¡ºåºã€‚\nåœºæ™¯ åˆ†åŒºæ•°æ®åº“ä¸­å‡ºç°çš„ä¸€ä¸ªç‰¹æ®Šé—®é¢˜ã€‚\næ­£å¸¸å¯¹è¯ï¼š\nP: Cå°å§ï¼Œä½ èƒ½çœ‹åˆ°å¤šè¿œçš„æ–‡è±ï¼Ÿ\nCï¼šå¤§çº¦ 10sï¼ŒP å…ˆç”Ÿã€‚\nä½†æ˜¯ç”±äºå¤åˆ¶æ»åï¼Œæœ€ç»ˆèƒ½è¢«è§‚å¯Ÿåˆ°çš„å¯èƒ½æ˜¯ï¼š\nCï¼šå¤§çº¦ 10sï¼ŒP å…ˆç”Ÿã€‚\nP: Cå°å§ï¼Œä½ èƒ½çœ‹åˆ°å¤šè¿œçš„æ–‡è±ï¼Ÿ\nè§£å†³æ–¹æ¡ˆ ä½æ•ˆç‡ï¼šå…·æœ‰å› æœå…³ç³»çš„å†™å…¥éƒ½äº¤ç»™ä¸€ä¸ªåˆ†åŒºæ¥å®Œæˆã€‚ æ–°æ–¹æ³•ï¼šè·Ÿè¸ªäº‹ä»¶å› æœå…³ç³»ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614211632-%E5%89%8D%E7%BC%80%E4%B8%80%E8%87%B4%E8%AF%BB/","summary":"å¯¹äºä¸€ç³»åˆ—æŒ‰ç…§æŸä¸ªé¡ºåºå‘ç”Ÿçš„å†™è¯·æ±‚ï¼ŒåŒæ—¶è¯»å–è¿™äº›å†…å®¹æ—¶ä¹Ÿä¼šæŒ‰ç…§å½“æ—¶å†™å…¥çš„é¡ºåºã€‚\nåœºæ™¯ åˆ†åŒºæ•°æ®åº“ä¸­å‡ºç°çš„ä¸€ä¸ªç‰¹æ®Šé—®é¢˜ã€‚\næ­£å¸¸å¯¹è¯ï¼š\nP: Cå°å§ï¼Œä½ èƒ½çœ‹åˆ°å¤šè¿œçš„æ–‡è±ï¼Ÿ\nCï¼šå¤§çº¦ 10sï¼ŒP å…ˆç”Ÿã€‚\nä½†æ˜¯ç”±äºå¤åˆ¶æ»åï¼Œæœ€ç»ˆèƒ½è¢«è§‚å¯Ÿåˆ°çš„å¯èƒ½æ˜¯ï¼š\nCï¼šå¤§çº¦ 10sï¼ŒP å…ˆç”Ÿã€‚\nP: Cå°å§ï¼Œä½ èƒ½çœ‹åˆ°å¤šè¿œçš„æ–‡è±ï¼Ÿ\nè§£å†³æ–¹æ¡ˆ ä½æ•ˆç‡ï¼šå…·æœ‰å› æœå…³ç³»çš„å†™å…¥éƒ½äº¤ç»™ä¸€ä¸ªåˆ†åŒºæ¥å®Œæˆã€‚ æ–°æ–¹æ³•ï¼šè·Ÿè¸ªäº‹ä»¶å› æœå…³ç³»ã€‚","title":"å‰ç¼€ä¸€è‡´è¯»"},{"content":"æ˜¯ä¸€ç§æ¯”å¼ºä¸€è‡´æ€§å¼±ä½†æ˜¯æ¯”æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº”å¼ºçš„ä¿è¯ï¼Œå•è°ƒè¯»ä¿è¯ï¼š\nå¦‚æœæŸä¸ªç”¨æˆ·ä¾æ¬¡è¿›è¡Œå¤šæ¬¡è¯»å–ï¼Œåˆ™ç»ä¸ä¼šçœ‹åˆ°å›æ»šçš„ç°è±¡ï¼Œå³åœ¨è¯»å–åˆ°è¾ƒæ–°çš„å€¼ä¹‹ååˆå‘ç”Ÿè¯»æ—§å€¼çš„æƒ…å†µã€‚\nåœºæ™¯ ç”¨æˆ·åˆ·æ–°ç½‘ç»œï¼Œè¯»è¯·æ±‚è¢«éšæœºè·¯ç”±åˆ°æŸä¸ªä»èŠ‚ç‚¹ï¼Œå…ˆåä»ä¸¤ä¸ªä¸åŒçš„ä»èŠ‚ç‚¹è¯»å–åˆ°äº†ä¸åŒçš„å†…å®¹ï¼Œæ¯”å¦‚çœ‹åˆ°ä¸€ä¸ªæ–°æ·»åŠ çš„è¯„è®ºä¸€æ¬¡å‡ºç°ï¼Œä¸€æ¬¡æ¶ˆå¤±ã€‚\nè§£å†³æ–¹æ¡ˆ æŒ‰ç…§ç”¨æˆ· ID è¿›è¡Œå“ˆå¸Œæ–¹æ³•å–ä»£éšæœºè·¯ç”±ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614210918-%E5%8D%95%E8%B0%83%E8%AF%BB%E4%B8%80%E8%87%B4%E6%80%A7/","summary":"æ˜¯ä¸€ç§æ¯”å¼ºä¸€è‡´æ€§å¼±ä½†æ˜¯æ¯”æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº”å¼ºçš„ä¿è¯ï¼Œå•è°ƒè¯»ä¿è¯ï¼š\nå¦‚æœæŸä¸ªç”¨æˆ·ä¾æ¬¡è¿›è¡Œå¤šæ¬¡è¯»å–ï¼Œåˆ™ç»ä¸ä¼šçœ‹åˆ°å›æ»šçš„ç°è±¡ï¼Œå³åœ¨è¯»å–åˆ°è¾ƒæ–°çš„å€¼ä¹‹ååˆå‘ç”Ÿè¯»æ—§å€¼çš„æƒ…å†µã€‚\nåœºæ™¯ ç”¨æˆ·åˆ·æ–°ç½‘ç»œï¼Œè¯»è¯·æ±‚è¢«éšæœºè·¯ç”±åˆ°æŸä¸ªä»èŠ‚ç‚¹ï¼Œå…ˆåä»ä¸¤ä¸ªä¸åŒçš„ä»èŠ‚ç‚¹è¯»å–åˆ°äº†ä¸åŒçš„å†…å®¹ï¼Œæ¯”å¦‚çœ‹åˆ°ä¸€ä¸ªæ–°æ·»åŠ çš„è¯„è®ºä¸€æ¬¡å‡ºç°ï¼Œä¸€æ¬¡æ¶ˆå¤±ã€‚\nè§£å†³æ–¹æ¡ˆ æŒ‰ç…§ç”¨æˆ· ID è¿›è¡Œå“ˆå¸Œæ–¹æ³•å–ä»£éšæœºè·¯ç”±ã€‚","title":"å•è°ƒè¯»ä¸€è‡´æ€§"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20210614210953-%E5%BC%BA%E4%B8%80%E8%87%B4%E6%80%A7/","summary":"","title":"å¼ºä¸€è‡´æ€§"},{"content":"ä¹Ÿç§°ä¸ºã€Œå†™åè¯»ä¸€è‡´æ€§ã€ï¼Œè§£å†³ç”¨æˆ·ä¸»èŠ‚ç‚¹å†™å…¥åç«‹é©¬ä»ä»èŠ‚ç‚¹è¯»å–ä¸åˆ°åˆ°æƒ…å†µã€‚åªèƒ½è§£å†³å•ç”¨æˆ·çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯è§£å†³ä¸äº†å¤šç”¨æˆ·çš„ä¸€è‡´æ€§ã€‚\nåœºæ™¯ ç”¨æˆ·æ–°æäº¤äº†è¯„è®ºï¼Œä½†æ˜¯è‡ªå·±çœ‹ä¸åˆ°ï¼Œéœ€è¦ç­‰ä¸€ä¼šæ‰èƒ½çœ‹åˆ°ã€‚\nè§£å†³æ–¹æ¡ˆ è®°å½•æ›´æ–°æ—¶é—´æˆ³ï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…ä»ä¸»èŠ‚ç‚¹è¯»å–ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614210755-%E8%AF%BB%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/","summary":"ä¹Ÿç§°ä¸ºã€Œå†™åè¯»ä¸€è‡´æ€§ã€ï¼Œè§£å†³ç”¨æˆ·ä¸»èŠ‚ç‚¹å†™å…¥åç«‹é©¬ä»ä»èŠ‚ç‚¹è¯»å–ä¸åˆ°åˆ°æƒ…å†µã€‚åªèƒ½è§£å†³å•ç”¨æˆ·çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯è§£å†³ä¸äº†å¤šç”¨æˆ·çš„ä¸€è‡´æ€§ã€‚\nåœºæ™¯ ç”¨æˆ·æ–°æäº¤äº†è¯„è®ºï¼Œä½†æ˜¯è‡ªå·±çœ‹ä¸åˆ°ï¼Œéœ€è¦ç­‰ä¸€ä¼šæ‰èƒ½çœ‹åˆ°ã€‚\nè§£å†³æ–¹æ¡ˆ è®°å½•æ›´æ–°æ—¶é—´æˆ³ï¼Œåœ¨æŒ‡å®šæ—¶é—´å†…ä»ä¸»èŠ‚ç‚¹è¯»å–ã€‚","title":"è¯»å†™ä¸€è‡´æ€§"},{"content":"ä¸»ä»å¼‚æ­¥å¤åˆ¶çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´æ•°æ®åº“ä¸­å‡ºç°æ˜æ˜¾ä¸ä¸€è‡´ï¼Œæ­¤æ—¶ä»ä¸åŒçš„ä»èŠ‚ç‚¹è¯»å–å°±ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœã€‚è¿™ç§ä¸ä¸€è‡´åªæ˜¯ä¸€ä¸ªæš‚æ—¶çŠ¶æ€ï¼Œå¦‚æœåœæ­¢å†™å…¥æ•°æ®ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œä»èŠ‚ç‚¹æœ€ç»ˆä¼šèµ¶ä¸Šå¹¶ä¸ä¸»èŠ‚ç‚¹ä¿æŒä¸€è‡´ã€‚\nè¿™ç§æ•ˆåº”è¢«ç§°ä¸ºæœ€ç»ˆä¸€è‡´æ€§ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614210005-%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%E6%95%88%E5%BA%94/","summary":"ä¸»ä»å¼‚æ­¥å¤åˆ¶çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´æ•°æ®åº“ä¸­å‡ºç°æ˜æ˜¾ä¸ä¸€è‡´ï¼Œæ­¤æ—¶ä»ä¸åŒçš„ä»èŠ‚ç‚¹è¯»å–å°±ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœã€‚è¿™ç§ä¸ä¸€è‡´åªæ˜¯ä¸€ä¸ªæš‚æ—¶çŠ¶æ€ï¼Œå¦‚æœåœæ­¢å†™å…¥æ•°æ®ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´ä¹‹åï¼Œä»èŠ‚ç‚¹æœ€ç»ˆä¼šèµ¶ä¸Šå¹¶ä¸ä¸»èŠ‚ç‚¹ä¿æŒä¸€è‡´ã€‚\nè¿™ç§æ•ˆåº”è¢«ç§°ä¸ºæœ€ç»ˆä¸€è‡´æ€§ã€‚","title":"æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº”"},{"content":"å¼‚æ­¥åŒæ­¥çš„æƒ…å†µä¸‹å‡ºå‡ºç°æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº”å¤åˆ¶æ»åä¼šå¯¼è‡´ï¼šç”¨æˆ·æäº¤äº†ä¿®æ”¹åˆ°ä¸»èŠ‚ç‚¹ï¼Œä½†æ˜¯ä»ä»èŠ‚ç‚¹æ²¡æœ‰è¯»å–åˆ°æœ€æ–°çš„å˜æ›´ï¼Œæ¯”å¦‚çœ‹ä¸åˆ°è‡ªå·±æäº¤çš„è¯„è®ºç­‰ã€‚\nè¯»å†™ä¸€è‡´æ€§ï¼šè¯»è‡ªå·±çš„å†™ ä¸€æ—¦ç”¨æˆ·çš„æ•°æ®æœ€è¿‘å‘ç”Ÿæ”¹å˜åˆ™è·¯ç”±ç”¨æˆ·è¯·æ±‚ä»ä¸»èŠ‚ç‚¹è¿›è¡Œè¯»å–ï¼Œè§„é¿å¤åˆ¶æ»åçš„é—®é¢˜ã€‚\nç¼ºç‚¹ï¼šåªä¿è¯å•ä¸€ç”¨æˆ·å†™åè¯»çš„çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯ä¸ä¿è¯å¤šä¸ªç”¨æˆ·çš„ä¸€è‡´æ€§ã€‚æ¯”å¦‚å‘äº†ä¸€æ¡è¯„è®ºï¼Œè‡ªå·±èƒ½åˆ·æ–°åˆ°ä½†æ˜¯åŒåœ¨èº«è¾¹çš„æœ‹å‹å¯èƒ½å°±åˆ·æ–°ä¸åˆ°ã€‚\nå•è°ƒè¯»ä¸€è‡´æ€§ å‰ç¼€ä¸€è‡´è¯» è§£å†³æ–¹æ¡ˆ åº”ç”¨å±‚å¯ä»¥æä¾›æ¯”æ•°æ®åº“æ›´å¼ºæœ‰åŠ›çš„ä¿è¯ã€‚ äº‹åŠ¡æ˜¯æ•°æ®åº“æä¾›çš„æ›´å¼ºä¿è¯çš„ä¸€ç§æ–¹å¼ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210614205621-%E5%A4%8D%E5%88%B6%E6%BB%9E%E5%90%8E%E9%97%AE%E9%A2%98/","summary":"å¼‚æ­¥åŒæ­¥çš„æƒ…å†µä¸‹å‡ºå‡ºç°æœ€ç»ˆä¸€è‡´æ€§æ•ˆåº”å¤åˆ¶æ»åä¼šå¯¼è‡´ï¼šç”¨æˆ·æäº¤äº†ä¿®æ”¹åˆ°ä¸»èŠ‚ç‚¹ï¼Œä½†æ˜¯ä»ä»èŠ‚ç‚¹æ²¡æœ‰è¯»å–åˆ°æœ€æ–°çš„å˜æ›´ï¼Œæ¯”å¦‚çœ‹ä¸åˆ°è‡ªå·±æäº¤çš„è¯„è®ºç­‰ã€‚\nè¯»å†™ä¸€è‡´æ€§ï¼šè¯»è‡ªå·±çš„å†™ ä¸€æ—¦ç”¨æˆ·çš„æ•°æ®æœ€è¿‘å‘ç”Ÿæ”¹å˜åˆ™è·¯ç”±ç”¨æˆ·è¯·æ±‚ä»ä¸»èŠ‚ç‚¹è¿›è¡Œè¯»å–ï¼Œè§„é¿å¤åˆ¶æ»åçš„é—®é¢˜ã€‚\nç¼ºç‚¹ï¼šåªä¿è¯å•ä¸€ç”¨æˆ·å†™åè¯»çš„çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯ä¸ä¿è¯å¤šä¸ªç”¨æˆ·çš„ä¸€è‡´æ€§ã€‚æ¯”å¦‚å‘äº†ä¸€æ¡è¯„è®ºï¼Œè‡ªå·±èƒ½åˆ·æ–°åˆ°ä½†æ˜¯åŒåœ¨èº«è¾¹çš„æœ‹å‹å¯èƒ½å°±åˆ·æ–°ä¸åˆ°ã€‚\nå•è°ƒè¯»ä¸€è‡´æ€§ å‰ç¼€ä¸€è‡´è¯» è§£å†³æ–¹æ¡ˆ åº”ç”¨å±‚å¯ä»¥æä¾›æ¯”æ•°æ®åº“æ›´å¼ºæœ‰åŠ›çš„ä¿è¯ã€‚ äº‹åŠ¡æ˜¯æ•°æ®åº“æä¾›çš„æ›´å¼ºä¿è¯çš„ä¸€ç§æ–¹å¼ã€‚ ","title":"å¤åˆ¶æ»åé—®é¢˜"},{"content":"åŸºäºè¯­å¥å¤åˆ¶ ä¼˜ç‚¹ï¼šç®€å• ç¼ºç‚¹ï¼šè¯­å¥å‰¯ä½œç”¨ï¼Œæˆ–è€…éšæ—¶é—´æ”¹å˜è¿”å›å€¼çš„å‡½æ•°çš„ä½¿ç”¨ä¼šå¯¼è‡´å¤åˆ¶çš„æ•°æ®äº§ç”Ÿæ”¹å˜ã€‚\nåŸºäºé¢„å†™æ—¥å¿—ï¼ˆWALï¼‰ä¼ è¾“ ä¼˜ç‚¹ï¼šè§£å†³åŸºäºè¯­å¥å¤åˆ¶çš„é—®é¢˜ã€‚ ç¼ºç‚¹ï¼šæ—¥å¿—æè¿°è¿‡äºåº•å±‚ï¼šå“ªäº›ç£ç›˜å—çš„å“ªäº›å­—èŠ‚å‘ç”Ÿäº†æ”¹å˜ï¼Œå’Œå¼•æ“å®ç°é«˜åº¦è€¦åˆï¼Œä¸åˆ©äºæ¨¡å¼æ¼”è¿›ã€‚\nåŸºäºè¡Œçš„é€»è¾‘æ—¥å¿—å¤åˆ¶ ç”¨ä¸€ç³»åˆ—è®°å½•æ¥æè¿°æ•°æ®è¡¨è¡Œçº§åˆ«çš„å†™è¯·æ±‚ï¼š\nå¯¹äºæ’å…¥è¡Œï¼Œæ—¥å¿—åŒ…å«æ‰€æœ‰ç›¸å…³åˆ—çš„æ–°å€¼ã€‚ å¯¹äºåˆ é™¤è¡Œï¼Œæ ‡è®°ä¸»é”®åˆ é™¤ã€‚ å¯¹äºè¡Œè´§æ›´æ–°ï¼Œè®°å½•ä¸»é”®å’Œå¯¹åº”åˆ—çš„æ–°å€¼ã€‚ MySQL binlog åŸºäºæ­¤æ¨¡å¼ã€‚\nä¼˜ç‚¹ï¼šæ›´åˆ©äºæ¨¡å¼æ¼”è¿›ï¼Œæ”¯æŒå‘åå…¼å®¹ï¼ŒåŒæ—¶è§£è€¦ç‰¹æ€§å¼•æ“ä¾¿äºå¤–éƒ¨è§£æã€‚\nåŸºäºè§¦å‘å™¨çš„å¤åˆ¶ è§¦å‘å™¨æ”¯æŒæ³¨å†Œè‡ªå·±çš„åº”ç”¨å±‚ä»£ç å¹¶åœ¨æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è¢«è°ƒç”¨ã€‚\nä¼˜ç‚¹ï¼šå°†å¤åˆ¶æ§åˆ¶äº¤ç»™åº”ç”¨å±‚ï¼Œæ”¯æŒæ›´é«˜çš„çµæ´»æ€§ã€‚ ç¼ºç‚¹ï¼šå¼€é”€æ›´å¤§ï¼Œæ›´å®¹æ˜“å‡ºé”™ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614205249-%E5%A4%8D%E5%88%B6%E6%97%A5%E5%BF%97%E5%AE%9E%E7%8E%B0/","summary":"åŸºäºè¯­å¥å¤åˆ¶ ä¼˜ç‚¹ï¼šç®€å• ç¼ºç‚¹ï¼šè¯­å¥å‰¯ä½œç”¨ï¼Œæˆ–è€…éšæ—¶é—´æ”¹å˜è¿”å›å€¼çš„å‡½æ•°çš„ä½¿ç”¨ä¼šå¯¼è‡´å¤åˆ¶çš„æ•°æ®äº§ç”Ÿæ”¹å˜ã€‚\nåŸºäºé¢„å†™æ—¥å¿—ï¼ˆWALï¼‰ä¼ è¾“ ä¼˜ç‚¹ï¼šè§£å†³åŸºäºè¯­å¥å¤åˆ¶çš„é—®é¢˜ã€‚ ç¼ºç‚¹ï¼šæ—¥å¿—æè¿°è¿‡äºåº•å±‚ï¼šå“ªäº›ç£ç›˜å—çš„å“ªäº›å­—èŠ‚å‘ç”Ÿäº†æ”¹å˜ï¼Œå’Œå¼•æ“å®ç°é«˜åº¦è€¦åˆï¼Œä¸åˆ©äºæ¨¡å¼æ¼”è¿›ã€‚\nåŸºäºè¡Œçš„é€»è¾‘æ—¥å¿—å¤åˆ¶ ç”¨ä¸€ç³»åˆ—è®°å½•æ¥æè¿°æ•°æ®è¡¨è¡Œçº§åˆ«çš„å†™è¯·æ±‚ï¼š\nå¯¹äºæ’å…¥è¡Œï¼Œæ—¥å¿—åŒ…å«æ‰€æœ‰ç›¸å…³åˆ—çš„æ–°å€¼ã€‚ å¯¹äºåˆ é™¤è¡Œï¼Œæ ‡è®°ä¸»é”®åˆ é™¤ã€‚ å¯¹äºè¡Œè´§æ›´æ–°ï¼Œè®°å½•ä¸»é”®å’Œå¯¹åº”åˆ—çš„æ–°å€¼ã€‚ MySQL binlog åŸºäºæ­¤æ¨¡å¼ã€‚\nä¼˜ç‚¹ï¼šæ›´åˆ©äºæ¨¡å¼æ¼”è¿›ï¼Œæ”¯æŒå‘åå…¼å®¹ï¼ŒåŒæ—¶è§£è€¦ç‰¹æ€§å¼•æ“ä¾¿äºå¤–éƒ¨è§£æã€‚\nåŸºäºè§¦å‘å™¨çš„å¤åˆ¶ è§¦å‘å™¨æ”¯æŒæ³¨å†Œè‡ªå·±çš„åº”ç”¨å±‚ä»£ç å¹¶åœ¨æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶è¢«è°ƒç”¨ã€‚\nä¼˜ç‚¹ï¼šå°†å¤åˆ¶æ§åˆ¶äº¤ç»™åº”ç”¨å±‚ï¼Œæ”¯æŒæ›´é«˜çš„çµæ´»æ€§ã€‚ ç¼ºç‚¹ï¼šå¼€é”€æ›´å¤§ï¼Œæ›´å®¹æ˜“å‡ºé”™ã€‚","title":"å¤åˆ¶æ—¥å¿—å®ç°"},{"content":"ä¸»ä»æ¨¡å¼ä¸‹ä¸»èŠ‚ç‚¹è¿›è¡Œå†™å…¥ï¼Œå¯ä»¥ä»ä»èŠ‚ç‚¹è¿›è¡Œè¯»å–ã€‚\nåŒæ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œå¹¶ç­‰å¾…ä»èŠ‚ç‚¹å†™å…¥åå†è¿”å›å†™å…¥æˆåŠŸã€‚\nåŠåŒæ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œé€‰ä¸¾ä¸€ä¸ªä»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥å¤åˆ¶ï¼Œå…¶ä»–ä»èŠ‚ç‚¹è¿›è¡Œå¼‚æ­¥å¤åˆ¶ï¼Œä¸€æ—¦åŒæ­¥å¤åˆ¶çš„ä»èŠ‚ç‚¹å‡ºç°æ€§èƒ½ä¸‹é™æˆ–æ•…éšœåˆ™é€‰ç”¨ä¸€ä¸ªæ–°çš„ä»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥å¤åˆ¶ã€‚\nå¼‚æ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œä¸ç­‰å¾…ä»èŠ‚ç‚¹å†™å…¥ç›´æ¥è¿”å›å†™å…¥æˆåŠŸã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210614203213-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/","summary":"ä¸»ä»æ¨¡å¼ä¸‹ä¸»èŠ‚ç‚¹è¿›è¡Œå†™å…¥ï¼Œå¯ä»¥ä»ä»èŠ‚ç‚¹è¿›è¡Œè¯»å–ã€‚\nåŒæ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œå¹¶ç­‰å¾…ä»èŠ‚ç‚¹å†™å…¥åå†è¿”å›å†™å…¥æˆåŠŸã€‚\nåŠåŒæ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œé€‰ä¸¾ä¸€ä¸ªä»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥å¤åˆ¶ï¼Œå…¶ä»–ä»èŠ‚ç‚¹è¿›è¡Œå¼‚æ­¥å¤åˆ¶ï¼Œä¸€æ—¦åŒæ­¥å¤åˆ¶çš„ä»èŠ‚ç‚¹å‡ºç°æ€§èƒ½ä¸‹é™æˆ–æ•…éšœåˆ™é€‰ç”¨ä¸€ä¸ªæ–°çš„ä»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥å¤åˆ¶ã€‚\nå¼‚æ­¥å¤åˆ¶ ä¸»èŠ‚ç‚¹å†™å…¥ï¼Œä¸ç­‰å¾…ä»èŠ‚ç‚¹å†™å…¥ç›´æ¥è¿”å›å†™å…¥æˆåŠŸã€‚","title":"ä¸»ä»å¤åˆ¶"},{"content":"ä¸»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹ å¤åˆ¶ å•ä¸ªèŠ‚ç‚¹å¯ä»¥å®Œæ•´å­˜æ”¾æ‰€æœ‰æ•°æ®å‰¯æœ¬ï¼ŒèŠ‚ç‚¹é—´è¿›è¡Œä¸»ä»å¤åˆ¶ã€‚\né…ç½®æ–°ä»èŠ‚ç‚¹ å¯ä»¥é€šè¿‡å¿«ç…§æ¥åŠ é€Ÿæ–°ä»èŠ‚ç‚¹å¤åˆ¶ï¼š\nå¯¹ä¸»èŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬äº§ç”Ÿä¸€ä¸ªä¸€è‡´æ€§å¿«ç…§ï¼Œé¿å…é•¿æ—¶é—´é”å®šæ•°æ®åº“ã€‚ æ‹·è´å¿«ç…§åˆ°ä»èŠ‚ç‚¹ è¯·æ±‚å¿«ç…§åé¢çš„æ›´æ”¹æ—¥å¿— åº”ç”¨æ•°æ®å˜æ›´ èŠ‚ç‚¹å¤±æ•ˆ ä»èŠ‚ç‚¹å¤±æ•ˆï¼šè¿½èµ¶å¼æ¢å¤ ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼šèŠ‚ç‚¹åˆ‡æ¢ è‡ªåŠ¨åˆ‡æ¢\nç¡®è®¤å¤±æ•ˆ é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹ ä½¿ä¸»èŠ‚ç‚¹ç”Ÿæ•ˆ æŒ‘æˆ˜\nä»èŠ‚ç‚¹å¤åˆ¶ä¸å®Œæ•´ å„ä¸ªæ•°æ®å±‚æ•°æ®ä¸ä¸€è‡´ï¼Œå¦‚ MySQL å’Œ Redis ä¹‹é—´ å¤šä¸ªä¸»èŠ‚ç‚¹é€‰ä¸¾ï¼šè„‘è£‚ å¦‚ä½•æœ‰æ•ˆæ£€æµ‹ä¸»èŠ‚ç‚¹å¤±æ•ˆ å¤åˆ¶æ—¥å¿—å®ç° å¤åˆ¶æ»åé—®é¢˜ å¤šä¸»èŠ‚ç‚¹å¤åˆ¶ ä½¿ç”¨åœºæ™¯ å¤šæ•°æ®ä¸­å¿ƒ ä¼˜ç‚¹ï¼š\næ€§èƒ½ å®¹å¿æ•°æ®ä¸­å¿ƒå¤±æ•ˆ å®¹å¿ç½‘ç»œé—®é¢˜ ç¼ºç‚¹ï¼šå†™å†²çª\nç¦»çº¿å®¢æˆ·ç«¯æ“ä½œ åä½œç¼–è¾‘ å¤„ç†å†™å†²çª åŒæ­¥ä¸å¼‚æ­¥å†²çªæ£€æµ‹ åŒæ­¥ï¼šç­‰å¾…å†™è¯·æ±‚å®Œæˆå¯¹æ‰€æœ‰ä¸»èŠ‚ç‚¹çš„åŒæ­¥å†é€šçŸ¥ç”¨æˆ·å†™å…¥æˆåŠŸã€‚ å¼‚æ­¥ï¼šç­‰å¾…å•ä¸€ä¸»èŠ‚ç‚¹å†™å…¥æˆåŠŸåé€šçŸ¥ç”¨æˆ·å¸ä¹³æˆåŠŸï¼Œç¨åå¤šä¸»èŠ‚ç‚¹æ•°æ®åŒæ­¥çš„æ—¶å€™æ‰èƒ½æ£€æµ‹åˆ°å†²çª é¿å…å†²çª æ”¶æ•›äºä¸€è‡´çš„çŠ¶æ€ è‡ªå®šä¹‰å†²çªè§£å†³é€»è¾‘ å†™å…¥æ—¶è§£å†³ è¯»å–æ—¶è§£å†³ æ‹“æ‰‘ç»“æ„ ç¯å½¢æ‹“æ‰‘ æ˜Ÿå‹æ‹“æ‰‘ å…¨éƒ¨-è‡³-å…¨éƒ¨å‹æ‹“æ‰‘ æ— ä¸»èŠ‚ç‚¹å¤åˆ¶ ","permalink":"https://notes.0081800.xyz/notes/20210614203122-%E6%95%B0%E6%8D%AE%E5%A4%8D%E5%88%B6/","summary":"ä¸»èŠ‚ç‚¹ä¸ä»èŠ‚ç‚¹ å¤åˆ¶ å•ä¸ªèŠ‚ç‚¹å¯ä»¥å®Œæ•´å­˜æ”¾æ‰€æœ‰æ•°æ®å‰¯æœ¬ï¼ŒèŠ‚ç‚¹é—´è¿›è¡Œä¸»ä»å¤åˆ¶ã€‚\né…ç½®æ–°ä»èŠ‚ç‚¹ å¯ä»¥é€šè¿‡å¿«ç…§æ¥åŠ é€Ÿæ–°ä»èŠ‚ç‚¹å¤åˆ¶ï¼š\nå¯¹ä¸»èŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬äº§ç”Ÿä¸€ä¸ªä¸€è‡´æ€§å¿«ç…§ï¼Œé¿å…é•¿æ—¶é—´é”å®šæ•°æ®åº“ã€‚ æ‹·è´å¿«ç…§åˆ°ä»èŠ‚ç‚¹ è¯·æ±‚å¿«ç…§åé¢çš„æ›´æ”¹æ—¥å¿— åº”ç”¨æ•°æ®å˜æ›´ èŠ‚ç‚¹å¤±æ•ˆ ä»èŠ‚ç‚¹å¤±æ•ˆï¼šè¿½èµ¶å¼æ¢å¤ ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼šèŠ‚ç‚¹åˆ‡æ¢ è‡ªåŠ¨åˆ‡æ¢\nç¡®è®¤å¤±æ•ˆ é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹ ä½¿ä¸»èŠ‚ç‚¹ç”Ÿæ•ˆ æŒ‘æˆ˜\nä»èŠ‚ç‚¹å¤åˆ¶ä¸å®Œæ•´ å„ä¸ªæ•°æ®å±‚æ•°æ®ä¸ä¸€è‡´ï¼Œå¦‚ MySQL å’Œ Redis ä¹‹é—´ å¤šä¸ªä¸»èŠ‚ç‚¹é€‰ä¸¾ï¼šè„‘è£‚ å¦‚ä½•æœ‰æ•ˆæ£€æµ‹ä¸»èŠ‚ç‚¹å¤±æ•ˆ å¤åˆ¶æ—¥å¿—å®ç° å¤åˆ¶æ»åé—®é¢˜ å¤šä¸»èŠ‚ç‚¹å¤åˆ¶ ä½¿ç”¨åœºæ™¯ å¤šæ•°æ®ä¸­å¿ƒ ä¼˜ç‚¹ï¼š\næ€§èƒ½ å®¹å¿æ•°æ®ä¸­å¿ƒå¤±æ•ˆ å®¹å¿ç½‘ç»œé—®é¢˜ ç¼ºç‚¹ï¼šå†™å†²çª\nç¦»çº¿å®¢æˆ·ç«¯æ“ä½œ åä½œç¼–è¾‘ å¤„ç†å†™å†²çª åŒæ­¥ä¸å¼‚æ­¥å†²çªæ£€æµ‹ åŒæ­¥ï¼šç­‰å¾…å†™è¯·æ±‚å®Œæˆå¯¹æ‰€æœ‰ä¸»èŠ‚ç‚¹çš„åŒæ­¥å†é€šçŸ¥ç”¨æˆ·å†™å…¥æˆåŠŸã€‚ å¼‚æ­¥ï¼šç­‰å¾…å•ä¸€ä¸»èŠ‚ç‚¹å†™å…¥æˆåŠŸåé€šçŸ¥ç”¨æˆ·å¸ä¹³æˆåŠŸï¼Œç¨åå¤šä¸»èŠ‚ç‚¹æ•°æ®åŒæ­¥çš„æ—¶å€™æ‰èƒ½æ£€æµ‹åˆ°å†²çª é¿å…å†²çª æ”¶æ•›äºä¸€è‡´çš„çŠ¶æ€ è‡ªå®šä¹‰å†²çªè§£å†³é€»è¾‘ å†™å…¥æ—¶è§£å†³ è¯»å–æ—¶è§£å†³ æ‹“æ‰‘ç»“æ„ ç¯å½¢æ‹“æ‰‘ æ˜Ÿå‹æ‹“æ‰‘ å…¨éƒ¨-è‡³-å…¨éƒ¨å‹æ‹“æ‰‘ æ— ä¸»èŠ‚ç‚¹å¤åˆ¶ ","title":"æ•°æ®å¤åˆ¶"},{"content":" å½“ä¸€ä¸ªä¸å¯èƒ½å‡ºé”™çš„äº‹ç‰©å‡ºé”™äº†ï¼Œé€šå¸¸ä¹Ÿå°±æ„å‘³ç€ä¸å¯ä¿®å¤ \u0026ndash; Douglas Adamsï¼Œã€ŠåŸºæœ¬æ— å®³ã€‹ï¼ˆ1992ï¼‰ å…³äºå†™æ–‡æ¡£ There is a secret that needs to be understood in order to write good software documentation: there isnâ€™t one thing called documentation, there are four.\nThey are: tutorials, how-to guides, technical reference and explanation. They represent four different purposes or functions, and require four different approaches to their creation. Understanding the implications of this will help improve most documentation - often immensely.\n","permalink":"https://notes.0081800.xyz/notes/20210612092853-%E8%AE%A4%E5%90%8C%E7%9A%84%E8%AF%9D/","summary":"å½“ä¸€ä¸ªä¸å¯èƒ½å‡ºé”™çš„äº‹ç‰©å‡ºé”™äº†ï¼Œé€šå¸¸ä¹Ÿå°±æ„å‘³ç€ä¸å¯ä¿®å¤ \u0026ndash; Douglas Adamsï¼Œã€ŠåŸºæœ¬æ— å®³ã€‹ï¼ˆ1992ï¼‰ å…³äºå†™æ–‡æ¡£ There is a secret that needs to be understood in order to write good software documentation: there isnâ€™t one thing called documentation, there are four.\nThey are: tutorials, how-to guides, technical reference and explanation. They represent four different purposes or functions, and require four different approaches to their creation. Understanding the implications of this will help improve most documentation - often immensely.","title":"è®¤åŒçš„è¯"},{"content":"Actor æ¨¡å‹æ˜¯ç”¨äºå•ä¸ªè¿›ç¨‹ä¸­çš„å¹¶å‘æ¨¡å‹ã€‚é€»è¾‘è¢«å°è£…åœ¨ Actor ä¸­ã€‚æ¯ä¸ª Actor é€šå¸¸ä»£è¡¨ä¸€ä¸ªå®¢æˆ·ç«¯æˆ–å®ä½“ï¼Œå¯ä»¥å…·å¤‡æœ¬åœ°çŠ¶æ€ï¼ˆä¸å…±äº«ï¼‰ï¼Œé€šè¿‡å‘é€å’Œæ¥æ”¶å¼‚æ­¥æ¶ˆæ¯ä¸å…¶ä»– Actor é€šä¿¡ã€‚ä¸ä¿è¯æ¶ˆæ¯ä¼ é€ï¼šæŸäº›é”™è¯¯æƒ…å†µä¸‹ï¼Œæ¶ˆæ¯å°†ä¸¢å¤±ã€‚æ¯ä¸ª Actor åªå¤„ç†ä¸€æ¡æ¶ˆæ¯ï¼Œå› æ­¤å¯ä»¥ç”±æ¡†æ¶ç‹¬ç«‹è°ƒåº¦ã€‚\nActor æ¡†æ¶é›†æˆäº†ä»»åŠ¡è°ƒåº¦å’Œæ¶ˆæ¯æµçš„æ¡†æ¶ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210612091808-actor/","summary":"Actor æ¨¡å‹æ˜¯ç”¨äºå•ä¸ªè¿›ç¨‹ä¸­çš„å¹¶å‘æ¨¡å‹ã€‚é€»è¾‘è¢«å°è£…åœ¨ Actor ä¸­ã€‚æ¯ä¸ª Actor é€šå¸¸ä»£è¡¨ä¸€ä¸ªå®¢æˆ·ç«¯æˆ–å®ä½“ï¼Œå¯ä»¥å…·å¤‡æœ¬åœ°çŠ¶æ€ï¼ˆä¸å…±äº«ï¼‰ï¼Œé€šè¿‡å‘é€å’Œæ¥æ”¶å¼‚æ­¥æ¶ˆæ¯ä¸å…¶ä»– Actor é€šä¿¡ã€‚ä¸ä¿è¯æ¶ˆæ¯ä¼ é€ï¼šæŸäº›é”™è¯¯æƒ…å†µä¸‹ï¼Œæ¶ˆæ¯å°†ä¸¢å¤±ã€‚æ¯ä¸ª Actor åªå¤„ç†ä¸€æ¡æ¶ˆæ¯ï¼Œå› æ­¤å¯ä»¥ç”±æ¡†æ¶ç‹¬ç«‹è°ƒåº¦ã€‚\nActor æ¡†æ¶é›†æˆäº†ä»»åŠ¡è°ƒåº¦å’Œæ¶ˆæ¯æµçš„æ¡†æ¶ã€‚","title":"Actor"},{"content":"ä¸¤ç§æ¨¡å¼è¯­è¨€ï¼šIDL ç”¨äºäººå·¥ç¼–è¾‘ï¼Œå¦ä¸€ç§æ›´æ˜“äºæœºå™¨è¯»å–ã€‚\nAvro ç¼–ç æ•°æ®ä¸­åªæœ‰å¯¹åº”å­—æ®µçš„é•¿åº¦å’Œå…·ä½“çš„æ•°æ®ï¼Œä¸åŒ…å«å­—æ®µçš„ç±»å‹ä¿¡æ¯ã€‚\nå†™æ¨¡å¼ä¸è¯»æ¨¡å¼ å†™æ¨¡å¼ï¼šä½¿ç”¨æ‰€çŸ¥é“çš„æ¨¡å¼çš„ä»»ä½•ç‰ˆæœ¬æ¥ç¼–ç æ•°æ®ï¼ˆå¯ä»¥ç¼–è¯‘åˆ°ä»£ç ä¸­ï¼‰ è¯»æ¨¡å¼ï¼šè§£ç æ—¶æœŸæœ›æ•°æ®ç¬¦åˆæŸä¸ªæ¨¡å¼ï¼Œå¯èƒ½æ˜¯æ„å»ºè¿‡ç¨‹ä¸­åŸºäºæ¨¡å¼ç”Ÿæˆ Avro çš„å…³é”®æ€æƒ³æ˜¯å†™æ¨¡å¼å’Œè¯»ä¸å¿…å®Œå…¨ä¸€æ ·ï¼Œåªéœ€è¦ä¿æŒå…¼å®¹ï¼Œç”±è¯»å–ç«¯è§£å†³å·®å¼‚ï¼šé€šè¿‡å¯¹æ¯”æŸ¥çœ‹å†™æ¨¡å¼å’Œè¯»æ¨¡å¼å¹¶å°†æ•°æ®ä»å†™æ¨¡å¼è½¬æ¢ä¸ºè¯»æ¨¡å¼ã€‚\nè¯»å–æ•°æ®çš„ä»£ç ä¸­é‡åˆ°å‡ºç°åœ¨å†™æ¨¡å¼ä½†æ˜¯ä¸åœ¨è¯»æ¨¡å¼çš„å­—æ®µï¼Œåˆ™å¿½ç•¥ã€‚ å¦‚æœè¯»æ•°æ®çš„å¸¦ä»£ç éœ€è¦æŸä¸ªå­—æ®µï¼Œä½†æ˜¯å†™æ¨¡å¼ä¸åŒ…å«è¯¥å­—æ®µçš„åç§°ï¼Œåˆ™ä½¿ç”¨åœ¨è¯»æ¨¡å¼ä¸­å£°æ˜çš„é»˜è®¤å€¼å¡«å……ã€‚ æ¨¡å¼æ¼”åŒ– å‘å‰å…¼å®¹ï¼šæ–°ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º writerï¼Œæ—§ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º readerã€‚ å‘åå…¼å®¹ï¼šæ–°ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º readerï¼Œæ—§ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º writerã€‚ åŒæ—¶ä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œåªèƒ½æ·»åŠ è«åˆ é™¤å…·æœ‰é»˜è®¤å€¼çš„å­—æ®µã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210610222725-avro/","summary":"ä¸¤ç§æ¨¡å¼è¯­è¨€ï¼šIDL ç”¨äºäººå·¥ç¼–è¾‘ï¼Œå¦ä¸€ç§æ›´æ˜“äºæœºå™¨è¯»å–ã€‚\nAvro ç¼–ç æ•°æ®ä¸­åªæœ‰å¯¹åº”å­—æ®µçš„é•¿åº¦å’Œå…·ä½“çš„æ•°æ®ï¼Œä¸åŒ…å«å­—æ®µçš„ç±»å‹ä¿¡æ¯ã€‚\nå†™æ¨¡å¼ä¸è¯»æ¨¡å¼ å†™æ¨¡å¼ï¼šä½¿ç”¨æ‰€çŸ¥é“çš„æ¨¡å¼çš„ä»»ä½•ç‰ˆæœ¬æ¥ç¼–ç æ•°æ®ï¼ˆå¯ä»¥ç¼–è¯‘åˆ°ä»£ç ä¸­ï¼‰ è¯»æ¨¡å¼ï¼šè§£ç æ—¶æœŸæœ›æ•°æ®ç¬¦åˆæŸä¸ªæ¨¡å¼ï¼Œå¯èƒ½æ˜¯æ„å»ºè¿‡ç¨‹ä¸­åŸºäºæ¨¡å¼ç”Ÿæˆ Avro çš„å…³é”®æ€æƒ³æ˜¯å†™æ¨¡å¼å’Œè¯»ä¸å¿…å®Œå…¨ä¸€æ ·ï¼Œåªéœ€è¦ä¿æŒå…¼å®¹ï¼Œç”±è¯»å–ç«¯è§£å†³å·®å¼‚ï¼šé€šè¿‡å¯¹æ¯”æŸ¥çœ‹å†™æ¨¡å¼å’Œè¯»æ¨¡å¼å¹¶å°†æ•°æ®ä»å†™æ¨¡å¼è½¬æ¢ä¸ºè¯»æ¨¡å¼ã€‚\nè¯»å–æ•°æ®çš„ä»£ç ä¸­é‡åˆ°å‡ºç°åœ¨å†™æ¨¡å¼ä½†æ˜¯ä¸åœ¨è¯»æ¨¡å¼çš„å­—æ®µï¼Œåˆ™å¿½ç•¥ã€‚ å¦‚æœè¯»æ•°æ®çš„å¸¦ä»£ç éœ€è¦æŸä¸ªå­—æ®µï¼Œä½†æ˜¯å†™æ¨¡å¼ä¸åŒ…å«è¯¥å­—æ®µçš„åç§°ï¼Œåˆ™ä½¿ç”¨åœ¨è¯»æ¨¡å¼ä¸­å£°æ˜çš„é»˜è®¤å€¼å¡«å……ã€‚ æ¨¡å¼æ¼”åŒ– å‘å‰å…¼å®¹ï¼šæ–°ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º writerï¼Œæ—§ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º readerã€‚ å‘åå…¼å®¹ï¼šæ–°ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º readerï¼Œæ—§ç‰ˆæœ¬çš„æ¨¡å¼ä½œä¸º writerã€‚ åŒæ—¶ä¸ºäº†ä¿æŒå…¼å®¹æ€§ï¼Œåªèƒ½æ·»åŠ è«åˆ é™¤å…·æœ‰é»˜è®¤å€¼çš„å­—æ®µã€‚","title":"Avro"},{"content":"æ¯ä¸ªå­—æ®µä¸€ä¸ªæ ‡è®°å·ç ï¼Œå­—æ®µåå¯ä»¥éšæ„è°ƒæ•´å› ä¸ºç¼–ç ä¿¡æ¯ä¸­åªæœ‰æ ‡è®°å·ç ï¼Œæ²¡æœ‰å­—æ®µåç§°ï¼Œä½†æ˜¯æ ‡è®°å·ç ä¸èƒ½éšæ„è°ƒæ•´ï¼ŒåŸºäºæ­¤å¯ä»¥å®ç°ï¼š\nå‘å‰å…¼å®¹ æ—§ä»£ç å¿½ç•¥ä¸èƒ½è¯†åˆ«çš„æ ‡è®°å·ç ï¼Œå¹¶æ ¹æ®ç±»å‹çš„æ³¨é‡Šæ¥é€šçŸ¥è§£æå™¨è·³è¿‡ç‰¹å®šçš„å­—èŠ‚æ•°ã€‚ å‘åå…¼å®¹ æ ‡è®°å·ç ä¸å˜çš„æƒ…å†µä¸‹æ–°çš„ä»£ç æ€»æ˜¯èƒ½å¤Ÿè§£ææ—§ä»£ç åºåˆ—åŒ–çš„æ•°æ®ï¼Œä½†æ˜¯æ–°æ·»åŠ çš„å­—æ®µä¸èƒ½æ ‡è®°ä¸º requiredï¼Œä¸ç„¶ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ åŒæ—¶ä¸ºäº†ä¿è¯å‰åå…¼å®¹ï¼Œåˆ é™¤å­—æ®µä¹Ÿä¸èƒ½åˆ é™¤è®¾ç½®ä¸º required çš„å­—æ®µï¼ŒåŒæ—¶å†æ¬¡æ–°æ·»å­—æ®µæ ‡è®°å·ç ä¸èƒ½è¢«å†æ¬¡ä½¿ç”¨ã€‚\næ”¹å˜ç±»å‹åŒæ—¶ä¹Ÿä¼šå¯¼è‡´å‰åå…¼å®¹é—®é¢˜ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210610222754-thrift_%E4%B8%8E_protocol_buffers/","summary":"æ¯ä¸ªå­—æ®µä¸€ä¸ªæ ‡è®°å·ç ï¼Œå­—æ®µåå¯ä»¥éšæ„è°ƒæ•´å› ä¸ºç¼–ç ä¿¡æ¯ä¸­åªæœ‰æ ‡è®°å·ç ï¼Œæ²¡æœ‰å­—æ®µåç§°ï¼Œä½†æ˜¯æ ‡è®°å·ç ä¸èƒ½éšæ„è°ƒæ•´ï¼ŒåŸºäºæ­¤å¯ä»¥å®ç°ï¼š\nå‘å‰å…¼å®¹ æ—§ä»£ç å¿½ç•¥ä¸èƒ½è¯†åˆ«çš„æ ‡è®°å·ç ï¼Œå¹¶æ ¹æ®ç±»å‹çš„æ³¨é‡Šæ¥é€šçŸ¥è§£æå™¨è·³è¿‡ç‰¹å®šçš„å­—èŠ‚æ•°ã€‚ å‘åå…¼å®¹ æ ‡è®°å·ç ä¸å˜çš„æƒ…å†µä¸‹æ–°çš„ä»£ç æ€»æ˜¯èƒ½å¤Ÿè§£ææ—§ä»£ç åºåˆ—åŒ–çš„æ•°æ®ï¼Œä½†æ˜¯æ–°æ·»åŠ çš„å­—æ®µä¸èƒ½æ ‡è®°ä¸º requiredï¼Œä¸ç„¶ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚ åŒæ—¶ä¸ºäº†ä¿è¯å‰åå…¼å®¹ï¼Œåˆ é™¤å­—æ®µä¹Ÿä¸èƒ½åˆ é™¤è®¾ç½®ä¸º required çš„å­—æ®µï¼ŒåŒæ—¶å†æ¬¡æ–°æ·»å­—æ®µæ ‡è®°å·ç ä¸èƒ½è¢«å†æ¬¡ä½¿ç”¨ã€‚\næ”¹å˜ç±»å‹åŒæ—¶ä¹Ÿä¼šå¯¼è‡´å‰åå…¼å®¹é—®é¢˜ã€‚","title":"Thrift ä¸ Protocol Buffers"},{"content":"æ¨¡å¼æ¼”åŒ–è¦ä¿è¯ï¼š\nå‘åå…¼å®¹ è¾ƒæ–°çš„ä»£ç å¯ä»¥è¯»å–æ—§ä»£ç ç¼–å†™çš„æ•°æ® å‘å‰å…¼å®¹ è¾ƒæ—§çš„ä»£ç å¯ä»¥è¯»å–è¾ƒæ–°ä»£ç ç¼–å†™çš„æ•°æ® æ•°æ®ç¼–ç æ ¼å¼ è¯­è¨€ç‰¹å®šæ ¼å¼ Python pickle Java java.io.Serializable Ruby Marshal JSONã€XMLä¸äºŒè¿›åˆ¶å˜ä½“ äºŒè¿›åˆ¶å˜ä½“\nMessage Packï¼šäºŒè¿›åˆ¶çš„ JSON Thrift ä¸ Protocol Buffers Avro æ•°æ®æµæ¨¡å¼ åŸºäºæ•°æ®åº“çš„æ•°æ®æµ ä¸åŒæ˜¯å†™å†™å…¥ä¸åŒçš„å€¼ å½’æ¡£å­˜å‚¨ åŸºäºæœåŠ¡çš„æ•°æ®æµï¼šREST å’Œ RPC RPC çš„é—®é¢˜ ç»™äººä¸€ç§æœ¬åœ°è°ƒç”¨çš„é”™è§‰ï¼Œå´éœ€è¦é¢ä¸´ç½‘ç»œçš„ä¸ç¡®å®šæ€§ï¼šå»¶è¿Ÿå’Œè¶…æ—¶ã€‚\nåŸºäºæ¶ˆæ¯ä¼ é€’çš„æ•°æ®æµ æ¶ˆæ¯ä¸­é—´ä»¶ï¼šRabbitMQã€Kafka åˆ†å¸ƒå¼Actor æ¡†æ¶ï¼šAkkaã€Erlang OTP ","permalink":"https://notes.0081800.xyz/notes/20210610215330-%E6%95%B0%E6%8D%AE%E7%BC%96%E7%A0%81%E4%B8%8E%E6%BC%94%E5%8C%96/","summary":"æ¨¡å¼æ¼”åŒ–è¦ä¿è¯ï¼š\nå‘åå…¼å®¹ è¾ƒæ–°çš„ä»£ç å¯ä»¥è¯»å–æ—§ä»£ç ç¼–å†™çš„æ•°æ® å‘å‰å…¼å®¹ è¾ƒæ—§çš„ä»£ç å¯ä»¥è¯»å–è¾ƒæ–°ä»£ç ç¼–å†™çš„æ•°æ® æ•°æ®ç¼–ç æ ¼å¼ è¯­è¨€ç‰¹å®šæ ¼å¼ Python pickle Java java.io.Serializable Ruby Marshal JSONã€XMLä¸äºŒè¿›åˆ¶å˜ä½“ äºŒè¿›åˆ¶å˜ä½“\nMessage Packï¼šäºŒè¿›åˆ¶çš„ JSON Thrift ä¸ Protocol Buffers Avro æ•°æ®æµæ¨¡å¼ åŸºäºæ•°æ®åº“çš„æ•°æ®æµ ä¸åŒæ˜¯å†™å†™å…¥ä¸åŒçš„å€¼ å½’æ¡£å­˜å‚¨ åŸºäºæœåŠ¡çš„æ•°æ®æµï¼šREST å’Œ RPC RPC çš„é—®é¢˜ ç»™äººä¸€ç§æœ¬åœ°è°ƒç”¨çš„é”™è§‰ï¼Œå´éœ€è¦é¢ä¸´ç½‘ç»œçš„ä¸ç¡®å®šæ€§ï¼šå»¶è¿Ÿå’Œè¶…æ—¶ã€‚\nåŸºäºæ¶ˆæ¯ä¼ é€’çš„æ•°æ®æµ æ¶ˆæ¯ä¸­é—´ä»¶ï¼šRabbitMQã€Kafka åˆ†å¸ƒå¼Actor æ¡†æ¶ï¼šAkkaã€Erlang OTP ","title":"æ•°æ®ç¼–ç ä¸æ¼”åŒ–"},{"content":"åœ¨çº¿åˆ†æå¤„ç†ï¼ˆOnline Analytic Processingï¼ŒOLAPï¼‰ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210610214521-olap/","summary":"åœ¨çº¿åˆ†æå¤„ç†ï¼ˆOnline Analytic Processingï¼ŒOLAPï¼‰ã€‚","title":"OLAP"},{"content":"åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOnline Transaction Processingï¼ŒOLTPï¼‰ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210610214348-oltp/","summary":"åœ¨çº¿äº‹åŠ¡å¤„ç†ï¼ˆOnline Transaction Processingï¼ŒOLTPï¼‰ã€‚","title":"OLTP"},{"content":"B-tree æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„ç´¢å¼•ç»“æ„ã€‚å’Œæ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesä¸€æ ·ï¼ŒB-tree ä¿ç•™æŒ‰é”®æ’åºçš„ key-value å¯¹ï¼Œ è¿™æ ·å¯ä»¥å®ç°é«˜æ•ˆçš„ key-value æŸ¥æ‰¾å’ŒåŒºé—´æŸ¥è¯¢ã€‚\nç»“æ„ B-tree å°†æ•°æ®åº“åˆ†è§£æˆå›ºå®šå¤§å°çš„é¡µæˆ–å—ï¼Œä¼ ç»Ÿä¸Š 4KBï¼Œè¿™ç§è®¾è®¡æ›´æ¥è¿‘åº•å±‚ç¡¬ä»¶ï¼Œç£ç›˜ä¹Ÿæ˜¯ä»¥å›ºå®šå¤§å°çš„å—æ’åˆ—çš„ã€‚\nåˆ†é¡µå› å­ B-tree ä¸­ä¸€ä¸ªé¡µæ‰€åŒ…å«çš„å­é¡µå¼•ç”¨æ•°é‡ç§°ä¸ºåˆ†æ”¯å› å­ã€‚\næ·»åŠ æ–°é”® æ‰¾åˆ°å…¶èŒƒå›´æ–°é”®çš„é¡µ å¦‚æœé¡µæ²¡æœ‰è¶³å¤Ÿçš„å¯ç”¨ç©ºé—´æ¥å®¹çº³æ–°é”®ï¼Œåˆ™å°†å…¶åˆ†è£‚ä¸ºä¸¤ä¸ªåŠæ»¡çš„é¡µï¼Œå¹¶æ›´æ–°çˆ¶é¡µä»¥åŒ…å«æ–°çš„é”®èŒƒå›´ã€‚ ç®—æ³•ç¡®ä¿æ ‘ä¿æŒå¹³è¡¡ï¼šå…·æœ‰ n ä¸ªé”®çš„ B-tree æ€»æ˜¯å…·æœ‰ \\(O(log n)\\) çš„æ·±åº¦ã€‚å¤§å¤šæ•°æ®åº“é€‚åˆ 3~4 å±‚çš„ B-treeã€‚ åˆ†æ”¯å› å­ä¸º 500 çš„ 4KB é¡µçš„å››çº§æ ‘å¯ä»¥å­˜å‚¨é«˜è¾¾ 256TBã€‚\nå¯é æ€§ï¼šWAL B-tree åº•å±‚çš„åŸºæœ¬å†™æ“ä½œæ˜¯ä½¿ç”¨æ–°çš„æ•°æ®è¦†ç›–ç£ç›˜ä¸Šçš„æ—§é¡µã€‚\nå¦‚æœå‘ç”Ÿé¡µåˆ†è£‚åˆ™éœ€è¦è¦†ç›–å¤šä¸ªä¸åŒçš„é¡µï¼ŒåŒæ—¶æ›´æ–°çˆ¶é¡µï¼Œè¿™ä¸ªæ“ä½œæ¯”è¾ƒå±é™©ï¼Œå¦‚æœæ­¤æ—¶å‘ç”Ÿå´©æºƒåˆ™ä¼šç ´åç´¢å¼•ã€‚ å¸¸è§çš„ B-tree ä½¿ç”¨é¢å¤–çš„æ•°æ®ç»“æ„ï¼šé¢„å†™æ—¥å¿—(WAL)ï¼š\nè¿½åŠ çš„å†™ WALï¼› æ¯ä¸ª B-tree å¿…é¡»å…ˆæ›´æ–° WAL ç„¶åå†ä¿®æ”¹æ ‘æœ¬èº«çš„é¡µã€‚ é€šè¿‡ä½¿ç”¨ã€Œé”å­˜å™¨ã€ä¿æŠ¤è¿›è¡Œå¹¶å‘æ§åˆ¶ï¼Œä¿æŠ¤ B-tree é¡µè¢«å¤šä¸ªçº¿ç¨‹è®¿é—®è€Œçœ‹åˆ°æ ‘ä¸ä¸€æ ·çš„çŠ¶æ€ã€‚\nä¼˜åŒ– é€šè¿‡å¤åˆ¶æ–¹æ¡ˆæ›¿ä»£ WAL è¿›è¡Œå´©æºƒæ¢å¤ï¼Œä¿®æ”¹çš„é¡µè¢«å†™å…¥ä¸åŒçš„ä½ç½®ï¼Œæ ‘ä¸­çˆ¶é¡µçš„æ–°ç‰ˆæœ¬è¢«åˆ›å»ºï¼Œå¹¶æŒ‡å‘æ–°çš„ä½ç½®ã€‚ ä¿å­˜é”®çš„ç¼©ç•¥ä¿¡æ¯ï¼Œå¯ä»¥å‹å…¥æ›´å¤šçš„é”®ï¼Œä¿æŒæ›´é«˜çš„åˆ†æ”¯å› å­ï¼Œå‡å°‘å±‚æ•°ã€‚ å¯¹æ ‘è¿›è¡Œå¸ƒå±€ï¼Œç›¸é‚»å¶å­é¡µæŒ‰é¡ºåºä¿å­˜åœ¨ç£ç›˜ã€‚ æ·»åŠ é¢å¤–çš„æŒ‡é’ˆåˆ°æ ‘ä¸­ï¼Œå¦‚å·¦å³å…„å¼Ÿé¡µã€‚ å˜ä½“ï¼Œå¦‚åˆ†å½¢æ ‘ï¼šå€Ÿé‰´æ—¥å¿—ç»“æ„å‡å°‘ç£ç›˜å¯»é“ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210606143901-b_trees/","summary":"B-tree æ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„ç´¢å¼•ç»“æ„ã€‚å’Œæ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesä¸€æ ·ï¼ŒB-tree ä¿ç•™æŒ‰é”®æ’åºçš„ key-value å¯¹ï¼Œ è¿™æ ·å¯ä»¥å®ç°é«˜æ•ˆçš„ key-value æŸ¥æ‰¾å’ŒåŒºé—´æŸ¥è¯¢ã€‚\nç»“æ„ B-tree å°†æ•°æ®åº“åˆ†è§£æˆå›ºå®šå¤§å°çš„é¡µæˆ–å—ï¼Œä¼ ç»Ÿä¸Š 4KBï¼Œè¿™ç§è®¾è®¡æ›´æ¥è¿‘åº•å±‚ç¡¬ä»¶ï¼Œç£ç›˜ä¹Ÿæ˜¯ä»¥å›ºå®šå¤§å°çš„å—æ’åˆ—çš„ã€‚\nåˆ†é¡µå› å­ B-tree ä¸­ä¸€ä¸ªé¡µæ‰€åŒ…å«çš„å­é¡µå¼•ç”¨æ•°é‡ç§°ä¸ºåˆ†æ”¯å› å­ã€‚\næ·»åŠ æ–°é”® æ‰¾åˆ°å…¶èŒƒå›´æ–°é”®çš„é¡µ å¦‚æœé¡µæ²¡æœ‰è¶³å¤Ÿçš„å¯ç”¨ç©ºé—´æ¥å®¹çº³æ–°é”®ï¼Œåˆ™å°†å…¶åˆ†è£‚ä¸ºä¸¤ä¸ªåŠæ»¡çš„é¡µï¼Œå¹¶æ›´æ–°çˆ¶é¡µä»¥åŒ…å«æ–°çš„é”®èŒƒå›´ã€‚ ç®—æ³•ç¡®ä¿æ ‘ä¿æŒå¹³è¡¡ï¼šå…·æœ‰ n ä¸ªé”®çš„ B-tree æ€»æ˜¯å…·æœ‰ \\(O(log n)\\) çš„æ·±åº¦ã€‚å¤§å¤šæ•°æ®åº“é€‚åˆ 3~4 å±‚çš„ B-treeã€‚ åˆ†æ”¯å› å­ä¸º 500 çš„ 4KB é¡µçš„å››çº§æ ‘å¯ä»¥å­˜å‚¨é«˜è¾¾ 256TBã€‚\nå¯é æ€§ï¼šWAL B-tree åº•å±‚çš„åŸºæœ¬å†™æ“ä½œæ˜¯ä½¿ç”¨æ–°çš„æ•°æ®è¦†ç›–ç£ç›˜ä¸Šçš„æ—§é¡µã€‚\nå¦‚æœå‘ç”Ÿé¡µåˆ†è£‚åˆ™éœ€è¦è¦†ç›–å¤šä¸ªä¸åŒçš„é¡µï¼ŒåŒæ—¶æ›´æ–°çˆ¶é¡µï¼Œè¿™ä¸ªæ“ä½œæ¯”è¾ƒå±é™©ï¼Œå¦‚æœæ­¤æ—¶å‘ç”Ÿå´©æºƒåˆ™ä¼šç ´åç´¢å¼•ã€‚ å¸¸è§çš„ B-tree ä½¿ç”¨é¢å¤–çš„æ•°æ®ç»“æ„ï¼šé¢„å†™æ—¥å¿—(WAL)ï¼š\nè¿½åŠ çš„å†™ WALï¼› æ¯ä¸ª B-tree å¿…é¡»å…ˆæ›´æ–° WAL ç„¶åå†ä¿®æ”¹æ ‘æœ¬èº«çš„é¡µã€‚ é€šè¿‡ä½¿ç”¨ã€Œé”å­˜å™¨ã€ä¿æŠ¤è¿›è¡Œå¹¶å‘æ§åˆ¶ï¼Œä¿æŠ¤ B-tree é¡µè¢«å¤šä¸ªçº¿ç¨‹è®¿é—®è€Œçœ‹åˆ°æ ‘ä¸ä¸€æ ·çš„çŠ¶æ€ã€‚\nä¼˜åŒ– é€šè¿‡å¤åˆ¶æ–¹æ¡ˆæ›¿ä»£ WAL è¿›è¡Œå´©æºƒæ¢å¤ï¼Œä¿®æ”¹çš„é¡µè¢«å†™å…¥ä¸åŒçš„ä½ç½®ï¼Œæ ‘ä¸­çˆ¶é¡µçš„æ–°ç‰ˆæœ¬è¢«åˆ›å»ºï¼Œå¹¶æŒ‡å‘æ–°çš„ä½ç½®ã€‚ ä¿å­˜é”®çš„ç¼©ç•¥ä¿¡æ¯ï¼Œå¯ä»¥å‹å…¥æ›´å¤šçš„é”®ï¼Œä¿æŒæ›´é«˜çš„åˆ†æ”¯å› å­ï¼Œå‡å°‘å±‚æ•°ã€‚ å¯¹æ ‘è¿›è¡Œå¸ƒå±€ï¼Œç›¸é‚»å¶å­é¡µæŒ‰é¡ºåºä¿å­˜åœ¨ç£ç›˜ã€‚ æ·»åŠ é¢å¤–çš„æŒ‡é’ˆåˆ°æ ‘ä¸­ï¼Œå¦‚å·¦å³å…„å¼Ÿé¡µã€‚ å˜ä½“ï¼Œå¦‚åˆ†å½¢æ ‘ï¼šå€Ÿé‰´æ—¥å¿—ç»“æ„å‡å°‘ç£ç›˜å¯»é“ã€‚ ","title":"B-trees"},{"content":"ç´¢å¼• å…ˆæ¥çœ‹ä¸€ä¸ªä¸–ç•Œä¸Šç”± Bash å®ç°çš„æœ€ç®€å•çš„æ•°æ®åº“å®ç°ï¼š\n#!/bin/bash db_set() { echo \u0026#34;$1,$2\u0026#34; \u0026gt;\u0026gt; database } db_get() { grep \u0026#34;^$1,\u0026#34; database | sed -e \u0026#34;s/^$1,//\u0026#34; | tail -n 1 } è¿™ç§æ•°æ®åº“é€šè¿‡è¿½åŠ æ–‡ä»¶å°¾éƒ¨çš„æ–¹å¼é«˜æ•ˆå†™å…¥ï¼Œè®¸å¤šæ•°æ®åº“å†…éƒ¨éƒ½æ˜¯ç”¨æ—¥å¿—ï¼Œæ—¥å¿—æ˜¯ä¸€ä¸ªä»…æ”¯æŒè¿½åŠ æ›´æ–°çš„æ•°æ®æ–‡ä»¶ã€‚ä½†æ˜¯ db_get çš„æ€§èƒ½ä¼šéšç€æ•°æ®é‡çš„å˜å¤§è€Œä¸‹é™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å°±éœ€è¦å¼•å…¥æ–°çš„æ•°æ®ç»“æ„ï¼š ç´¢å¼• ã€‚\nç´¢å¼•æ˜¯åŸºäºåŸå§‹æ•°æ®è€Œæ´¾ç”Ÿè€Œæ¥çš„é¢å¤–æ•°æ®ç»“æ„ï¼šé€‚å½“çš„ç´¢å¼•å¯ä»¥åŠ é€Ÿè¯»å–æŸ¥è¯¢ï¼Œä½†æ˜¯å›å‡æ…¢å†™é€Ÿåº¦ã€‚\nkey-value ç´¢å¼•é€šå¸¸ä½¿ç”¨ hash map æ¥å®ç°ï¼Œæœ€ç®€å•çš„ç´¢å¼•ç­–ç•¥ï¼šä¿å­˜å†…å­˜ä¸­çš„ hash mapï¼ŒæŠŠæ¯ä¸ªé”®ä¸€ä¸€æ˜ å°„åˆ°æ•°æ®æ–‡ä»¶ä¸­ç‰¹å®šçš„å­—èŠ‚åç§»é‡ã€‚\nä¼˜åŒ–ç£ç›˜å ç”¨ å°†æ—¥å¿—åˆ†è§£æˆä¸€å®šå¤§å°çš„æ®µï¼Œå½“æ–‡ä»¶è¾¾åˆ°ä¸€å®šå¤§å°æ—¶å°±å…³é—­å®ƒï¼Œå¹¶å°†åç»­å†™å…¥åˆ°æ–°çš„æ®µæ–‡ä»¶ä¸­ã€‚ ç„¶åå¯ä»¥åœ¨è¿™äº›æ®µä¸Šæ‰§è¡Œå‹ç¼©ï¼šä¸¢å¼ƒé‡å¤çš„é”®ï¼Œå¹¶ä¸”åªä¿ç•™æ¯ä¸ªé”®æœ€è¿‘çš„æ›´æ–°ã€‚ åŒæ—¶å°†å˜å°åçš„å¤šä¸ªæ®µåœ¨åå°åˆå¹¶åœ¨ä¸€èµ·ï¼ˆæ®µåœ¨å†™å…¥åä¸å†ä¼šè¿›è¡Œä¿®æ”¹æ‰€ä»¥ä¸ä¼šå‡ºç°ç«äº‰ï¼‰ã€‚ åˆå¹¶å®Œæˆåå°†è¯»å–è¯·æ±‚åˆ‡æ¢åˆ°æ–°çš„åˆå¹¶æ®µä¸Šï¼Œç„¶åå¯ä»¥å®‰å…¨çš„åˆ é™¤æ—§çš„æ®µæ–‡ä»¶ã€‚ å®ç°ä¸­é¢ä¸´çš„é—®é¢˜ æ–‡ä»¶æ ¼å¼ï¼šäºŒè¿›åˆ¶ã€‚ åˆ é™¤è®°å½•ï¼šé€šè¿‡ç‰¹æ®Šçš„å¢“ç¢‘æ ‡è®°ã€‚ å´©æºƒæ¢å¤ï¼šBitcask é€šè¿‡å°† hash map å¿«ç…§å­˜å‚¨åˆ°ç£ç›˜ã€‚ éƒ¨åˆ†å†™å…¥ï¼šæ–‡ä»¶æ ¡éªŒä¸¢å¼ƒæŸåçš„éƒ¨åˆ†ã€‚ å¹¶å‘æ§åˆ¶ï¼šåªæœ‰ä¸€ä¸ªå†™çº¿ç¨‹ã€‚ è¿½åŠ çš„å¥½å¤„ é¡ºåºå†™æ€§èƒ½é«˜ã€‚ å¹¶å‘æ§åˆ¶å’Œå´©æºƒæ¢å¤ç®€å•ã€‚ æ®µåˆå¹¶é¿å…æ–‡ä»¶ç¢ç‰‡åŒ–ã€‚ å±€é™æ€§ å¤§é‡çš„é”®å­˜å‚¨åœ¨å†…å­˜å¯èƒ½å¯¼è‡´å†…å­˜è€—å°½ï¼ŒåŒæ—¶éœ€è¦å¤„ç†å“ˆå¸Œå†²çª åŒºé—´æŸ¥è¯¢æ•ˆç‡ä¸é«˜ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210606103354-%E5%93%88%E5%B8%8C%E7%B4%A2%E5%BC%95/","summary":"ç´¢å¼• å…ˆæ¥çœ‹ä¸€ä¸ªä¸–ç•Œä¸Šç”± Bash å®ç°çš„æœ€ç®€å•çš„æ•°æ®åº“å®ç°ï¼š\n#!/bin/bash db_set() { echo \u0026#34;$1,$2\u0026#34; \u0026gt;\u0026gt; database } db_get() { grep \u0026#34;^$1,\u0026#34; database | sed -e \u0026#34;s/^$1,//\u0026#34; | tail -n 1 } è¿™ç§æ•°æ®åº“é€šè¿‡è¿½åŠ æ–‡ä»¶å°¾éƒ¨çš„æ–¹å¼é«˜æ•ˆå†™å…¥ï¼Œè®¸å¤šæ•°æ®åº“å†…éƒ¨éƒ½æ˜¯ç”¨æ—¥å¿—ï¼Œæ—¥å¿—æ˜¯ä¸€ä¸ªä»…æ”¯æŒè¿½åŠ æ›´æ–°çš„æ•°æ®æ–‡ä»¶ã€‚ä½†æ˜¯ db_get çš„æ€§èƒ½ä¼šéšç€æ•°æ®é‡çš„å˜å¤§è€Œä¸‹é™ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å°±éœ€è¦å¼•å…¥æ–°çš„æ•°æ®ç»“æ„ï¼š ç´¢å¼• ã€‚\nç´¢å¼•æ˜¯åŸºäºåŸå§‹æ•°æ®è€Œæ´¾ç”Ÿè€Œæ¥çš„é¢å¤–æ•°æ®ç»“æ„ï¼šé€‚å½“çš„ç´¢å¼•å¯ä»¥åŠ é€Ÿè¯»å–æŸ¥è¯¢ï¼Œä½†æ˜¯å›å‡æ…¢å†™é€Ÿåº¦ã€‚\nkey-value ç´¢å¼•é€šå¸¸ä½¿ç”¨ hash map æ¥å®ç°ï¼Œæœ€ç®€å•çš„ç´¢å¼•ç­–ç•¥ï¼šä¿å­˜å†…å­˜ä¸­çš„ hash mapï¼ŒæŠŠæ¯ä¸ªé”®ä¸€ä¸€æ˜ å°„åˆ°æ•°æ®æ–‡ä»¶ä¸­ç‰¹å®šçš„å­—èŠ‚åç§»é‡ã€‚\nä¼˜åŒ–ç£ç›˜å ç”¨ å°†æ—¥å¿—åˆ†è§£æˆä¸€å®šå¤§å°çš„æ®µï¼Œå½“æ–‡ä»¶è¾¾åˆ°ä¸€å®šå¤§å°æ—¶å°±å…³é—­å®ƒï¼Œå¹¶å°†åç»­å†™å…¥åˆ°æ–°çš„æ®µæ–‡ä»¶ä¸­ã€‚ ç„¶åå¯ä»¥åœ¨è¿™äº›æ®µä¸Šæ‰§è¡Œå‹ç¼©ï¼šä¸¢å¼ƒé‡å¤çš„é”®ï¼Œå¹¶ä¸”åªä¿ç•™æ¯ä¸ªé”®æœ€è¿‘çš„æ›´æ–°ã€‚ åŒæ—¶å°†å˜å°åçš„å¤šä¸ªæ®µåœ¨åå°åˆå¹¶åœ¨ä¸€èµ·ï¼ˆæ®µåœ¨å†™å…¥åä¸å†ä¼šè¿›è¡Œä¿®æ”¹æ‰€ä»¥ä¸ä¼šå‡ºç°ç«äº‰ï¼‰ã€‚ åˆå¹¶å®Œæˆåå°†è¯»å–è¯·æ±‚åˆ‡æ¢åˆ°æ–°çš„åˆå¹¶æ®µä¸Šï¼Œç„¶åå¯ä»¥å®‰å…¨çš„åˆ é™¤æ—§çš„æ®µæ–‡ä»¶ã€‚ å®ç°ä¸­é¢ä¸´çš„é—®é¢˜ æ–‡ä»¶æ ¼å¼ï¼šäºŒè¿›åˆ¶ã€‚ åˆ é™¤è®°å½•ï¼šé€šè¿‡ç‰¹æ®Šçš„å¢“ç¢‘æ ‡è®°ã€‚ å´©æºƒæ¢å¤ï¼šBitcask é€šè¿‡å°† hash map å¿«ç…§å­˜å‚¨åˆ°ç£ç›˜ã€‚ éƒ¨åˆ†å†™å…¥ï¼šæ–‡ä»¶æ ¡éªŒä¸¢å¼ƒæŸåçš„éƒ¨åˆ†ã€‚ å¹¶å‘æ§åˆ¶ï¼šåªæœ‰ä¸€ä¸ªå†™çº¿ç¨‹ã€‚ è¿½åŠ çš„å¥½å¤„ é¡ºåºå†™æ€§èƒ½é«˜ã€‚ å¹¶å‘æ§åˆ¶å’Œå´©æºƒæ¢å¤ç®€å•ã€‚ æ®µåˆå¹¶é¿å…æ–‡ä»¶ç¢ç‰‡åŒ–ã€‚ å±€é™æ€§ å¤§é‡çš„é”®å­˜å‚¨åœ¨å†…å­˜å¯èƒ½å¯¼è‡´å†…å­˜è€—å°½ï¼ŒåŒæ—¶éœ€è¦å¤„ç†å“ˆå¸Œå†²çª åŒºé—´æŸ¥è¯¢æ•ˆç‡ä¸é«˜ã€‚ ","title":"å“ˆå¸Œç´¢å¼•"},{"content":"SSTables é€šè¿‡æŒ‰ç…§é”®çš„é¡ºåºå­˜å‚¨åœ¨æ—¥å¿—æ®µæ–‡ä»¶ä¸­æ¥è§£å†³å“ˆå¸Œç´¢å¼•é¢ä¸´çš„ä¸€äº›é—®é¢˜ã€‚å®ƒè¦æ±‚æ¯ä¸ªé”®åœ¨æ¯ä¸ªåˆå¹¶çš„æ®µæ–‡ä»¶ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼ˆé€šè¿‡å‹ç¼©ç¡®ä¿ï¼‰ã€‚\nå¯¹æ¯”å“ˆå¸Œç´¢å¼•çš„æ—¥å¿—æ®µ ä¼˜ç‚¹ åˆå¹¶æ®µæ›´åŠ é«˜æ•ˆï¼Œå³ä½¿æ–‡ä»¶å¤§äºå¯ç”¨å†…å­˜ã€‚ç±»ä¼¼äºå½’å¹¶æ’åºç®—æ³•ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚å¹¶å‘è¯»å–å¤šä¸ªè¾“å…¥æ®µæ–‡ä»¶ï¼Œæ¯”è¾ƒæ¯ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªé”®ï¼ŒæŠŠæœ€å°çš„é”®æ‹·è´åˆ°è¾“å‡ºæ–‡ä»¶ï¼Œå¹¶é‡å¤ã€‚\nè§£å†³å¤šä¸ªæ®µæ–‡ä»¶é‡å¤ï¼šä¿ç•™æœ€æ–°çš„å€¼ï¼Œå› ä¸ºæ¯ä¸ªæ®µåŒ…å«åœ¨æŸæ®µæ—¶é—´å†…å†™å…¥æ•°æ®åº“çš„æ‰€æœ‰å€¼ï¼Œæ„å‘³ç€è‚¯å®šæœ‰ä¸€ä¸ªå€¼æ¯”å…¶ä»–æ‰€æœ‰å€¼æ›´æ–°ã€‚\nåŸºäºé”®æœ‰åºçš„ç‰¹æ€§å¯ä»¥é‡‡ç”¨ç¨€ç–ç´¢å¼•é¿å…å†…å­˜ä¸­åŒ…å«æ‰€æœ‰é”®çš„ç´¢å¼•ã€‚\nå°†ä¸€å®šèŒƒå›´å†…çš„æ‰€æœ‰é”®å­˜å‚¨åˆ°ä¸€ä¸ªå—ä¸­ï¼Œä¾¿äºéœ€è¦è¯·æ±‚èŒƒå›´å†…å¤šä¸ª key-valueï¼Œé™ä½ç£ç›˜ I/Oã€‚\næ„å»ºå’Œç»´æŠ¤ ä¿è¯é¡ºåº å†…å­˜ä¸­ç—›å“¦çº¢é»‘æ ‘æˆ–è€… AVL æ ‘æ”¯æŒä»»æ„é¡ºåºæ’å…¥å¹¶ä»¥æ’åºåçš„é¡ºåºè¯»å–å®ƒä»¬ã€‚\nå†™å…¥æ—¶ï¼Œå°†å…¶æ·»åŠ åˆ°å†…å­˜ä¸­çš„å¹³è¡¡æ ‘æ•°æ®ç»“æ„ä¸­ï¼Œæˆä¸ºå†…å­˜è¡¨ã€‚ å†…å­˜è¡¨å¤§äºæŸä¸ªé˜ˆå€¼ï¼ˆMBçº§åˆ«ï¼‰ï¼Œå°†å…¶ä½œä¸º SSTable æ–‡ä»¶å†™å…¥ç£ç›˜ã€‚å†™å…¥åŒæ—¶ï¼Œå†™å…¥å¯ä»¥ç»§ç»­æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„å†…å­˜è¡¨å®ä¾‹ä¸­ã€‚ å¤„ç†è¯·æ±‚é¡ºåºï¼šé¦–å…ˆä»å†…å­˜è¡¨ä¸­æŸ¥æ‰¾é”® -\u0026gt; æœ€æ–°çš„ç£ç›˜æ®µæ–‡ä»¶ -\u0026gt; æ¬¡æ–°ç£ç›˜æ®µæ–‡ä»¶ï¼Œä»¥æ­¤ç±»æ¨ã€‚ åå°è¿›ç¨‹å‘¨æœŸæ€§æ‰§è¡Œæ®µåˆå¹¶ä¸å‹ç¼©ï¼Œåˆå¹¶å¤šä¸ªæ®µæ–‡ä»¶å¹¶ä¸¢å¼ƒè¢«è¦†ç›–æˆ–ç€åˆ é™¤çš„å€¼ã€‚ å´©æºƒå¤„ç† ä¸ºäº†é¿å…æ•°æ®åº“å´©æºƒæœ€è¿‘çš„å†™å…¥ï¼ˆåœ¨å†…å­˜è¡¨ä¸­å°šæœªå†™å…¥ç£ç›˜ï¼‰å°†ä¼šä¸¢å¤±çš„é—®é¢˜ï¼š\nåœ¨ç£ç›˜ä¸Šä¿ç•™å•ç‹¬çš„æ—¥å¿—ï¼Œæ¯ä¸ªå†™å…¥éƒ½ä¼šç«‹å³è¿½åŠ åˆ°è¯¥æ—¥å¿—ã€‚å¹¶ä¸”æ— éœ€æ’åºã€‚ å†…å­˜è¡¨å†™å…¥ SSTable æ—¶ï¼Œä¸¢å¼ƒç›¸åº”çš„æ—¥å¿—ã€‚ ä½¿ç”¨æ­¤æŠ€æœ¯çš„æ•°æ®åº“ LevelDB RocksDB ç±»ä¼¼çš„\nCassandra HBase ","permalink":"https://notes.0081800.xyz/notes/20210606103142-%E6%8E%92%E5%BA%8F%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A1%A8_sstables/","summary":"SSTables é€šè¿‡æŒ‰ç…§é”®çš„é¡ºåºå­˜å‚¨åœ¨æ—¥å¿—æ®µæ–‡ä»¶ä¸­æ¥è§£å†³å“ˆå¸Œç´¢å¼•é¢ä¸´çš„ä¸€äº›é—®é¢˜ã€‚å®ƒè¦æ±‚æ¯ä¸ªé”®åœ¨æ¯ä¸ªåˆå¹¶çš„æ®µæ–‡ä»¶ä¸­åªèƒ½å‡ºç°ä¸€æ¬¡ï¼ˆé€šè¿‡å‹ç¼©ç¡®ä¿ï¼‰ã€‚\nå¯¹æ¯”å“ˆå¸Œç´¢å¼•çš„æ—¥å¿—æ®µ ä¼˜ç‚¹ åˆå¹¶æ®µæ›´åŠ é«˜æ•ˆï¼Œå³ä½¿æ–‡ä»¶å¤§äºå¯ç”¨å†…å­˜ã€‚ç±»ä¼¼äºå½’å¹¶æ’åºç®—æ³•ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚å¹¶å‘è¯»å–å¤šä¸ªè¾“å…¥æ®µæ–‡ä»¶ï¼Œæ¯”è¾ƒæ¯ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªé”®ï¼ŒæŠŠæœ€å°çš„é”®æ‹·è´åˆ°è¾“å‡ºæ–‡ä»¶ï¼Œå¹¶é‡å¤ã€‚\nè§£å†³å¤šä¸ªæ®µæ–‡ä»¶é‡å¤ï¼šä¿ç•™æœ€æ–°çš„å€¼ï¼Œå› ä¸ºæ¯ä¸ªæ®µåŒ…å«åœ¨æŸæ®µæ—¶é—´å†…å†™å…¥æ•°æ®åº“çš„æ‰€æœ‰å€¼ï¼Œæ„å‘³ç€è‚¯å®šæœ‰ä¸€ä¸ªå€¼æ¯”å…¶ä»–æ‰€æœ‰å€¼æ›´æ–°ã€‚\nåŸºäºé”®æœ‰åºçš„ç‰¹æ€§å¯ä»¥é‡‡ç”¨ç¨€ç–ç´¢å¼•é¿å…å†…å­˜ä¸­åŒ…å«æ‰€æœ‰é”®çš„ç´¢å¼•ã€‚\nå°†ä¸€å®šèŒƒå›´å†…çš„æ‰€æœ‰é”®å­˜å‚¨åˆ°ä¸€ä¸ªå—ä¸­ï¼Œä¾¿äºéœ€è¦è¯·æ±‚èŒƒå›´å†…å¤šä¸ª key-valueï¼Œé™ä½ç£ç›˜ I/Oã€‚\næ„å»ºå’Œç»´æŠ¤ ä¿è¯é¡ºåº å†…å­˜ä¸­ç—›å“¦çº¢é»‘æ ‘æˆ–è€… AVL æ ‘æ”¯æŒä»»æ„é¡ºåºæ’å…¥å¹¶ä»¥æ’åºåçš„é¡ºåºè¯»å–å®ƒä»¬ã€‚\nå†™å…¥æ—¶ï¼Œå°†å…¶æ·»åŠ åˆ°å†…å­˜ä¸­çš„å¹³è¡¡æ ‘æ•°æ®ç»“æ„ä¸­ï¼Œæˆä¸ºå†…å­˜è¡¨ã€‚ å†…å­˜è¡¨å¤§äºæŸä¸ªé˜ˆå€¼ï¼ˆMBçº§åˆ«ï¼‰ï¼Œå°†å…¶ä½œä¸º SSTable æ–‡ä»¶å†™å…¥ç£ç›˜ã€‚å†™å…¥åŒæ—¶ï¼Œå†™å…¥å¯ä»¥ç»§ç»­æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„å†…å­˜è¡¨å®ä¾‹ä¸­ã€‚ å¤„ç†è¯·æ±‚é¡ºåºï¼šé¦–å…ˆä»å†…å­˜è¡¨ä¸­æŸ¥æ‰¾é”® -\u0026gt; æœ€æ–°çš„ç£ç›˜æ®µæ–‡ä»¶ -\u0026gt; æ¬¡æ–°ç£ç›˜æ®µæ–‡ä»¶ï¼Œä»¥æ­¤ç±»æ¨ã€‚ åå°è¿›ç¨‹å‘¨æœŸæ€§æ‰§è¡Œæ®µåˆå¹¶ä¸å‹ç¼©ï¼Œåˆå¹¶å¤šä¸ªæ®µæ–‡ä»¶å¹¶ä¸¢å¼ƒè¢«è¦†ç›–æˆ–ç€åˆ é™¤çš„å€¼ã€‚ å´©æºƒå¤„ç† ä¸ºäº†é¿å…æ•°æ®åº“å´©æºƒæœ€è¿‘çš„å†™å…¥ï¼ˆåœ¨å†…å­˜è¡¨ä¸­å°šæœªå†™å…¥ç£ç›˜ï¼‰å°†ä¼šä¸¢å¤±çš„é—®é¢˜ï¼š\nåœ¨ç£ç›˜ä¸Šä¿ç•™å•ç‹¬çš„æ—¥å¿—ï¼Œæ¯ä¸ªå†™å…¥éƒ½ä¼šç«‹å³è¿½åŠ åˆ°è¯¥æ—¥å¿—ã€‚å¹¶ä¸”æ— éœ€æ’åºã€‚ å†…å­˜è¡¨å†™å…¥ SSTable æ—¶ï¼Œä¸¢å¼ƒç›¸åº”çš„æ—¥å¿—ã€‚ ä½¿ç”¨æ­¤æŠ€æœ¯çš„æ•°æ®åº“ LevelDB RocksDB ç±»ä¼¼çš„\nCassandra HBase ","title":"æ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTables"},{"content":" tags: Tree æ—¥å¿—ç»“æ„åˆå¹¶æ ‘ï¼ˆLog-Structured Merge-Treeï¼‰ï¼šåŸºäºåˆå¹¶å’Œå‹ç¼©æ’åºæ–‡ä»¶åŸç†çš„å­˜å‚¨å¼•æ“é€šå¸¸éƒ½è¢«ç§°ä¸º LSM å­˜å‚¨å¼•æ“ã€‚\nå‹ç¼©æ’åºæ–‡ä»¶åŸºäºæ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesã€‚\nLSM-Tree åŸºæœ¬æ€æƒ³ï¼šä¿å­˜åœ¨åå°å¹¶åˆå¹¶çš„æ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesã€‚å³ä½¿æ•°æ®é›†è¿œè¿œå¤§äºå¯ç”¨å†…å­˜ï¼Œä»ç„¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚ åŸºäºæœ‰åºçš„ç‰¹æ€§ï¼Œå¯ä»¥æœ‰æ•ˆçš„æ‰§è¡ŒåŒºé—´æŸ¥è¯¢ï¼Œå¹¶ä¸”ç”±äºç£ç›˜æ˜¯é¡ºåºå†™å…¥ï¼Œæ‰€ä»¥ LSM-Tree å¯ä»¥æ”¯æŒéå¸¸é«˜çš„å†™å…¥ååé‡ã€‚\næ€§èƒ½ä¼˜åŒ– é€šè¿‡å¸ƒéš†è¿‡æ»¤å™¨ä¼˜åŒ– LSM-Tree æŸ¥æ‰¾ä¸å­˜åœ¨çš„é”®æ€§èƒ½ä½ä¸‹çš„é—®é¢˜ã€‚ é€šè¿‡å¤§å°åˆ†çº§å’Œåˆ†å±‚å‹ç¼©ä¼˜åŒ– SSTables å‹ç¼©å’Œåˆå¹¶æ—¶çš„å…·ä½“é¡ºåºå’Œæ—¶æœºã€‚ å¤§å°åˆ†çº§ï¼šè¾ƒæ–°å’Œè¾ƒå°çš„ SSTables è¢«è¿ç»­åˆå¹¶åˆ°è¾ƒæ—§å’Œè¾ƒå¤§çš„ SSTablesã€‚ åˆ†å±‚å‹ç¼©ï¼šé”®çš„èŒƒå›´åˆ†è£‚æˆå¤šä¸ªæ›´å°çš„ SSTablesï¼Œå°±æ•°æ®è¢«ç§»åŠ¨åˆ°å•ç‹¬çš„â€œå±‚çº§â€ï¼Œè¿™æ ·å‹ç¼©å¯ä»¥é€æ­¥è¿›è¡Œå¹¶èŠ‚çœç£ç›˜ç©ºé—´ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210606100317-lsm_tree/","summary":" tags: Tree æ—¥å¿—ç»“æ„åˆå¹¶æ ‘ï¼ˆLog-Structured Merge-Treeï¼‰ï¼šåŸºäºåˆå¹¶å’Œå‹ç¼©æ’åºæ–‡ä»¶åŸç†çš„å­˜å‚¨å¼•æ“é€šå¸¸éƒ½è¢«ç§°ä¸º LSM å­˜å‚¨å¼•æ“ã€‚\nå‹ç¼©æ’åºæ–‡ä»¶åŸºäºæ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesã€‚\nLSM-Tree åŸºæœ¬æ€æƒ³ï¼šä¿å­˜åœ¨åå°å¹¶åˆå¹¶çš„æ’åºå­—ç¬¦ä¸²è¡¨ï¼šSSTablesã€‚å³ä½¿æ•°æ®é›†è¿œè¿œå¤§äºå¯ç”¨å†…å­˜ï¼Œä»ç„¶èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚ åŸºäºæœ‰åºçš„ç‰¹æ€§ï¼Œå¯ä»¥æœ‰æ•ˆçš„æ‰§è¡ŒåŒºé—´æŸ¥è¯¢ï¼Œå¹¶ä¸”ç”±äºç£ç›˜æ˜¯é¡ºåºå†™å…¥ï¼Œæ‰€ä»¥ LSM-Tree å¯ä»¥æ”¯æŒéå¸¸é«˜çš„å†™å…¥ååé‡ã€‚\næ€§èƒ½ä¼˜åŒ– é€šè¿‡å¸ƒéš†è¿‡æ»¤å™¨ä¼˜åŒ– LSM-Tree æŸ¥æ‰¾ä¸å­˜åœ¨çš„é”®æ€§èƒ½ä½ä¸‹çš„é—®é¢˜ã€‚ é€šè¿‡å¤§å°åˆ†çº§å’Œåˆ†å±‚å‹ç¼©ä¼˜åŒ– SSTables å‹ç¼©å’Œåˆå¹¶æ—¶çš„å…·ä½“é¡ºåºå’Œæ—¶æœºã€‚ å¤§å°åˆ†çº§ï¼šè¾ƒæ–°å’Œè¾ƒå°çš„ SSTables è¢«è¿ç»­åˆå¹¶åˆ°è¾ƒæ—§å’Œè¾ƒå¤§çš„ SSTablesã€‚ åˆ†å±‚å‹ç¼©ï¼šé”®çš„èŒƒå›´åˆ†è£‚æˆå¤šä¸ªæ›´å°çš„ SSTablesï¼Œå°±æ•°æ®è¢«ç§»åŠ¨åˆ°å•ç‹¬çš„â€œå±‚çº§â€ï¼Œè¿™æ ·å‹ç¼©å¯ä»¥é€æ­¥è¿›è¡Œå¹¶èŠ‚çœç£ç›˜ç©ºé—´ã€‚ ","title":"LSM-Tree"},{"content":"å­˜å‚¨å¼•æ“ å“ˆå¸Œç´¢å¼• æ—¥å¿—ç»“æ„å­˜å‚¨å¼•æ“ï¼šLSM-Tree é¢å‘é¡µçš„å­˜å‚¨å¼•æ“ï¼šB-trees å¯¹æ¯” LSM-Tree å’Œ B-trees é¡¹ç›® LSM-Tree B-trees å¤‡æ³¨ æ€§èƒ½ å†™å…¥æ›´å¿«ï¼Œååæ›´é«˜ è¯»å–æ›´å¿« å…·ä½“åœºæ™¯ä¸Šéœ€è¦è¿›è¡ŒåŸºå‡†æµ‹è¯• å­˜å‚¨ å¯å˜å¤§å°çš„æ®µï¼Œé€šå¸¸ nMB å›ºå®šå¤§å°çš„é¡µï¼Œä¼ ç»Ÿ 4KB å†™å…¥ è¿½åŠ ï¼Œå†™å…¥æ›´å¤šä¸åˆ©äº SSD æ–°çš„æ•°æ®è¦†ç›–ç£ç›˜ä¸Šæ—§çš„é¡µ å¹¶å‘æ§åˆ¶ åå°åˆå¹¶è¿›è¡ŒåŸå­æ›¿æ¢ é”å­˜å™¨ å…¶ä»–ç´¢å¼•ç»“æ„ åœ¨ç´¢å¼•ä¸­å­˜å‚¨å€¼\nå¤šåˆ—ç´¢å¼•\nå…¨æ–‡ç´¢å¼•å’Œæ¨¡ç³Šç´¢å¼•\nåœ¨å†…å­˜ä¸­ä¿å­˜æ‰€æœ‰å†…å®¹\nä¼˜ç‚¹ï¼šå¯ä»¥æ”¯æŒæ›´å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œè€Œæ— éœ€è€ƒè™‘æ•°æ®å­˜å‚¨ç»“æ„ã€‚\näº‹åŠ¡å¤„ç†ä¸åˆ†æå¤„ç† äº‹åŠ¡å¤„ç†ï¼šOLTP åˆ†æå¤„ç†ï¼šOLAP å¯¹æ¯” å±æ€§ OLTP OLAP ä¸»è¦è¯»å±æ€§ åŸºäºé”®ï¼Œæ¯æ¬¡æŸ¥è¯¢è¿”å›å°‘é‡è®°å½• å¯¹äºå¤§é‡è®°å½•è¿›è¡Œæ±‡æ€» ä¸»è¦å†™å±æ€§ éšæœºè®¿é—®ï¼Œä½å»¶è¿Ÿå†™å…¥ç”¨æˆ·çš„è¾“å…¥ æ‰¹é‡å¯¼å…¥ï¼ˆETLï¼‰æˆ–äº‹ä»¶æµ å…¸å‹ä½¿ç”¨åœºæ™¯ ç»ˆç«¯ç”¨æˆ·ï¼Œé€šè¿‡ç½‘ç»œåº”ç”¨ç¨‹åº å†…éƒ¨åˆ†æå¸ˆï¼Œä¸ºå†³ç­–æä¾›æ”¯æŒ æ•°æ®è¡¨å¾ æœ€æ–°çš„æ•°æ®çŠ¶æ€ï¼ˆå½“å‰æ—¶é—´ç‚¹ï¼‰ éšç€äº‹ä»¶è€Œå˜åŒ–çš„æ‰€æœ‰äº‹ä»¶å†å² æ•°æ®è§„æ¨¡ GB åˆ° TB TB åˆ° PB æ•°æ®ä»“åº“ æ˜Ÿå‹ä¸é›ªèŠ±å‹åˆ†ææ¨¡å¼ æ˜Ÿå‹æ¨¡å‹ä¹Ÿç§°ä¸ºç»´åº¦å»ºæ¨¡ã€‚\nåˆ—å¼å­˜å‚¨ åˆ—å‹ç¼© ","permalink":"https://notes.0081800.xyz/notes/20210606095514-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E4%B8%8E%E6%A3%80%E7%B4%A2/","summary":"å­˜å‚¨å¼•æ“ å“ˆå¸Œç´¢å¼• æ—¥å¿—ç»“æ„å­˜å‚¨å¼•æ“ï¼šLSM-Tree é¢å‘é¡µçš„å­˜å‚¨å¼•æ“ï¼šB-trees å¯¹æ¯” LSM-Tree å’Œ B-trees é¡¹ç›® LSM-Tree B-trees å¤‡æ³¨ æ€§èƒ½ å†™å…¥æ›´å¿«ï¼Œååæ›´é«˜ è¯»å–æ›´å¿« å…·ä½“åœºæ™¯ä¸Šéœ€è¦è¿›è¡ŒåŸºå‡†æµ‹è¯• å­˜å‚¨ å¯å˜å¤§å°çš„æ®µï¼Œé€šå¸¸ nMB å›ºå®šå¤§å°çš„é¡µï¼Œä¼ ç»Ÿ 4KB å†™å…¥ è¿½åŠ ï¼Œå†™å…¥æ›´å¤šä¸åˆ©äº SSD æ–°çš„æ•°æ®è¦†ç›–ç£ç›˜ä¸Šæ—§çš„é¡µ å¹¶å‘æ§åˆ¶ åå°åˆå¹¶è¿›è¡ŒåŸå­æ›¿æ¢ é”å­˜å™¨ å…¶ä»–ç´¢å¼•ç»“æ„ åœ¨ç´¢å¼•ä¸­å­˜å‚¨å€¼\nå¤šåˆ—ç´¢å¼•\nå…¨æ–‡ç´¢å¼•å’Œæ¨¡ç³Šç´¢å¼•\nåœ¨å†…å­˜ä¸­ä¿å­˜æ‰€æœ‰å†…å®¹\nä¼˜ç‚¹ï¼šå¯ä»¥æ”¯æŒæ›´å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œè€Œæ— éœ€è€ƒè™‘æ•°æ®å­˜å‚¨ç»“æ„ã€‚\näº‹åŠ¡å¤„ç†ä¸åˆ†æå¤„ç† äº‹åŠ¡å¤„ç†ï¼šOLTP åˆ†æå¤„ç†ï¼šOLAP å¯¹æ¯” å±æ€§ OLTP OLAP ä¸»è¦è¯»å±æ€§ åŸºäºé”®ï¼Œæ¯æ¬¡æŸ¥è¯¢è¿”å›å°‘é‡è®°å½• å¯¹äºå¤§é‡è®°å½•è¿›è¡Œæ±‡æ€» ä¸»è¦å†™å±æ€§ éšæœºè®¿é—®ï¼Œä½å»¶è¿Ÿå†™å…¥ç”¨æˆ·çš„è¾“å…¥ æ‰¹é‡å¯¼å…¥ï¼ˆETLï¼‰æˆ–äº‹ä»¶æµ å…¸å‹ä½¿ç”¨åœºæ™¯ ç»ˆç«¯ç”¨æˆ·ï¼Œé€šè¿‡ç½‘ç»œåº”ç”¨ç¨‹åº å†…éƒ¨åˆ†æå¸ˆï¼Œä¸ºå†³ç­–æä¾›æ”¯æŒ æ•°æ®è¡¨å¾ æœ€æ–°çš„æ•°æ®çŠ¶æ€ï¼ˆå½“å‰æ—¶é—´ç‚¹ï¼‰ éšç€äº‹ä»¶è€Œå˜åŒ–çš„æ‰€æœ‰äº‹ä»¶å†å² æ•°æ®è§„æ¨¡ GB åˆ° TB TB åˆ° PB æ•°æ®ä»“åº“ æ˜Ÿå‹ä¸é›ªèŠ±å‹åˆ†ææ¨¡å¼ æ˜Ÿå‹æ¨¡å‹ä¹Ÿç§°ä¸ºç»´åº¦å»ºæ¨¡ã€‚\nåˆ—å¼å­˜å‚¨ åˆ—å‹ç¼© ","title":"æ•°æ®å­˜å‚¨ä¸æ£€ç´¢"},{"content":"æ•°æ®æ¨¡å‹ å…³ç³»æ¨¡å‹ çªå‡ºæ•°æ®ä¹‹é—´çš„å…³è”ã€‚\næ–‡æ¡£æ¨¡å‹ æ•°æ®æ¥è‡ªäºåŒ…å«æ–‡æ¡£ï¼Œæ–‡æ¡£é—´å…³è”å¾ˆå°‘ã€‚\nå›¾çŠ¶æ•°æ®æ¨¡å‹ é’ˆå¯¹æ‰€æœ‰æ•°æ®éƒ½å¯èƒ½äº’ç›¸å…³è”ã€‚\næ•°æ®æŸ¥è¯¢è¯­è¨€ Web ä¸Šå£°æ˜å¼æŸ¥è¯¢ CSS é€‰æ‹©å™¨ã€‚\nMapReduce æŸ¥è¯¢ MapReduce æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å‹ï¼Œç”¨äºåœ¨è®¸å¤šæœºå™¨ä¸Šæ‰¹é‡å¤„ç†æµ·é‡æ•°æ®ã€‚\nMongoDB ä¸­çš„ MapReduce\ndb.observations.mapReduce( function map() { // 2 var year = this.observationTimestamp.getFullYear(); var month = this.obbservationTimestamp.getMonth() + 1; emit(year + \u0026#34;-\u0026#34; + month, this.numAnimals); // 3 }, function reduce(key, values) { // 4 return Array.sum(values); // 5 }, { query: {family: \u0026#34;Sharks\u0026#34;}, // 1 out: \u0026#34;monthlySharkReport\u0026#34; // 6 } ); è¿‡æ»¤å™¨å£°æ˜å¼æ‰§è¡Œé²¨é±¼ç§ç±»ï¼ˆMongoDB ç‰¹æœ‰æ‰©å±•ï¼‰ã€‚ mapperï¼šå¯¹äºæ¯ä¸ªåŒ¹é…çš„æ–‡æ¡£éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡è¿™ä¸ª JavaScript å‡½æ•°ã€‚ mapper å‘å°„ä¸€ä¸ªã€Œé”®-å€¼ã€å¯¹ï¼Œé”®æ˜¯ â€œ2013-12â€ æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå€¼æ˜¯åŠ¨ç‰©çš„æ•°é‡ mapper å‘å°„çš„é”®å€¼å¯¹æŒ‰é”®åˆ†ç»„ï¼Œå¯¹äºç›¸åŒé”®çš„æ‰€æœ‰ã€Œé”®-å€¼ã€å¯¹ï¼Œè°ƒç”¨ reduce å‡½æ•°ã€‚ reducer å‡½æ•°å°†ç‰¹å®šæœˆä»½çš„æ‰€æœ‰è§‚å¯Ÿåˆ°çš„åŠ¨ç‰©æ•°é‡ç›¸åŠ ã€‚ æœ€ç»ˆè¾“å‡ºå†™å…¥åˆ° monthlySharkReport é›†åˆä¸­ ","permalink":"https://notes.0081800.xyz/notes/20210606095222-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E4%B8%8E%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/","summary":"æ•°æ®æ¨¡å‹ å…³ç³»æ¨¡å‹ çªå‡ºæ•°æ®ä¹‹é—´çš„å…³è”ã€‚\næ–‡æ¡£æ¨¡å‹ æ•°æ®æ¥è‡ªäºåŒ…å«æ–‡æ¡£ï¼Œæ–‡æ¡£é—´å…³è”å¾ˆå°‘ã€‚\nå›¾çŠ¶æ•°æ®æ¨¡å‹ é’ˆå¯¹æ‰€æœ‰æ•°æ®éƒ½å¯èƒ½äº’ç›¸å…³è”ã€‚\næ•°æ®æŸ¥è¯¢è¯­è¨€ Web ä¸Šå£°æ˜å¼æŸ¥è¯¢ CSS é€‰æ‹©å™¨ã€‚\nMapReduce æŸ¥è¯¢ MapReduce æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å‹ï¼Œç”¨äºåœ¨è®¸å¤šæœºå™¨ä¸Šæ‰¹é‡å¤„ç†æµ·é‡æ•°æ®ã€‚\nMongoDB ä¸­çš„ MapReduce\ndb.observations.mapReduce( function map() { // 2 var year = this.observationTimestamp.getFullYear(); var month = this.obbservationTimestamp.getMonth() + 1; emit(year + \u0026#34;-\u0026#34; + month, this.numAnimals); // 3 }, function reduce(key, values) { // 4 return Array.sum(values); // 5 }, { query: {family: \u0026#34;Sharks\u0026#34;}, // 1 out: \u0026#34;monthlySharkReport\u0026#34; // 6 } ); è¿‡æ»¤å™¨å£°æ˜å¼æ‰§è¡Œé²¨é±¼ç§ç±»ï¼ˆMongoDB ç‰¹æœ‰æ‰©å±•ï¼‰ã€‚ mapperï¼šå¯¹äºæ¯ä¸ªåŒ¹é…çš„æ–‡æ¡£éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡è¿™ä¸ª JavaScript å‡½æ•°ã€‚ mapper å‘å°„ä¸€ä¸ªã€Œé”®-å€¼ã€å¯¹ï¼Œé”®æ˜¯ â€œ2013-12â€ æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå€¼æ˜¯åŠ¨ç‰©çš„æ•°é‡ mapper å‘å°„çš„é”®å€¼å¯¹æŒ‰é”®åˆ†ç»„ï¼Œå¯¹äºç›¸åŒé”®çš„æ‰€æœ‰ã€Œé”®-å€¼ã€å¯¹ï¼Œè°ƒç”¨ reduce å‡½æ•°ã€‚ reducer å‡½æ•°å°†ç‰¹å®šæœˆä»½çš„æ‰€æœ‰è§‚å¯Ÿåˆ°çš„åŠ¨ç‰©æ•°é‡ç›¸åŠ ã€‚ æœ€ç»ˆè¾“å‡ºå†™å…¥åˆ° monthlySharkReport é›†åˆä¸­ ","title":"æ•°æ®æ¨¡å‹ä¸æŸ¥è¯¢è¯­è¨€"},{"content":"å¯é æ€§ æ•…éšœä¸å¤±æ•ˆ æ•…éšœï¼ˆfaultsï¼‰æˆ–è€…é”™è¯¯ï¼šç»„ä»¶åç¦»å…¶æ­£å¸¸è§„æ ¼ï¼Œå¯ä»¥æä¾›å®¹é”™ï¼ˆfault-tolerantï¼‰æœºåˆ¶ å¤±æ•ˆï¼ˆfailureï¼‰æ„å‘³ç³»ç»Ÿä½œä¸ºä¸€ä¸ªæ•´ä½“åœæ­¢ ç¡¬ä»¶æ•…éšœ è½¯ä»¶é”™è¯¯ äººä¸ºå¤±è¯¯ é¿å…ä¼˜åŒ–æ–¹å¼ï¼š\nä»¥æœ€å°å‡ºé”™æ–¹å¼è®¾è®¡ç³»ç»Ÿã€‚æŠ½è±¡ã€æä¾›ç®¡ç†ç•Œé¢ï¼Œä½¿â€œåšæ­£ç¡®çš„äº‹å¾ˆè½»æ¾â€ï¼Œé˜²æ­¢é™åˆ¶è¿‡å¤šã€‚ åˆ†ç¦»æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œæä¾›æ²™ç®±ç”¨ä»¥æ”¾å¿ƒå°è¯•ã€‚ å……åˆ†æµ‹è¯•ã€‚ æä¾›å¿«é€Ÿæ¢å¤æœºåˆ¶å°½é‡å‡å°‘æ•…éšœå½±å“ï¼šå¿«é€Ÿå›æ»šï¼Œæä¾›æ ¡éªŒæ•°æ®çš„å·¥å…·ã€‚ è®¾ç½®è¯¦ç»†è€Œæ¸…æ™°çš„ç›‘æ§ç³»ç»Ÿ åŸ¹è®­å’Œæµç¨‹ å¯æ‰©å±•æ€§ æè¿°è´Ÿè½½ QPS æ•°æ®åº“å†™å…¥æ¯”ä¾‹ åŒæ—¶åœ¨çº¿æ´»åŠ¨ç”¨æˆ·æ•° ç¼“å­˜å‘½ä¸­ç‡ç­‰ã€‚ æè¿°æ€§èƒ½ ååé‡ï¼ˆthroughputï¼‰/æ¯ç§’å¤„ç†æ•°æ®é‡ å»¶è¿Ÿï¼ˆlatencyï¼‰/å“åº”æ—¶é—´ï¼ˆresponse timeï¼‰ï¼šå»¶è¿Ÿæ˜¯å¤„ç†æ—¶é—´ï¼Œå“åº”æ—¶é—´æ˜¯å®¢æˆ·ç«¯çœ‹åˆ°çš„ã€‚ æœ€å¥½é€šè¿‡ç™¾åˆ†ä½æ•°æ¥ç›‘æ§æŒ‡æ ‡ï¼šp50/p80/p90/p95/p99/p999ï¼Œp50 æŒ‡æ ‡è¡¨ç¤ºä¸€åŠè¯·æ±‚åœ¨è¿™ä¸ªæŒ‡æ ‡ä¹‹ä¸‹ï¼Œä¸€åŠåœ¨è¿™ä¸ªæŒ‡æ ‡ä¹‹ä¸Šã€‚\nåº”å¯¹è´Ÿè½½å¢åŠ  æ— çŠ¶æ€å¾ˆæ–¹ä¾¿æ‰©å®¹ ä½†æœ‰çŠ¶æ€çš„åˆ†å¸ƒå¼é¢ä¸´ä¸€å®šçš„æŒ‘æˆ˜ å¯ç»´æŠ¤æ€§ å¯è¿ç»´æ€§ï¼šè¿ç»´æ›´è½»æ¾ ç›‘æ§ã€æ–‡æ¡£ã€è‡ªåŠ¨åŒ–ã€è‰¯å¥½çš„é»˜è®¤é…ç½®ã€å¯æ‰‹åŠ¨æ§åˆ¶ç³»ç»ŸçŠ¶æ€è®©ç³»ç»Ÿè‡ªæˆ‘ä¿®å¤ï¼ˆæ¯”å¦‚ç†”æ–­æœºåˆ¶ï¼‰ã€‚\nç®€å•æ€§ï¼šç®€åŒ–å¤æ‚åº¦ æŠ½è±¡ï¼\nå¯æ¼”åŒ–æ€§ï¼šæ˜“äºæ”¹å˜ TDD é‡æ„ ","permalink":"https://notes.0081800.xyz/notes/20210604221658-%E5%8F%AF%E9%9D%A0_%E5%8F%AF%E6%89%A9%E5%B1%95%E4%B8%8E%E5%8F%AF%E7%BB%B4%E6%8A%A4%E7%9A%84%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F/","summary":"å¯é æ€§ æ•…éšœä¸å¤±æ•ˆ æ•…éšœï¼ˆfaultsï¼‰æˆ–è€…é”™è¯¯ï¼šç»„ä»¶åç¦»å…¶æ­£å¸¸è§„æ ¼ï¼Œå¯ä»¥æä¾›å®¹é”™ï¼ˆfault-tolerantï¼‰æœºåˆ¶ å¤±æ•ˆï¼ˆfailureï¼‰æ„å‘³ç³»ç»Ÿä½œä¸ºä¸€ä¸ªæ•´ä½“åœæ­¢ ç¡¬ä»¶æ•…éšœ è½¯ä»¶é”™è¯¯ äººä¸ºå¤±è¯¯ é¿å…ä¼˜åŒ–æ–¹å¼ï¼š\nä»¥æœ€å°å‡ºé”™æ–¹å¼è®¾è®¡ç³»ç»Ÿã€‚æŠ½è±¡ã€æä¾›ç®¡ç†ç•Œé¢ï¼Œä½¿â€œåšæ­£ç¡®çš„äº‹å¾ˆè½»æ¾â€ï¼Œé˜²æ­¢é™åˆ¶è¿‡å¤šã€‚ åˆ†ç¦»æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œæä¾›æ²™ç®±ç”¨ä»¥æ”¾å¿ƒå°è¯•ã€‚ å……åˆ†æµ‹è¯•ã€‚ æä¾›å¿«é€Ÿæ¢å¤æœºåˆ¶å°½é‡å‡å°‘æ•…éšœå½±å“ï¼šå¿«é€Ÿå›æ»šï¼Œæä¾›æ ¡éªŒæ•°æ®çš„å·¥å…·ã€‚ è®¾ç½®è¯¦ç»†è€Œæ¸…æ™°çš„ç›‘æ§ç³»ç»Ÿ åŸ¹è®­å’Œæµç¨‹ å¯æ‰©å±•æ€§ æè¿°è´Ÿè½½ QPS æ•°æ®åº“å†™å…¥æ¯”ä¾‹ åŒæ—¶åœ¨çº¿æ´»åŠ¨ç”¨æˆ·æ•° ç¼“å­˜å‘½ä¸­ç‡ç­‰ã€‚ æè¿°æ€§èƒ½ ååé‡ï¼ˆthroughputï¼‰/æ¯ç§’å¤„ç†æ•°æ®é‡ å»¶è¿Ÿï¼ˆlatencyï¼‰/å“åº”æ—¶é—´ï¼ˆresponse timeï¼‰ï¼šå»¶è¿Ÿæ˜¯å¤„ç†æ—¶é—´ï¼Œå“åº”æ—¶é—´æ˜¯å®¢æˆ·ç«¯çœ‹åˆ°çš„ã€‚ æœ€å¥½é€šè¿‡ç™¾åˆ†ä½æ•°æ¥ç›‘æ§æŒ‡æ ‡ï¼šp50/p80/p90/p95/p99/p999ï¼Œp50 æŒ‡æ ‡è¡¨ç¤ºä¸€åŠè¯·æ±‚åœ¨è¿™ä¸ªæŒ‡æ ‡ä¹‹ä¸‹ï¼Œä¸€åŠåœ¨è¿™ä¸ªæŒ‡æ ‡ä¹‹ä¸Šã€‚\nåº”å¯¹è´Ÿè½½å¢åŠ  æ— çŠ¶æ€å¾ˆæ–¹ä¾¿æ‰©å®¹ ä½†æœ‰çŠ¶æ€çš„åˆ†å¸ƒå¼é¢ä¸´ä¸€å®šçš„æŒ‘æˆ˜ å¯ç»´æŠ¤æ€§ å¯è¿ç»´æ€§ï¼šè¿ç»´æ›´è½»æ¾ ç›‘æ§ã€æ–‡æ¡£ã€è‡ªåŠ¨åŒ–ã€è‰¯å¥½çš„é»˜è®¤é…ç½®ã€å¯æ‰‹åŠ¨æ§åˆ¶ç³»ç»ŸçŠ¶æ€è®©ç³»ç»Ÿè‡ªæˆ‘ä¿®å¤ï¼ˆæ¯”å¦‚ç†”æ–­æœºåˆ¶ï¼‰ã€‚\nç®€å•æ€§ï¼šç®€åŒ–å¤æ‚åº¦ æŠ½è±¡ï¼\nå¯æ¼”åŒ–æ€§ï¼šæ˜“äºæ”¹å˜ TDD é‡æ„ ","title":"å¯é ã€å¯æ‰©å±•ä¸å¯ç»´æŠ¤çš„åº”ç”¨ç³»ç»Ÿ"},{"content":" tags: è¯»ä¹¦ç¬”è®°,Bigdata,åˆ†å¸ƒå¼,æ•°æ®åº“ æ•°æ®ç³»ç»ŸåŸºç¡€ å¯é ã€å¯æ‰©å±•ä¸å¯ç»´æŠ¤çš„åº”ç”¨ç³»ç»Ÿ æ•°æ®æ¨¡å‹ä¸æŸ¥è¯¢è¯­è¨€ æ•°æ®å­˜å‚¨ä¸æ£€ç´¢ æ•°æ®ç¼–ç ä¸æ¼”åŒ– åˆ†å¸ƒå¼æ•°æ®ç³»ç»Ÿ ç›®çš„ï¼šæ‰©å±•æ€§ã€å®¹é”™å’Œé«˜å¯ç”¨ã€å»¶è¿Ÿè€ƒè™‘ï¼ˆå¤šæœºæˆ¿ï¼‰\næ‰©å±•ï¼š\nå‚ç›´æ‰©å±•ï¼šæå‡å•æœºæ€§èƒ½ æ°´å¹³æ‰©å±•ï¼šæ— å…±äº«ç»“æ„ï¼Œç”±è½¯ä»¶å®ç°æ ¸å¿ƒé€»è¾‘ å¤åˆ¶ä¸åˆ†åŒºï¼š\nå¤åˆ¶ï¼šå¤šèŠ‚ç‚¹å†—ä½™ åˆ†åŒºï¼šæ•°æ®åº“æ‹†åˆ† åˆ†ç‰‡ï¼šåˆ†åŒºåˆ†é…ç»™ä¸åŒçš„èŠ‚ç‚¹ æ•°æ®å¤åˆ¶ æ•°æ®åˆ†åŒº äº‹åŠ¡ åˆ†å¸ƒå¼ç³»ç»ŸæŒ‘æˆ˜ ä¸€è‡´æ€§ä¸å…±è¯† æ´¾ç”Ÿæ•°æ® è®°å½•ç³»ç»Ÿï¼šçœŸå®æ•°æ®ç³»ç»Ÿï¼Œæ‹¥æœ‰æ•°æ®çš„æƒå¨ç‰ˆæœ¬ã€‚ æ´¾ç”Ÿæ•°æ®ç³»ç»Ÿï¼šä»å¦ä¸€ä¸ªæ•°æ®ç³»ç»Ÿè·å–ï¼Œä¸¢å¤±å¯ä»¥æ ¹æ®æ•°æ®æºé‡å»ºï¼Œå¦‚ç¼“å­˜ç­‰ã€‚ æ‰¹å¤„ç†ç³»ç»Ÿ æµå¤„ç†ç³»ç»Ÿ ","permalink":"https://notes.0081800.xyz/notes/20210604221412-%E6%95%B0%E6%8D%AE%E5%AF%86%E9%9B%86%E5%9E%8B%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1_%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","summary":" tags: è¯»ä¹¦ç¬”è®°,Bigdata,åˆ†å¸ƒå¼,æ•°æ®åº“ æ•°æ®ç³»ç»ŸåŸºç¡€ å¯é ã€å¯æ‰©å±•ä¸å¯ç»´æŠ¤çš„åº”ç”¨ç³»ç»Ÿ æ•°æ®æ¨¡å‹ä¸æŸ¥è¯¢è¯­è¨€ æ•°æ®å­˜å‚¨ä¸æ£€ç´¢ æ•°æ®ç¼–ç ä¸æ¼”åŒ– åˆ†å¸ƒå¼æ•°æ®ç³»ç»Ÿ ç›®çš„ï¼šæ‰©å±•æ€§ã€å®¹é”™å’Œé«˜å¯ç”¨ã€å»¶è¿Ÿè€ƒè™‘ï¼ˆå¤šæœºæˆ¿ï¼‰\næ‰©å±•ï¼š\nå‚ç›´æ‰©å±•ï¼šæå‡å•æœºæ€§èƒ½ æ°´å¹³æ‰©å±•ï¼šæ— å…±äº«ç»“æ„ï¼Œç”±è½¯ä»¶å®ç°æ ¸å¿ƒé€»è¾‘ å¤åˆ¶ä¸åˆ†åŒºï¼š\nå¤åˆ¶ï¼šå¤šèŠ‚ç‚¹å†—ä½™ åˆ†åŒºï¼šæ•°æ®åº“æ‹†åˆ† åˆ†ç‰‡ï¼šåˆ†åŒºåˆ†é…ç»™ä¸åŒçš„èŠ‚ç‚¹ æ•°æ®å¤åˆ¶ æ•°æ®åˆ†åŒº äº‹åŠ¡ åˆ†å¸ƒå¼ç³»ç»ŸæŒ‘æˆ˜ ä¸€è‡´æ€§ä¸å…±è¯† æ´¾ç”Ÿæ•°æ® è®°å½•ç³»ç»Ÿï¼šçœŸå®æ•°æ®ç³»ç»Ÿï¼Œæ‹¥æœ‰æ•°æ®çš„æƒå¨ç‰ˆæœ¬ã€‚ æ´¾ç”Ÿæ•°æ®ç³»ç»Ÿï¼šä»å¦ä¸€ä¸ªæ•°æ®ç³»ç»Ÿè·å–ï¼Œä¸¢å¤±å¯ä»¥æ ¹æ®æ•°æ®æºé‡å»ºï¼Œå¦‚ç¼“å­˜ç­‰ã€‚ æ‰¹å¤„ç†ç³»ç»Ÿ æµå¤„ç†ç³»ç»Ÿ ","title":"ã€Šæ•°æ®å¯†é›†å‹åº”ç”¨ç³»ç»Ÿè®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°"},{"content":" tags: æŠ€æœ¯éšæƒ³ å‡ ä½•ç»“æ„ mobius Klein Trefoil knot Penrose triangle æ¤ç‰© bonsai broccoli ç§‘å¹» tardis dalek æ¶ˆç­ ç¥è¯ ","permalink":"https://notes.0081800.xyz/notes/20210525113247-%E9%A1%B9%E7%9B%AE%E4%BB%A3%E5%8F%B7/","summary":" tags: æŠ€æœ¯éšæƒ³ å‡ ä½•ç»“æ„ mobius Klein Trefoil knot Penrose triangle æ¤ç‰© bonsai broccoli ç§‘å¹» tardis dalek æ¶ˆç­ ç¥è¯ ","title":"é¡¹ç›®ä»£å·"},{"content":" tags: macOS,macOS Cheatsheet é€šå¸¸ä½ æ²Ÿé€šè‹¹æœçš„å®˜æ–¹æ”¯æŒä¸€èˆ¬éƒ½ä¼šç»™ä½ ä¸‰æ¿æ–§ï¼š\né‡å¯ï¼šæŒ‰ä½ç”µæºé”® 10 ç§’ä¸­ï¼Œç„¶åç­‰å‡ ç§’é’Ÿåå†å¼€æœº é‡ç½® SMCï¼šå…³æœºç„¶åæŒ‰ä½ï¼šCtrl + Option + å³ä¾§Shift + ç”µæºé”® 7 ç§’é’Ÿå…³æœºï¼Œç­‰å¾…å‡ ç§’é’Ÿåå¼€æœºã€‚ ","permalink":"https://notes.0081800.xyz/notes/20210322145956-macos_%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E4%B8%89%E6%9D%BF%E6%96%A7/","summary":" tags: macOS,macOS Cheatsheet é€šå¸¸ä½ æ²Ÿé€šè‹¹æœçš„å®˜æ–¹æ”¯æŒä¸€èˆ¬éƒ½ä¼šç»™ä½ ä¸‰æ¿æ–§ï¼š\né‡å¯ï¼šæŒ‰ä½ç”µæºé”® 10 ç§’ä¸­ï¼Œç„¶åç­‰å‡ ç§’é’Ÿåå†å¼€æœº é‡ç½® SMCï¼šå…³æœºç„¶åæŒ‰ä½ï¼šCtrl + Option + å³ä¾§Shift + ç”µæºé”® 7 ç§’é’Ÿå…³æœºï¼Œç­‰å¾…å‡ ç§’é’Ÿåå¼€æœºã€‚ ","title":"macOS é—®é¢˜è§£å†³ä¸‰æ¿æ–§"},{"content":" tags: macOS æŸ¥çœ‹ TimeMachine æ—¥å¿—ï¼š\nprintf \u0026#39;\\e[3J\u0026#39; \u0026amp;\u0026amp; log show --predicate \u0026#39;subsystem == \u0026#34;com.apple.TimeMachine\u0026#34;\u0026#39; --debug --last 6m ","permalink":"https://notes.0081800.xyz/notes/20210322145854-macos_timemachine_%E6%97%A5%E5%BF%97/","summary":" tags: macOS æŸ¥çœ‹ TimeMachine æ—¥å¿—ï¼š\nprintf \u0026#39;\\e[3J\u0026#39; \u0026amp;\u0026amp; log show --predicate \u0026#39;subsystem == \u0026#34;com.apple.TimeMachine\u0026#34;\u0026#39; --debug --last 6m ","title":"macOS TimeMachine æ—¥å¿—"},{"content":" tags: Learning English ä¸€äº›é€šç”¨çš„è§„åˆ™ï¼š\néŸ³æ ‡åé¢çš„ Ë æç¤ºæ‹–é•¿éŸ³ã€‚ å…ƒéŸ³ å¤§è€Œåœ† éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹Ã¦â€‹/ çˆ± å¼ å¤§å˜´å‘ä¸­æ–‡çš„ã€Œçˆ±ã€,å‘éŸ³çŸ­ä¿ƒæœ‰åŠ›ã€‚ bag map dad sad a /â€‹eâ€‹/ çˆ± éŸ³åŒ /â€‹Ã¦â€‹/ ä½†æ˜¯å˜´å½¢è¦å°ä¸€äº›ã€‚ get let pen yes e /â€‹É”Ëâ€‹/ å“¦ å˜´å·´è½®åœ†äº†å‘éŸ³ï¼Œå¹¶æ‹–é•¿éŸ³ floor door store sport oor,ore,or /â€‹É”â€‹/ å“¦ /â€‹É”Ëâ€‹/ çš„çŸ­éŸ³ lot dog hot shop o æ‰æ‰æ‰ éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /iËâ€‹/ ä¸€ ç›¸æ¯”ä¸€å˜´è¦æ‰ä¸€äº›ï¼Œç¨ç¨æ›´ç”¨åŠ›ä¸€äº› see meet he she ee, e /â€‹iâ€‹/ ä¸€ /iËâ€‹/ çŸ­éŸ³ happy daddy honey è¯å°¾çš„ y æˆ– ey /â€‹Iâ€‹/ ä¸€ ç”¨ /â€‹eâ€‹/ çš„å˜´å½¢å‘ /â€‹iâ€‹/ this give it city i /É™Ëâ€‹/ å‘ƒ ç›¸æ¯”ä¸­æ–‡å˜´è¦æ‰ä¸€äº›ï¼Œç¨ç¨æ›´ç”¨åŠ›ä¸€äº› work girl dirt sir or, ir /â€‹É™â€‹/ å‘ƒ /É™Ëâ€‹/ çš„çŸ­éŸ³ again a father weather å•ç‹¬çš„ a åŠè¯å°¾çš„ er éœ€è¦é¢å¤–æ³¨æ„çš„ï¼š\nworker å‰é¢æ˜¯ /É™Ëâ€‹/ åé¢æ˜¯ /â€‹É™â€‹/ ã€‚ åˆèµ·æ¥ éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹ei/ è¯¶ /â€‹eâ€‹/ å’Œ /â€‹iâ€‹/ è¿èµ·æ¥ï¼Œå°†å˜´å½¢å‹æ‰ï¼Œå«æœ‰ä¸‹å‹çš„è¿‡ç¨‹ name mate late say ay æˆ–ä»¥ e ç»“å°¾ï¼ˆe ä¸å‘éŸ³ï¼‰a å‘ /â€‹ei/ /â€‹iÉ™â€‹/ ä¸¤ä¸ªéŸ³å¿«é€Ÿçš„åˆèµ·æ¥è¯»ï¼Œæ²¡æœ‰çœŸæ­£çš„åˆå¹¶ï¼ˆåŒå…ƒéŸ³ï¼‰ hear bear dear really ear eer ea /â€‹É”iâ€‹/ ä¸¤ä¸ªéŸ³å¿«é€Ÿçš„åˆèµ·æ¥è¯»ï¼Œæ²¡æœ‰çœŸæ­£çš„åˆå¹¶ï¼ˆåŒå…ƒéŸ³ï¼‰ boy soy noise toy oy oi /â€‹É›É™â€‹/ ä¸¤ä¸ªéŸ³å¿«é€Ÿçš„åˆèµ·æ¥è¯»ï¼Œæ²¡æœ‰çœŸæ­£çš„åˆå¹¶ï¼ˆåŒå…ƒéŸ³ï¼‰ their hair pair fair eir air name ä¸­ a å‘ /â€‹ei/ çš„è¿™ç§å‘éŸ³å±äºã€Œè½¯åŒ–ã€ã€‚ å¤§è€Œå éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹aËâ€‹/ å•Š å¼ å¤§å˜´ï¼Œå‘éŸ³é åï¼Œæ‹–é•¿ car far class ask ar /â€‹ÊŒâ€‹/ /â€‹aËâ€‹/ çš„çŸ­éŸ³ï¼Œå‘éŸ³é å–‰å’™æŒ¤å‹ï¼ˆæ³°å±±å‹é¡¶ï¼‰ love but come some u /â€‹aiâ€‹/ å¯¹æ¯” /â€‹Ã¦â€‹/ å‘éŸ³æŸ”å’Œä¸”ç¨ç¨æ‹–é•¿ hi time like five i /â€‹É™uâ€‹/ å—· å‘éŸ³é åï¼ŒæŸ”å’Œé¥±æ»¡ /â€‹auâ€‹/ å—· éœ€è¦å¼ å¤§å˜´ï¼Œä¸”å‘éŸ³é å now house how about ou ow å­—æ¯ i å‘ /â€‹iâ€‹/ ï¼ˆ/â€‹Éªâ€‹/ï¼‰æ—¶ï¼Œé€šå¸¸ä¸ç›´æ¥ä½œä¸ºè¯å°¾ï¼Œè€Œæ˜¯ä¼šæœ‰ä¸€ä¸ªè¾…éŸ³å«åœ¨åé¢ å­—æ¯ i å‘ /â€‹aiâ€‹/ æ—¶ï¼Œå³å¯ç›´æ¥ä½œä¸ºè¯å°¾ï¼Œä¹Ÿå¯ä¸ä½œè¯å°¾ã€‚å½“è¯å°¾ä¸ºä¸å‘éŸ³çš„ e æ—¶ï¼Œå­—æ¯ i é€šå¸¸å‘ /â€‹aiâ€‹/ï¼Œå³ã€Œè½¯åŒ–ã€ è¾…éŸ³ ç±»æ¯è¯­ è¾…éŸ³å’Œå…ƒéŸ³åˆå¹¶å‘éŸ³æ—¶ï¼Œä»¥ä¸‹è¾…éŸ³å¯è§†ä¸ºå’Œæ±‰è¯­æ‹¼éŸ³å‘éŸ³ç±»åŒï¼\n/â€‹pâ€‹/ /â€‹tâ€‹/ /â€‹kâ€‹/ /â€‹fâ€‹/ /â€‹sâ€‹/ /â€‹hâ€‹/ /â€‹dâ€‹/ /â€‹gâ€‹/ /â€‹zâ€‹/ /â€‹râ€‹/ /â€‹wâ€‹/ /â€‹mâ€‹/ /â€‹nâ€‹/ /â€‹lâ€‹/\nè€Œä¸”è¿™äº›è¾…éŸ³éŸ³æ ‡è¿˜æ˜¯å’Œå­—æ¯åŸºæœ¬å¯¹åº”ã€‚\néŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹jâ€‹/ yes your year /â€‹Êƒâ€‹/ sh she shy shoe /tÊƒâ€‹/ ch chair cheer cheap è¯»ä¸€åŠ è¾…éŸ³å…ƒéŸ³æ— æ³•ç»„åˆå‘éŸ³ï¼Œè¾…éŸ³å•ç‹¬å‘éŸ³çš„æ—¶å€™â€œåªè¯»ä¸€åŠéŸ³â€ã€‚è¯»ä¸€åŠå°±æ˜¯å»æ‰å…ƒéŸ³ä¹‹åçš„å‘éŸ³ã€‚ å‘éŸ³è¦ç‚¹ï¼šå‘éŸ³è¾ƒè½»ï¼Œä¸æ‹–ã€‚\næ¸…è¾…éŸ³ é€šè¿‡åæ°”æ¥æ›¿ä»£å£°å¸¦ï¼Œå«åšâ€œæ¸…è¾…éŸ³â€ã€‚\néŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹pâ€‹/ map hope deep /â€‹tâ€‹/ get yet /â€‹kâ€‹/ book break /â€‹fâ€‹/ half if /â€‹sâ€‹/ yes ice /â€‹Êƒâ€‹/ fish wish /tÊƒâ€‹/ each teach æµŠè¾…éŸ³ å¹¶éå‡¸èµ·å°±èƒ½å®Œæˆï¼Œéœ€è¦è½»å¾®éœ‡åŠ¨å£°ä»£ï¼Œç§°ä¸ºâ€œæµŠè¾…éŸ³â€ã€‚\néŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹gâ€‹/ big bad leg /â€‹bâ€‹/ lab job /â€‹dâ€‹/ dad side /â€‹zâ€‹/ noise is /â€‹mâ€‹/ some room /â€‹nâ€‹/ man son /â€‹lâ€‹/ ä¸å‘éŸ³ï¼Œè€Œåªæ˜¯ä¸€ä¸ªåŠ¨ä½œï¼šèˆŒå¤´å‰åŠéƒ¨åˆ†å¾€ä¸Šé¢šä¸Šå° tall ball milk /â€‹jâ€‹/ /â€‹wâ€‹/ /â€‹râ€‹/ /â€‹wâ€‹/ åœ¨ç°åœ¨è‹±è¯­ä¸­ä¸å•ç‹¬å­˜åœ¨ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210317141647-english_ipa/","summary":"tags: Learning English ä¸€äº›é€šç”¨çš„è§„åˆ™ï¼š\néŸ³æ ‡åé¢çš„ Ë æç¤ºæ‹–é•¿éŸ³ã€‚ å…ƒéŸ³ å¤§è€Œåœ† éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /â€‹Ã¦â€‹/ çˆ± å¼ å¤§å˜´å‘ä¸­æ–‡çš„ã€Œçˆ±ã€,å‘éŸ³çŸ­ä¿ƒæœ‰åŠ›ã€‚ bag map dad sad a /â€‹eâ€‹/ çˆ± éŸ³åŒ /â€‹Ã¦â€‹/ ä½†æ˜¯å˜´å½¢è¦å°ä¸€äº›ã€‚ get let pen yes e /â€‹É”Ëâ€‹/ å“¦ å˜´å·´è½®åœ†äº†å‘éŸ³ï¼Œå¹¶æ‹–é•¿éŸ³ floor door store sport oor,ore,or /â€‹É”â€‹/ å“¦ /â€‹É”Ëâ€‹/ çš„çŸ­éŸ³ lot dog hot shop o æ‰æ‰æ‰ éŸ³æ ‡ ä¸­æ–‡ å‘éŸ³æŠ€å·§ å¸¸è§å•è¯ æ‹¼è¯»è§„åˆ™ /iËâ€‹/ ä¸€ ç›¸æ¯”ä¸€å˜´è¦æ‰ä¸€äº›ï¼Œç¨ç¨æ›´ç”¨åŠ›ä¸€äº› see meet he she ee, e /â€‹iâ€‹/ ä¸€ /iËâ€‹/ çŸ­éŸ³ happy daddy honey è¯å°¾çš„ y æˆ– ey /â€‹Iâ€‹/ ä¸€ ç”¨ /â€‹eâ€‹/ çš„å˜´å½¢å‘ /â€‹iâ€‹/ this give it city i /É™Ëâ€‹/ å‘ƒ ç›¸æ¯”ä¸­æ–‡å˜´è¦æ‰ä¸€äº›ï¼Œç¨ç¨æ›´ç”¨åŠ›ä¸€äº› work girl dirt sir or, ir /â€‹É™â€‹/ å‘ƒ /É™Ëâ€‹/ çš„çŸ­éŸ³ again a father weather å•ç‹¬çš„ a åŠè¯å°¾çš„ er éœ€è¦é¢å¤–æ³¨æ„çš„ï¼š","title":"English IPA"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20210317141621-learning_english/","summary":"","title":"Learning English"},{"content":" tags: Algorithm,Data Structures,Binary Search Tree åˆ†ä¸ºä¸‰ç§ï¼šå‰åºã€ååºå’Œä¸­åºï¼Œå…¶ä¸­æœ€å®¹æ˜“ç”¨æ ˆæ”¹å†™çš„æ˜¯ååºã€‚\nå‰åº(Preorder)ï¼šRoot -\u0026gt; Left -\u0026gt; Right class Solution { public: void processPreorderTraversal(TreeNode* root, vector\u0026lt;int\u0026gt; \u0026amp; collector) { if (root == nullptr) { return; } processPreorderTraversal(root-\u0026gt;left, collector); collector.push_back(root-\u0026gt;val); processPreorderTraversal(root-\u0026gt;right, collector); } vector\u0026lt;int\u0026gt; inorderTraversal(TreeNode* root) { vector\u0026lt;int\u0026gt; ret; if (root == nullptr) { return ret; } processPreorderTraversal(root, ret); return ret; } }; ä¸­åº(Inorder): Left -\u0026gt; Root -\u0026gt; Right class Solution { public: void processInorderTraversal(TreeNode* root, vector\u0026lt;int\u0026gt; \u0026amp; collector) { if (root == nullptr) { return; } processInorderTraversal(root-\u0026gt;left, collector); collector.push_back(root-\u0026gt;val); processInorderTraversal(root-\u0026gt;right, collector); } vector\u0026lt;int\u0026gt; inorderTraversal(TreeNode* root) { vector\u0026lt;int\u0026gt; ret; if (root == nullptr) { return ret; } processInorderTraversal(root, ret); return ret; } }; ååº(Postorder)ï¼šLeft -\u0026gt; Right -\u0026gt; Root class Solution { public: void processPostorderTraversal(TreeNode* root, vector\u0026lt;int\u0026gt; \u0026amp; collector) { if (root == nullptr) { return; } processPostorderTraversal(root-\u0026gt;left, collector); processPostorderTraversal(root-\u0026gt;right, collector); collector.push_back(root-\u0026gt;val); } vector\u0026lt;int\u0026gt; postorderTraversal(TreeNode* root) { vector\u0026lt;int\u0026gt; ret; if (root == nullptr) { return ret; } processPostorderTraversal(root, ret); return ret; } }; éé€’å½’éå† ã€åˆ·é¢˜ã€‘äºŒå‰æ ‘éé€’å½’éå† ","permalink":"https://notes.0081800.xyz/notes/20210220203210-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86/","summary":"tags: Algorithm,Data Structures,Binary Search Tree åˆ†ä¸ºä¸‰ç§ï¼šå‰åºã€ååºå’Œä¸­åºï¼Œå…¶ä¸­æœ€å®¹æ˜“ç”¨æ ˆæ”¹å†™çš„æ˜¯ååºã€‚\nå‰åº(Preorder)ï¼šRoot -\u0026gt; Left -\u0026gt; Right class Solution { public: void processPreorderTraversal(TreeNode* root, vector\u0026lt;int\u0026gt; \u0026amp; collector) { if (root == nullptr) { return; } processPreorderTraversal(root-\u0026gt;left, collector); collector.push_back(root-\u0026gt;val); processPreorderTraversal(root-\u0026gt;right, collector); } vector\u0026lt;int\u0026gt; inorderTraversal(TreeNode* root) { vector\u0026lt;int\u0026gt; ret; if (root == nullptr) { return ret; } processPreorderTraversal(root, ret); return ret; } }; ä¸­åº(Inorder): Left -\u0026gt; Root -\u0026gt; Right class Solution { public: void processInorderTraversal(TreeNode* root, vector\u0026lt;int\u0026gt; \u0026amp; collector) { if (root == nullptr) { return; } processInorderTraversal(root-\u0026gt;left, collector); collector.","title":"äºŒå‰æ ‘çš„éå†"},{"content":" tags: Taking Notes, Org Mode æ–¹æ¡ˆä¸€ï¼šé€šè¿‡ Emacs æ‰¹å¤„ç†æ¨¡å¼ emacs file.org --batch -f org-hugo-export-wim-to-md --kill --batch é»˜è®¤ä¸å¯ç”¨é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ -l\nemacs file.org --batch -l ~/.emacs.d/init.el -f org-hugo-export-wim-to-md --kill æ–¹æ¡ˆäºŒï¼šé€šè¿‡ LISP éå† (mapc (lambda (x) (with-current-buffer (find-file-noselect x) (org-hugo-export-wim-to-md t))) (directory-files \u0026#34;/Users/wh/codes/notes/roam-research-notes-hugo/journal\u0026#34; nil \u0026#34;^[0-9]+$\u0026#34; t)) ","permalink":"https://notes.0081800.xyz/notes/20210220175534-ox_hugo_%E6%89%B9%E9%87%8F%E5%AF%BC%E5%87%BA_markdown/","summary":" tags: Taking Notes, Org Mode æ–¹æ¡ˆä¸€ï¼šé€šè¿‡ Emacs æ‰¹å¤„ç†æ¨¡å¼ emacs file.org --batch -f org-hugo-export-wim-to-md --kill --batch é»˜è®¤ä¸å¯ç”¨é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ -l\nemacs file.org --batch -l ~/.emacs.d/init.el -f org-hugo-export-wim-to-md --kill æ–¹æ¡ˆäºŒï¼šé€šè¿‡ LISP éå† (mapc (lambda (x) (with-current-buffer (find-file-noselect x) (org-hugo-export-wim-to-md t))) (directory-files \u0026#34;/Users/wh/codes/notes/roam-research-notes-hugo/journal\u0026#34; nil \u0026#34;^[0-9]+$\u0026#34; t)) ","title":"OX-HUGO æ‰¹é‡å¯¼å‡º Markdown"},{"content":" tags: æŠ€æœ¯ï¼ŒæŠ€æœ¯æ¦‚å¿µ ä¸­é—´ä»¶å¯ä»¥å¯¹ç³»ç»Ÿè¿›è¡Œè§£è€¦ï¼Œæ¯”å¦‚ä¸Šå±‚ç³»ç»Ÿå¯¹ä¸‹å±‚ç³»ç»Ÿè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œè€ƒè™‘ä¸‹é¢ç»“æ„\n- U - / | \\ /--- | ---\\ / | \\ A B C å¦‚æœä¸‹å±‚ç³»ç»Ÿå¢åŠ èŠ‚ç‚¹çš„è¯å°±éœ€è¦é‡å¯ Uã€‚\nå¼•å…¥ HAProxy æˆ–è€… Nginx ä¹‹ç±»çš„ä¸­é—´ä»¶å¯ä»¥å¯¹ä¸¤å±‚ç³»ç»Ÿè¿›è¡Œè§£è€¦ï¼š\nU | +------+ | HA | +------+ / | \\ /--- | ---\\ / | \\ A B C è¿™æ ·ä¸Šå±‚å’Œä¸‹å±‚ç³»ç»Ÿéƒ½ä¾èµ–ä¸­é—´ä»¶ï¼Œä½†æ˜¯ç³»ç»Ÿä¹‹é—´ä¸å†å¼ºè€¦åˆï¼Œä¸‹å±‚ç³»ç»Ÿå¯ä»¥ä¾èµ–ä¸­é—´ä»¶éšæ„çš„è¿›è¡Œæ‰€æ‰©å®¹è€Œä¸ç”¨è¢«ä¸Šå±‚ç³»ç»Ÿæ„ŸçŸ¥ã€‚ è¿™æ—¶å€™ä¸­é—´ä»¶åªè¦ä¿è¯ä¸­é—´ä»¶ç¨³å®šå³å¯ï¼Œå¯ä»¥åœ¨ä¸­é—´ä»¶ä¸Šè¿›è¡Œçƒ­é‡å¯ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210220165816-%E4%B8%AD%E9%97%B4%E4%BB%B6/","summary":"tags: æŠ€æœ¯ï¼ŒæŠ€æœ¯æ¦‚å¿µ ä¸­é—´ä»¶å¯ä»¥å¯¹ç³»ç»Ÿè¿›è¡Œè§£è€¦ï¼Œæ¯”å¦‚ä¸Šå±‚ç³»ç»Ÿå¯¹ä¸‹å±‚ç³»ç»Ÿè¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œè€ƒè™‘ä¸‹é¢ç»“æ„\n- U - / | \\ /--- | ---\\ / | \\ A B C å¦‚æœä¸‹å±‚ç³»ç»Ÿå¢åŠ èŠ‚ç‚¹çš„è¯å°±éœ€è¦é‡å¯ Uã€‚\nå¼•å…¥ HAProxy æˆ–è€… Nginx ä¹‹ç±»çš„ä¸­é—´ä»¶å¯ä»¥å¯¹ä¸¤å±‚ç³»ç»Ÿè¿›è¡Œè§£è€¦ï¼š\nU | +------+ | HA | +------+ / | \\ /--- | ---\\ / | \\ A B C è¿™æ ·ä¸Šå±‚å’Œä¸‹å±‚ç³»ç»Ÿéƒ½ä¾èµ–ä¸­é—´ä»¶ï¼Œä½†æ˜¯ç³»ç»Ÿä¹‹é—´ä¸å†å¼ºè€¦åˆï¼Œä¸‹å±‚ç³»ç»Ÿå¯ä»¥ä¾èµ–ä¸­é—´ä»¶éšæ„çš„è¿›è¡Œæ‰€æ‰©å®¹è€Œä¸ç”¨è¢«ä¸Šå±‚ç³»ç»Ÿæ„ŸçŸ¥ã€‚ è¿™æ—¶å€™ä¸­é—´ä»¶åªè¦ä¿è¯ä¸­é—´ä»¶ç¨³å®šå³å¯ï¼Œå¯ä»¥åœ¨ä¸­é—´ä»¶ä¸Šè¿›è¡Œçƒ­é‡å¯ã€‚","title":"ä¸­é—´ä»¶"},{"content":" é¡¹ç›®ä»£å· æŠ€æœ¯æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20210220165806-%E6%8A%80%E6%9C%AF%E9%9A%8F%E6%83%B3/","summary":" é¡¹ç›®ä»£å· æŠ€æœ¯æ¦‚å¿µ ","title":"æŠ€æœ¯éšæƒ³"},{"content":" tags: C/C++ source: All about thread-local storage ","permalink":"https://notes.0081800.xyz/notes/20210219200958-c_c_thread_local_storage/","summary":" tags: C/C++ source: All about thread-local storage ","title":"C/C++ thread-local storage"},{"content":" tags: macOS fix \u0026ldquo;Too many open files in system\u0026rdquo; error\n","permalink":"https://notes.0081800.xyz/notes/20210125174343-macos_max_open_files/","summary":"tags: macOS fix \u0026ldquo;Too many open files in system\u0026rdquo; error","title":"macOS max open files"},{"content":" tags: GDB thread apply all bt ","permalink":"https://notes.0081800.xyz/notes/20210118114707-gdb_%E6%89%93%E5%87%BA%E6%89%80%E6%9C%89%E7%BA%BF%E7%A8%8B%E7%9A%84_backtrace/","summary":" tags: GDB thread apply all bt ","title":"GDB æ‰“å‡ºæ‰€æœ‰çº¿ç¨‹çš„ Backtrace"},{"content":" tags: C/C++,Programming Tools ","permalink":"https://notes.0081800.xyz/topics/20210118114626-gdb/","summary":" tags: C/C++,Programming Tools ","title":"GDB"},{"content":" tags: Emacs,LSP,C/C++,CMake é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ clangd è¯†åˆ«çš„ç¼–è¯‘é…ç½®æ–‡ä»¶\nmkdir build cd build cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 .. mv compile_commands.json ../ ç„¶åé‡å¯ M-x lsp-restart-workspace RET å³å¯ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20210114175011-lsp/","summary":"tags: Emacs,LSP,C/C++,CMake é€šè¿‡å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ clangd è¯†åˆ«çš„ç¼–è¯‘é…ç½®æ–‡ä»¶\nmkdir build cd build cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 .. mv compile_commands.json ../ ç„¶åé‡å¯ M-x lsp-restart-workspace RET å³å¯ã€‚","title":"C++ LSP"},{"content":" tags: Translate,Incomplete,Python Python å¹•å #2: CPython ç¼–è¯‘å™¨å¦‚ä½•å·¥ä½œ ä»Šå¤©çš„ä¸»é¢˜ï¼ˆToday\u0026rsquo;s subjectï¼‰ åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ç ”ç©¶äº† Python è™šæ‹Ÿæœºã€‚æˆ‘ä»¬å­¦äº†è§£åˆ°å®ƒé€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—å«åšå­—èŠ‚ç ï¼ˆbytecodeï¼‰çš„æŒ‡ä»¤ã€‚ æˆ‘ä»¬ä¹Ÿçœ‹åˆ° Python å­—èŠ‚ç æ²¡æœ‰å®Œå…¨æè¿°ä»£ç ç‰‡æ®µçš„è¡Œä¸ºã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå­˜åœ¨ä¸€ä¸ªä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰çš„æ¦‚å¿µã€‚ æ‰§è¡Œè¯¸å¦‚å‡½æ•°æˆ–æ¨¡å—çš„ä»£ç å—ä¹Ÿå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„ä»£ç å¯¹è±¡ã€‚ä»£ç å¯¹è±¡åŒ…å«äº†ä»£ç å—çš„å­—èŠ‚ç ï¼ŒåŒ…å«ä»£ç ä¸­ä½¿ç”¨çš„å¸¸é‡å’Œå˜é‡åï¼Œ è¿˜æœ‰ä»£ç å—çš„ä¸€äº›å±æ€§ã€‚\né€šå¸¸ï¼Œä¸€ä¸ª Python ç¨‹åºå‘˜ä¸ç”¨ç¼–å†™å­—èŠ‚ç ï¼Œå¹¶ä¸”ä¹Ÿä¸ç”¨åˆ›å»ºä»£ç å¯¹è±¡ï¼Œè€Œæ˜¯ç¼–å†™æ­£å¸¸çš„ Python ä»£ç ã€‚æ‰€æœ‰ CPython å¿…é¡» èƒ½å¤Ÿå°†æºä»£ç è½¬æ¢æˆä»£ç å¯¹è±¡ã€‚CPython ç¼–è¯‘å™¨å°±è´Ÿè´£è¿™éƒ¨åˆ†å·¥ä½œã€‚æˆ‘ä»¬å°†é€šè¿‡è¿™éƒ¨åˆ†å†…å®¹æ¢ç´¢å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚\nNote: æœ¬æ–‡å‚è€ƒ CPython 3.9ã€‚ä¸€äº›å®ç°ç»†èŠ‚å°†å¿…ç„¶ä¼šéšç€ CPython çš„æ¼”è¿›è€Œæ”¹å˜ã€‚ æˆ‘å°†ä¼šå°è¯•å…³æ³¨ä¸€äº›é‡è¦çš„æ”¹å˜å¹¶æ·»åŠ æ›´æ–°å¤‡æ³¨ã€‚\nä»€ä¹ˆæ˜¯ CPython ç¼–è¯‘å™¨ï¼ˆWhat CPython compiler isï¼‰ æˆ‘ä»¬å·²ç»äº†è§£äº† CPython ç¼–è¯‘å™¨çš„èŒè´£ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è¿›å…¥åˆ°å®ƒæ˜¯å¦‚ä½•å®ç°çš„ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆæ¥ææ¸…æ¥šä¸ºä»€ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºç¼–è¯‘å™¨ï¼Ÿ\nåœ¨é€šå¸¸æƒ…å†µåŠ ï¼Œç¼–è¯‘å™¨æ˜¯ä¸€ä¸ªå°†ä¸€ä¸ªç¨‹åºè¯­è¨€ç¿»è¯‘åˆ°å¦ä¸€ä¸ªä¸ä¹‹ç­‰ä»·çš„ç¨‹åºè¯­è¨€çš„ç¨‹åºã€‚ç¼–è¯‘å™¨æœ‰è®¸å¤šç§ç±»ï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ è®¨è®ºçš„éƒ½æ˜¯é™æ€ç¼–è¯‘ï¼šå°†ä¸€ä¸ªé«˜çº§è¯­è¨€çš„ç¨‹åºç¿»è¯‘æˆæœºå™¨ç ã€‚CPython ç¼–è¯‘å™¨ä¹Ÿæ˜¯è¿™æ ·å—ï¼Ÿè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹é™æ€ç¼– è¯‘å™¨çš„ä¼ ç»Ÿä¸‰é˜¶æ®µè®¾è®¡ï¼ˆthree-stage designï¼‰ã€‚\nç¼–è¯‘å™¨å‰ç«¯ï¼ˆfrontendï¼‰å°†æºä»£ç è½¬æ¢æˆä¸€ç§ä¸­é—´è¯­è¨€ï¼ˆIR,intermediate representationï¼‰ã€‚ç„¶åä¼˜åŒ–å™¨ï¼ˆoptimzerï¼‰æ‹¿åˆ°ä¸­é—´è¯­è¨€ å¯¹å…¶è¿›è¡Œä¼˜åŒ–å¹¶æŠŠä¼˜åŒ–è¿‡çš„ä¸­é—´è¯­è¨€ä¼ é€’ç»™ç¼–è¯‘å™¨åç«¯ç”Ÿæˆæœºå™¨ç ã€‚å¦‚æœæˆ‘ä»¬é€‰æ‹©ä¸€ç§æºè¯­è¨€å’Œç›®æ ‡æœºå™¨æ— å…³çš„ä¸­é—´è¯­è¨€ï¼Œæˆ‘ä»¬å°± å¾—åˆ°äº†ä¸‰é˜¶æ®µè®¾è®¡çš„å…³é”®ç›Šå¤„ï¼šå¯¹äºä¸€ä¸ªç¼–è¯‘å™¨æ¥è¯´ï¼Œæ”¯æŒä¸€ç§æ–°çš„æºè¯­è¨€ä»…ä»…éœ€è¦æ–°å¢ä¸€ä¸ªå¯¹åº”çš„ç¼–è¯‘å™¨å‰ç«¯ï¼Œæ”¯æŒä¸€ç§æ–°çš„ç›®æ ‡æœºå™¨ ä»…ä»…éœ€è¦æ–°å¢ä¸€ä¸ªå¯¹åº”çš„ç¼–è¯‘å™¨åç«¯ã€‚\nLLVM å·¥å…·é›†ï¼ˆtoolchainï¼‰å°±æ˜¯è¿™ä¸ªæ¨¡å‹çš„ä¸€ä¸ªå¾ˆå¥½çš„æˆåŠŸçš„ä¾‹å­ã€‚æœ‰å¾ˆå¤šç¼–è¯‘å™¨å‰ç«¯å¦‚ Cã€Rustã€Swift ç­‰å…¶ä»–å¾ˆå¤šç¼–ç¨‹è¯­è¨€åŸºäº LLVM æä¾›ç»™ç¼–è¯‘å™¨æ›´åŠ å¤æ‚çš„éƒ¨åˆ†ã€‚LLVM çš„åˆ›å»ºè€… Chris Latter æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ LLVM æ¶æ„æ¦‚è§ˆã€‚\nCPython å°½ç®¡ä¸éœ€è¦æ”¯æŒå¤šä¸ªæºè¯­è¨€å’Œç›®æ ‡æœºå™¨ï¼Œå°”ä»…ä»…éœ€è¦æ”¯æŒ Python ä»£ç å’Œ CPython è™šæ‹Ÿæœºã€‚ä¸è¿‡ï¼ŒCPython åŒæ ·å®ç°äº†ä¸‰é˜¶æ®µè®¾è®¡ã€‚ å¦‚æœæƒ³çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ è¯¦ç»†çš„è§£é‡Šç¼–è¯‘å™¨çš„ä¸‰é˜¶æ®µçš„æ¯ä¸ªé˜¶æ®µã€‚\nä¸Šé¢å›¾ç‰‡è¡¨ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ç¼–è¯‘å™¨æ¨¡å‹ã€‚ç°åœ¨å°†ä¹‹ä¸ä¸‹é¢ CPython ç¼–è¯‘å™¨æ¶æ„çš„å›¾ç‰‡è¿›è¡Œå¯¹æ¯”ã€‚\næ˜¯ä¸æ˜¯çœ‹èµ·æ¥å¾ˆåƒï¼Ÿè¿™é‡Œçš„å…³é”®ç‚¹æ˜¯ä»»ä½•ä¹‹å‰å­¦è¿‡ç¼–è¯‘å™¨çš„äººéƒ½åº”è¯¥ç†Ÿæ‚‰ CPython ç¼–è¯‘å™¨çš„ç»“æ„ã€‚å¦‚æœä½ æ²¡æœ‰å­¦è¿‡ç›¸å…³çŸ¥è¯†ï¼Œè‘—åçš„é¾™ä¹¦ï¼ˆDragon Bookï¼‰ æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æ„å»ºç¼–è¯‘å™¨çš„ç†è®ºå¼•å¯¼ã€‚è¿™æœ¬ä¹¦å¾ˆé•¿ï¼Œä½†æ˜¯å³ä½¿é˜…è¯»å‰å‡ ç« ä½ ä¹Ÿä¼šæ”¶è·å·¨å¤§ã€‚\næˆ‘ä»¬çš„å¯¹æ¯”éœ€è¦ä¸€äº›è¿›ä¸€æ­¥çš„è§£é‡Šã€‚é¦–å…ˆï¼Œä» CPython 3.9 é»˜è®¤ä½¿ç”¨äº†ä¸€ä¸ªæ–°çš„è§£æå™¨ç›´æ¥è¾“å…¥ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼ŒAbstract Syntax Treeï¼‰ï¼Œ ä¸å†éœ€è¦ä»»ä½•ä¸­é—´éƒ¨ç½²æ¥æ„å»ºè§£ææ ‘ã€‚å› æ­¤ CPython ç¼–è¯‘å™¨æ¨¡å‹å¾—åˆ°è¿›ä¸€æ­¥ç®€åŒ–ã€‚å…¶æ¬¡ï¼Œä¸é™æ€ç¼–è¯‘å™¨ç›¸æ¯”ï¼ŒCPython çš„ä¸€äº›å‰ç½®é˜¶æ®µå·¥ä½œå¾ˆå°‘ ä¹Ÿè®¸ä¼šè®©äººè®¤ä¸º CPython ç¼–è¯‘å™¨æ›´åŠ åƒä¸€ä¸ªç¼–è¯‘å™¨å‰ç«¯ã€‚æˆ‘ä»¬ä¸ä¼šé‡‡ç”¨ç¡¬æ ¸ç¼–è¯‘å™¨ç¼–å†™è€…çš„è¿™ç§è§‚ç‚¹ã€‚\nç¼–è¯‘å™¨æ¶æ„æ¦‚è¿°ï¼ˆOverview of the compiler\u0026rsquo;s architectureï¼‰ ä¸Šé¢çš„å›¾å¾ˆå¥½ï¼Œä½†æ˜¯å®ƒä»¬éšè—äº†å¾ˆå¤šç»†èŠ‚ä¼šé€ æˆè¯¯å¯¼ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬èŠ±è´¹ä¸€äº›æ—¶é—´è®¨è®º CPython ç¼–è¯‘å™¨çš„æ•´ä½“è®¾è®¡ã€‚\nCPython ç¼–è¯‘å™¨çš„ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†æ˜¯ï¼š\nç¼–è¯‘å™¨å‰ç«¯ï¼›å’Œ ç¼–è¯‘å™¨åç«¯ ç¼–è¯‘å™¨å‰ç«¯æ¥å— Python ä»£ç äº§ç”Ÿ ASTã€‚ç¼–è¯‘å™¨åç«¯æ¥å— AST äº§ç”Ÿä»£ç å¯¹è±¡ã€‚è´¯ç©¿æ•´ä¸ª Python æºä»£ç ï¼Œ æœ¯è¯­è§£æå™¨ï¼ˆparserï¼‰å’Œç¼–è¯‘å™¨åˆ†åˆ«ä»£è¡¨ç¼–è¯‘å™¨å‰ç«¯å’Œåç«¯ã€‚è¿™é‡Œçš„ç¼–è¯‘å™¨ï¼ˆcompilerï¼‰ä»£è¡¨å¦å¤–ä¸€ä¸ªæ„æ€ã€‚ å®ƒåº”è¯¥è¢«ç§°ä¸ºå…¶ä»–çš„åå­—æ¯”å¦‚ä»£ç å¯¹è±¡ç”Ÿæˆå™¨ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶åšæŒä½¿ç”¨ç¼–è¯‘å™¨ï¼Œå› ä¸ºå®ƒä¼¼ä¹ä¸ä¼šé€ æˆå¤ªå¤šéº»çƒ¦ã€‚\nè§£æå™¨ï¼ˆparserï¼‰çš„èŒè´£æ˜¯æ£€æŸ¥è¾“å…¥çš„ Python ä»£ç è¯­æ³•æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœä¸æ­£ç¡®ï¼Œè§£æå™¨ä¼šæŠ¥å‘Šä¸€ä¸ªåƒä¸‹é¢è¿™æ ·çš„é”™è¯¯ï¼š\nx = y = = 12 ^ SyntaxError: invalid syntax å¦‚æœè¾“å…¥æ­£ç¡®ï¼Œè§£æå™¨ä¼šæ ¹æ®æ–‡æ³•ï¼ˆgrammarï¼‰è§„åˆ™å¯¹å®ƒè¿›è¡Œç»„ç»‡ã€‚æ–‡æ³•ï¼ˆgrammarï¼‰å®šä¹‰äº†ä¸€ä¸ªè¯­è¨€çš„è¯­æ³•ï¼ˆsyntaxï¼‰1ã€‚ æˆ‘è®¤ä¸ºå½¢å¼æ–‡æ³•ï¼ˆformal grammarï¼‰çš„æ¦‚å¿µä¹‹äºæˆ‘ä»¬çš„è®¨è®ºéå¸¸å…³é”®ï¼Œæˆ‘ä»¬éœ€è¦éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹å®ƒçš„å½¢å¼å®šä¹‰Â 2ã€‚\næ ¹æ®ä¼ ç»Ÿå®šä¹‰ï¼Œä¸€ä¸ªå…¬å¼æ˜¯ä¸€ä¸ªåŒ…å«å››ä¸ªé¡¹ç›®çš„å…ƒç»„ï¼š\n\\(\\sum\\) - æœ‰é™çš„ç«¯ç‚¹ç¬¦å·é›†ï¼Œæˆ–ç®€ç§°ç«¯ç‚¹ï¼ˆé€šå¸¸ç”¨å°å†™å­—æ¯è¡¨ç¤ºï¼‰ã€‚ \\(N\\) - æœ‰é™çš„éç«¯ç‚¹ç¬¦å·é›†ï¼Œæˆ–ç®€ç§°éç«¯ç‚¹ï¼ˆé€šå¸¸ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºï¼‰ã€‚ \\(P\\) - æœ‰é™çš„äº§ç”Ÿå¼è§„åˆ™é›†ã€‚åœ¨æ— æ–‡æ³•ä¸Šä¸‹æ–‡çš„æƒ…å†µï¼ˆåŒ…æ‹¬ Python çš„æ–‡æ³•ï¼‰ï¼Œä¸€ä¸ªäº§ç”Ÿå¼çš„è§„åˆ™åªæ˜¯ä¸€ä¸ªå°†ä¸€ä¸ªéç«¯ç‚¹ç¬¦å·æ˜ å°„æˆ æ— åºçš„ç«¯ç‚¹å’Œéç«¯ç‚¹åºåˆ—ï¼Œå°±åƒ \\(A \\rightarrow aB\\) \\(S\\) - å¼€å§‹ç¬¦å· æ–‡æ³•å®šä¹‰äº†è¯­è¨€ï¼Œå…¶ä¸­åŒ…å«å¯ä»¥é€šè¿‡åº”ç”¨äº§ç”Ÿå¼è§„åˆ™ç”Ÿæˆçš„æ‰€æœ‰ç«¯ç‚¹åºåˆ—ã€‚è¦ç”Ÿæˆåºåˆ—ï¼Œä»¥ç¬¦å· \\(S\\) å¼€å¤´ï¼Œæ ¹æ®äº§ç”Ÿå¼è§„åˆ™å°†æ¯ä¸ª éç«¯ç‚¹é€’å½’æ›¿æ¢ä¸ºä¸€ä¸ªåºåˆ—ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—ç”±ç«¯ç‚¹ç»„æˆã€‚ä½¿ç”¨å·²å»ºç«‹çš„ç¬¦å·çº¦å®šï¼Œåˆ—å‡ºäº§ç”Ÿå¼è§„åˆ™ä»¥æŒ‡å®šæ–‡æ³•å°±å¤Ÿäº†ã€‚ä¾‹å¦‚ï¼Œ è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ–‡æ³•ç”Ÿæˆäº¤æ›¿çš„ 1 å’Œ 0 çš„åºåˆ—ï¼š\n$S â†’ 10S|10 $\næˆ‘ä»¬å°†ä¼šåœ¨è§£æå™¨éƒ¨åˆ†ç»§ç»­æ›´æ·±å…¥çš„è®¨è®ºæ–‡æ³•ã€‚\næŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract syntax treeï¼‰ è§£æå™¨çš„æœ€ç»ˆç›®çš„æ˜¯äº§ç”Ÿ ASTã€‚AST æ˜¯ä¸€ä¸ªæä¾›æºä»£ç é«˜å±‚æŠ½è±¡çš„æ ‘ç»“æ„ã€‚ä¸‹é¢æ˜¯ä¸€æ®µä»£ç é€šè¿‡ä½¿ç”¨ ast æ ‡å‡†åº“ dump å‡ºæ¥çš„å¯¹åº”çš„ ASTï¼š\nx = 123 f(x) $ python -m ast example.py Module( body=[ Assign( targets=[ Name(id=\u0026#39;x\u0026#39;, ctx=Store())], value=Constant(value=123)), Expr( value=Call( func=Name(id=\u0026#39;f\u0026#39;, ctx=Load()), args=[ Name(id=\u0026#39;x\u0026#39;, ctx=Load())], keywords=[]))], type_ignores=[]) AST èŠ‚ç‚¹çš„ç±»å‹ä½¿ç”¨æŠ½è±¡è¯­æ³•æè¿°è¯­è¨€ï¼ˆASDLï¼‰è¿›è¡Œå®šä¹‰ã€‚ASDL æ˜¯ä¸€ä¸ªç®€å•çš„å£°æ˜å¼è¯­è¨€ç”¨æ¥æè¿°ä¸­é—´è¯­è¨€ï¼ˆIRsï¼‰ï¼Œä¹Ÿå°±æ˜¯ ASTã€‚ è¿™é‡Œæ˜¯ Parser/Python.asdl ä¸­ Assign å’Œ Expr èŠ‚ç‚¹çš„å®šä¹‰ï¼š\nstmt = ... | Assign(expr* targets, expr value, string? type_comment) | ... expr = ... | Call(expr func, expr* args, keyword* keywords) | ... ASDL è§„èŒƒèƒ½å¤Ÿè®©æˆ‘ä»¬å¿«é€Ÿçš„ç›´è§‚äº†è§£ Python ASTã€‚ä½†æ˜¯è§£æå™¨éœ€è¦ä½¿ç”¨ C ä»£ç æ¥è¡¨ç¤º ASTã€‚å¹¸å¥½ï¼Œé€šè¿‡ ASDL çš„æè¿°å¯ä»¥éå¸¸ç®€å•çš„ç”Ÿæˆ C ç»“æ„ä½“ã€‚ ä¸‹é¢æ˜¯ CPython çš„å®ç°ï¼Œç»“æœå¦‚ä¸‹ï¼š\nstruct _stmt { enum _stmt_kind kind; union { // ... other kinds of statements struct { asdl_seq *targets; expr_ty value; string type_comment; } Assign; // ... other kinds of statements } v; int lineno; int col_offset; int end_lineno; int end_col_offset; }; struct _expr { enum _expr_kind kind; union { // ... other kinds of expressions struct { expr_ty func; asdl_seq *args; asdl_seq *keywords; } Call; // ... other kinds of expressions } v; // ... same as in _stmt }; AST æ˜¯ä¸€ç§æ˜“äºä½¿ç”¨çš„è¡¨ç¤ºå½¢å¼ã€‚å®ƒå¯ä»¥è¡¨ç¤ºç¨‹åºåšäº†ä»€ä¹ˆï¼Œéšè—ä¸€äº›ä¸å¿…è¦çš„ä¿¡æ¯ï¼Œå¦‚ç¼©è¿›ã€æ ‡ç‚¹å’Œå…¶ä»–ä¸€äº› Python è¯­æ³•ç‰¹æ€§ã€‚\nAST è¡¨ç¤ºä¸»è¦çš„å—ç›Šè€…æ˜¯ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨å¯ä»¥ä»¥ä¸€ä¸ªç›¸å¯¹ç®€å•çš„æ–¹å¼éå† AST ç„¶åç”Ÿæˆå­—èŠ‚ç ã€‚é™¤äº†ç¼–è¯‘å™¨ï¼Œè¿˜æœ‰å…¶ä»–å¾ˆå¤š Python å·¥å…· ä½¿ç”¨ AST æ¥å¤„ç† Python ä»£ç ã€‚æ¯”å¦‚ï¼Œpytest åœ¨ assert å¤±è´¥æ—¶ä¼šé€šè¿‡ä¿®æ”¹ AST æ¥æä¾›ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼ˆå½“ assert çš„è¡¨è¾¾å¼è¿”å› False æ—¶assert è‡ªèº«é™¤äº†æŠ›å‡º AssertionError ä»¥å¤–å¹¶æ²¡æœ‰å¤šä»»ä½•äº‹æƒ…ï¼‰ã€‚å¦å¤–ä¸€ä¸ªä¾‹å­å°±æ˜¯ bandit é€šè¿‡åˆ†æ AST æ¥å‘ç° Python ä»£ç ä¸­çš„ä¸€äº›å¸¸è§çš„å®‰å…¨é—®é¢˜ã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†ä¸€ç‚¹ Python AST ç›¸å…³çš„æ”¯æŒï¼Œæˆ‘ä»¬çš„ç›®å…‰ç°åœ¨å¯ä»¥è½¬å‘è§£æå™¨å¦‚ä½•ä»æºç æ„å»ºå®ƒçš„äº†ã€‚\nä»æºä»£ç ç”Ÿæˆ ASTï¼ˆFrom source code to ASTï¼‰ å®é™…ä¸Šï¼Œå°±åƒæˆ‘å‰é¢æåˆ°çš„ï¼Œä» CPython 3.9 å¼€å§‹ CPython ä¸åœ¨åªæœ‰ä¸€ä¸ªè§£æå™¨ï¼Œè€Œæ˜¯ä¸¤ä¸ªï¼Œæ–°çš„è§£æå™¨è¢«é»˜è®¤ä½¿ç”¨ã€‚é€šè¿‡ä¼ é€’ -X oldparser é€‰é¡¹ä¾ç„¶å¯ä»¥ä½¿ç”¨å°±çš„è§£æå™¨ã€‚ä½†æ˜¯åœ¨ CPython 3.10 ä¸­æ—§çš„è§£æå™¨å°†ä¼šè¢«å½»åº•çš„ç§»é™¤ã€‚\nä¸¤ä¸ªè§£æå™¨åŒºåˆ«å¾ˆå¤§ã€‚æˆ‘ä»¬å°†ä¼šé›†ä¸­åœ¨æ–°çš„è§£æå™¨ä¸Šï¼Œä½†æ˜¯åœ¨è¿™ä¹‹å‰æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å°±çš„è§£æå™¨ã€‚\næ—§è§£æå™¨ï¼ˆold parserï¼‰ å¾ˆé•¿æ—¶é—´ä»¥æ¥ Python çš„è¯­æ³•æ˜¯é€šè¿‡ç”Ÿæˆæ–‡æ³•ï¼ˆgenerative grammarï¼‰æ¥æ­£å¼å®šä¹‰çš„ã€‚å®ƒæ˜¯æˆ‘ä»¬å‰é¢è®¨è®ºè¿‡çš„æ–‡æ³•ä¸­ä¸€ç§ã€‚å®ƒå‘Šè¯‰æˆ‘ä»¬å¦‚ä½• ç”Ÿæˆå±äºè¯¥è¯­è¨€çš„åºåˆ—ã€‚ç”Ÿæˆæ–‡æ³•çš„é—®é¢˜æ˜¯å®ƒä¸èƒ½ç›´æ¥å¯¹åº”ä¸èƒ½å¤Ÿè§£æé‚£äº›åºåˆ—çš„è§£æç®—æ³•ã€‚å¹¸å¥½ï¼Œèªæ˜çš„äººèƒ½å¤ŸåŒºåˆ†ç”Ÿæˆæ–‡æ³•çš„ç±»å‹å¹¶å»º ç«‹ç›¸åº”çš„è§£æå™¨ã€‚è¿™äº›åŒ…æ‹¬ ä¸Šä¸‹æ–‡æ— å…³(context free)ã€LL(k)ã€LR(k)ã€LALR å’Œå…¶ä»–è®¸å¤šç±»å‹çš„æ–‡æ³•ã€‚Python çš„æ–‡æ³•æ˜¯ LL(1)ã€‚å®ƒæŒ‡å®š ä½¿ç”¨ æ‰©å±•å·´ç§‘æ–¯èŒƒå¼ï¼ˆEBNF, Extended Backusâ€“Naur Formï¼‰ã€‚3è¦æƒ³çŸ¥é“å®ƒå¦‚ä½•æè¿° Python è¯­æ³•çš„ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ while è¯­å¥çš„è§„åˆ™ã€‚\nfile_input: (NEWLINE | stmt)* ENDMARKER stmt: simple_stmt | compound_stmt compound_stmt: ... | while_stmt | ... while_stmt: \u0026#39;while\u0026#39; namedexpr_test \u0026#39;:\u0026#39; suite [\u0026#39;else\u0026#39; \u0026#39;:\u0026#39; suite] suite: simple_stmt | NEWLINE INDENT stmt+ DEDENT ... CPython é€šè¿‡ä»¥ä¸‹åŠŸèƒ½æ‰©å±•äº†ä¼ ç»Ÿçš„ç¬¦å·ï¼š\né€‰æ‹©åˆ†ç»„ï¼ˆgrouping of alternativesï¼‰ï¼š (a | b) å¯é€‰éƒ¨åˆ†ï¼š [a] é›¶ä¸ªæˆ–å¤šä¸ªå’Œä¸€ä¸ªæˆ–å¤šä¸ªé‡å¤ï¼š a* å’Œ a+ æˆ‘ä»¬å¯ä»¥å‚è§ why Guido van Rossum chose to use regular expressionsã€‚å®ƒä»¬å…è®¸ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•è¡¨ç°çš„æ›´åŠ çš„è‡ªç„¶ï¼ˆå¯¹ä¸€ä¸ªç¨‹åºå‘˜æ¥è¯´ï¼‰ã€‚ æˆ‘ä»¬å¯ä»¥ä»…ä»…å†™ \\(A \\rightarrow a+\\) æ¥ä»£æ›¿ \\(A \\rightarrow aA|a\\) ã€‚è¿™ä¸ªé€‰æ‹©æ˜¯æœ‰ä»£ä»·çš„ï¼šCPython éœ€è¦å¼€å‘ä¸€ä¸ªæ–¹æ³•æ”¯æŒæ‰©å±•çš„ç¬¦å·ã€‚\nLL(1) æ–‡æ³•è§£ææ˜¯ä¸€ä¸ªå·²è§£å†³çš„é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä¸‹æ¨è‡ªåŠ¨æœºï¼ˆPDA, Pushdown automatonï¼‰ä½œä¸ºè‡ªä¸Šè€Œä¸‹çš„è§£æå™¨ã€‚PDA ä½¿ç”¨æ ˆé€šè¿‡æ¨¡æ‹Ÿç”Ÿæˆæ¥ æ“ä½œè¾“å…¥å­—ç¬¦ä¸²ã€‚è¦è§£æä¸€äº›è¾“å…¥ï¼Œå®ƒåœ¨æ ˆä¸Šä»¥å¼€å§‹ç¬¦å·ä¸ºèµ·ç‚¹ã€‚ç„¶åå®ƒä»è¾“å…¥æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦å·ï¼ŒçŒœæµ‹åº”è¯¥å¯¹å¼€å§‹ç¬¦å·åº”ç”¨å“ªä¸€ä¸ªè§„åˆ™ç„¶åç”¨è§„åˆ™ å³è¾¹çš„éƒ¨åˆ†å¯¹å®ƒè¿›è¡Œæ›¿æ¢ã€‚å¦‚æœæ ˆé¡¶çš„ç¬¦å·æ˜¯ä¸€ä¸ªç«¯ç‚¹åŒ¹é…è¾“å…¥çš„ä¸‹ä¸€ä¸ªç¬¦å·ï¼ŒPDA å°†ä¼šä»æ ˆé¡¶å°†ä¹‹å¼¹å‡ºå¹¶è·³è¿‡å·²åŒ¹é…çš„ç¬¦å·ã€‚å¦‚æœæ ˆé¡¶ç¬¦å·æ˜¯é ç«¯ç‚¹ï¼ŒPDA å°è¯•çŒœæµ‹è§„åˆ™æ ¹æ®è¾“å…¥çš„ä¸­ç¬¦å·å»æ›¿æ¢å®ƒã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´é‡å¤ï¼Œç›´åˆ°æ•´ä¸ªè¾“å…¥éƒ½è¢«æ‰«ææˆ–è€… PDA é€šè¿‡è¾“å…¥ä¸­çš„ä¸‹ä¸€ä¸ªç¬¦å·åœ¨æ ˆä¸Šæ— æ³• åŒ¹é…ä¸€ä¸ªç«¯ç‚¹ï¼šå¯¼è‡´é”™è¯¯ã€‚\nCPython å› ä¸ºç¼–å†™äº†äº§ç”Ÿå¼è§„åˆ™æ‰€ä»¥æ— æ³•ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥éœ€è¦å¼€å‘æ–°çš„æ–¹æ³•ã€‚è¦æ”¯æŒæ‰©å±•ç¬¦å·ï¼Œæ—§çš„è§£æå™¨é€šè¿‡ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆDFA, Deterministic Finite Automatonï¼‰ è¡¨ç¤ºæ–‡æ³•ä¸­çš„æ¯ä¸€ä¸ªè§„åˆ™ï¼Œå…¶ä»¥å’Œæ­£åˆ™è¡¨è¾¾å¼ç­‰æ•ˆè€Œé—»åã€‚è§£æå™¨è‡ªèº«æ˜¯ä¸€ä¸ªåƒ PDA ä¸€æ ·çš„åŸºäºæ ˆçš„è‡ªåŠ¨æœºï¼Œä½†æ˜¯ä¸å°†ç¬¦å·å‹å…¥æ ˆï¼Œè€Œæ˜¯æ›¿ä»£çš„å‹å…¥ DFA çš„çŠ¶æ€ã€‚ è¿™é‡Œæ˜¯æ—§è§£æå™¨ä½¿ç”¨çš„å…³é”®çš„æ•°æ®ç»“æ„ï¼š\ntypedef struct { int s_state; /* State in current DFA */ const dfa *s_dfa; /* Current DFA */ struct _node *s_parent; /* Where to add next node */ } stackentry; typedef struct { stackentry *s_top; /* Top entry */ stackentry s_base[MAXSTACK];/* Array of stack entries */ /* NB The stack grows down */ } stack; typedef struct { stack p_stack; /* Stack of parser states */ grammar *p_grammar; /* Grammar to use */ // basically, a collection of DFAs node *p_tree; /* Top of parse tree */ // ... } parser_state; è¿˜æœ‰ Parser/parser.c ä¸­çš„æ³¨é‡Šæ€»ç»“æ–¹æ³•ï¼š\nA parsing rule is represented as a Deterministic Finite-state Automaton (DFA). A node in a DFA represents a stabte of the parser; an arc represents a transition. Transitions are either labeled with terminal symbols or with nonterminals. When the parser decides to follow an arc labeled with a nonterminal, it is invoked recursively with the DFA representing the parsing rule for that as its initial state; when that DFA accepts, the parser that invoked it continues. The parse tree constructed by the recursively called parser is inserted as a child in the current parse tree.\nDFA ä»£è¡¨è§£æè§„åˆ™ã€‚DFA ä¸­èŠ‚ç‚¹ä»£è¡¨è§£æå™¨ä¸­çš„çŠ¶æ€ï¼Œarc è¡¨ç¤ºè¿‡æ¸¡ã€‚è¿‡æ¸¡ç”¨ç«¯ç‚¹æˆ–éç«¯ç‚¹æ ‡è®°ã€‚å½“è§£æå™¨å†³å®šè·Ÿéšä¸€ä¸ª arc æ ‡è®°çš„éç«¯ç‚¹ï¼Œå®ƒæ˜¯ä»¥è¯¥è§£æè§„åˆ™çš„ DFA ä½œä¸ºå®ƒçš„åˆå§‹çŠ¶æ€é€’å½’è°ƒç”¨ï¼›å½“ DFA æ¥å—æ—¶ï¼Œè°ƒç”¨å®ƒçš„è§£æå™¨å°†ç»§ç»­ã€‚é€šè¿‡é€’å½’çš„è°ƒç”¨æ„å»ºçš„è§£ææ ‘ä½œä¸ºå­æ ‘æ’å…¥å½“å‰çš„è§£ææ ‘ä¸­ã€‚\nåœ¨è§£æè¾“å…¥çš„è¿‡ç¨‹ä¸­ï¼Œè§£æå™¨æ„å»ºäº†è§£ææ ‘ï¼Œä¹Ÿè¢«ç§°ä½œå…·ä½“è¯­æ³•æ ‘ï¼ˆConcrete Syntax Treeï¼ŒCSTï¼‰ã€‚å¯¹æ¯” ASTï¼Œè§£ææ ‘ç›´æ¥å¯¹åº”è¾“å…¥æ—¶å¯¹åº”çš„è§„åˆ™ã€‚è§£ææ ‘çš„æ‰€æœ‰èŠ‚ç‚¹é€šè¿‡ node ç»“æ„ä½“è¡¨ç¤ºï¼š\ntypedef struct _node { short n_type; char *n_str; int n_lineno; int n_col_offset; int n_nchildren; struct _node *n_child; int n_end_lineno; int n_end_col_offset; } node; ä½†æ˜¯ï¼Œè§£ææ ‘å¹¶ä¸æ˜¯ç¼–è¯‘å™¨æ‰€éœ€è¦çš„ã€‚å®ƒå¿…é¡»è½¬æ¢æˆ ASTã€‚è¿™éƒ¨åˆ†å·¥ä½œç”± Python/ast.c æ¥å®Œæˆã€‚è¿™éƒ¨åˆ†ç®—æ³•é€’å½’çš„éå†è§£ææ ‘ç„¶åå°†è§£ææ ‘çš„èŠ‚ç‚¹ç¿»è¯‘æˆ AST çš„èŠ‚ç‚¹ã€‚ å‡ ä¹æ²¡äººå‘ç°è¿™å‡ è¿‘ 6000 çš„ä»£ç æ˜¯å¤šä¹ˆä»¤äººå…´å¥‹å•Šã€‚\næ ‡è®°å™¨ï¼ˆtokenizerï¼‰\nä»è¯­æ³•çš„è§’åº¦æ¥è¯´ Python å¹¶ä¸æ˜¯ä¸€é—¨ç®€å•çš„è¯­è¨€ã€‚å°½ç®¡ Python çš„æ–‡æ³•çœ‹èµ·æ¥å¾ˆç®€å•å¹¶ä¸”åŒ…å«åœ¨æ³¨é‡Šåœ¨å†…ä¹Ÿå°± 200 è¡Œã€‚è¿™æ˜¯å› ä¸ºæ–‡æ³•çš„ç¬¦å·éƒ½æ˜¯æ ‡è®°è€Œéå•ç‹¬çš„å­—ç¬¦ã€‚ ä¸€ä¸ªæ ‡è®°é€šè¿‡ç±»å‹è¡¨ç¤ºï¼Œæ¯”å¦‚ NUMBER ã€ NAME ã€ NEWLINE ï¼Œ å¯¹åº”çš„å€¼å’Œä½ç½®åœ¨æºç ä¸­ã€‚ CPython åœ¨ Grammar/Tokens ä¸­åˆ—å‡ºäº† 63 ç§ä¸åŒç±»å‹çš„æ ‡è®°ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ ‡æ³¨åº“ tokenize æ¥çœ‹ä¸€ä¸ªæ ‡è®°è¿‡çš„ç¨‹åºï¼š\ndef x_plus(x): if x \u0026gt;= 0: return x return 0 $ python -m tokenize example2.py 0,0-0,0: ENCODING \u0026#39;utf-8\u0026#39; 1,0-1,3: NAME \u0026#39;def\u0026#39; 1,4-1,10: NAME \u0026#39;x_plus\u0026#39; 1,10-1,11: OP \u0026#39;(\u0026#39; 1,11-1,12: NAME \u0026#39;x\u0026#39; 1,12-1,13: OP \u0026#39;)\u0026#39; 1,13-1,14: OP \u0026#39;:\u0026#39; 1,14-1,15: NEWLINE \u0026#39;\\n\u0026#39; 2,0-2,4: INDENT \u0026#39; \u0026#39; 2,4-2,6: NAME \u0026#39;if\u0026#39; 2,7-2,8: NAME \u0026#39;x\u0026#39; 2,9-2,11: OP \u0026#39;\u0026gt;=\u0026#39; 2,12-2,13: NUMBER \u0026#39;0\u0026#39; 2,13-2,14: OP \u0026#39;:\u0026#39; 2,14-2,15: NEWLINE \u0026#39;\\n\u0026#39; 3,0-3,8: INDENT \u0026#39; \u0026#39; 3,8-3,14: NAME \u0026#39;return\u0026#39; 3,15-3,16: NAME \u0026#39;x\u0026#39; 3,16-3,17: NEWLINE \u0026#39;\\n\u0026#39; 4,4-4,4: DEDENT \u0026#39;\u0026#39; 4,4-4,10: NAME \u0026#39;return\u0026#39; 4,11-4,12: NUMBER \u0026#39;0\u0026#39; 4,12-4,13: NEWLINE \u0026#39;\\n\u0026#39; 5,0-5,0: DEDENT \u0026#39;\u0026#39; 5,0-5,0: ENDMARKER \u0026#39;\u0026#39; è¿™å°±æ˜¯è§£æå™¨å¦‚ä½•çœ‹å¾…ç¨‹åºçš„ã€‚å½“è§£æå™¨éœ€è¦ä¸€ä¸ªæ ‡è®°æ—¶ï¼Œå®ƒå°†é€šè¿‡æ ‡è®°å™¨æ¥è·å¾—ã€‚æ ‡è®°å™¨æ¯æ¬¡ä»ç¼“å†²åŒºè¯»å–ä¸€ä¸ªå­—ç¬¦ç„¶åå°è¯•è¿›è¡Œå‰ç¼€åŒ¹é…ä¸€äº›ç±»å‹çš„æ ‡è®°ã€‚ æ ‡è®°å™¨å¦‚ä½•å¤„ç†ä¸åŒçš„ç¼–ç ï¼Ÿå®ƒæ˜¯åŸºäº io æ¨¡å—ã€‚é¦–å…ˆï¼Œæ ‡è®°å™¨æ£€æµ‹ç¼–ç ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç¼–ç åˆ™é»˜è®¤ UTF-8 ï¼Œç„¶åæ ‡è®°å™¨é€šè¿‡ç­‰ä»·äº Python çš„ open(fd, mode='r', encoding=enc) çš„ C è°ƒç”¨æ‰“å¼€æ–‡ä»¶ ï¼Œç„¶åé€šè¿‡è°ƒç”¨ readline è¯»å–å†…å®¹ã€‚è¿™ä¸ªå‡½æ•°è¿”å› unicode å­—ç¬¦ä¸²ã€‚ æ ‡è®°å™¨è¯»å–çš„å­—ç¬¦ä»…ä»…æ˜¯è¯¥å­—ç¬¦çš„ UTF-8 ç¼–ç çš„å­—èŠ‚ç ï¼ˆæˆ–è€… EOFï¼‰ã€‚\næˆ‘ä»¬å¯ä»¥åœ¨æ–‡æ³•ä¸­ç›´æ¥å®šä¹‰æ•°å­—æˆ–åç§°ï¼Œå°½ç®¡å®ƒä¼šå˜å¾—æ›´åŠ å¤æ‚ã€‚æˆ‘ä»¬æ— æ³•åšçš„æ˜¯åœ¨è¯­æ³•ä¸­è¡¨è¾¾ç¼©è¿›çš„é‡è¦æ€§ï¼Œè€Œåˆä¸ä½¿ä¸Šä¸‹æ–‡æ•æ„Ÿï¼Œå¹¶å› æ­¤ä¸é€‚åˆè§£æã€‚ æ ‡è®°å™¨é€šè¿‡æä¾› INDENT å’Œ DEDENT æ ‡è®°è®©è§£æå™¨çš„å·¥ä½œæ›´åŠ ç®€å•ã€‚å®ƒä»¬å’Œåƒ C è¯­è¨€ä¸­çš„å¤§æ‹¬å·å…·æœ‰ç›¸åŒçš„æ„ä¹‰ã€‚æ ‡è®°å™¨è¶³å¤Ÿå¼ºå¤§å»å¤„ç†ç¼©è¿›æ˜¯å› ä¸º å®ƒæœ‰çŠ¶æ€ã€‚å½“å‰ç¼©è¿›é€šè¿‡æ ˆé¡¶ä¿å­˜ï¼Œå¹¶ä¼šéšç€å±‚çº§å¢åŠ è€Œè¿›è¡Œå‹æ ˆï¼Œéšç€å±‚çº§å‡å°‘è€Œå‡ºæ ˆã€‚\næ—§çš„è§£æå™¨æ˜¯ CPython ä»£ç ä¸­çš„é‡è¦éƒ¨åˆ†ã€‚æ–‡æ³•çš„ DFA è§„åˆ™è‡ªåŠ¨ç”Ÿæˆï¼Œä½†æ˜¯è§£æå™¨çš„å…¶ä»–éƒ¨åˆ†åˆ™æ˜¯æ‰‹åŠ¨å®ç°ã€‚è¿™ä¸æ–°è§£æå™¨ç›¸åï¼Œæ–°çš„è§£æå™¨ä¼¼ä¹æ˜¯è§£å†³è§£æ Python ä»£ç é—®é¢˜çš„æ›´ä¼˜é›…çš„æ–¹æ¡ˆã€‚\næ–°è§£æå™¨ï¼ˆnew parserï¼‰ æ–°è§£æå™¨å¸¦æ¥äº†æ–°çš„æ–‡æ³•ã€‚è¿™ä¸ªæ–‡æ³•æ˜¯è§£æè¡¨è¾¾æ–‡æ³•ï¼ˆParsing Expression Grammarï¼ŒPEGï¼‰ã€‚è¦ç†è§£ PEG æœ€é‡è¦æ˜¯ä¸€ç‚¹å°±æ˜¯ä¸ä»…ä»…æ˜¯ä¸€ç»„æ–‡æ³•ã€‚å®ƒæ˜¯å¦ä¸€ç§å®šä¹‰ æ–‡æ³•çš„æ–¹æ³•ã€‚PEG ä½œä¸ºä¸€ä¸ªå·¥å…·æè¿°ç¼–ç¨‹è¯­è¨€å¹¶åŸºäºæè¿°ç”Ÿæˆè§£æå™¨åœ¨ 2004 å¹´ç”±å¸ƒè±æ©Â·ç¦ç‰¹ï¼ˆBryan Fordï¼‰æ¨å‡ºã€‚PEG åŒºåˆ«äºä¼ ç»Ÿå½¢å¼æ–‡æ³•çš„åœ°æ–¹åœ¨äºå®ƒçš„è§„åˆ™ å°†éç«¯ç‚¹æ˜ å°„åˆ°è§£æè¡¨è¾¾å¼ï¼Œè€Œä¸ä»…ä»…æ˜¯ç¬¦å·åºåˆ—ã€‚è¿™ä¹Ÿæ˜¯ CPython çš„ç²¾ç¥ã€‚è§£æè¡¨è¾¾å¼æ˜¯å½’çº³å®šä¹‰çš„ã€‚ å¦‚æœ eï¼Œ\\(e_1\\) å’Œ \\(e_2\\) æ˜¯è§£æè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆï¼š\nç©ºå­—ç¬¦ä¸² ä»»æ„ç«¯ç‚¹ ä»»æ„éç«¯ç‚¹ \\(e_{1}e_{2}\\) ï¼šåºåˆ— $e_1 | e_2 $ ï¼šä¼˜å…ˆé€‰æ‹© \\(e*\\) ï¼šé›¶ä¸ªæˆ–å¤šä¸ªé‡å¤ \\(!e\\) : é PEG æ˜¯åˆ†ææ–‡æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬è¢«è®¾è®¡ä¸ä»…ä»…ç”Ÿæˆè¯­è¨€åŒæ—¶ä¹Ÿå¯ä»¥åˆ†æè¯­è¨€ã€‚\nè„šæ³¨ grammar å’Œ syntax éƒ½æœ‰è¯­æ³•çš„æ„æ€ï¼Œè¿™é‡Œå°† grammar ç¿»è¯‘æˆæ–‡æ³•ä»¥åŒºåˆ†ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nå‚è§ç»´åŸºç™¾ç§‘ Terminal and nonterminal symbols ã€å½¢å¼è¯­è¨€å’Œå½¢å¼æ–‡æ³•ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\né€’å½’ä¸‹é™è§£æ\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20201015182827-python_behind_the_scenes_2_how_the_cpython_compiler_works/","summary":"tags: Translate,Incomplete,Python Python å¹•å #2: CPython ç¼–è¯‘å™¨å¦‚ä½•å·¥ä½œ ä»Šå¤©çš„ä¸»é¢˜ï¼ˆToday\u0026rsquo;s subjectï¼‰ åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ç ”ç©¶äº† Python è™šæ‹Ÿæœºã€‚æˆ‘ä»¬å­¦äº†è§£åˆ°å®ƒé€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—å«åšå­—èŠ‚ç ï¼ˆbytecodeï¼‰çš„æŒ‡ä»¤ã€‚ æˆ‘ä»¬ä¹Ÿçœ‹åˆ° Python å­—èŠ‚ç æ²¡æœ‰å®Œå…¨æè¿°ä»£ç ç‰‡æ®µçš„è¡Œä¸ºã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå­˜åœ¨ä¸€ä¸ªä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰çš„æ¦‚å¿µã€‚ æ‰§è¡Œè¯¸å¦‚å‡½æ•°æˆ–æ¨¡å—çš„ä»£ç å—ä¹Ÿå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„ä»£ç å¯¹è±¡ã€‚ä»£ç å¯¹è±¡åŒ…å«äº†ä»£ç å—çš„å­—èŠ‚ç ï¼ŒåŒ…å«ä»£ç ä¸­ä½¿ç”¨çš„å¸¸é‡å’Œå˜é‡åï¼Œ è¿˜æœ‰ä»£ç å—çš„ä¸€äº›å±æ€§ã€‚\né€šå¸¸ï¼Œä¸€ä¸ª Python ç¨‹åºå‘˜ä¸ç”¨ç¼–å†™å­—èŠ‚ç ï¼Œå¹¶ä¸”ä¹Ÿä¸ç”¨åˆ›å»ºä»£ç å¯¹è±¡ï¼Œè€Œæ˜¯ç¼–å†™æ­£å¸¸çš„ Python ä»£ç ã€‚æ‰€æœ‰ CPython å¿…é¡» èƒ½å¤Ÿå°†æºä»£ç è½¬æ¢æˆä»£ç å¯¹è±¡ã€‚CPython ç¼–è¯‘å™¨å°±è´Ÿè´£è¿™éƒ¨åˆ†å·¥ä½œã€‚æˆ‘ä»¬å°†é€šè¿‡è¿™éƒ¨åˆ†å†…å®¹æ¢ç´¢å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚\nNote: æœ¬æ–‡å‚è€ƒ CPython 3.9ã€‚ä¸€äº›å®ç°ç»†èŠ‚å°†å¿…ç„¶ä¼šéšç€ CPython çš„æ¼”è¿›è€Œæ”¹å˜ã€‚ æˆ‘å°†ä¼šå°è¯•å…³æ³¨ä¸€äº›é‡è¦çš„æ”¹å˜å¹¶æ·»åŠ æ›´æ–°å¤‡æ³¨ã€‚\nä»€ä¹ˆæ˜¯ CPython ç¼–è¯‘å™¨ï¼ˆWhat CPython compiler isï¼‰ æˆ‘ä»¬å·²ç»äº†è§£äº† CPython ç¼–è¯‘å™¨çš„èŒè´£ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬è¿›å…¥åˆ°å®ƒæ˜¯å¦‚ä½•å®ç°çš„ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆæ¥ææ¸…æ¥šä¸ºä»€ä¹ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºç¼–è¯‘å™¨ï¼Ÿ\nåœ¨é€šå¸¸æƒ…å†µåŠ ï¼Œç¼–è¯‘å™¨æ˜¯ä¸€ä¸ªå°†ä¸€ä¸ªç¨‹åºè¯­è¨€ç¿»è¯‘åˆ°å¦ä¸€ä¸ªä¸ä¹‹ç­‰ä»·çš„ç¨‹åºè¯­è¨€çš„ç¨‹åºã€‚ç¼–è¯‘å™¨æœ‰è®¸å¤šç§ç±»ï¼Œä½†æ˜¯é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ è®¨è®ºçš„éƒ½æ˜¯é™æ€ç¼–è¯‘ï¼šå°†ä¸€ä¸ªé«˜çº§è¯­è¨€çš„ç¨‹åºç¿»è¯‘æˆæœºå™¨ç ã€‚CPython ç¼–è¯‘å™¨ä¹Ÿæ˜¯è¿™æ ·å—ï¼Ÿè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹é™æ€ç¼– è¯‘å™¨çš„ä¼ ç»Ÿä¸‰é˜¶æ®µè®¾è®¡ï¼ˆthree-stage designï¼‰ã€‚\nç¼–è¯‘å™¨å‰ç«¯ï¼ˆfrontendï¼‰å°†æºä»£ç è½¬æ¢æˆä¸€ç§ä¸­é—´è¯­è¨€ï¼ˆIR,intermediate representationï¼‰ã€‚ç„¶åä¼˜åŒ–å™¨ï¼ˆoptimzerï¼‰æ‹¿åˆ°ä¸­é—´è¯­è¨€ å¯¹å…¶è¿›è¡Œä¼˜åŒ–å¹¶æŠŠä¼˜åŒ–è¿‡çš„ä¸­é—´è¯­è¨€ä¼ é€’ç»™ç¼–è¯‘å™¨åç«¯ç”Ÿæˆæœºå™¨ç ã€‚å¦‚æœæˆ‘ä»¬é€‰æ‹©ä¸€ç§æºè¯­è¨€å’Œç›®æ ‡æœºå™¨æ— å…³çš„ä¸­é—´è¯­è¨€ï¼Œæˆ‘ä»¬å°± å¾—åˆ°äº†ä¸‰é˜¶æ®µè®¾è®¡çš„å…³é”®ç›Šå¤„ï¼šå¯¹äºä¸€ä¸ªç¼–è¯‘å™¨æ¥è¯´ï¼Œæ”¯æŒä¸€ç§æ–°çš„æºè¯­è¨€ä»…ä»…éœ€è¦æ–°å¢ä¸€ä¸ªå¯¹åº”çš„ç¼–è¯‘å™¨å‰ç«¯ï¼Œæ”¯æŒä¸€ç§æ–°çš„ç›®æ ‡æœºå™¨ ä»…ä»…éœ€è¦æ–°å¢ä¸€ä¸ªå¯¹åº”çš„ç¼–è¯‘å™¨åç«¯ã€‚\nLLVM å·¥å…·é›†ï¼ˆtoolchainï¼‰å°±æ˜¯è¿™ä¸ªæ¨¡å‹çš„ä¸€ä¸ªå¾ˆå¥½çš„æˆåŠŸçš„ä¾‹å­ã€‚æœ‰å¾ˆå¤šç¼–è¯‘å™¨å‰ç«¯å¦‚ Cã€Rustã€Swift ç­‰å…¶ä»–å¾ˆå¤šç¼–ç¨‹è¯­è¨€åŸºäº LLVM æä¾›ç»™ç¼–è¯‘å™¨æ›´åŠ å¤æ‚çš„éƒ¨åˆ†ã€‚LLVM çš„åˆ›å»ºè€… Chris Latter æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„ LLVM æ¶æ„æ¦‚è§ˆã€‚\nCPython å°½ç®¡ä¸éœ€è¦æ”¯æŒå¤šä¸ªæºè¯­è¨€å’Œç›®æ ‡æœºå™¨ï¼Œå°”ä»…ä»…éœ€è¦æ”¯æŒ Python ä»£ç å’Œ CPython è™šæ‹Ÿæœºã€‚ä¸è¿‡ï¼ŒCPython åŒæ ·å®ç°äº†ä¸‰é˜¶æ®µè®¾è®¡ã€‚ å¦‚æœæƒ³çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ è¯¦ç»†çš„è§£é‡Šç¼–è¯‘å™¨çš„ä¸‰é˜¶æ®µçš„æ¯ä¸ªé˜¶æ®µã€‚","title":"Python behind the scenes #2: how the CPython compiler works"},{"content":" tags: Emacs\nM-x straight-thaw-versions RET æ¢å¤åˆ°é”å®šçš„ç‰ˆæœ¬\nM-x straight-pull-all RET æ›´æ–°æ‰€æœ‰åŒ…\nM-x straight-freeze-versions RET é”å®šå½“å‰ç‰ˆæœ¬\nDuplicated with straight.el æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„åŒ…\n","permalink":"https://notes.0081800.xyz/notes/20201006200745-straight_el_%E6%9B%B4%E6%96%B0/","summary":"tags: Emacs\nM-x straight-thaw-versions RET æ¢å¤åˆ°é”å®šçš„ç‰ˆæœ¬\nM-x straight-pull-all RET æ›´æ–°æ‰€æœ‰åŒ…\nM-x straight-freeze-versions RET é”å®šå½“å‰ç‰ˆæœ¬\nDuplicated with straight.el æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„åŒ…","title":"straight.el å‘½ä»¤"},{"content":" straight-thaw-versions straight-pull-all straight-freeze-versions ","permalink":"https://notes.0081800.xyz/notes/20201006200745-straight_el_%E6%9B%B4%E6%96%B0%E6%89%80%E6%9C%89%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84%E5%8C%85/","summary":" straight-thaw-versions straight-pull-all straight-freeze-versions ","title":"straight.el æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„åŒ…"},{"content":" tags: Emacs source: https://www.gnu.org/software/emacs/manual/html%5Fnode/emacs/Uniquify.html ","permalink":"https://notes.0081800.xyz/notes/20200927170116-emacs_buffer_%E5%90%8D%E5%AD%97%E5%8E%BB%E9%87%8D/","summary":" tags: Emacs source: https://www.gnu.org/software/emacs/manual/html%5Fnode/emacs/Uniquify.html ","title":"Emacs Buffer åå­—å»é‡"},{"content":"å…·æœ‰â€œé•¿åº¦â€æ¦‚å¿µçš„å‡½æ•°ã€‚åœ¨çº¿æ€§ä»£æ•°ã€æ³›å‡½åˆ†æç­‰ç›¸å…³æ•°å­¦é¢†åŸŸï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸ºå‘é‡ç©ºé—´å†…æ‰€æœ‰å‘é‡èµ‹äºˆéé›¶çš„æ­£é•¿åº¦æˆ–å¤§å°ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200912102351-%E8%8C%83%E6%95%B0/","summary":"å…·æœ‰â€œé•¿åº¦â€æ¦‚å¿µçš„å‡½æ•°ã€‚åœ¨çº¿æ€§ä»£æ•°ã€æ³›å‡½åˆ†æç­‰ç›¸å…³æ•°å­¦é¢†åŸŸï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸ºå‘é‡ç©ºé—´å†…æ‰€æœ‰å‘é‡èµ‹äºˆéé›¶çš„æ­£é•¿åº¦æˆ–å¤§å°ã€‚","title":"èŒƒæ•°ï¼ˆnormï¼‰"},{"content":"\\[MAE(X,h) = \\frac{1}{m}\\sum_{i=1}^{m}\\left\\lvert h(x^{(i)} - y ^{i})\\right\\rvert\\]\n","permalink":"https://notes.0081800.xyz/notes/20200912101549-mae_%E5%B9%B3%E5%9D%87%E7%BB%9D%E5%AF%B9%E8%AF%AF%E5%B7%AE/","summary":"\\[MAE(X,h) = \\frac{1}{m}\\sum_{i=1}^{m}\\left\\lvert h(x^{(i)} - y ^{i})\\right\\rvert\\]","title":"MAEï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼‰"},{"content":"æµ‹é‡é¢„æµ‹è¿‡ç¨‹ä¸­çš„é¢„æµ‹é”™è¯¯çš„æ ‡å‡†å·®ã€‚\nå…¬å¼\n\\[RMSE(X,h)=\\sqrt{\\frac{1}{m}\\sum_{i=1}^{m}(h(x^{(i)}) - y^{(i)})^2}\\]\nm æ˜¯ä½ åœ¨æµ‹é‡ RMSE æ—¶ï¼Œæ‰€ä½¿ç”¨çš„æ•°æ®é›†ä¸­å®ä¾‹çš„æ•°é‡ \\(x^{(i)}\\) æ˜¯æ•°æ®é›†ä¸­ç¬¬ \\(i\\) ä¸ªå®ä¾‹çš„æ‰€æœ‰ç‰¹å¾å€¼çš„å‘é‡ï¼ˆæ ‡ç­¾ç‰¹å¾é™¤å¤–ï¼‰ï¼Œ\\(y{(i)}\\) æ˜¯æ ‡ç­¾ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬æœŸå¾…è¯¥å®ä¾‹çš„è¾“å‡ºå€¼ï¼‰ X æ˜¯æ•°æ®é›†ä¸­æ‰€æœ‰å®ä¾‹æ‰€æœ‰ç‰¹å¾å€¼çš„çŸ©é˜µï¼ˆæ ‡è®°ç‰¹å¾é™¤å¤–ï¼‰ã€‚æ¯ä¸ªå®ä¾‹ä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ \\(i\\) è¡Œç­‰äº \\(x^{(i)}\\) çš„è½¬ç½®çŸ©é˜µ1ï¼Œè®°ä½œ \\((x^{(i)})^T\\) h æ˜¯ç³»ç»Ÿçš„é¢„æµ‹å‡½æ•°ï¼Œä¹Ÿç§°ä¸ºä¸€ä¸ªå‡è®¾ã€‚å½“ç»™å®šç³»ç»Ÿä¸€ä¸ªå®ä¾‹çš„ç‰¹å¾å‘é‡ \\(x^{(i)}\\) ï¼Œä»–ä¼šè¾“å‡ºä¸€ä¸ªé¢„æµ‹å€¼ \\(\\hat{y}=h(x^{(i)})\\) RMSE(X,h) æ˜¯ä½¿ç”¨å‡è®¾ h åœ¨ç¤ºä¾‹ä¸Šæµ‹é‡çš„æˆæœ¬å‡½æ•°ã€‚ è½¬ç½®è¿ç®—ç¬¦ä¼šå°†åˆ—å‘é‡è½¬æ¢æˆè¡Œå‘é‡ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20200912094544-rmse_%E5%9D%87%E6%96%B9%E6%A0%B9%E8%AF%AF%E5%B7%AE/","summary":"æµ‹é‡é¢„æµ‹è¿‡ç¨‹ä¸­çš„é¢„æµ‹é”™è¯¯çš„æ ‡å‡†å·®ã€‚\nå…¬å¼\n\\[RMSE(X,h)=\\sqrt{\\frac{1}{m}\\sum_{i=1}^{m}(h(x^{(i)}) - y^{(i)})^2}\\]\nm æ˜¯ä½ åœ¨æµ‹é‡ RMSE æ—¶ï¼Œæ‰€ä½¿ç”¨çš„æ•°æ®é›†ä¸­å®ä¾‹çš„æ•°é‡ \\(x^{(i)}\\) æ˜¯æ•°æ®é›†ä¸­ç¬¬ \\(i\\) ä¸ªå®ä¾‹çš„æ‰€æœ‰ç‰¹å¾å€¼çš„å‘é‡ï¼ˆæ ‡ç­¾ç‰¹å¾é™¤å¤–ï¼‰ï¼Œ\\(y{(i)}\\) æ˜¯æ ‡ç­¾ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬æœŸå¾…è¯¥å®ä¾‹çš„è¾“å‡ºå€¼ï¼‰ X æ˜¯æ•°æ®é›†ä¸­æ‰€æœ‰å®ä¾‹æ‰€æœ‰ç‰¹å¾å€¼çš„çŸ©é˜µï¼ˆæ ‡è®°ç‰¹å¾é™¤å¤–ï¼‰ã€‚æ¯ä¸ªå®ä¾‹ä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ \\(i\\) è¡Œç­‰äº \\(x^{(i)}\\) çš„è½¬ç½®çŸ©é˜µ1ï¼Œè®°ä½œ \\((x^{(i)})^T\\) h æ˜¯ç³»ç»Ÿçš„é¢„æµ‹å‡½æ•°ï¼Œä¹Ÿç§°ä¸ºä¸€ä¸ªå‡è®¾ã€‚å½“ç»™å®šç³»ç»Ÿä¸€ä¸ªå®ä¾‹çš„ç‰¹å¾å‘é‡ \\(x^{(i)}\\) ï¼Œä»–ä¼šè¾“å‡ºä¸€ä¸ªé¢„æµ‹å€¼ \\(\\hat{y}=h(x^{(i)})\\) RMSE(X,h) æ˜¯ä½¿ç”¨å‡è®¾ h åœ¨ç¤ºä¾‹ä¸Šæµ‹é‡çš„æˆæœ¬å‡½æ•°ã€‚ è½¬ç½®è¿ç®—ç¬¦ä¼šå°†åˆ—å‘é‡è½¬æ¢æˆè¡Œå‘é‡ã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;","title":"RMSEï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼‰"},{"content":"å…¬å¼ RMSEï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼‰ MAEï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼‰ æ¦‚å¿µ æ ‡å‡†å·®ï¼ˆStd Devï¼‰ èŒƒæ•° æ–¹å·® çš®å°”é€Šç›¸å…³ç³»æ•°ï¼ˆæ ‡å‡†ç›¸å…³ç³»æ•°ï¼‰ çº¿æ€§ç›¸å…³æ€§ ","permalink":"https://notes.0081800.xyz/notes/20200912093811-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%B6%89%E5%8F%8A%E6%95%B0%E5%AD%A6%E6%A6%82%E5%BF%B5/","summary":"å…¬å¼ RMSEï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼‰ MAEï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼‰ æ¦‚å¿µ æ ‡å‡†å·®ï¼ˆStd Devï¼‰ èŒƒæ•° æ–¹å·® çš®å°”é€Šç›¸å…³ç³»æ•°ï¼ˆæ ‡å‡†ç›¸å…³ç³»æ•°ï¼‰ çº¿æ€§ç›¸å…³æ€§ ","title":"æœºå™¨å­¦ä¹ æ¶‰åŠæ•°å­¦æ¦‚å¿µ"},{"content":" tags: Translate,Python åŸæ–‡é“¾æ¥ï¼šPython behind the scenes #1: how the CPython VM worksã€‚\nPython å¹•å #1: CPython è™šæ‹Ÿæœºå¦‚ä½•å·¥ä½œ ä»‹ç»ï¼ˆIntroductionï¼‰ ä½ æ˜¯å¦æ›¾ç»å¥½å¥‡è¿‡å½“ä½ è¿è¡Œ Python ä»£ç æ—¶ python åšäº†äº›ä»€ä¹ˆï¼Ÿ\n$ python script.py è¿™ç¯‡æ–‡ç« å°†å¼€å¯ä¸€ä¸ªç³»åˆ—æ¥å°è¯•è§£ç­”è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å°†æ·±å…¥ Python æœ€æµè¡Œçš„å®ç° CPython çš„å†…éƒ¨ã€‚ é€šè¿‡æ·±å…¥ CPython çš„å†…éƒ¨æˆ‘ä»¬å°†æ›´æ·±ä¸€å±‚çš„å»ç†è§£è¿™é—¨ç¼–ç¨‹è¯­è¨€æœ¬èº«ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬è¿™ä¸ªç³»åˆ—çš„æœ€ä¸»è¦çš„ç›®æ ‡ã€‚ å¦‚æœä½ ç†Ÿæ‚‰ Python å¹¶ä¸”å¯ä»¥é˜…è¯» C ä»£ç ï¼Œä½†æ˜¯å¯¹ CPython æºç æœ¬èº«æ²¡æœ‰å¤ªå¤šçš„ç»éªŒï¼Œ é‚£ä¹ˆä½ å¯èƒ½éå¸¸é€‚åˆæœ¬ç³»åˆ—ï¼Œå¹¶ä¸”å¯¹æœ¬ç³»åˆ—æ„Ÿå…´è¶£ã€‚\nä»€ä¹ˆæ˜¯ CPython å¹¶ä¸”ä¸ºä»€ä¹ˆæœ‰äººæƒ³å­¦ä¹ å®ƒï¼ˆWhat CPython is and why anyone would want to study itï¼‰ æˆ‘ä»¬é¦–å…ˆæ¥è¯´æ˜ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„äº‹æƒ…ã€‚CPython æ˜¯ç”¨ C ç¼–å†™çš„ Python è§£æå™¨ã€‚ä»–æ˜¯ Python è¯­è¨€çš„ä¼—å¤šå®ç° çš„ä¸€ç§ï¼Œå…¶ä»–è¿˜æœ‰è¯¸å¦‚ PyPyã€Jythonã€IronPython ç­‰ã€‚CPython çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒæ˜¯ Python çš„èµ·æºã€ç»´æŠ¤æ—¶é—´æœ€é•¿ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„ã€‚\nCPython å®ç°äº† Pythonï¼Œä½†æ˜¯ Python æ˜¯ä»€ä¹ˆï¼Ÿæœ€ç®€å•çš„ä¸€ä¸ªç­”æ¡ˆå¯èƒ½æ˜¯ï¼šPython æ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€ã€‚ å½“æ­£ç¡®é—®ç›¸åŒçš„é—®é¢˜ï¼Œé‚£ä¹ˆç­”æ¡ˆå°†ä¼šæ›´åŠ æ˜ç¡®ï¼šä»€ä¹ˆå®šä¹‰äº† Pythonï¼ŸPython ä¸åƒ C è¯­è¨€æœ‰æ­£å¼çš„è§„èŒƒï¼Œ ä½†æ˜¯ä¸ä¹‹ç›¸è¿‘çš„æ˜¯ Python è¯­è¨€å‚è€ƒï¼ˆPython Language Referenceï¼‰ï¼Œå®ƒä»¥å¦‚ä¸‹å†…å®¹å¼€å§‹ï¼š\næˆ‘å¸Œæœ›å°½å¯èƒ½åœ°ä¿è¯å†…å®¹ç²¾ç¡®æ— è¯¯ï¼Œä½†è¿˜æ˜¯é€‰æ‹©ä½¿ç”¨è‡ªç„¶è¯å¥è¿›è¡Œæè¿°ï¼Œæ­£å¼çš„è§„æ ¼å®šä¹‰ä»…ç”¨äºå¥æ³•å’Œè¯æ³•è§£æã€‚è¿™æ ·åº”è¯¥èƒ½ä½¿æ–‡æ¡£å¯¹äºæ™®é€šäººæ¥è¯´æ›´æ˜“ç†è§£ï¼Œä½†ä¹Ÿå¯èƒ½å¯¼è‡´ä¸€äº›æ­§ä¹‰ã€‚å› æ­¤ï¼Œå¦‚æœä½ æ˜¯æ¥è‡ªç«æ˜Ÿå¹¶ä¸”æƒ³å‡­å€Ÿè¿™ä»½æ–‡æ¡£æŠŠ Python é‡æ–°å®ç°ä¸€éï¼Œä¹Ÿè®¸æœ‰æ—¶éœ€è¦è‡ªè¡ŒçŒœæµ‹ï¼Œå®é™…ä¸Šæœ€ç»ˆå¤§æ¦‚ä¼šå¾—åˆ°ä¸€ä¸ªååˆ†ä¸åŒçš„è¯­è¨€ã€‚è€Œåœ¨å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Python å¹¶ä¸”æƒ³äº†è§£æœ‰å…³è¯¥è¯­è¨€ç‰¹å®šé¢†åŸŸçš„ç²¾ç¡®è§„åˆ™ï¼Œä½ åº”è¯¥èƒ½å¤Ÿåœ¨è¿™é‡Œæ‰¾åˆ°å®ƒä»¬ã€‚å¦‚æœä½ å¸Œæœ›æŸ¥çœ‹å¯¹è¯¥è¯­è¨€æ›´æ­£å¼çš„å®šä¹‰ï¼Œä¹Ÿè®¸ä½ å¯ä»¥èŠ±äº›æ—¶é—´è‡ªå·±å†™ä¸Šä¸€ä»½ \u0026mdash; æˆ–è€…å‘æ˜ä¸€å°å…‹éš†æœºå™¨ :-)\næ‰€ä»¥ Python ä¸ä»…ä»…é€šè¿‡è¯­è¨€å‚è€ƒå®šä¹‰ï¼Œè¯´ Python æ˜¯é€šè¿‡è¯­è¨€å‚è€ƒå®šä¹‰çš„å®ç°æˆ–è€…è¯´æ˜¯ CPython éƒ½æ˜¯é”™è¯¯çš„ï¼Œ å› ä¸ºå…¶ä¸­çš„ä¸€äº›å®ç°ç»†èŠ‚å¹¶ä¸æ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†ã€‚ä¸€ä¸ªåŸºäºå¼•ç”¨è®¡æ•°çš„åƒåœ¾å›æ”¶å™¨å°±æ˜¯ä¾‹å­ã€‚ç”±äºæ²¡æœ‰ä¸€ä¸ªæ¥è¯´æ³•æ˜¯æ­£ç¡®çš„ï¼Œ æˆ‘ä»¬å¯ä»¥è¯´ Python çš„ä¸€éƒ¨åˆ†æ˜¯ç”± Python è¯­è¨€å‚è€ƒï¼ˆPython Language Referenceï¼‰å®šä¹‰ï¼Œ ä¸€éƒ¨åˆ†æ˜¯å®ƒçš„ä¸»è¦å®ç° CPython å®šä¹‰ã€‚\nè¿™æ ·çš„ç»“è®ºä¼¼ä¹å¾ˆå¤æ€ªï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™å¯¹æˆ‘ä»¬å¼„æ¸…æˆ‘ä»¬è¦å­¦ä¹ çš„ä¸»é¢˜è‡³å…³é‡è¦ã€‚æˆ‘ä»¬å¯èƒ½ä¾ç„¶å›°æƒ‘æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å­¦ä¹ å®ƒã€‚ é™¤äº†å¥½å¥‡å¿ƒï¼Œæˆ‘è®¤ä¸ºè¿˜æœ‰å¦‚ä¸‹ç†ç”±ï¼š\næ‹¥æœ‰å®Œæ•´çš„è§†è§’å¯ä»¥æ›´æ·±å…¥çš„ç†è§£è¿™é—¨è¯­è¨€ã€‚å¦‚æœäº†è§£ä¸€äº› Python çš„ç»†èŠ‚é‚£ä¹ˆå°±æ›´å®¹æ˜“æŒæ¡ä¸€äº› Python ç‰¹æ€§ã€‚ åœ¨å®è·µä¸­å®ç°ç»†èŠ‚å¾ˆé‡è¦ã€‚å½“æƒ³è¦äº†è§£è¯­è¨€é€‚ç”¨æ€§åŠå…¶å±€é™æ€§ã€è¯„ä¼°æ€§èƒ½æˆ–æ£€æµ‹æ•ˆç‡ä½ä¸‹æ—¶ï¼Œäº†è§£å¯¹è±¡å¦‚ä½•å­˜å‚¨ï¼Œ åƒåœ¾å›æ”¶å™¨å¦‚ä½•å·¥ä½œï¼Œä»¥åŠå¦‚ä½•åè°ƒå¤šä¸ªçº¿ç¨‹å°†æ˜¯éå¸¸é‡è¦çš„ã€‚ CPython æä¾›äº† Python/C API æ¥å…è®¸æˆ‘ä»¬ç”¨ C æ‰©å±• Python æˆ–è€…åœ¨ C ä¸­åµŒå…¥ Pythonã€‚ ç¨‹åºå‘˜éœ€è¦å¾ˆå¥½çš„ç†è§£ CPython å¦‚ä½•å·¥ä½œæ‰èƒ½é«˜æ•ˆçš„ä½¿ç”¨è¿™äº› APIã€‚ äº†è§£ CPython å¦‚æœå·¥ä½œéœ€è¦åšäº›ä»€ä¹ˆï¼ˆWhat it takes to understand how CPython worksï¼‰ CPython è¢«è®¾è®¡æˆæ˜“äºç»´æŠ¤ã€‚ä¸€ä¸ªæ–°äººå®Œå…¨å¯ä»¥é˜…è¯»æºä»£ç å¹¶ç†è§£ä»£ç åšäº†äº›ä»€ä¹ˆã€‚ä½†æ˜¯ï¼Œè¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚ é€šè¿‡è¿™ä¸ªç³»åˆ—æˆ‘å¸Œæœ›èƒ½å¸®åŠ©ä½ ç¼©çŸ­è¿™ä¸ªæ—¶é—´ã€‚\nè¿™ä¸ªç³»åˆ—å¦‚ä½•æ¨è¿›ï¼ˆHow this series is laid outï¼‰ æˆ‘é€‰æ‹©é‡‡å–è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•ã€‚åœ¨è¿™ä¸ªéƒ¨åˆ†æˆ‘ä»¬å°†æ¢ç´¢ CPython è™šæ‹Ÿæœºçš„æ ¸å¿ƒæ¦‚å¿µã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†çœ‹åˆ° CPython å¦‚ä½•ç¼–è¯‘ä¸€ä¸ªç¨‹åºåˆ° VM å¯ä»¥æ‰§è¡Œçš„å†…å®¹ã€‚å†ç„¶åï¼Œæˆ‘ä»¬å°†ç†Ÿæ‚‰æºä»£ç ï¼Œå¹¶é€šè¿‡æ‰§è¡Œä¸€ä¸ªç¨‹åº æ¥å­¦ä¹ è§£é‡Šå™¨çš„ä¸»è¦éƒ¨åˆ†ã€‚æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‘é€‰è¯­è¨€ä¸åŒçš„æ–¹é¢æ¥ä¸€ä¸ªæ¥ä¸€ä¸ªçš„å»çœ‹çœ‹å®ƒä»¬æ˜¯å¦‚ä½•å®ç°çš„ã€‚ è¿™æ˜¯æˆ‘çš„ä¸€ä¸ªå¤§æ¦‚çš„æƒ³æ³•ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„è®¡åˆ’ã€‚\nNote: æœ¬æ–‡å‚è€ƒ CPython 3.9ã€‚ä¸€äº›å®ç°ç»†èŠ‚å°†å¿…ç„¶ä¼šéšç€ CPython çš„æ¼”è¿›è€Œæ”¹å˜ã€‚ æˆ‘å°†ä¼šå°è¯•å…³æ³¨ä¸€äº›é‡è¦çš„æ”¹å˜å¹¶æ·»åŠ æ›´æ–°å¤‡æ³¨ã€‚\né¸Ÿç°ï¼ˆThe big pictureï¼‰ æ‰§è¡Œä¸€ä¸ª Python ç¨‹åºå¤§æ¦‚ç»è¿‡ä¸‰ä¸ªé˜¶æ®µï¼š\nåˆå§‹åŒ–ï¼ˆInitializationï¼‰ ç¼–è¯‘ï¼ˆCompilationï¼‰ è§£é‡Šï¼ˆInterpretationï¼‰ åœ¨åˆå§‹åŒ–é˜¶æ®µï¼ŒCPython åˆå§‹åŒ–è¿è¡Œ Python æ‰€éœ€è¦çš„æ•°æ®ç»“æ„ã€‚åŒæ—¶ä¹Ÿå‡†å¤‡ä¸€äº›è¯¸å¦‚ å†…å»ºç±»å‹ã€é…ç½®å’ŒåŠ è½½å†…å»ºæ¨¡å—ï¼Œåˆå§‹åŒ–å¯¼å…¥ç³»ç»Ÿï¼ˆimport systemï¼‰å’Œä¸€äº›å…¶ä»–çš„äº‹æƒ…ã€‚ è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é˜¶æ®µï¼Œä½†æ˜¯ç”±äºå…¶åŠŸèƒ½æ€§è´¨è¿™ä¸ªé˜¶æ®µä¹Ÿæ˜¯å¸¸è¢« CPython çš„æ¢ç´¢è€…å¿½ç•¥çš„ä¸€ä¸ªé˜¶æ®µã€‚\næ¥ä¸‹æ¥æ˜¯ç¼–è¯‘é˜¶æ®µã€‚CPython åœ¨æŸç§æ„ä¹‰ä¸Šæ˜¯ä¸€ä¸ªè§£é‡Šå™¨è€Œä¸æ˜¯ç¼–è¯‘å™¨ï¼Œå› ä¸ºå®ƒä¸è¾“å‡ºæœºå™¨ç ã€‚ ä½†æ˜¯è§£é‡Šå™¨é€šå¸¸ä¼šåœ¨æ‰§è¡Œä¹‹å‰æŠŠæºä»£ç ç¿»è¯‘æˆä¸€ç§ä¸­é—´è¯­è¨€ï¼ˆintermediate representationï¼‰ã€‚ CPython ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è¿™ä¸ªç¿»è¯‘é˜¶æ®µå’Œä¸€ä¸ªå…¸å‹çš„ç¼–è¯‘å™¨åšåŒæ ·çš„äº‹æƒ…ï¼šè§£ææºä»£ç ç„¶åæ„å»º ASTï¼ˆAbstract Syntax Treeï¼‰ã€ é€šè¿‡ AST ç”Ÿæˆå­—èŠ‚ç ã€ç”šè‡³æ‰§è¡Œä¸€äº›å­—èŠ‚ç ä¼˜åŒ–çš„æ“ä½œã€‚\nåœ¨è¿›å…¥ä¸‹ä¸€é˜¶æ®µä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼ˆbytecodeï¼‰ã€‚å­—èŠ‚ç æ˜¯ä¸€ç³»åˆ—çš„æŒ‡ä»¤ã€‚ æ¯ä¸€ä¸ªæŒ‡ä»¤ç”±ä¸¤ä¸ªå­—èŠ‚ç»„æˆï¼šä¸€ä¸ªä¸º opcodeï¼Œä¸€ä¸ªä¸ºå‚æ•°ï¼ˆargumentï¼‰ã€‚çœ‹å¦‚ä¸‹ä¾‹å­ï¼š\ndef g(x): return x + 3 CPython å°†å‡½æ•°å®šä¹‰ g ç¿»è¯‘æˆä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼š[124, 0, 100, 1, 23, 0, 83, 0]ã€‚ å¦‚æœæˆ‘ä»¬è¿è¡Œæ ‡å‡†åº“ disÂ 1å»åæ±‡ç¼–å®ƒï¼Œæˆ‘ä»¬å°†ä¼šå¾—åˆ°å¦‚ä¸‹å†…å®¹ï¼š\n2 0 LOAD_FAST 0 (x) 2 LOAD_CONST 1 (3) 4 BINARY_ADD 6 RETURN_VALUE å­—èŠ‚ 124 è¡¨ç¤º opcode LOAD_FAST å¹¶ä¸”æœ‰ä¸€ä¸ªå‚æ•° 0 ã€‚å­—èŠ‚ 100 è¡¨ç¤º opcode LOAD_CONST å¹¶ä¸”æœ‰ä¸€ä¸ªå‚æ•° 1 ã€‚ BINARY_ADD å’Œ RETURN_VALUE æŒ‡ä»¤ä¸éœ€è¦å‚æ•°æ‰€ä»¥æ€»æ˜¯è¢«ç¼–ç æˆ (23, 0) å’Œ (83, 0) ã€‚\nCPython çš„æ ¸å¿ƒå°±æ˜¯ä¸€ä¸ªè¿è¡Œå­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚é€šè¿‡æŸ¥çœ‹ä¸Šé¢ä¾‹å­ä½ å¯èƒ½å·²ç»çŒœåˆ°å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„æ‹‰ã€‚ CPython è™šæ‹Ÿæœºä¸€ä¸ªåŸºäºæ ˆçš„ã€‚ä¹Ÿå°±æ„å‘³è¿™å®ƒæ‰§è¡ŒæŒ‡ä»¤å¹¶é€šè¿‡æ ˆå­˜å‚¨å’Œè·å–æ•°æ®ã€‚ LOAD_FAST æŒ‡ä»¤å°†å±€éƒ¨å˜é‡å‹å…¥æ ˆï¼Œ LOAD_CONST å‹å…¥ä¸€ä¸ªå¸¸é‡ï¼Œ BINARY_ADD ä»æ ˆä¸­å¼¹å‡ºä¸¤ä¸ªå¯¹è±¡ï¼Œç„¶åè¿›è¡Œç›¸åŠ å¹¶å°†ç»“æœæ”¾å›æ ˆã€‚ æœ€å¥½ RETURN_VALUE ä»æ ˆå¼¹å‡ºä»»æ„å€¼ç„¶åå°†ç»“æœè¿”å›ç»™è°ƒç”¨è€…ã€‚\nå½“æœ‰æŒ‡ä»¤éœ€è¦è¿è¡Œæ—¶å­—èŠ‚ç è¿è¡Œåœ¨ä¸€ä¸ªå·¨å¤§çš„æ‰§è¡Œå¾ªç¯ä¸­ï¼Œ yield ä¸€ä¸ªå€¼æˆ–è€…å‘ç”Ÿé”™è¯¯å°†å¯¼è‡´å®ƒåœæ­¢ã€‚\nè¿™æ ·ä¸€ä¸ªç®€çŸ­æ¦‚è¿°å¼•å‘äº†å¾ˆå¤šé—®é¢˜ï¼š\nå‚æ•°å¯¹ opcode LOAD_FAST å’Œ LOAD_CONST çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿä»–ä»¬æ˜¯ç´¢å¼•å—ï¼Ÿä»–ä»¬å¦‚ä½•ç´¢å¼•ï¼Ÿ VM ä¼šåœ¨æ ˆä¸Šæ”¾ç½®å€¼æˆ–è€…å¯¹è±¡çš„å¼•ç”¨å—ï¼Ÿ CPython å¦‚ä½•çŸ¥é“ x æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚ å¦‚æœå‚æ•°å¤ªå¤§æ— æ³•æ”¾åˆ°ä¸€ä¸ªå­—èŠ‚å†…æ€ä¹ˆåŠï¼Ÿ è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²å’Œä¸¤ä¸ªæ•°å­—ç›¸åŠ æ˜¯åŒä¸€ä¸ªæŒ‡ä»¤å—ï¼Ÿå¦‚æœæ˜¯ï¼ŒVM å¦‚ä½•å¤„ç†è¿™äº›æ“ä½œä¹‹é—´çš„å·®å¼‚ï¼Ÿ è¦å›ç­”è¿™äº›å’Œå…¶ä»–ä¸€äº›æœ‰è¶£çš„é—®é¢˜æˆ‘ä»¬éœ€è¦å…ˆçœ‹ä¸€ä¸‹ CPython VM çš„ä¸€äº›æ ¸å¿ƒæ¦‚å¿µã€‚\nä»£ç å¯¹è±¡ã€å‡½æ•°å¯¹è±¡ã€å¸§ï¼ˆCode objects, function objects, framesï¼‰ ä»£ç å¯¹è±¡ æˆ‘ä»¬å·²ç»çœ‹è¿‡ä¸€ä¸ªç®€å•çš„å‡½æ•°çš„å­—èŠ‚ç æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚ä½†æ˜¯ä¸€ä¸ªå…¸å‹çš„ Python ç¨‹åºè¦å¤æ‚çš„å¤šã€‚ VM å¦‚ä½•æ‰§è¡Œä¸€ä¸ªåŒ…å«ç¨‹åºå®šä¹‰å’Œå‡½æ•°è°ƒç”¨çš„æ¨¡å—ï¼ˆmoduleï¼‰ï¼Ÿ\nè€ƒè™‘å¦‚ä¸‹ç¨‹åºï¼š\ndef f(x): return x + 1 print(f(1)) å®ƒçš„å­—èŠ‚ç ä»€ä¹ˆæ ·å­ï¼Ÿè®©æˆ‘ä»¬åˆ†æè¿™ä¸ªç¨‹åºåšäº†ä»€ä¹ˆæ¥è§£ç­”è¿™ä¸ªé—®é¢˜ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªå‡½æ•° f ï¼Œ é€šè¿‡ä¸€ä¸ªå‚æ•° 1 è°ƒç”¨å‡½æ•° f ç„¶åæ‰“å°ç»“æœã€‚æ— è®ºå‡½æ•° f åšäº†ä»€ä¹ˆéƒ½ä¸ä¼šåŒ…å«åœ¨æ¨¡å—å­—èŠ‚ç ä¸­ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œä¸€ä¸ªåæ±‡ç¼–æ¥è¯æ˜æˆ‘ä»¬è‡ªå·±ï¼š\n1 0 LOAD_CONST 0 (\u0026lt;code object f at 0x10bffd1e0, file \u0026#34;example.py\u0026#34;, line 1\u0026gt;) 2 LOAD_CONST 1 (\u0026#39;f\u0026#39;) 4 MAKE_FUNCTION 0 6 STORE_NAME 0 (f) 4 8 LOAD_NAME 1 (print) 10 LOAD_NAME 0 (f) 12 LOAD_CONST 2 (1) 14 CALL_FUNCTION 1 16 CALL_FUNCTION 1 18 POP_TOP 20 LOAD_CONST 3 (None) 22 RETURN_VALUE ç¬¬ä¸€è¡Œé€šè¿‡ä»ä¸€äº›å«åšä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰çš„ä¸œè¥¿åˆ›å»ºä¸€ä¸ªå‡½æ•°å¹¶ç»‘å®šåå­—ä¸º f æ¥å®šä¹‰å‡½æ•° f ã€‚ æˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°å‡½æ•° f ç”¨æ¥è¿”å›ä¸€ä¸ªè‡ªå¢çš„å‚æ•°çš„å­—èŠ‚ç ã€‚\nè¢«ä½œä¸ºå•ä¸€æ‰§è¡Œå•å…ƒçš„ä»£ç ç‰‡æ®µå¦‚ä¸€ä¸ªæ¨¡å—æˆ–è€…ä¸€ä¸ªå‡½æ•°ä½“è¢«ç§°ä¸ºä»£ç å—ã€‚ CPython å­˜å‚¨å…³äºä»£ç å—çš„ä¿¡æ¯çš„ç»“æ„ä½“å°±æ˜¯ä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰ã€‚ å®ƒåŒ…å«å­—èŠ‚ç å’Œä¸€äº›å…¶ä»–çš„æ¯”å¦‚ä»£ç å—ä½¿ç”¨çš„å˜é‡ååˆ—è¡¨ã€‚è¿è¡Œä¸€ä¸ªæ¨¡å—æˆ–è€…è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ„å‘³ç€å¼€å§‹ æ‰§è¡Œç›¸åº”çš„ä»£ç å¯¹è±¡ã€‚\nå‡½æ•°å¯¹è±¡ï¼ˆfunction objectï¼‰ ä½†æ˜¯ï¼Œå‡½æ•°ä¸ä»…ä»…æ˜¯ä»£ç å¯¹è±¡ã€‚å®ƒå¿…é¡»åŒ…å«ä¸€äº›é¢å¤–çš„ä¿¡æ¯æ¯”å¦‚åå­—ã€æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆdocstringï¼‰ã€ é»˜è®¤å‚æ•°å’Œå®šä¹‰åœ¨é—­åŒ…ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å€¼ã€‚è¿™äº›ä¿¡æ¯è¿åŒä»£ç å¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªå‡½æ•°å¯¹è±¡é‡Œã€‚ MAKE_FUNCTION æŒ‡ä»¤ç”¨äºåˆ›å»ºå‡½æ•°å¯¹è±¡ã€‚CPython ä¸­å®šä¹‰å‡½æ•°å¯¹è±¡çš„æºç å‰ç½®äº†å¦‚ä¸‹æ³¨é‡Šï¼š\nFunction objects and code objects should not be confused with each other:\nFunction objects are created by the execution of the \u0026lsquo;def\u0026rsquo; statement. They reference a code object in their code attribute, which is a purely syntactic object, i.e. nothing more than a compiled version of some source code lines. There is one code object per source code \u0026ldquo;fragment\u0026rdquo;, but each code object can be referenced by zero or many function objects depending only on how many times the \u0026lsquo;def\u0026rsquo; statement in the source was executed so far.\nå‡½æ•°å¯¹è±¡å’Œä»£ç å¯¹è±¡ä¸åº”äº’ç›¸æ··æ·†ï¼š\nå‡½æ•°å¯¹è±¡é€šè¿‡æ‰§è¡Œ \u0026lsquo;def\u0026rsquo; è¯­å¥åˆ›å»ºã€‚å®ƒä»¬é€šè¿‡ä»–ä»¬çš„ code å±æ€§å¼•ç”¨ä¸€ä¸ªä»£ç å¯¹è±¡ï¼Œè¿™ä¸ªä»£ç å¯¹è±¡ æ˜¯ä¸€äº›æºä»£ç ç¼–è¯‘åçº¯è¯­æ³•å¯¹è±¡ã€‚æ¯ä¸€ä¸ªä»£ç â€œç‰‡æ®µï¼ˆfragmentï¼‰â€éƒ½å¯¹åº”ä¸€ä¸ªä»£ç å¯¹è±¡ï¼Œ ä½†æ˜¯æ¯ä¸€ä¸ªä»£ç å¯¹è±¡éƒ½å¯ä»¥è¢«é›¶ä¸ªæˆ–å¤šä¸ªå‡½æ•°å¯¹è±¡å¼•ç”¨ï¼Œå–å†³äºæºç ä¸­çš„ \u0026lsquo;def\u0026rsquo; è¯­å¥ç›®å‰ä¸ºæ­¢è¢«æ‰§è¡Œäº†å¤šå°‘æ¬¡ã€‚\nå¤šä¸ªå‡½æ•°å¯¹è±¡å¦‚ä½•é¥®ç”¨ä¸€ä¸ªä»£ç å¯¹è±¡ï¼Ÿè¿™é‡Œæœ‰ä¸ªä¾‹å­ï¼š\ndef make_add_x(x): def add_x(y): return x + y return add_x add_4 = make_add_x(4) add_5 = make_add_x(5) make_add_x å‡½æ•°çš„å­—èŠ‚ç åŒ…å«äº†ä¸€ä¸ª MAKE_FUNCTION æŒ‡ä»¤ã€‚å‡½æ•° add_4 å’Œ add_5 æ˜¯é€šè¿‡åŒä¸€ä¸ª ä»£ç å¯¹è±¡ä½œä¸ºå‚æ•°è°ƒç”¨è¿™ä¸ªæŒ‡ä»¤äº§ç”Ÿçš„ç»“æœï¼Œä½†æ˜¯å…¶å‚æ•° x çš„å€¼ä¸ç›¸åŒã€‚ æ¯ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰è‡ªå·±çš„å˜é‡å•å…ƒçš„æœºåˆ¶å…è®¸æˆ‘ä»¬åˆ›å»ºå¦‚ add_4 å’Œ add_5 çš„é—­åŒ…å‡½æ•°ã€‚\næˆ‘ä»¬ç»§ç»­ä¸‹ä¸€ä¸ªä¸»é¢˜ä¹‹å‰æ¨èä½ çœ‹ä¸€ä¸‹å®šä¹‰å‡½æ•°å¯¹è±¡çš„ä»£ç ï¼š\nstruct PyCodeObject { PyObject_HEAD int co_argcount; /* #arguments, except *args */ int co_posonlyargcount; /* #positional only arguments */ int co_kwonlyargcount; /* #keyword only arguments */ int co_nlocals; /* #local variables */ int co_stacksize; /* #entries needed for evaluation stack */ int co_flags; /* CO_..., see below */ int co_firstlineno; /* first source line number */ PyObject *co_code; /* instruction opcodes */ PyObject *co_consts; /* list (constants used) */ PyObject *co_names; /* list of strings (names used) */ PyObject *co_varnames; /* tuple of strings (local variable names) */ PyObject *co_freevars; /* tuple of strings (free variable names) */ PyObject *co_cellvars; /* tuple of strings (cell variable names) */ Py_ssize_t *co_cell2arg; /* Maps cell vars which are arguments. */ PyObject *co_filename; /* unicode (where it was loaded from) */ PyObject *co_name; /* unicode (name, for reference) */ /* ... more members ... */ }; typedef struct { PyObject_HEAD PyObject *func_code; /* A code object, the __code__ attribute */ PyObject *func_globals; /* A dictionary (other mappings won\u0026#39;t do) */ PyObject *func_defaults; /* NULL or a tuple */ PyObject *func_kwdefaults; /* NULL or a dict */ PyObject *func_closure; /* NULL or a tuple of cell objects */ PyObject *func_doc; /* The __doc__ attribute, can be anything */ PyObject *func_name; /* The __name__ attribute, a string object */ PyObject *func_dict; /* The __dict__ attribute, a dict or NULL */ PyObject *func_weakreflist; /* List of weak references */ PyObject *func_module; /* The __module__ attribute, can be anything */ PyObject *func_annotations; /* Annotations, a dict or NULL */ PyObject *func_qualname; /* The qualified name */ vectorcallfunc vectorcall; } PyFunctionObject; å¸§å¯¹è±¡ï¼ˆframe objectï¼‰ å½“æ‰§è¡Œä¸€ä¸ªä»£ç å¯¹è±¡æ—¶ï¼ŒVM éœ€è¦ä¸€ç›´è·Ÿè¸ªå˜é‡çš„å€¼å¹¶ä¸æ–­çš„æ›´æ–°å€¼æ ˆï¼ˆvalue stackï¼‰ã€‚ åŒæ—¶è¿˜éœ€è¦è®°ä½åœ¨ä»€ä¹ˆåœ°æ–¹åœæ­¢è¿è¡Œå½“å‰ä»£ç å¯¹è±¡ç„¶åå»è¿è¡Œå…¶ä»–çš„ä»£ç å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å“ªé‡Œè¿”å›ã€‚ CPython åœ¨ä¸€ä¸ªå¸§å¯¹è±¡é‡Œå­˜å‚¨è¿™äº›ä¿¡æ¯ï¼Œæˆ–è€…ç®€å•çš„è¯´æˆå¸§ã€‚ä¸€ä¸ªå¸§æä¾›äº†ä¸€ä¸ªå“ªä¸ªä»£ç å¯¹è±¡å¯ä»¥è¢«æ‰§è¡Œçš„çŠ¶æ€ã€‚ ç”±äºæˆ‘ä»¬å·²ç»å¼€å§‹ä¹ æƒ¯æºä»£ç ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘è´´å‡ºå¸§å¯¹è±¡çš„å®šä¹‰ï¼š\nstruct _frame { PyObject_VAR_HEAD struct _frame *f_back; /* previous frame, or NULL */ PyCodeObject *f_code; /* code segment */ PyObject *f_builtins; /* builtin symbol table (PyDictObject) */ PyObject *f_globals; /* global symbol table (PyDictObject) */ PyObject *f_locals; /* local symbol table (any mapping) */ PyObject **f_valuestack; /* points after the last local */ PyObject **f_stacktop; /* Next free slot in f_valuestack. ... */ PyObject *f_trace; /* Trace function */ char f_trace_lines; /* Emit per-line trace events? */ char f_trace_opcodes; /* Emit per-opcode trace events? */ /* Borrowed reference to a generator, or NULL */ PyObject *f_gen; int f_lasti; /* Last instruction if called */ /* ... */ int f_lineno; /* Current line number */ int f_iblock; /* index in f_blockstack */ char f_executing; /* whether the frame is still executing */ PyTryBlock f_blockstack[CO_MAXBLOCKS]; /* for try and loop blocks */ PyObject *f_localsplus[1]; /* locals+stack, dynamically sized */ }; ç¬¬ä¸€ä¸ªå¸§è¢«åˆ›å»ºç”¨æ¥æ‰§è¡Œæ¨¡å—çš„ä»£ç å¯¹è±¡ã€‚ä»»ä½•æ—¶å€™éœ€è¦æ‰§è¡Œå¦å¤–ä¸€ä¸ªä»£ç å¯¹è±¡ CPython éƒ½ä¼šåˆ›å»ºåˆ›å»ºæ–°çš„ å¸§å»æ‰§è¡Œè¯¥ä»£ç å¯¹è±¡ã€‚æ¯ä¸€ä¸ªå¸§éƒ½æœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å‰ä¸€ä¸ªå¸§ã€‚ä»è€Œï¼Œå¸§å½¢æˆäº†ä¸€ä¸ªæ ˆè¢«ç§°ä¸ºè°ƒç”¨æ ˆï¼Œå½“å‰å¸§ä½äº é¡¶éƒ¨ã€‚å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨ï¼Œä¸€ä¸ªæ–°çš„å¸§è¢«å‹åˆ°æ ˆä¸Šã€‚å½“ä»å½“å‰æ‰§è¡Œå¸§è¿”å›æ—¶ï¼ŒCPython é€šè¿‡è®°å½•çš„æœ€åå¤„ç†çš„æŒ‡ä»¤ æ¥ç»§ç»­æ‰§è¡Œå‰ä¸€ä¸ªå¸§ã€‚æŸç§æ„ä¹‰ä¸Š CPython é™¤äº†æ‰§è¡Œå¸§å…¶ä»–ä»€ä¹ˆä¹Ÿæ²¡åšã€‚ä½†æ˜¯æ¥ä¸‹æ¥æˆ‘ä»¬é©¬ä¸Šçœ‹åˆ°è¿™ä¸ªæ€»ç»“ å–„æ„çš„éšè—äº†æŸäº›ç»†èŠ‚ã€‚\nçº¿ç¨‹ã€è§£é‡Šå™¨ã€è¿è¡Œæ—¶ï¼ˆThreads, interpreters, runtimeï¼‰ æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ä¸‰ä¸ªé‡è¦çš„ä¸»é¢˜ï¼š\nä»£ç å¯¹è±¡ å‡½æ•°å¯¹è±¡ï¼Œå’Œ å¸§å¯¹è±¡ CPython è¿˜æœ‰ä¸‰ä¸ªé‡è¦çš„ä¸»é¢˜ï¼š\nçº¿ç¨‹çŠ¶æ€ï¼ˆthread stageï¼‰ è§£é‡Šå™¨çŠ¶æ€ï¼ˆinterpreter stateï¼‰ï¼Œå’Œ è¿è¡Œæ—¶çŠ¶æ€ï¼ˆruntime stateï¼‰ çº¿ç¨‹çŠ¶æ€ çº¿ç¨‹çŠ¶æ€æ˜¯ä¸€ä¸ªåŒ…å«çº¿ç¨‹ç‰¹å®šæ•°æ®æ ˆæ•°æ®ç»“æ„ï¼Œå…¶ä¸­åŒ…å«è°ƒç”¨æ ˆã€å¼‚å¸¸çŠ¶æ€å’Œè°ƒè¯•è®¾ç½®ã€‚ ä¸åº”å°†å…¶å’Œç³»ç»Ÿçº¿ç¨‹ï¼ˆOS threadï¼‰æ··æ·†ï¼Œå°½ç®¡å®ƒä»¬è”ç³»ç´§å¯†ã€‚è€ƒè™‘å½“æ—¶ä½¿ç”¨æ ‡å‡†åº“ threading åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹è¿è¡Œä¸€ä¸ªå‡½æ•°å‘ç”Ÿäº†ä»€ä¹ˆï¼š\nfrom threading import Thread def f(): \u0026#34;\u0026#34;\u0026#34;Perform an I/O-bound task\u0026#34;\u0026#34;\u0026#34; pass t = Thread(target=f) t.start() t.join() t.start å®é™…ä¸Šåˆ›å»ºé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆç±» Unix ç³»ç»Ÿä¸­é€šè¿‡ pthread_create ï¼ŒWindows é€šè¿‡ _beginthreadex ï¼‰äº†ä¸€ä¸ªæ–°çš„ç³»ç»Ÿçº¿ç¨‹ã€‚æ–°å»ºçš„çº¿ç¨‹è°ƒç”¨åœ¨ _thread æ¨¡å—ä¸­çš„å‡½æ•°è´Ÿè´£è°ƒ ç”¨ç›¸åº”çš„ç›®æ ‡å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¸ä»…ä»…æ¥æ”¶ç›®æ ‡å‡½æ•°å’Œç›®æ ‡å‡½æ•°çš„å‚æ•°ï¼ŒåŒæ—¶ä¸€ä¸ªæ–°çš„çº¿ç¨‹çŠ¶æ€ è¢«ç”¨åœ¨äº†æ–°å»ºçš„ç³»ç»Ÿçº¿ç¨‹ä¸Šã€‚ç³»ç»Ÿçº¿ç¨‹é€šè¿‡å®ƒè‡ªå·±çš„çº¿ç¨‹çŠ¶æ€è¿›å…¥æ‰§è¡Œå¾ªç¯ï¼Œå¹¶ä¸€ç›´æŒæœ‰ã€‚\nè¿™é‡Œæˆ‘ä»¬å¯èƒ½è®°å¾—é˜»æ­¢å¤šçº¿ç¨‹åŒæ—¶é™·å…¥æ‰§è¡Œå¾ªç¯çš„è‘—åçš„ GILï¼ˆGlobal Interpreter Lockï¼‰ã€‚ ä¸»è¦åŸå› æ˜¯ä¸ºäº†åœ¨ä¸å¼•å…¥æ›´å¤šç»†ç²’åº¦çš„é”çš„æƒ…å†µä¸‹ä¿æŠ¤ CPython çŠ¶æ€å…å—æŸåã€‚ Python C/API å‚è€ƒæ¸…æ™°çš„è§£é‡Šäº† GILï¼š\nThe Python interpreter is not fully thread-safe. In order to support multi-threaded Python programs, thereâ€™s a global lock, called the global interpreter lock or GIL, that must be held by the current thread before it can safely access Python objects. Without the lock, even the simplest operations could cause problems in a multi-threaded program: for example, when two threads simultaneously increment the reference count of the same object, the reference count could end up being incremented only once instead of twice.\nPython è§£é‡Šå™¨ä¸æ˜¯å®Œå…¨çš„çº¿ç¨‹å®‰å…¨ã€‚ä¸ºäº†æ”¯æŒ Python å¤šçº¿ç¨‹ç¨‹åºï¼Œå¼•å…¥ä¸€ä¸ªç§°ä¸ºå…¨å±€è§£é‡Šå™¨é”æˆ–è€… GILI çš„å…¨å±€é”ï¼Œ å½“å‰çº¿ç¨‹å¿…é¡»æŒæœ‰è¯¥é”æ‰èƒ½å®‰å…¨çš„è®¿é—® Python å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰æŒæœ‰è¯¥é”ï¼Œå°±è¿æœ€ç®€å•çš„æ“ä½œéƒ½ä¼šåœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­å¼•å‘ é—®é¢˜ï¼šæ¯”å¦‚ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¢åŠ åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå¼•ç”¨è®¡æ•°æœ€ç»ˆå¯èƒ½åªè¢«å¢åŠ äº†ä¸€æ¬¡ã€‚\nè¦ç®¡ç†å¤šçº¿ç¨‹ï¼Œå°±éœ€è¦ä¸€ä¸ªæ¯”çº¿ç¨‹çŠ¶æ€æ›´é«˜å±‚çº§çš„æ•°æ®ç»“æ„ã€‚\nè§£é‡Šå™¨çŠ¶æ€å’Œè¿è¡Œæ—¶çŠ¶æ€ï¼ˆinterpreter and runtime statesï¼‰ å®é™…ä¸Šï¼Œè¿™æ˜¯ä¸¤ä¸ªçŠ¶æ€ï¼šè§£é‡Šå™¨çŠ¶æ€å’Œè¿è¡Œæ—¶çŠ¶æ€ã€‚ä¸¤è€…çš„éœ€æ±‚åŒºåˆ†çœ‹èµ·æ¥ä¼¼ä¹ä¸æ˜æ˜¾ã€‚ä½†æ˜¯ï¼Œä»»ä½•ç¨‹åº çš„æ‰§è¡Œéƒ½éœ€è¦å„ä¸ªçŠ¶æ€çš„æœ€å°‘ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æœ‰åˆç†çš„åŸå› ã€‚\nè§£é‡Šå™¨çŠ¶æ€æ˜¯ä¸€ç»„çº¿ç¨‹ä»¥åŠè¯¥ç»„ç›¸å…³çš„æ•°æ®ã€‚çº¿ç¨‹å…±äº«è¯¸å¦‚åŠ è½½çš„æ¨¡å—ï¼ˆsys.modulesï¼‰ã€å†…å»ºå¯¹è±¡ï¼ˆbuiltins.__dict__ï¼‰ å’Œå¯¼å…¥ç³»ç»Ÿï¼ˆimportlibï¼‰ã€‚\nè¿è¡Œæ—¶çŠ¶æ€æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ã€‚ä¿å­˜ç€è¿›ç¨‹ç›¸å…³çš„æ•°æ®ã€‚åŒ…å« CPython çŠ¶æ€ï¼ˆæ˜¯å¦åˆå§‹åŒ–ï¼‰å’Œ GILã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹éƒ½å±äºåŒä¸€ä¸ªè§£é‡Šå™¨ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›ç½•è§çš„æƒ…å†µæ¯”å¦‚æœ‰äººæƒ³åˆ›å»ºä¸€ä¸ªå­è§£é‡Šå™¨æ¥éš”ç¦»ä¸€ç»„çº¿ç¨‹ã€‚ æ¯”å¦‚ mod_wsgi ä½¿ç”¨ä¸åŒçš„è§£é‡Šå™¨æ¥è¿è¡Œ WSGI ç¨‹åºã€‚æœ€æ˜æ˜¾çš„éš”ç¦»æ•ˆæœæ˜¯å„ç»„çº¿ç¨‹æ‹¥æœ‰å®ƒä»¬è‡ªå·±ç‰ˆæœ¬çš„æ¨¡å—ï¼ŒåŒ…æ‹¬ __main__ ï¼Œ ä¹Ÿå°±æ˜¯éš”ç¦»å…¨å±€å‘½åç©ºé—´ï¼ˆglobal namespaceï¼‰ã€‚\nCPython æ²¡æœ‰æä¾›åƒ threading æ¨¡å—é‚£æ ·ç®€å•çš„æ–¹å¼åˆ›å»ºæ–°çš„è§£é‡Šå™¨ã€‚è¿™ä¸ªç‰¹æ€§ä»…ä»…é€šè¿‡ Python/C API æä¾›æ”¯æŒï¼Œ ä½†æ˜¯æœªæ¥æœ‰å¯èƒ½æ”¹å–„ã€‚\næ¶æ„æ‘˜è¦ï¼ˆArchitecture summaryï¼‰ è®©æˆ‘ä»¬æ¥å¿«é€Ÿæ€»ç»“ CPython çš„æ¶æ„æ¥çœ‹çœ‹è¿™ä¸€åˆ‡æ˜¯å¦‚ä½•ç»„ç»‡åœ¨ä¸€å—çš„ã€‚è§£é‡Šå™¨å¯ä»¥è¢«çœ‹ä½œåˆ†å±‚ç»“æ„ï¼ˆlayer structureï¼‰ã€‚ è¿™äº›å±‚çº§æ¦‚æ‹¬ä¸ºï¼š\nè¿è¡Œæ—¶ï¼ˆRuntimeï¼‰ï¼šè¿›ç¨‹çš„å…¨å±€ CPython çŠ¶æ€ï¼›åŒ…å« GIL å’Œå†…å­˜åˆ†é…æœºåˆ¶ã€‚ è§£é‡Šå™¨ï¼ˆInterpreterï¼‰ï¼šä¸€ç»„çº¿ç¨‹å’Œå®ƒä»¬å…±äº«çš„æ•°æ®ï¼Œå¦‚å¯¼å…¥çš„æ¨¡å—ã€‚ çº¿ç¨‹ï¼ˆThreadï¼‰ï¼šç‰¹å®šäºå•ä¸ªç³»ç»Ÿçº¿ç¨‹çš„æ•°æ®ï¼›åŒ…å«è°ƒç”¨æ ˆã€‚ å¸§ï¼ˆFrameï¼‰ï¼šè°ƒç”¨æ ˆçš„å…ƒç´ ï¼›æä¾›æ‰§è¡Œä¸€ä¸ªä»£ç å¯¹è±¡çš„çŠ¶æ€ã€‚ æ‰§è¡Œå¾ªç¯ï¼ˆEvalution loopï¼‰ï¼šæ‰§è¡Œä¸€ä¸ªä»£ç å¯¹è±¡ï¼ˆæè¿°ä»£ç å—åšäº†ä»€ä¹ˆï¼ŒåŒ…å«å­—èŠ‚ç ã€å˜é‡åå­—ï¼‰ æˆ‘ä»¬å·²ç»çœ‹åˆ°ä¸åŒçš„å±‚çº§é€šè¿‡ç›¸åº”çš„æ•°æ®ç»“æ„æ¥è¡¨ç¤ºã€‚åœ¨æŸäº›æƒ…å†µä¸‹å®ƒä»¬å¾ˆéš¾ç­‰æ•ˆã€‚æ¯”å¦‚ï¼Œå†…å­˜åˆ†é…æœºåˆ¶ é€šè¿‡ä½¿ç”¨å…¨å±€å˜é‡æ¥å®ç°ã€‚è¿™ä¸æ˜¯è¿è¡Œæ—¶çŠ¶æ€çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯ç»å¯¹æ˜¯ CPython è¿è¡Œæ—¶å±‚çº§çš„ä¸€éƒ¨åˆ†ã€‚\næ€»ç»“ï¼ˆConclusionï¼‰ åœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å·²ç»å¤§ä½“æè¿°äº† python åœ¨æ‰§è¡Œä¸€ä¸ª Python ç¨‹åºæ—¶åšäº†ä»€ä¹ˆã€‚æˆ‘ä»¬å·²ç»çœ‹åˆ°å®ƒå·¥ä½œåœ¨ä¸‰ä¸ªçŠ¶æ€ï¼š\nåˆå§‹åŒ– Python è¿è¡Œæ—¶ ç¼–è¯‘æºä»£ç åˆ°ä¸€ä¸ªæ¨¡å—ä»£ç å¯¹è±¡ï¼›ç„¶å æ‰§è¡Œä»£ç å¯¹è±¡çš„å­—èŠ‚ç ã€‚ è§£é‡Šå™¨ä¸­è´Ÿè´£æ‰§è¡Œå­—èŠ‚ç çš„éƒ¨åˆ†ç§°ä¸ºè™šæ‹Ÿæœºï¼ˆVMï¼Œvirtual machineï¼‰ã€‚CPython VM åŒ…å«ä¸€äº›ç‰¹åˆ«é‡è¦çš„æ¦‚å¿µï¼š ä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰ã€å¸§å¯¹è±¡ï¼ˆframe objectï¼‰ã€çº¿ç¨‹çŠ¶æ€ï¼ˆthread stateï¼‰ã€è§£é‡Šå™¨çŠ¶æ€ï¼ˆinterpreter stateï¼‰å’Œ è¿è¡Œæ—¶ï¼ˆruntimeï¼‰ã€‚è¿™äº›æ•°æ®ç»“æ„æ„æˆäº† CPython æ¶æ„çš„æ ¸å¿ƒã€‚\næˆ‘ä»¬è¿˜æœ‰å¾ˆå¤šå†…å®¹æ²¡æœ‰æ¶‰åŠåˆ°ã€‚æˆ‘ä»¬é¿å…é™·å…¥åˆ°æºä»£ç ä¸­ã€‚åˆå§‹åŒ–å’Œç¼–è¯‘é˜¶æ®µå®Œå…¨è¶…å‡ºäº†æˆ‘ä»¬çš„èŒƒå›´ã€‚ ç›¸åï¼Œæˆ‘ä»¬ä»è™šæ‹Ÿæœºçš„æ¦‚è¿°å¼€å§‹ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘è®¤ä¸ºï¼Œæˆ‘ä»¬å¯ä»¥æ›´å¥½çš„çœ‹åˆ°æ¯ä¸ªé˜¶æ®µæ‰€è´Ÿè´£çš„å†…å®¹ã€‚ ç°åœ¨æˆ‘ä»¬çŸ¥é“ CPython å°†æºä»£ç ç¼–è¯‘æˆäº†ä»€ä¹ˆ \u0026ndash; ä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°†çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•åšåˆ°çš„ã€‚\nå¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜ã€è¯„è®ºæˆ–è€…å»ºè®®ï¼Œéšæ—¶é€šè¿‡ victor@tenthousandmeters.com è”ç³»åŸä½œè€…ã€‚\nUpdate 4 September 2020: I\u0026rsquo;ve made a list of resources that I\u0026rsquo;ve used to learn about CPython internals\nè¯‘æ³¨ï¼š python -c \u0026quot;import dis;dis.dis('''def g(x): return x + 3''')\u0026quot;\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20200908103647-python_behind_the_scenes_1_how_the_cpython_vm_works/","summary":"tags: Translate,Python åŸæ–‡é“¾æ¥ï¼šPython behind the scenes #1: how the CPython VM worksã€‚\nPython å¹•å #1: CPython è™šæ‹Ÿæœºå¦‚ä½•å·¥ä½œ ä»‹ç»ï¼ˆIntroductionï¼‰ ä½ æ˜¯å¦æ›¾ç»å¥½å¥‡è¿‡å½“ä½ è¿è¡Œ Python ä»£ç æ—¶ python åšäº†äº›ä»€ä¹ˆï¼Ÿ\n$ python script.py è¿™ç¯‡æ–‡ç« å°†å¼€å¯ä¸€ä¸ªç³»åˆ—æ¥å°è¯•è§£ç­”è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬å°†æ·±å…¥ Python æœ€æµè¡Œçš„å®ç° CPython çš„å†…éƒ¨ã€‚ é€šè¿‡æ·±å…¥ CPython çš„å†…éƒ¨æˆ‘ä»¬å°†æ›´æ·±ä¸€å±‚çš„å»ç†è§£è¿™é—¨ç¼–ç¨‹è¯­è¨€æœ¬èº«ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬è¿™ä¸ªç³»åˆ—çš„æœ€ä¸»è¦çš„ç›®æ ‡ã€‚ å¦‚æœä½ ç†Ÿæ‚‰ Python å¹¶ä¸”å¯ä»¥é˜…è¯» C ä»£ç ï¼Œä½†æ˜¯å¯¹ CPython æºç æœ¬èº«æ²¡æœ‰å¤ªå¤šçš„ç»éªŒï¼Œ é‚£ä¹ˆä½ å¯èƒ½éå¸¸é€‚åˆæœ¬ç³»åˆ—ï¼Œå¹¶ä¸”å¯¹æœ¬ç³»åˆ—æ„Ÿå…´è¶£ã€‚\nä»€ä¹ˆæ˜¯ CPython å¹¶ä¸”ä¸ºä»€ä¹ˆæœ‰äººæƒ³å­¦ä¹ å®ƒï¼ˆWhat CPython is and why anyone would want to study itï¼‰ æˆ‘ä»¬é¦–å…ˆæ¥è¯´æ˜ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„äº‹æƒ…ã€‚CPython æ˜¯ç”¨ C ç¼–å†™çš„ Python è§£æå™¨ã€‚ä»–æ˜¯ Python è¯­è¨€çš„ä¼—å¤šå®ç° çš„ä¸€ç§ï¼Œå…¶ä»–è¿˜æœ‰è¯¸å¦‚ PyPyã€Jythonã€IronPython ç­‰ã€‚CPython çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒæ˜¯ Python çš„èµ·æºã€ç»´æŠ¤æ—¶é—´æœ€é•¿ä¹Ÿæ˜¯æœ€å—æ¬¢è¿çš„ã€‚","title":"Python behind the scenes #1: how the CPython VM works"},{"content":"å°†æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼šè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œé€šå¸¸ä½¿ç”¨ 80% çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œ20% çš„æ•°æ®ç”¨æ¥æµ‹è¯•ã€‚\néªŒè¯é›† å•ç‹¬åˆ†å‡ºæ¥ä¸€ä¸ªä¿ç•™é›†åˆä½œä¸ºéªŒè¯é›†ï¼Œé˜²æ­¢è°ƒæ•´æ¨¡å‹å’Œè¶…å‚æ•°æ‹Ÿåˆæµ‹è¯•é›†çš„æœ€ä½³æ¨¡å‹ã€‚\näº¤å‰éªŒè¯ ä¸ºé¿å…éªŒè¯é›†æµªè´¹å¤ªå¤šæ•°æ®ï¼Œäº¤å‰éªŒè¯å°†è®­ç»ƒé›†åˆ†æˆè‹¥å¹²ä¸ªäº’è¡¥å­é›†ï¼Œç„¶åæ¯ä¸ªæ¨¡å‹éƒ½é€šè¿‡è¿™äº›å­é›†çš„ä¸åŒç»„åˆæ¥ è®­ç»ƒï¼Œä¹‹åç”¨å‰©ä½™çš„å­é›†è¿›è¡ŒéªŒè¯ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200907081217-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%B5%8B%E8%AF%95%E4%B8%8E%E9%AA%8C%E8%AF%81/","summary":"å°†æ•°æ®åˆ†æˆä¸¤éƒ¨åˆ†ï¼šè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œé€šå¸¸ä½¿ç”¨ 80% çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œ20% çš„æ•°æ®ç”¨æ¥æµ‹è¯•ã€‚\néªŒè¯é›† å•ç‹¬åˆ†å‡ºæ¥ä¸€ä¸ªä¿ç•™é›†åˆä½œä¸ºéªŒè¯é›†ï¼Œé˜²æ­¢è°ƒæ•´æ¨¡å‹å’Œè¶…å‚æ•°æ‹Ÿåˆæµ‹è¯•é›†çš„æœ€ä½³æ¨¡å‹ã€‚\näº¤å‰éªŒè¯ ä¸ºé¿å…éªŒè¯é›†æµªè´¹å¤ªå¤šæ•°æ®ï¼Œäº¤å‰éªŒè¯å°†è®­ç»ƒé›†åˆ†æˆè‹¥å¹²ä¸ªäº’è¡¥å­é›†ï¼Œç„¶åæ¯ä¸ªæ¨¡å‹éƒ½é€šè¿‡è¿™äº›å­é›†çš„ä¸åŒç»„åˆæ¥ è®­ç»ƒï¼Œä¹‹åç”¨å‰©ä½™çš„å­é›†è¿›è¡ŒéªŒè¯ã€‚","title":"æœºå™¨å­¦ä¹ æµ‹è¯•ä¸éªŒè¯"},{"content":"è®­ç»ƒæ•°æ®çš„æ•°é‡ä¸è¶³ è®­ç»ƒæ•°æ®ä¸å…·ä»£è¡¨æ€§ è´¨é‡å·®çš„æ•°æ® æ— å…³ç‰¹å¾ ç‰¹å¾å·¥ç¨‹ ä¸€ä¸ªæˆåŠŸçš„æœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œå…³é”®éƒ¨åˆ†æ˜¯æå–ä¸€ç»„å¥½çš„ç”¨äº†è®­ç»ƒçš„ç‰¹å¾é›†ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšç‰¹å¾å·¥ç¨‹ã€‚\nç‰¹å¾é€‰æ‹© ç‰¹å¾æå– é€šè¿‡æ‰‹æœºæ•°æ®åˆ›é€ æ–°çš„ç‰¹å¾ è®­ç»ƒæ•°æ®è¿‡åº¦æ‹Ÿåˆ åœ¨æ¨¡å‹çš„è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†æ˜¯æ³›åŒ–æ—¶å´ä¸å°½äººå¦‚æ„ã€‚\nè§£å†³æ–¹æ³•\nç®€åŒ–æ¨¡å‹ æ”¶é›†æ›´å¤šçš„è®­ç»ƒæ•°æ® å‡å°‘è®­ç»ƒæ•°æ®ä¸­çš„å™ªå£°ï¼ˆä¿®å¤æ•°æ®é”™è¯¯å’Œæ¶ˆé™¤å¼‚å¸¸å€¼ï¼‰ æ­£åˆ™åŒ– é€šè¿‡çº¦æŸæ¨¡å‹ä½¿å…¶æ›´ç®€å•ï¼Œå¹¶é™ä½è¿‡åº¦æ‹Ÿåˆé£é™©ã€‚\nè¶…å‚æ•° é€šè¿‡è°ƒæ•´è¶…å‚æ•°æ¥è°ƒæ•´åº”ç”¨æ­£åˆ™åŒ–çš„ç¨‹åº¦ã€‚è°ƒæ•´è¶…å‚æ•°æ˜¯æ„å»ºæœºå™¨å­¦ä¹ ç³»ç»Ÿçš„éå¸¸é‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚\nè®­ç»ƒæ•°æ®æ‹Ÿåˆä¸è¶³ è§£å†³æ–¹æ³•ï¼š\né€‰æ‹©ä¸€ä¸ªå¸¦æœ‰æ›´å¤šå‚æ•°ã€æ›´å¼ºå¤§çš„æ¨¡å‹ ç»™å­¦ä¹ ç®—æ³•æä¾›æ›´å¥½çš„ç‰¹å¾é›† å‡å°‘æ¨¡å‹ä¸­çš„çº¦æŸï¼ˆå¦‚å‡å°‘æ­£åˆ™åŒ–è¶…å‚æ•°ï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20200907080323-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%BB%E8%A6%81%E6%8C%91%E6%88%98/","summary":"è®­ç»ƒæ•°æ®çš„æ•°é‡ä¸è¶³ è®­ç»ƒæ•°æ®ä¸å…·ä»£è¡¨æ€§ è´¨é‡å·®çš„æ•°æ® æ— å…³ç‰¹å¾ ç‰¹å¾å·¥ç¨‹ ä¸€ä¸ªæˆåŠŸçš„æœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œå…³é”®éƒ¨åˆ†æ˜¯æå–ä¸€ç»„å¥½çš„ç”¨äº†è®­ç»ƒçš„ç‰¹å¾é›†ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšç‰¹å¾å·¥ç¨‹ã€‚\nç‰¹å¾é€‰æ‹© ç‰¹å¾æå– é€šè¿‡æ‰‹æœºæ•°æ®åˆ›é€ æ–°çš„ç‰¹å¾ è®­ç»ƒæ•°æ®è¿‡åº¦æ‹Ÿåˆ åœ¨æ¨¡å‹çš„è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†æ˜¯æ³›åŒ–æ—¶å´ä¸å°½äººå¦‚æ„ã€‚\nè§£å†³æ–¹æ³•\nç®€åŒ–æ¨¡å‹ æ”¶é›†æ›´å¤šçš„è®­ç»ƒæ•°æ® å‡å°‘è®­ç»ƒæ•°æ®ä¸­çš„å™ªå£°ï¼ˆä¿®å¤æ•°æ®é”™è¯¯å’Œæ¶ˆé™¤å¼‚å¸¸å€¼ï¼‰ æ­£åˆ™åŒ– é€šè¿‡çº¦æŸæ¨¡å‹ä½¿å…¶æ›´ç®€å•ï¼Œå¹¶é™ä½è¿‡åº¦æ‹Ÿåˆé£é™©ã€‚\nè¶…å‚æ•° é€šè¿‡è°ƒæ•´è¶…å‚æ•°æ¥è°ƒæ•´åº”ç”¨æ­£åˆ™åŒ–çš„ç¨‹åº¦ã€‚è°ƒæ•´è¶…å‚æ•°æ˜¯æ„å»ºæœºå™¨å­¦ä¹ ç³»ç»Ÿçš„éå¸¸é‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚\nè®­ç»ƒæ•°æ®æ‹Ÿåˆä¸è¶³ è§£å†³æ–¹æ³•ï¼š\né€‰æ‹©ä¸€ä¸ªå¸¦æœ‰æ›´å¤šå‚æ•°ã€æ›´å¼ºå¤§çš„æ¨¡å‹ ç»™å­¦ä¹ ç®—æ³•æä¾›æ›´å¥½çš„ç‰¹å¾é›† å‡å°‘æ¨¡å‹ä¸­çš„çº¦æŸï¼ˆå¦‚å‡å°‘æ­£åˆ™åŒ–è¶…å‚æ•°ï¼‰ ","title":"æœºå™¨å­¦ä¹ çš„ä¸»è¦æŒ‘æˆ˜"},{"content":"ç›‘ç£å¼/æ— ç›‘ç£å¼å­¦ä¹  ç›‘ç£å¼å­¦ä¹  å®šä¹‰ è®­ç»ƒæ•°æ®ç»è¿‡æ ‡æ³¨åŒ…å«ç´ æ‰€éœ€è§£å†³æ–¹æ¡ˆï¼ˆæ ‡ç­¾æˆ–æ ‡è®°ï¼‰\nç›¸å…³ç®—æ³• K-é‚»è¿‘ç®—æ³• çº¿æ€§å›å½’ é€»è¾‘å›å½’ï¼šå¹¿æ³›ç”¨äºåˆ†ç±»ï¼Œè¾“å‡ºâ€œå±äºæŸä¸ªç»™å®šç±»åˆ«çš„æ¦‚ç‡â€çš„å€¼ æ”¯æŒå‘é‡æœº å†³ç­–æ ‘å’Œéšæœºæ£®æ— ç¥ç»ç½‘ç»œ é€‚åº”åœºæ™¯ åˆ†ç±»ä»»åŠ¡ é¢„æµ‹å˜é‡ æ— ç›‘ç£å¼å­¦ä¹  å®šä¹‰ è®­ç»ƒæ•°æ®æœªç»æ ‡æ³¨\nç›¸å…³ç®—æ³• èšç±»ç®—æ³• K-å¹³å‡ç®—æ³• åˆ†å±‚èšç±»åˆ†æ æœ€å¤§æœŸæœ›ç®—æ³• å¯è§†åŒ–å’Œé™ç»´ ä¸»æˆåˆ†åˆ†æ æ ¸ä¸»æˆåˆ†åˆ†æ å±€éƒ¨çº¿æ€§åµŒå…¥ t-åˆ†å¸ƒéšæœºä¸´è¿‘åµŒå…¥ å…³è”è§„åˆ™å­¦ä¹  Apriori Eclat é€‚åº”åœºæ™¯ é€šè¿‡èšç±»ç®—æ³•æ£€æµ‹ç›¸ä¼¼ï¼ˆå±‚æ¬¡èšç±»ç®—æ³•ç²¾åº¦æ›´é«˜ï¼Œå¯ä»¥å†æ¬¡ç»†åˆ†ï¼‰ å¯è§†åŒ–ç®—æ³• é™ç»´ï¼šä¸ä¸¢å¤±å¤ªå¤šä¿¡æ¯çš„å‰æä¸‹ç®€åŒ–æ•°æ®ï¼Œæ–¹æ³•ä¹‹ä¸€æ˜¯åˆå¹¶ç‰¹å¾ï¼Œè¿‡ç¨‹å«åšç‰¹å¾æå– å¼‚å¸¸æ£€æµ‹ï¼šåˆ¤æ–­æ–°çš„è¾“å…¥æ˜¯æ­£å¸¸è¿˜æ˜¯å¼‚å¸¸ï¼Œæ•°æ®åˆç­›ã€é˜²ä½œå¼Šç­‰ å…³è”è§„åˆ™å­¦ä¹ ï¼šå‘ç°å±æ€§ä¹‹é—´æœ‰è¶£çš„è”ç³» åŠç›‘ç£å¼å­¦ä¹  å¤§é‡æœªæ ‡è®°æ•°æ®å’Œå°‘é‡æ ‡è®°æ•°æ®è¿›è¡Œå­¦ä¹ ã€‚\nå¼ºåŒ–å­¦ä¹  è§‚å¯Ÿç¯å¢ƒã€ä½œå‡ºé€‰æ‹©ã€æ‰§è¡Œæ“ä½œã€å¹¶è·å¾—å›æŠ¥ï¼ˆè´Ÿå€¼åˆ™ä¸ºæƒ©ç½šï¼‰ã€‚\næ‰¹é‡å­¦ä¹ å’Œåœ¨çº¿å­¦ä¹  åœ¨æ•°æ®æµä¸­è¿›è¡Œå¢é‡å­¦ä¹ ã€‚\næ‰¹é‡å­¦ä¹  åœ¨çº¿å­¦ä¹  åœ¨çº¿å­¦ä¹ ä¹Ÿç§°ä¸ºå¢é‡å­¦ä¹ ï¼ŒåŒæ—¶æ”¯æŒæ¢å¤åˆ°ä¸Šä¸€çŠ¶æ€ï¼Œä¾¿äºæ£€æµ‹åˆ°æ€§èƒ½ä¸‹é™åŠæ—¶ä¸­æ–­å’Œå›æ»šã€‚\næ ¸å¤–å­¦ä¹  è¶…å¤§æ•°æ®é›†è¶…å‡ºä¸€å°è®¡ç®—æœºçš„ä¸»å­˜å‚¨å™¨ï¼Œæ¯æ¬¡åŠ è½½éƒ¨åˆ†æ•°æ®å¹¶ä¸æ–­é‡å¤ç›´è‡³å®Œæˆè®­ç»ƒã€‚\nå­¦ä¹ ç‡ å­¦ä¹ ç‡é«˜ç³»ç»Ÿè¿…é€Ÿé€‚åº”æ–°æ•°æ®ï¼ŒåŒæ—¶å¿«é€Ÿå¿˜è®°è€æ•°æ®ï¼Œå­¦ä¹ ç‡ä½åˆ™åä¹‹ã€‚\nåŸºäºå®ä¾‹å’ŒåŸºäºæ¨¡å‹çš„å­¦ä¹  åŸºäºå®ä¾‹çš„å­¦ä¹  ç³»ç»Ÿå®Œå…¨è®°ä½å­¦ä¹ ç¤ºä¾‹ï¼Œç„¶åé€šè¿‡æŸç§ç›¸ä¼¼åº¦åº¦é‡æ–¹å¼å°†å…¶æ³›åŒ–åˆ°æ–°çš„å®ä¾‹ã€‚\nåŸºäºæ¨¡å‹çš„å­¦ä¹  æ¨¡å‹é€‰æ‹© è§‚å¯Ÿæ•°æ®å¾—å‡ºæ¨¡å‹çš„è¿‡ç¨‹ã€‚\nè¡¡é‡æ¨¡å‹è¡¨ç° å®šä¹‰æ•ˆç”¨å‡½æ•°ï¼ˆæˆ–é€‚åº”åº¦å‡½æ•°ï¼‰æ¥è¡¡é‡æ¨¡å‹æœ‰å¤šå¥½ å®šä¹‰æˆæœ¬å‡½æ•°æ¥è¡¡é‡æ¨¡å‹æœ‰å¤šå·® çº¿æ€§å›å½’é€šå¸¸é€‰æ‹©æˆæœ¬å‡½æ•°æ¥è¡¡é‡çº¿æ€§æ¨¡å‹çš„é¢„æµ‹å’Œè®­ç»ƒå®ä¾‹ä¹‹é—´çš„å·®è·ã€‚\nçº¿æ€§å›å½’ç®—æ³•çš„æ„ä¹‰æ‰€åœ¨ï¼šé€šè¿‡ä½ æä¾›çš„è®­ç»ƒæ ·æœ¬ï¼Œæ‰¾å‡ºæœ€ç¬¦åˆæ‰€æä¾›æ•°æ®çš„çº¿æ€§æ¨¡å‹çš„å‚æ•°ï¼Œè¿™å°±æ˜¯è®­ç»ƒè¿‡ç¨‹ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200907074200-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84%E7%A7%8D%E7%B1%BB/","summary":"ç›‘ç£å¼/æ— ç›‘ç£å¼å­¦ä¹  ç›‘ç£å¼å­¦ä¹  å®šä¹‰ è®­ç»ƒæ•°æ®ç»è¿‡æ ‡æ³¨åŒ…å«ç´ æ‰€éœ€è§£å†³æ–¹æ¡ˆï¼ˆæ ‡ç­¾æˆ–æ ‡è®°ï¼‰\nç›¸å…³ç®—æ³• K-é‚»è¿‘ç®—æ³• çº¿æ€§å›å½’ é€»è¾‘å›å½’ï¼šå¹¿æ³›ç”¨äºåˆ†ç±»ï¼Œè¾“å‡ºâ€œå±äºæŸä¸ªç»™å®šç±»åˆ«çš„æ¦‚ç‡â€çš„å€¼ æ”¯æŒå‘é‡æœº å†³ç­–æ ‘å’Œéšæœºæ£®æ— ç¥ç»ç½‘ç»œ é€‚åº”åœºæ™¯ åˆ†ç±»ä»»åŠ¡ é¢„æµ‹å˜é‡ æ— ç›‘ç£å¼å­¦ä¹  å®šä¹‰ è®­ç»ƒæ•°æ®æœªç»æ ‡æ³¨\nç›¸å…³ç®—æ³• èšç±»ç®—æ³• K-å¹³å‡ç®—æ³• åˆ†å±‚èšç±»åˆ†æ æœ€å¤§æœŸæœ›ç®—æ³• å¯è§†åŒ–å’Œé™ç»´ ä¸»æˆåˆ†åˆ†æ æ ¸ä¸»æˆåˆ†åˆ†æ å±€éƒ¨çº¿æ€§åµŒå…¥ t-åˆ†å¸ƒéšæœºä¸´è¿‘åµŒå…¥ å…³è”è§„åˆ™å­¦ä¹  Apriori Eclat é€‚åº”åœºæ™¯ é€šè¿‡èšç±»ç®—æ³•æ£€æµ‹ç›¸ä¼¼ï¼ˆå±‚æ¬¡èšç±»ç®—æ³•ç²¾åº¦æ›´é«˜ï¼Œå¯ä»¥å†æ¬¡ç»†åˆ†ï¼‰ å¯è§†åŒ–ç®—æ³• é™ç»´ï¼šä¸ä¸¢å¤±å¤ªå¤šä¿¡æ¯çš„å‰æä¸‹ç®€åŒ–æ•°æ®ï¼Œæ–¹æ³•ä¹‹ä¸€æ˜¯åˆå¹¶ç‰¹å¾ï¼Œè¿‡ç¨‹å«åšç‰¹å¾æå– å¼‚å¸¸æ£€æµ‹ï¼šåˆ¤æ–­æ–°çš„è¾“å…¥æ˜¯æ­£å¸¸è¿˜æ˜¯å¼‚å¸¸ï¼Œæ•°æ®åˆç­›ã€é˜²ä½œå¼Šç­‰ å…³è”è§„åˆ™å­¦ä¹ ï¼šå‘ç°å±æ€§ä¹‹é—´æœ‰è¶£çš„è”ç³» åŠç›‘ç£å¼å­¦ä¹  å¤§é‡æœªæ ‡è®°æ•°æ®å’Œå°‘é‡æ ‡è®°æ•°æ®è¿›è¡Œå­¦ä¹ ã€‚\nå¼ºåŒ–å­¦ä¹  è§‚å¯Ÿç¯å¢ƒã€ä½œå‡ºé€‰æ‹©ã€æ‰§è¡Œæ“ä½œã€å¹¶è·å¾—å›æŠ¥ï¼ˆè´Ÿå€¼åˆ™ä¸ºæƒ©ç½šï¼‰ã€‚\næ‰¹é‡å­¦ä¹ å’Œåœ¨çº¿å­¦ä¹  åœ¨æ•°æ®æµä¸­è¿›è¡Œå¢é‡å­¦ä¹ ã€‚\næ‰¹é‡å­¦ä¹  åœ¨çº¿å­¦ä¹  åœ¨çº¿å­¦ä¹ ä¹Ÿç§°ä¸ºå¢é‡å­¦ä¹ ï¼ŒåŒæ—¶æ”¯æŒæ¢å¤åˆ°ä¸Šä¸€çŠ¶æ€ï¼Œä¾¿äºæ£€æµ‹åˆ°æ€§èƒ½ä¸‹é™åŠæ—¶ä¸­æ–­å’Œå›æ»šã€‚\næ ¸å¤–å­¦ä¹  è¶…å¤§æ•°æ®é›†è¶…å‡ºä¸€å°è®¡ç®—æœºçš„ä¸»å­˜å‚¨å™¨ï¼Œæ¯æ¬¡åŠ è½½éƒ¨åˆ†æ•°æ®å¹¶ä¸æ–­é‡å¤ç›´è‡³å®Œæˆè®­ç»ƒã€‚\nå­¦ä¹ ç‡ å­¦ä¹ ç‡é«˜ç³»ç»Ÿè¿…é€Ÿé€‚åº”æ–°æ•°æ®ï¼ŒåŒæ—¶å¿«é€Ÿå¿˜è®°è€æ•°æ®ï¼Œå­¦ä¹ ç‡ä½åˆ™åä¹‹ã€‚\nåŸºäºå®ä¾‹å’ŒåŸºäºæ¨¡å‹çš„å­¦ä¹  åŸºäºå®ä¾‹çš„å­¦ä¹  ç³»ç»Ÿå®Œå…¨è®°ä½å­¦ä¹ ç¤ºä¾‹ï¼Œç„¶åé€šè¿‡æŸç§ç›¸ä¼¼åº¦åº¦é‡æ–¹å¼å°†å…¶æ³›åŒ–åˆ°æ–°çš„å®ä¾‹ã€‚\nåŸºäºæ¨¡å‹çš„å­¦ä¹  æ¨¡å‹é€‰æ‹© è§‚å¯Ÿæ•°æ®å¾—å‡ºæ¨¡å‹çš„è¿‡ç¨‹ã€‚\nè¡¡é‡æ¨¡å‹è¡¨ç° å®šä¹‰æ•ˆç”¨å‡½æ•°ï¼ˆæˆ–é€‚åº”åº¦å‡½æ•°ï¼‰æ¥è¡¡é‡æ¨¡å‹æœ‰å¤šå¥½ å®šä¹‰æˆæœ¬å‡½æ•°æ¥è¡¡é‡æ¨¡å‹æœ‰å¤šå·® çº¿æ€§å›å½’é€šå¸¸é€‰æ‹©æˆæœ¬å‡½æ•°æ¥è¡¡é‡çº¿æ€§æ¨¡å‹çš„é¢„æµ‹å’Œè®­ç»ƒå®ä¾‹ä¹‹é—´çš„å·®è·ã€‚\nçº¿æ€§å›å½’ç®—æ³•çš„æ„ä¹‰æ‰€åœ¨ï¼šé€šè¿‡ä½ æä¾›çš„è®­ç»ƒæ ·æœ¬ï¼Œæ‰¾å‡ºæœ€ç¬¦åˆæ‰€æä¾›æ•°æ®çš„çº¿æ€§æ¨¡å‹çš„å‚æ•°ï¼Œè¿™å°±æ˜¯è®­ç»ƒè¿‡ç¨‹ã€‚","title":"æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ç§ç±»"},{"content":"æ¦‚è§ˆ æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ç§ç±» æœºå™¨å­¦ä¹ çš„ä¸»è¦æŒ‘æˆ˜ æœºå™¨å­¦ä¹ æµ‹è¯•ä¸éªŒè¯ æ¨¡å‹æ˜¯è§‚å¯Ÿçš„ç®€åŒ–ã€‚\nç›¸å…³æ•°å­¦æ¦‚å¿µ æœºå™¨å­¦ä¹ æ¶‰åŠæ•°å­¦æ¦‚å¿µ ","permalink":"https://notes.0081800.xyz/notes/20200905075701-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%AE%9E%E6%88%98_%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","summary":"æ¦‚è§ˆ æœºå™¨å­¦ä¹ ç³»ç»Ÿçš„ç§ç±» æœºå™¨å­¦ä¹ çš„ä¸»è¦æŒ‘æˆ˜ æœºå™¨å­¦ä¹ æµ‹è¯•ä¸éªŒè¯ æ¨¡å‹æ˜¯è§‚å¯Ÿçš„ç®€åŒ–ã€‚\nç›¸å…³æ•°å­¦æ¦‚å¿µ æœºå™¨å­¦ä¹ æ¶‰åŠæ•°å­¦æ¦‚å¿µ ","title":"ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹è¯»ä¹¦ç¬”è®°"},{"content":" scikit-learn æä¾›ä¸€äº›å¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³• é€»è¾‘å›å½’(Logistic Regression aka LR) çº¿æ€§åˆ†ç±»å™¨ XGBoost æä¾›éšæœºæ£®æ—è§£å†³é€»è¾‘å›å½’ç‰¹å¾ä¸æ˜æ˜¾çš„é—®é¢˜ ","permalink":"https://notes.0081800.xyz/notes/20200903180214-machine_learning/","summary":" scikit-learn æä¾›ä¸€äº›å¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³• é€»è¾‘å›å½’(Logistic Regression aka LR) çº¿æ€§åˆ†ç±»å™¨ XGBoost æä¾›éšæœºæ£®æ—è§£å†³é€»è¾‘å›å½’ç‰¹å¾ä¸æ˜æ˜¾çš„é—®é¢˜ ","title":"Machine Learning"},{"content":" tags: Rust,Learning English\nunwinding\n","permalink":"https://notes.0081800.xyz/notes/20200829081145-rust_obscure_words_for_non_native_english_speakers/","summary":"tags: Rust,Learning English\nunwinding","title":"Rust Obscure Words for non-native English speakers"},{"content":" tags: Rust Future async fn å°†ä¸€ä¸ªä»£ç å—è½¬æ¢ä¸ºä¸€ä¸ª Future å¯¹è±¡ï¼Œ Future å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€æœº Future å¯¹è±¡å¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ª Executor ä¸Š Executor futures::executor::block_on é˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ° future å®Œæˆ\n// `block_on` blocks the current thread until the provided future has run to // completion. Other executors provide more complex behavior, like scheduling // multiple futures onto the same thread. use futures::executor::block_on; async fn hello_world() { println!(\u0026#34;hello, world!\u0026#34;); } fn main() { let future = hello_world(); // Nothing is printed block_on(future); // `future` is run and \u0026#34;hello, world!\u0026#34; is printed } await await å¼‚æ­¥çš„ç­‰å¾… future å®Œæˆï¼Œä¸é˜»å¡å½“å‰çº¿ç¨‹ï¼Œå¯ä»¥é…åˆ futures::join! å¯ä»¥åŒæ—¶ await å¤šä¸ª future futures::try_join! å¦‚æœå…¶ä¸­ä¸€ä¸ªå­ future è¿”å›é”™è¯¯åˆ™ç«‹å³è¿”å›ï¼ˆjoin! éœ€è¦ç­‰æ‰€æœ‰ future å…¨éƒ¨è¿”å›ï¼‰ futures::select! ä»»æ„ä¸€ä¸ª future å®Œæˆåˆ™ç«‹å³è¿”å› async fn learn_and_sing() { // Wait until the song has been learned before singing it. // We use `.await` here rather than `block_on` to prevent blocking the // thread, which makes it possible to `dance` at the same time. let song = learn_song().await; sing_song(song).await; } async fn async_main() { let f1 = learn_and_sing(); let f2 = dance(); // `join!` is like `.await` but can wait for multiple futures concurrently. // If we\u0026#39;re temporarily blocked in the `learn_and_sing` future, the `dance` // future will take over the current thread. If `dance` becomes blocked, // `learn_and_sing` can take back over. If both futures are blocked, then // `async_main` is blocked and will yield to the executor. futures::join!(f1, f2); } fn main() { block_on(async_main()); } ","permalink":"https://notes.0081800.xyz/notes/20200828160809-rust_asynchronous_programming/","summary":"tags: Rust Future async fn å°†ä¸€ä¸ªä»£ç å—è½¬æ¢ä¸ºä¸€ä¸ª Future å¯¹è±¡ï¼Œ Future å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€æœº Future å¯¹è±¡å¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ª Executor ä¸Š Executor futures::executor::block_on é˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ° future å®Œæˆ\n// `block_on` blocks the current thread until the provided future has run to // completion. Other executors provide more complex behavior, like scheduling // multiple futures onto the same thread. use futures::executor::block_on; async fn hello_world() { println!(\u0026#34;hello, world!\u0026#34;); } fn main() { let future = hello_world(); // Nothing is printed block_on(future); // `future` is run and \u0026#34;hello, world!","title":"Rust Asynchronous Programming"},{"content":" tags: Go ç›®æ ‡ å½“è·Ÿéšè¿™ç¯‡æ–‡ç« å®Œæˆåå°†äº§å‡ºå¦‚ä¸‹å†…å®¹ï¼š\nä»£ç  http://gitlab.17zuoye.net/vgo/go-swagger-example æ–‡æ¡£ http://swagger.17zuoye.net/?url=http%3A%2F%2F10.200.242.61%3A9090%2Fswagger.json å‡†å¤‡ Go1.14 åŠä»¥ä¸Šç‰ˆæœ¬ å®‰è£… go-swagger ï¼šå‚è§ å®˜æ–¹æ–‡æ¡£ã€‚ æ¥ä¸‹æ¥ä½¿ç”¨ gin æ¡†æ¶ä½œä¸ºç¤ºä¾‹ï¼Œå¦‚æœä¹‹å‰æ²¡æ¥è§¦è¿‡å¯ä»¥å…ˆäº†è§£ä¸‹è¯¥æ¡†æ¶ åˆ›å»ºä¸€ä¸ªé¡¹ç›® $ mkdir go-swagger-example $ cd go-swagger-example/ $ go mod init gitlab.17zuoye.net/vgo/go-swagger-example å¼€å§‹ä½¿ç”¨ é¦–å…ˆåœ¨ä½ çš„ `main.go` å®šä¹‰ go generate åƒä¸‹é¢è¿™æ ·ï¼š\n//go:generate swagger generate spec -o ./swagger.yml package main func main() { println(\u0026#34;Hello world!\u0026#34;); } æ­¤æ—¶å¦‚æœè¿è¡Œ go generate åœ¨é¡¹ç›®ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€ä¸ª swagger.yml æ–‡ä»¶ï¼š\npaths: {} swagger: \u0026#34;2.0\u0026#34; ä½¿ç”¨å•ç‹¬çš„åŒ…æ‰˜ç®¡ swagger ç›¸å…³å®šä¹‰ åœ¨ä¹‹å‰å®è·µçš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œå¦‚æœåœ¨å¤šä¸ªåŒ…ä¸­å®šä¹‰äº†ç›¸åŒåç§°çš„ç»“æ„ä½“ä¼šåˆ°åªä¸€ä¸ªç»“æ„ä½“è¦†ç›–å¦å¤–ä¸€ä¸ªç»“æ„ä½“çš„å®šä¹‰ã€‚ æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠæ‰€æœ‰ swagger ç›¸å…³çš„å®šä¹‰éƒ½æ”¾åœ¨åŒä¸€ä¸ªåŒ…ä¸‹æ¥é¿å…ç›¸åŒåå­—çš„ç»“æ„ä½“ã€‚\nåˆ›å»º swagger/swagger.go å¡«å……å¦‚ä¸‹å†…å®¹ï¼š\n// Package swagger defines API documentation. // // Swagger æ¼”ç¤ºåç«¯æ¥å£ // // Schemes: http // Host: 10.200.242.35:8080 // BasePath: /api/ // Version: 0.1.0 // Contact: ç‹ä¼š\u0026lt;hui.wang.a@17zuoye.com\u0026gt; // // Consumes: // - application/json // // Produces: // - application/vnd.17zuoye.v1+json // // swagger:meta package swagger ä¸Šé¢æ–‡ä»¶é€šè¿‡æ³¨é‡Šæ¥å®šä¹‰äº†ä¸€äº›æ¥å£ç›¸å…³çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š\nSchemes å®šä¹‰å¯ç”¨çš„åè®® Host å®šä¹‰æ¥å£åœ°å€ BasePath å®šä¹‰æ¥å£åŸºç¡€è·¯å¾„ Consumes å®šä¹‰å¤æ‚è¯·æ±‚çš„ç±»å‹ï¼ˆå¯ä»¥è¦†ç›–ï¼‰ Produces å®šä¹‰æ¥å£å“åº”ç±»å‹ï¼ˆå¯ä»¥è¦†ç›–ï¼‰ è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è”ç³»äººç­‰ã€‚ é€šè¿‡ swagger:meta æ¥ç»“æŸå£°æ˜ã€‚\næ­¤æ—¶æˆ‘ä»¬å†æ¬¡è¿è¡Œ go generate å°†ä¼šå¾—åˆ°å¦‚ä¸‹ swagger.yml å®šä¹‰ï¼š\nbasePath: /api/ consumes: - application/json host: 10.200.242.35:8080 info: contact: email: hui.wang.a@17zuoye.com name: ç‹ä¼š description: Swagger æ¼”ç¤ºåç«¯æ¥å£ title: defines API documentation. version: 0.1.0 paths: {} produces: - application/vnd.17zuoye.v1+json schemes: - http swagger: \u0026#34;2.0\u0026#34; ç¼–å†™æ¥å£æ–‡æ¡£ å‡†å¤‡ service åŒ… æˆ‘ä»¬æ‰“ç®—å°†æ¥å£å®ç°ç›¸å…³ä»£ç æ”¾åœ¨ service åŒ…ä¸‹ï¼Œé¦–å…ˆæ¥åˆ›å»º service/service.go ï¼š\npackage service import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; ) var Engine = gin.Default() var Router = Engine.Group(\u0026#34;/api\u0026#34;) func init() { // Mount handlers to gin here } POST æäº¤ä¿¡æ¯ å‡è®¾æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªåˆ›å»ºç”¨æˆ·ä¿¡æ¯çš„æ¥å£ï¼Œéœ€è¦åå­—å’Œå¹´é¾„ä¸¤ä¸ªå‚æ•°ã€‚æˆ‘ä»¬åœ¨ service åŒ…ä¸‹åˆ›å»º user.go\npackage service import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; ) func CreateUser(c *gin.Context) { } func init() { // swagger:route POST /users users-create // // åˆ›å»ºç”¨æˆ·ã€‚ // // Responses: // default: DefaultResponse // 201: UserResponse Router.POST(\u0026#34;/users\u0026#34;, CreateUser) } é€šè¿‡ä¸Šé¢ä»£ç ä¸­çš„æ³¨é‡Šæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª Swagger ä¸­çš„ route å…¶ ID æ˜¯ users-create ã€‚ æˆ‘ä»¬åœ¨æ³¨é‡Šä¸­ä¹Ÿå£°æ˜äº†å“åº”ï¼Œä½†æ˜¯æˆ‘ä»¬ç›®å‰è¿˜æ²¡æœ‰å®šä¹‰å‚æ•°å’Œå¯¹åº”çš„å“åº”ã€‚\nGo Swagger çš„å‚æ•°å®šä¹‰æ˜¯åå‘çš„ï¼Œæ„æ€å°±æ˜¯ä½ éœ€è¦å®šä¹‰ä¸€ä¸ª parameter ç„¶åæŒ‡æ˜ç”¨åœ¨å“ªä¸ª route æˆ– operation ä¸Šï¼ˆé€šè¿‡å¯¹åº”çš„ IDï¼‰ã€‚ä¸‹é¢å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€çœ‹ï¼Œæˆ‘ä»¬æ¥åˆ›å»º swagger/user.go ï¼š\npackage swagger // UserCreateForm ç”¨äºåˆ›å»ºç”¨æˆ·çš„è¡¨å•ï¼Œå¯ä»¥ä¾› gin ä½¿ç”¨ type UserCreateForm struct { Username string `json:\u0026#34;username\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } // UserCreateParams å£°æ˜ Swagger å‚æ•°ç”Ÿæˆæ–‡æ¡£ // swagger:parameters users-create type UserCreateParams struct { // in: body Body UserCreateForm } // UserEntity user entity to respond type UserEntity struct { ID uint64 `json:\u0026#34;id\u0026#34;` Username string `json:\u0026#34;username\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } // UserResponse å£°æ˜ Swagger å“åº”ç”¨äºæ–‡æ¡£ç”Ÿæˆ // swagger:response type UserResponse struct { // in: body Body UserEntity } æ¥ä¸‹æ¥è°ƒæ•´ swagger/swagger.go å®šä¹‰ DefaultResponse:\n// Package swagger defines API documentation. // // Swagger æ¼”ç¤ºåç«¯æ¥å£ // // Schemes: http // Host: 10.200.242.35:8080 // BasePath: /api/ // Version: 0.1.0 // Contact: ç‹ä¼š\u0026lt;hui.wang.a@17zuoye.com\u0026gt; // // Consumes: // - application/json // // Produces: // - application/vnd.17zuoye.v1+json // // swagger:meta package swagger // Default default entity type Default struct { Code int `json:\u0026#34;code\u0026#34;` Message string `json:\u0026#34;msg\u0026#34;` } // DefaultResponse é»˜è®¤å“åº”ï¼Œç”¨äº Swagger æ–‡æ¡£ç”Ÿæˆ // swagger:response type DefaultResponse struct { // in: body Body Default } ç°åœ¨æˆ‘ä»¬è¿è¡Œ go generate å°†ä¼šç”Ÿæˆå¦‚ä¸‹ swagger.yml\nbasePath: /api/ consumes: - application/json definitions: Default: description: Default default entity properties: code: format: int64 type: integer x-go-name: Code msg: type: string x-go-name: Message type: object x-go-package: gitlab.17zuoye.net/vgo/go-swagger-example/swagger UserEntity: description: UserEntity user entity to respond properties: age: format: int64 type: integer x-go-name: Age id: format: uint64 type: integer x-go-name: ID username: type: string x-go-name: Username type: object x-go-package: gitlab.17zuoye.net/vgo/go-swagger-example/swagger UserCreateForm: description: UserCreateForm ç”¨äºåˆ›å»ºç”¨æˆ·çš„è¡¨å•ï¼Œå¯ä»¥ä¾› gin ä½¿ç”¨ properties: age: format: int64 type: integer x-go-name: Age username: type: string x-go-name: Username type: object x-go-package: gitlab.17zuoye.net/vgo/go-swagger-example/swagger host: 10.200.242.35:8080 info: contact: email: hui.wang.a@17zuoye.com name: ç‹ä¼š description: Swagger æ¼”ç¤ºåç«¯æ¥å£ title: defines API documentation. version: 0.1.0 paths: /users: post: operationId: users-create parameters: - in: body name: Body schema: $ref: \u0026#39;#/definitions/UserCreateForm\u0026#39; responses: \u0026#34;201\u0026#34;: $ref: \u0026#39;#/responses/UserResponse\u0026#39; default: $ref: \u0026#39;#/responses/DefaultResponse\u0026#39; summary: åˆ›å»ºç”¨æˆ·ã€‚ produces: - application/vnd.17zuoye.v1+json responses: DefaultResponse: description: DefaultResponse é»˜è®¤å“åº”ï¼Œç”¨äº Swagger æ–‡æ¡£ç”Ÿæˆ schema: $ref: \u0026#39;#/definitions/Default\u0026#39; UserResponse: description: UserResponse å£°æ˜ Swagger å“åº”ç”¨äºæ–‡æ¡£ç”Ÿæˆ schema: $ref: \u0026#39;#/definitions/UserEntity\u0026#39; schemes: - http swagger: \u0026#34;2.0\u0026#34; è¿è¡Œ swagger serve -F swagger swagger.yml å¯æŸ¥çœ‹æ–‡æ¡£ã€‚\næŸ¥è¯¢å‚æ•° æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç¼–å†™æŸ¥è¯¢æ¥å£æ–‡æ¡£ï¼Œè¿™æ¬¡å’Œä¸Šé¢åˆ›å»ºç¨æœ‰ä¸åŒï¼Œå‚æ•°é€šè¿‡ Query è¿›è¡Œä¼ é€’ï¼Œ ç¼–è¾‘ service/user.go\npackage service import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; ) func CreateUser(c *gin.Context) { } func QueryUsers(c *gin.Context) { } func init() { // swagger:route POST /users users-create // // åˆ›å»ºç”¨æˆ·ã€‚ // // Responses: // default: DefaultResponse // 201: UserResponse Router.POST(\u0026#34;/users\u0026#34;, CreateUser) // swagger:route GET /users users-query // // æŸ¥è¯¢ç”¨æˆ·ã€‚ // // Respones: // default: DefaultResponse // 200: UsersResponse Router.GET(\u0026#34;/users\u0026#34;, QueryUsers) } æ¥ä¸‹æ¥è°ƒæ•´ swagger/user.go å®šä¹‰å‚æ•°å’Œå“åº”ï¼š\npackage swagger // UserCreateForm ç”¨äºåˆ›å»ºç”¨æˆ·çš„è¡¨å•ï¼Œå¯ä»¥ä¾› gin ä½¿ç”¨ type UserCreateForm struct { Username string `json:\u0026#34;username\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } // UserCreateParams å£°æ˜ Swagger å‚æ•°ç”Ÿæˆæ–‡æ¡£ // swagger:parameters users-create type UserCreateParams struct { // in: body Body UserCreateForm } // UserEntity user entity to respond type UserEntity struct { ID uint64 `json:\u0026#34;id\u0026#34;` Username string `json:\u0026#34;username\u0026#34;` Age int `json:\u0026#34;age\u0026#34;` } // UserResponse å£°æ˜ Swagger å“åº”ç”¨äºæ–‡æ¡£ç”Ÿæˆ // swagger:response type UserResponse struct { // in: body Body UserEntity } // UserQueryParams å£°æ˜ Swagger å‚æ•°ç”Ÿæˆæ–‡æ¡£ // swagger:parameters users-query type UserQueryParams struct { // json tag ç”¨äº swagger // in: query Username string `json:\u0026#34;username\u0026#34; form:\u0026#34;username\u0026#34;` } // UsersResponse ç”¨æˆ·åˆ—è¡¨å“åº” // swagger:response type UsersResponse struct { // in: body Body struct { Page int `json:\u0026#34;page\u0026#34;` PerPage int `json:\u0026#34;perPage\u0026#34;` Total int `json:\u0026#34;total\u0026#34;` Users []UserEntity `json:\u0026#34;users\u0026#34;` } } è¿è¡Œ go generate \u0026amp;\u0026amp; swagger serve -F swagger swagger.yml å¯æŸ¥çœ‹æ•ˆæœã€‚\nURL ä¸­ Path å‚æ•° å¦‚æœæˆ‘ä»¬è¦æ›´æ–°ç”¨æˆ·ä¿¡æ¯ï¼ŒæŒ‰ç…§ RESTful çš„è®¾è®¡æ–¹å¼ï¼Œè¯·æ±‚çš„æ–¹å¼åº”è¯¥æ˜¯ PATCH /api/users/:id ï¼Œ æ­¤æ—¶ route å·²ç»æ— æ³•æ»¡è¶³ï¼Œéœ€è¦å€ŸåŠ© operation ç¼–å†™ä¸€äº›åŸå§‹çš„ YAML æ¥å®ç°ï¼Œä¸‹é¢æ˜¯è°ƒæ•´ åçš„ service/user.go:\npackage service import ( \u0026#34;github.com/gin-gonic/gin\u0026#34; ) func CreateUser(c *gin.Context) { } func QueryUsers(c *gin.Context) { } func UpdateUser(c *gin.Context) { } func init() { // swagger:route POST /users users-create // // åˆ›å»ºç”¨æˆ·ã€‚ // // Responses: // default: DefaultResponse // 201: UserResponse Router.POST(\u0026#34;/users\u0026#34;, CreateUser) // swagger:route GET /users users-query // // æŸ¥è¯¢ç”¨æˆ·ã€‚ // // Responses: // default: DefaultResponse // 200: UsersResponse Router.GET(\u0026#34;/users\u0026#34;, QueryUsers) // swagger:operation PATCH /users/{userId} users-update // // æ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚ // // --- // parameters: // - in: path // name: userId // type: int // description: ç”¨æˆ· ID // - in: body // name: Body // schema: // \u0026#34;$ref\u0026#34;: \u0026#34;#/definitions/UserCreateForm\u0026#34; // respones: // \u0026#34;200\u0026#34;: // \u0026#34;$ref\u0026#34;: \u0026#34;#/responses/UserResponse\u0026#34; // \u0026#34;default\u0026#34;: // \u0026#34;$ref\u0026#34;: \u0026#34;#/responses/DefaultResponse\u0026#34; Router.PATCH(\u0026#34;/users/:id\u0026#34;, UpdateUser) } éƒ¨ç½² å¯ä»¥é€šè¿‡ CI/CD ç”Ÿæˆ swagger.yml è¿›è¡Œéƒ¨ç½²ï¼Œç„¶åå°†å¯¹åº”çš„ JSON åœ°å€ç»“åˆå…¬å¸ http://swagger.17zuoye.net/ è¿›è¡Œéƒ¨ç½²æŸ¥çœ‹ã€‚\nç›¸å…³ç¤ºä¾‹å¯ä»¥å‚è€ƒ http://gitlab.17zuoye.net/vgo/go-swagger-example\n","permalink":"https://notes.0081800.xyz/notes/20200828104706-go_swagger/","summary":"tags: Go ç›®æ ‡ å½“è·Ÿéšè¿™ç¯‡æ–‡ç« å®Œæˆåå°†äº§å‡ºå¦‚ä¸‹å†…å®¹ï¼š\nä»£ç  http://gitlab.17zuoye.net/vgo/go-swagger-example æ–‡æ¡£ http://swagger.17zuoye.net/?url=http%3A%2F%2F10.200.242.61%3A9090%2Fswagger.json å‡†å¤‡ Go1.14 åŠä»¥ä¸Šç‰ˆæœ¬ å®‰è£… go-swagger ï¼šå‚è§ å®˜æ–¹æ–‡æ¡£ã€‚ æ¥ä¸‹æ¥ä½¿ç”¨ gin æ¡†æ¶ä½œä¸ºç¤ºä¾‹ï¼Œå¦‚æœä¹‹å‰æ²¡æ¥è§¦è¿‡å¯ä»¥å…ˆäº†è§£ä¸‹è¯¥æ¡†æ¶ åˆ›å»ºä¸€ä¸ªé¡¹ç›® $ mkdir go-swagger-example $ cd go-swagger-example/ $ go mod init gitlab.17zuoye.net/vgo/go-swagger-example å¼€å§‹ä½¿ç”¨ é¦–å…ˆåœ¨ä½ çš„ `main.go` å®šä¹‰ go generate åƒä¸‹é¢è¿™æ ·ï¼š\n//go:generate swagger generate spec -o ./swagger.yml package main func main() { println(\u0026#34;Hello world!\u0026#34;); } æ­¤æ—¶å¦‚æœè¿è¡Œ go generate åœ¨é¡¹ç›®ç›®å½•ä¸‹å°±ä¼šç”Ÿæˆä¸€ä¸ª swagger.yml æ–‡ä»¶ï¼š\npaths: {} swagger: \u0026#34;2.0\u0026#34; ä½¿ç”¨å•ç‹¬çš„åŒ…æ‰˜ç®¡ swagger ç›¸å…³å®šä¹‰ åœ¨ä¹‹å‰å®è·µçš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œå¦‚æœåœ¨å¤šä¸ªåŒ…ä¸­å®šä¹‰äº†ç›¸åŒåç§°çš„ç»“æ„ä½“ä¼šåˆ°åªä¸€ä¸ªç»“æ„ä½“è¦†ç›–å¦å¤–ä¸€ä¸ªç»“æ„ä½“çš„å®šä¹‰ã€‚ æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æŠŠæ‰€æœ‰ swagger ç›¸å…³çš„å®šä¹‰éƒ½æ”¾åœ¨åŒä¸€ä¸ªåŒ…ä¸‹æ¥é¿å…ç›¸åŒåå­—çš„ç»“æ„ä½“ã€‚\nåˆ›å»º swagger/swagger.","title":"Go Swagger å®ç°ä»£ç å³æ–‡æ¡£"},{"content":" tags: MySQL å¯åŠ¨ mysqld æ—¶åŠ ä¸Š --skip-grant-tables å‚æ•°å¯ä»¥æ— å¯†ç è¿›å…¥ MySQLã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200827195950-mysql_forget_password/","summary":"tags: MySQL å¯åŠ¨ mysqld æ—¶åŠ ä¸Š --skip-grant-tables å‚æ•°å¯ä»¥æ— å¯†ç è¿›å…¥ MySQLã€‚","title":"MySQL forget password"},{"content":" tags: MySQL https://liuzhengyang.github.io/2017/04/18/innodb-mvcc/ æ¥è‡ªã€Šé«˜æ€§èƒ½ MySQLã€‹ï¼š\nInnoDB åœ¨æ¯ä¸€è¡Œéƒ½éšå¼çš„å¤šå­˜å‚¨ä¸¤ä¸ªå­—æ®µï¼š\näº‹åŠ¡æ›´æ–°ç‰ˆæœ¬ äº‹åŠ¡åˆ é™¤ç‰ˆæœ¬ å½“äº‹åŠ¡å¼€å§‹æ—¶è®°å½•è¿™ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåœ¨è¯»å–çš„æ—¶å€™æ ¹æ® Undo Log å’Œ Redo Log æ¥å®ç°éš”ç¦»çº§åˆ«çš„æ§åˆ¶ã€‚åºåˆ—åŒ–éš”ç¦»çº§åˆ«ä¸‹åªèƒ½é€šè¿‡è¡Œé”æ¥ä¿è¯ã€‚\nåœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼š\né¦–å…ˆåˆ¤æ–­äº‹åŠ¡æ›´æ–°ç‰ˆæœ¬æ˜¯å¦å¤§äºäº‹åŠ¡å¼€å§‹å‰çš„ç‰ˆæœ¬ å¦‚æœå¤§äºåˆ™æ ¹æ® Undo Log è¿›è¡Œå›é€€å®ç°å¯é‡å¤è¯»ï¼Œè¿™æ ·åœ¨åŒä¸€äº‹åŠ¡ä¸‹ä¸ç®¡è¯»å¤šå°‘éè¯»å–åˆ°çš„å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å¯é‡å¤è¯»éš”ç¦»å³ä¾¿ä¸‹æ— æ³•é¿å…å¹»è¯»ï¼šå³ä¸€å¼€å§‹æ²¡æœ‰è¯»å–åˆ°ï¼Œéšç€å…¶ä»–æ’å…¥äº‹åŠ¡çš„æäº¤åœ¨åŒä¸€äº‹åŠ¡é‡Œæ‰§è¡ŒæŸ¥è¯¢åˆèƒ½è¯»å–åˆ°çš„æƒ…å†µã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200827195823-mvcc/","summary":"tags: MySQL https://liuzhengyang.github.io/2017/04/18/innodb-mvcc/ æ¥è‡ªã€Šé«˜æ€§èƒ½ MySQLã€‹ï¼š\nInnoDB åœ¨æ¯ä¸€è¡Œéƒ½éšå¼çš„å¤šå­˜å‚¨ä¸¤ä¸ªå­—æ®µï¼š\näº‹åŠ¡æ›´æ–°ç‰ˆæœ¬ äº‹åŠ¡åˆ é™¤ç‰ˆæœ¬ å½“äº‹åŠ¡å¼€å§‹æ—¶è®°å½•è¿™ä¸¤ä¸ªç‰ˆæœ¬ï¼Œåœ¨è¯»å–çš„æ—¶å€™æ ¹æ® Undo Log å’Œ Redo Log æ¥å®ç°éš”ç¦»çº§åˆ«çš„æ§åˆ¶ã€‚åºåˆ—åŒ–éš”ç¦»çº§åˆ«ä¸‹åªèƒ½é€šè¿‡è¡Œé”æ¥ä¿è¯ã€‚\nåœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼š\né¦–å…ˆåˆ¤æ–­äº‹åŠ¡æ›´æ–°ç‰ˆæœ¬æ˜¯å¦å¤§äºäº‹åŠ¡å¼€å§‹å‰çš„ç‰ˆæœ¬ å¦‚æœå¤§äºåˆ™æ ¹æ® Undo Log è¿›è¡Œå›é€€å®ç°å¯é‡å¤è¯»ï¼Œè¿™æ ·åœ¨åŒä¸€äº‹åŠ¡ä¸‹ä¸ç®¡è¯»å¤šå°‘éè¯»å–åˆ°çš„å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ã€‚ å¯é‡å¤è¯»éš”ç¦»å³ä¾¿ä¸‹æ— æ³•é¿å…å¹»è¯»ï¼šå³ä¸€å¼€å§‹æ²¡æœ‰è¯»å–åˆ°ï¼Œéšç€å…¶ä»–æ’å…¥äº‹åŠ¡çš„æäº¤åœ¨åŒä¸€äº‹åŠ¡é‡Œæ‰§è¡ŒæŸ¥è¯¢åˆèƒ½è¯»å–åˆ°çš„æƒ…å†µã€‚","title":"MVCC"},{"content":" tags: MySQL,Network https://stackoverflow.com/a/38389851/2873718\nMySQL æˆæƒç”¨æˆ·å­ç½‘æ®µéœ€è¦ä½¿ç”¨:\n172.16.0.0/255.240.0.0 è€Œä¸èƒ½ä½¿ç”¨\n172.16.0.0/12 ","permalink":"https://notes.0081800.xyz/notes/20200827195621-mysql_grant_subnet/","summary":" tags: MySQL,Network https://stackoverflow.com/a/38389851/2873718\nMySQL æˆæƒç”¨æˆ·å­ç½‘æ®µéœ€è¦ä½¿ç”¨:\n172.16.0.0/255.240.0.0 è€Œä¸èƒ½ä½¿ç”¨\n172.16.0.0/12 ","title":"MySQL grant subnet"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20200827180638-network/","summary":"","title":"Network"},{"content":"ä½ç§»äº§ç”Ÿçš„ç©ºç™½å¡«ä¸Š 0ï¼Œä¼šå¯¼è‡´æœ‰ç¬¦å·çš„è´Ÿæ•°å˜æˆæ­£æ•°ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200802165502-%E9%80%BB%E8%BE%91%E5%8F%B3%E7%A7%BB/","summary":"ä½ç§»äº§ç”Ÿçš„ç©ºç™½å¡«ä¸Š 0ï¼Œä¼šå¯¼è‡´æœ‰ç¬¦å·çš„è´Ÿæ•°å˜æˆæ­£æ•°ã€‚","title":"é€»è¾‘å³ç§»"},{"content":"ä½ç§»çš„äº§ç”Ÿçš„ç©ºç™½å¡«ä¸Šç¬¦å·ä½ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200802165150-%E7%AE%97%E6%95%B0%E5%8F%B3%E7%A7%BB/","summary":"ä½ç§»çš„äº§ç”Ÿçš„ç©ºç™½å¡«ä¸Šç¬¦å·ä½ã€‚","title":"ç®—æ•°å³ç§»"},{"content":" tags: Computer Systems,ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®° ç¨‹åºç¼–ç  $ gcc -Og -S mstore.c # outputs mstore.s $ gcc -Og -c mstore.c # outptus mstore.o $ objdump -d mstore.o æ‰€æœ‰ä»¥ â€˜.â€™ å¼€å¤´é¢è¡Œéƒ½æ˜¯æŒ‡å¯¼æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨å·¥ä½œé¢ä¼ªæŒ‡ä»¤ã€‚\næ•°æ®æ ¼å¼ C å£°æ˜ Intel æ•°æ®ç±»å‹ æ±‡ç¼–ä»£ç åç¼€ å¤§å°ï¼ˆå­—èŠ‚ï¼‰ char å­—èŠ‚ b 1 short å­— w 2 int åŒå­— l 4 long å››å­— q 8 char* å››å­— q 8 float å•ç²¾åº¦ l 4 double åŒç²¾åº¦ q 8 è®¿é—®ä¿¡æ¯ å¯„å­˜å™¨ ä¸€ä¸ª x86-64 çš„ä¸­å¤®å¤„ç†å•å…ƒï¼ˆCPUï¼‰åŒ…å«ä¸€ç»„ 16 ä¸ªå­˜å‚¨ 64 ä½å€¼çš„ é€šç”¨ç›®çš„å¯„å­˜å™¨ ã€‚\nå››å­— åŒå­— å­— å­—èŠ‚ ç”¨é€” %rax %eax %ax %al è¿”å›å€¼ %rbx %ebx %bx %bl è¢«è°ƒç”¨è€…ä¿å­˜ %rcx %ecx %cx %cl ç¬¬å››ä¸ªå‚æ•° %rdx %edx %dx %dl ç¬¬ä¸‰ä¸ªå‚æ•° %rsi %esi %si %sil ç¬¬äºŒä¸ªå‚æ•° %rdi %edi %di %dil ç¬¬ä¸€ä¸ªå‚æ•° %rbp %ebp %bp %bpl è¢«è°ƒç”¨è€…ä¿å­˜ %rsp %esp %sp %spl æ ˆæŒ‡é’ˆ %r8 %r8d %r8w %r8b ç¬¬äº”ä¸ªå‚æ•° %r9 %r9d %r9w %r9b ç¬¬å…­ä¸ªå‚æ•° %r10 %r10d %r10w %r10b è°ƒç”¨è€…ä¿å­˜ %r11 %r11d %r11w %r11b è°ƒç”¨è€…ä¿å­˜ %r12 %r12d %r12w %r11b è¢«è°ƒç”¨è€…ä¿å­˜ %r13 %r13d %r13w %r13b è¢«è°ƒç”¨è€…ä¿å­˜ %r14 %r14d %r14w %r14 è¢«è°ƒç”¨è€…ä¿å­˜ %r15 %r15d %r15w %r15 è¢«è°ƒç”¨è€…ä¿å­˜ ç›¸å…³è§„åˆ™ï¼š\nç”Ÿæˆ 1 å­—èŠ‚å’Œ 2 å­—èŠ‚æ•°å­—çš„æŒ‡ä»¤ä¼šä¿æŒå‰©ä¸‹çš„å­—èŠ‚ä¸å˜ ç”Ÿæˆ 4 å­—èŠ‚çš„æ•°å­—çš„æŒ‡ä»¤ä¼šæŠŠé«˜ä½ 4 ä¸ªå­—èŠ‚è®¾ç½®ä¸º 0 å¯„å­˜å™¨çš„ä½¿ç”¨æœ‰ä¸€ç»„ç¼–ç¨‹è§„èŒƒæ§åˆ¶ç€å¦‚ä½•æ¥ç®¡ç†æ ˆã€ä¼ é€’å‚æ•°ã€ä»å‡½æ•°è¿”å›å€¼ï¼Œä»¥åŠå­˜å‚¨å±€éƒ¨å’Œä¸´æ—¶æ•°æ®ã€‚ %rsp ç”¨æ¥æŒ‡æ˜è¿è¡Œæ—¶æ ˆçš„ç»“æŸä½ç½®ã€‚\næ“ä½œæ•°æŒ‡ç¤ºç¬¦ åˆ†ä¸ºå‡ ç±»ï¼š\nç«‹å³æ•°ï¼ˆå­—é¢é‡ï¼‰ å¯„å­˜å™¨ å†…å­˜å¼•ç”¨ï¼ˆæ”¯æŒå¤šç§å¯»å€æ¨¡å¼ï¼‰ å‡è®¾å¯„å­˜å™¨æ˜¯ä¸€ä¸ªæ•°ç»„ Rï¼Œå†…å­˜æ˜¯ä¸€ä¸ªå¤§çš„å­—èŠ‚æ•°ç»„ï¼Œå¯»å€æ–¹å¼ä¸ºç´¢å¼•ï¼Œå¦‚ M[0] å°±æ˜¯è®¿é—®å†…å­˜çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚\nç±»å‹ æ ¼å¼ æ“ä½œæ•°å€¼ åç§° ä¾‹å­ ç«‹å³æ•° $Imm Imm ç«‹å³æ•°å¯»å€ $0x08 å¯„å­˜å™¨ \\(r_a\\) \\(R[r_a]\\) å¯„å­˜å™¨å¯»å€ %rdx å­˜å‚¨å™¨ Imm M[Imm] ç»å¯¹å¯»å€ 0x80 å­˜å‚¨å™¨ (\\(r_a\\)) M[R[\\(r_a\\)]] é—´æ¥å¯»å€ (%rdx) å­˜å‚¨å™¨ Imm(\\(r_b\\)) M[Imm+R[\\(r_b\\)]] ï¼ˆåŸºå€ + åç§»é‡ï¼‰å¯»å€ 0x08(%rdx) å­˜å‚¨å™¨ (\\(r_b\\),\\(r_i\\)) M[R[\\(r_b\\)] + R[\\(r_i\\)]] å˜å€å¯»å€ (%rdx,%rdx) å­˜å‚¨å™¨ Imm(\\(r_b\\),\\(r_i\\)) M[Imm + R[\\(r_b\\)] + R[\\(r_i\\)]] å˜å€å¯»å€ 0x08(%rdx,%rdx) å­˜å‚¨å™¨ (,\\(r_i\\),s) M[R[\\(r_i\\)] * s] æ¯”ä¾‹å˜å€å¯»å€ (,%rdx,0x08) å­˜å‚¨å™¨ Imm(,\\(r_i\\),s) M[Imm + R[\\(r_i\\)] * s] æ¯”ä¾‹å˜å€å¯»å€ 0x08(,%rdx,0x08) å­˜å‚¨å™¨ (\\(r_b\\),\\(r_i\\),s) M[R[\\(r_b\\)]+R[\\(r_i\\)] * s] æ¯”ä¾‹å˜å€å¯»å€ (%rdx,%rdx,0x08) å­˜å‚¨å™¨ Imm(\\(r_b\\),\\(r_i\\),s) M[Imm + R[\\(r_b\\)]+R[\\(r_i\\)] * s] æ¯”ä¾‹å˜å€å¯»å€ 0x08(%rdx,%rdx,0x08) æ•°æ®ä¼ é€æŒ‡ä»¤ æŒ‡ä»¤ å˜ä½“ æ•ˆæœ æè¿° å¤‡æ³¨ MOV S,D movb/movw/movl/movq D\u0026lt;-S ä¼ é€ MOVABSQ 1,R R\u0026lt;-1 ä¼ é€ç»å¯¹çš„å››å­— MOVZ S,R movzbw/movzbl/movzwl/movzbq/movzwq R\u0026lt;-é›¶æ‰©å±•(S) ä»¥é›¶æ‰©å±•è¿›è¡Œä¼ é€ ç›®æ ‡åªèƒ½æ˜¯å¯„å­˜å™¨ï¼Œåç¼€ bw è¡¨ç¤ºå­—èŠ‚ä¼ é€åˆ°å­— MOVS S,R movsbw/movsbl/movswl/movsbq/movswq/movslq R\u0026lt;-ç¬¦å·æ‰©å±•(S) ä»¥ç¬¦å·æ‰©å±•è¿›è¡Œä¼ é€ åŒä¸Š cltq %rax\u0026lt;-ç¬¦å·æ‰©å±•(%eax) æŠŠ %eax ç¬¦å·æ‰©å±•åˆ° %rax å‹å…¥å’Œå¼¹å‡ºæ ˆæ•°æ® æŒ‡ä»¤ æ•ˆæœ æè¿° pushq S R[%rsp]\u0026lt;-R[%rsp]-0x08; M[R[%rsp]]\u0026lt;-R å°†å››å­—å‹å…¥æ ˆ popq D D\u0026lt;-M[R[%rsp]];R[%rsp]\u0026lt;-R[%rsp]+0x08 å°†å››å­—å¼¹å‡ºæ ˆ ç®—æ•°å’Œé€»è¾‘æ“ä½œ åˆ†ç±» æŒ‡ä»¤ æ•ˆæœ æè¿° leaq leaq S,D D\u0026lt;-\u0026amp;S åŠ è½½æœ‰æ•ˆåœ°å€ ä¸€å…ƒ INC D D \u0026lt;- D + 1 åŠ  1 DEC D D \u0026lt;- D - 1 å‡ 1 NEG D D \u0026lt;- -D å–è´Ÿ NOT D D \u0026lt;- ~D å–è¡¥ äºŒå…ƒ ADD S,D D \u0026lt;- D + S SUB S,D D \u0026lt;- D - S IMUL S,D D \u0026lt;- D * S XOR S,D D \u0026lt;- D ^ S OR S,D D \u0026lt;- D ï½œ S AND S,D D \u0026lt;- D \u0026amp; S ä½ç§» SAL k,D D \u0026lt;- D \u0026lt;\u0026lt; k SHL k,D D \u0026lt;- D \u0026lt;\u0026lt; k SAR k,D D \u0026lt;- D \u0026gt;\u0026gt; k ç®—æ•°å³ç§» SHR k,D D \u0026lt;- D \u0026gt;\u0026gt; k é€»è¾‘å³ç§» ç‰¹æ®Š imulq S R[%rdx]: R[%rax] \u0026lt;- S x R[%rax] æœ‰ç¬¦å·å…¨ä¹˜æ³•ï¼ˆæ”¯æŒä¸¤ä¸ª 64 ä½çš„æ•°å­—å…¨ 128 ä½ä¹˜ç§¯ï¼Œç”¨ä¸¤ä¸ªå¯„å­˜å™¨è¡¨ç¤º 8 å­—ï¼‰ mulq R[%rdx]: R[%rax] \u0026lt;- S x R[%rax] æ— ç¬¦å·å…¨ä¹˜æ³• cqto R[%rdx]: R[%rax] \u0026lt;- ç¬¦å·æ‰©å±•(R[%rax]) è½¬æ¢ä¸º 8 å­— idivq S R[%rdx] \u0026lt;- R[%rdx]: R[%rax] mod S æœ‰ç¬¦å·é™¤æ³• R[%rdx] \u0026lt;- (R[%rdx]: R[%rax]) / S divq S åŒä¸Š æ— ç¬¦å·é™¤æ³• leaq å°†è®¡ç®—å‡ºçš„æœ‰æ•ˆåœ°å€å†™å…¥åˆ°ç›®æ ‡å¯„å­˜å™¨ï¼Œå¯ä»¥æ ¹æ®æ¯”ä¾‹å˜å€å¯»å€è¿›è¡Œå¤æ‚çš„æ•°å€¼è®¡ç®—ã€‚\nlong t = x + 4 * y + 12 * z\n; x in %rdi, y in %rsi, z in %rdx scale: leaq (%rdi,%rsi,4), %rax ; x + 4*y leaq (%rdx,%rdx,2), %rdx ; z + 2*z = 3 * z leaq (%rax,%rdx,4), %rax ; (x + 4*y) + 4*(3*z) = x + 4*y + 12*z æ§åˆ¶ æµ‹è¯•æ•°æ®å€¼ï¼Œç„¶åæ ¹æ®æµ‹è¯•çš„ç»“æœæ¥æ”¹å˜æ§åˆ¶æµæˆ–è€…æ•°æ®æµã€‚jump æŒ‡ä»¤å¯ä»¥æŒ‡å®šæ§åˆ¶åº”è¯¥è¢«ä¼ é€’åˆ°ç¨‹åºçš„æŸä¸ªå…¶ä»–éƒ¨åˆ†ã€‚\næ¡ä»¶ç  æ¡ä»¶ç å¯„å­˜å™¨å­˜å‚¨äº†å•ä¸ªä½çš„æ¡ä»¶ç æ¥æè¿°æœ€è¿‘çš„ç®—æœ¯æˆ–è€…é€»è¾‘æ“ä½œçš„å±æ€§ã€‚å¸¸ç”¨çš„æ¡ä»¶ç æœ‰ï¼š\nCFï¼šè¿›ä½æ ‡å¿—ã€‚æœ€è¿‘çš„æ“ä½œä½¿æœ€é«˜ä½äº§ç”Ÿäº†è¿›ä½ã€‚ç”¨æ¥æ£€æŸ¥æ— ç¬¦å·æ“ä½œçš„æº¢å‡ºã€‚ ZFï¼šé›¶æ ‡å¿—ã€‚æœ€è¿‘æ“ä½œå¾—å‡ºçš„ç»“æœä¸º 0ã€‚ SFï¼šç¬¦å·æ ‡å¿—ã€‚æœ€è¿‘çš„æ“ä½œç»“æœä¸ºè´Ÿæ•°ã€‚ OFï¼šæº¢å‡ºæ ‡å¿—ã€‚æœ€è¿‘çš„æ“ä½œå¯¼è‡´ä¸€ä¸ªè¡¥ç æº¢å‡º \u0026ndash; æ­£æº¢å‡ºæˆ–è´Ÿæº¢å‡ºã€‚ leaq ä¸æ”¹å˜ä»»ä½•æ¡ä»¶ç ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200802155053-%E6%B1%87%E7%BC%96/","summary":"tags: Computer Systems,ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®° ç¨‹åºç¼–ç  $ gcc -Og -S mstore.c # outputs mstore.s $ gcc -Og -c mstore.c # outptus mstore.o $ objdump -d mstore.o æ‰€æœ‰ä»¥ â€˜.â€™ å¼€å¤´é¢è¡Œéƒ½æ˜¯æŒ‡å¯¼æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨å·¥ä½œé¢ä¼ªæŒ‡ä»¤ã€‚\næ•°æ®æ ¼å¼ C å£°æ˜ Intel æ•°æ®ç±»å‹ æ±‡ç¼–ä»£ç åç¼€ å¤§å°ï¼ˆå­—èŠ‚ï¼‰ char å­—èŠ‚ b 1 short å­— w 2 int åŒå­— l 4 long å››å­— q 8 char* å››å­— q 8 float å•ç²¾åº¦ l 4 double åŒç²¾åº¦ q 8 è®¿é—®ä¿¡æ¯ å¯„å­˜å™¨ ä¸€ä¸ª x86-64 çš„ä¸­å¤®å¤„ç†å•å…ƒï¼ˆCPUï¼‰åŒ…å«ä¸€ç»„ 16 ä¸ªå­˜å‚¨ 64 ä½å€¼çš„ é€šç”¨ç›®çš„å¯„å­˜å™¨ ã€‚","title":"æ±‡ç¼–"},{"content":" tags: Computer Systems,ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®° æµ®ç‚¹æ•°å°æ•°è¡¨ç¤ºå½¢å¼ .0111 = \\(0x2^{-1}+2^{-2}+2^{-3}+2^{-4}\\)\nIEEE æµ®ç‚¹æ•°è¡¨ç¤ºå½¢å¼ \\[ V=(-1)^s X M X 2^E \\]\ns = 0 è¡¨ç¤ºè´Ÿæ•°ï¼Œ s = 1 è¡¨ç¤ºæ­£æ•° M æ˜¯äºŒè¿›åˆ¶è¡¨ç¤ºçš„å°æ•° E æ˜¯é˜¶ç  æµ®ç‚¹æ•°äºŒè¿›åˆ¶ç»„æˆ ä¸€ä¸ªå•ç‹¬ç¬¦å·ä½ s è¡¨å—ç¬¦åˆ k ä½é˜¶ç å­—æ®µ exp ç¼–ç é˜¶ç  E n ä½å°æ•°å­—æ®µ frac ç¼–ç å°¾æ•° M ä¸¤ç§å¸¸è§çš„æ ¼å¼ float s = 1 k = 8 n = 23 double s = 1 k = 11 n = 52 ä¸‰ç§è®¡ç®—æ–¹å¼ å‰ç½®çš„ä¸€äº›å€¼\ne æ˜¯ exp ä½è¡¨ç¤ºçš„æ— ç¬¦å·æ•° f æ˜¯ frac ä½è¡¨ç¤ºçš„å°æ•° \\(Bias = 2^{k-1} -1\\) è§„æ ¼åŒ–çš„å€¼ è§„åˆ™ï¼šé˜¶ç å­—æ®µ exp çš„ä½æ¨¡å¼å³ä¸å…¨ä¸º 0ï¼Œä¹Ÿä¸å…¨ä¸º 1ï¼ˆå•ç²¾åº¦ 255ï¼ŒåŒç²¾åº¦ 2047ï¼‰ è®¡ç®—æ–¹å¼ \\(E = e - Bias\\) $M = 1 + f $ éè§„æ ¼åŒ–çš„å€¼ è§„åˆ™ï¼šé˜¶ç å­—æ®µ exp å…¨æ˜¯ 0ï¼ˆç”¨äºè¡¨ç¤º 0ï¼‰ è®¡ç®—æ–¹å¼ \\(E = 1 - Bias\\) \\(M = f\\) å¯ä»¥è¡¨ç¤º +0 å’Œ -0ã€‚\nç‰¹æ®Šå€¼ é˜¶ç å­—æ®µ exp å…¨æ˜¯ 1 å°æ•°å­—æ®µå…¨ 0 è¡¨ç¤ºï¼šæ— ç©·ï¼ˆs = 0 è´Ÿæ— ç©·ï¼Œs = 1 æ­£æ— ç©·ï¼‰ å°æ•°å­—æ®µéå…¨ 0 è¡¨ç¤ºï¼šNaNï¼ˆNot a Numberï¼‰ ","permalink":"https://notes.0081800.xyz/notes/20200802151523-ieee_%E6%B5%AE%E7%82%B9%E6%95%B0/","summary":"tags: Computer Systems,ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹è¯»ä¹¦ç¬”è®° æµ®ç‚¹æ•°å°æ•°è¡¨ç¤ºå½¢å¼ .0111 = \\(0x2^{-1}+2^{-2}+2^{-3}+2^{-4}\\)\nIEEE æµ®ç‚¹æ•°è¡¨ç¤ºå½¢å¼ \\[ V=(-1)^s X M X 2^E \\]\ns = 0 è¡¨ç¤ºè´Ÿæ•°ï¼Œ s = 1 è¡¨ç¤ºæ­£æ•° M æ˜¯äºŒè¿›åˆ¶è¡¨ç¤ºçš„å°æ•° E æ˜¯é˜¶ç  æµ®ç‚¹æ•°äºŒè¿›åˆ¶ç»„æˆ ä¸€ä¸ªå•ç‹¬ç¬¦å·ä½ s è¡¨å—ç¬¦åˆ k ä½é˜¶ç å­—æ®µ exp ç¼–ç é˜¶ç  E n ä½å°æ•°å­—æ®µ frac ç¼–ç å°¾æ•° M ä¸¤ç§å¸¸è§çš„æ ¼å¼ float s = 1 k = 8 n = 23 double s = 1 k = 11 n = 52 ä¸‰ç§è®¡ç®—æ–¹å¼ å‰ç½®çš„ä¸€äº›å€¼\ne æ˜¯ exp ä½è¡¨ç¤ºçš„æ— ç¬¦å·æ•° f æ˜¯ frac ä½è¡¨ç¤ºçš„å°æ•° \\(Bias = 2^{k-1} -1\\) è§„æ ¼åŒ–çš„å€¼ è§„åˆ™ï¼šé˜¶ç å­—æ®µ exp çš„ä½æ¨¡å¼å³ä¸å…¨ä¸º 0ï¼Œä¹Ÿä¸å…¨ä¸º 1ï¼ˆå•ç²¾åº¦ 255ï¼ŒåŒç²¾åº¦ 2047ï¼‰ è®¡ç®—æ–¹å¼ \\(E = e - Bias\\) $M = 1 + f $ éè§„æ ¼åŒ–çš„å€¼ è§„åˆ™ï¼šé˜¶ç å­—æ®µ exp å…¨æ˜¯ 0ï¼ˆç”¨äºè¡¨ç¤º 0ï¼‰ è®¡ç®—æ–¹å¼ \\(E = 1 - Bias\\) \\(M = f\\) å¯ä»¥è¡¨ç¤º +0 å’Œ -0ã€‚","title":"IEEE æµ®ç‚¹æ•°"},{"content":"å†…å­˜æ¨¡å‹ ç¡¬ä»¶å†…å­˜æ¨¡å‹ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","permalink":"https://notes.0081800.xyz/topics/20200802151319-computer_systems/","summary":"å†…å­˜æ¨¡å‹ ç¡¬ä»¶å†…å­˜æ¨¡å‹ ç¼–ç¨‹è¯­è¨€å†…å­˜æ¨¡å‹ ","title":"Computer Systems"},{"content":" tags: Rust source: Choosing a Rust web framework, 2020 edition ","permalink":"https://notes.0081800.xyz/notes/20200710101214-web/","summary":" tags: Rust source: Choosing a Rust web framework, 2020 edition ","title":"Choosing a Rust web framework, 2020 edition"},{"content":"SSH Port Forwarding -L å°†è¿œç«¯æœºå™¨çš„ç«¯å£æ˜ å°„åˆ°æœ¬åœ° -R å°†æœ¬åœ°ç«¯å£æ˜ å°„åˆ°è¿œç«¯ ","permalink":"https://notes.0081800.xyz/notes/20200707214623-ssh/","summary":"SSH Port Forwarding -L å°†è¿œç«¯æœºå™¨çš„ç«¯å£æ˜ å°„åˆ°æœ¬åœ° -R å°†æœ¬åœ°ç«¯å£æ˜ å°„åˆ°è¿œç«¯ ","title":"SSH"},{"content":" tags: Rust åŸæ–‡é“¾æ¥ï¼šhttps://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html ","permalink":"https://notes.0081800.xyz/notes/20200703104039-fearless_concurrency_with_rust/","summary":" tags: Rust åŸæ–‡é“¾æ¥ï¼šhttps://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html ","title":"Fearless Concurrency with Rust"},{"content":" tags: Translate,Rust,Rust Wrapper Types åŸæ–‡é“¾æ¥ï¼šRust Means Never Having to Close a Socket\nRust æœ€é…·çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯å®ƒå¯ä»¥è‡ªåŠ¨åœ°å¸®åŠ©ä½ ç®¡ç†èµ„æºï¼ŒåŒæ—¶åœ¨ä»èƒ½ä¿æŒå®‰å…¨ï¼ˆæ²¡æœ‰æ®µé”™è¯¯ï¼‰å’Œé«˜æ€§èƒ½ã€‚\nè¿™æ˜¯å› ä¸º Rust æ˜¯ä¸€é—¨ä¸ä¼—ä¸åŒåœ°ç¼–ç¨‹è¯­è¨€ï¼Œè¦ç†è§£æˆ‘è¯´çš„å¯èƒ½æœ‰ç‚¹å›°éš¾ï¼Œè®©æˆ‘æ¥æ›´è¿‘ä¸€æ­¥è¯´æ˜ï¼š\nRust å°±åƒå¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½ æ— éœ€æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ Rust ä¸åŒäºå…¶ä»–å¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½ æ— éœ€1æ‰‹åŠ¨å…³é—­æˆ–è€…é‡Šæ”¾åƒæ–‡ä»¶ã€å¥—æ¥å­—å’Œé”è¿™æ ·çš„èµ„æº Rust è¾¾åˆ°ä»¥ä¸Šè¿™äº›ç‰¹æ€§ä¸é™„å¸¦ä»»ä½•è¿è¡Œæ—¶å¼€é”€ï¼ˆåƒåœ¾å›æ”¶æˆ–è€…å¼•ç”¨è®¡æ•°ï¼‰ï¼Œå¹¶ä¸”ä¸ç‰ºç‰²å®‰å…¨æ€§ã€‚ å¦‚æœä½ æ›¾ç»é€ æˆè¿‡ä¸€ä¸ªå¥—æ¥å­—æˆ–è€…æ–‡ä»¶æ³„æ¼ï¼Œæˆ–è€…ä½¿ç”¨è¿‡ä¸€äº›æŠ½è±¡æ–¹æ³•é€ æˆäº†è¿™äº›èµ„æºçš„æ³„æ¼ï¼Œé‚£ä¹ˆä½ å°±ä¼šçŸ¥é“è¿™æœ‰å¤šé‡è¦ã€‚\nä½ å¯èƒ½å·²ç»æœŸæœ›é€šè¿‡â€œä½¿ç”¨åé‡Šæ”¾â€æ¥é¿å…å†…å­˜é—®é¢˜ï¼Œè€Œä¸æ­¤åŒæ—¶ä½ å¹¶æ²¡æœ‰è€ƒè™‘åˆ°æ²¡æœ‰æ˜ç¡®åœ°å…³é—­å¥—æ¥å­—å¯èƒ½å‡ºç°ç±»ä¼¼çš„é”™è¯¯ã€‚æˆ‘åœ¨è¿™é‡Œå‘Šè¯‰ä½ ï¼Œè¿˜æœ‰æ›´å¥½åœ°åŠæ³•ã€‚\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆ™åº”å¯†åˆ‡å…³æ³¨æœ¬æ–‡æåˆ°çš„èµ„æºç®¡ç†æ–¹é¢çš„å†…å®¹ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åƒ C/C++ è¿™æ ·åº•å±‚ç¼–ç¨‹è¯­è¨€ï¼Œä½ å¯èƒ½ä¼šå¯¹å®‰å…¨æ–¹é¢æ›´åŠ æ„Ÿå…´è¶£ã€‚\nRust çš„è®¸å¤šç‰¹æ€§éƒ½æ˜¯ä»å…¶ä»–è¯­è¨€å€Ÿé‰´è€Œæ¥ã€‚Rust ä¹‹æ‰€ä»¥å˜å¾—æœ‰è¶£æ˜¯å› ä¸ºå®ƒæŠŠæ‰€æœ‰çš„è¿™äº›ç‰¹æ€§æ”¾åœ¨äº†ä¸€èµ·ï¼Œå¹¶ä¸”åœ¨ç¼–ç¨‹è¯­è¨€å±‚é¢å®ç°äº†æ›´ä¸¥æ ¼åœ°ä¿è¯ã€‚ å®é™…ä¸Šï¼Œè¿™ç§ç¼–ç¨‹è¯­è¨€å±‚é¢çš„ä¿è¯è®©è¿™äº›ç‰¹æ€§æ›´åŠ å®ç”¨ã€‚\næ‰€æœ‰æƒç³»ç»Ÿï¼ˆThe Ownership Systemï¼‰ è®©è¿™ç§ä¿è¯å·¥ä½œçš„æ–¹å¼æ˜¯é€šè¿‡ Rust çš„ã€Œæ‰€æœ‰æƒï¼ˆownershipï¼‰ã€ç³»ç»Ÿã€‚ä¸ç®¡ä»»ä½•æ—¶å€™ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œéƒ½è¢«åˆ›å»ºå®ƒçš„ã€Œä½œç”¨åŸŸï¼ˆscopeï¼‰ã€æ‰€æ‹¥æœ‰ã€‚\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¿›ä¸€æ­¥è¯´æ˜ï¼šæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ‹·è´è¾“å…¥æ–‡ä»¶åˆ°ä¸´æ—¶æ–‡ä»¶å»å¤„ç†å®ƒï¼Œç„¶åæ‹·è´è¾“å…¥æ–‡ä»¶åˆ°è¾“å‡ºæ–‡ä»¶ã€‚\nfn process(from: \u0026amp;Path, to: \u0026amp;Path) -\u0026gt; IoResult\u0026lt;()\u0026gt; { // creates a new tempdir with the specified suffix let tempdir = try!(TempDir::new(\u0026#34;skylight\u0026#34;)); // open the input file let mut from_file = try!(File::open(from)); // create a temporary file inside the tempdir let mut tempfile = try!(File::create(\u0026amp;tempdir.path().join(\u0026#34;tmp1\u0026#34;))); // copy the input file into the tempfile try!(io::util::copy(\u0026amp;mut from_file, \u0026amp;mut tempfile)); // use an external program to process the tmpfile in place // after processing, copy the tempfile into the output file let mut out = try!(File::create(to)); io::util::copy(\u0026amp;mut tempfile, \u0026amp;mut out) } åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡½æ•° process çš„ä½œç”¨åŸŸå†ç¬¬ä¸€è¡Œåˆ›å»ºäº† TempDir æ˜¯å…¶åˆå§‹æ‹¥æœ‰è€…ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ process å‡½æ•°ä»æœªæ”¾å¼ƒæ‰€æœ‰æƒï¼Œæ‰€ä»¥å½“å‡½æ•°å®Œæˆè°ƒç”¨ï¼Œ å®ƒå°±ä¼šè‡ªåŠ¨è¢«ä¸¢å¼ƒï¼ˆdroppedï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¼šåˆ é™¤ Tempfile ã€‚\nè¿™å°±æ˜¯ä¸€ä¸ªå…³äºè‡ªåŠ¨èµ„æºç®¡ç†çš„ä¾‹å­ã€‚ TempDir å¯¹è±¡ä¸ä»…ä»…æ˜¯ä¸€ç‰‡å†…å­˜ï¼Œå®ƒè¿˜ä»£è¡¨è¢«ç®¡ç†çš„èµ„æºã€‚ä¸€æ—¦ç¨‹åºä¸åœ¨ä½¿ç”¨è¯¥èµ„æºï¼Œé‚£ä¹ˆå®ƒçš„æ¸…ç†é€»è¾‘å°†ä¼šè¢«è°ƒç”¨ã€‚\nå¦å¤–ï¼šåœ¨è¿™ C++ ä¸­è¢«ç§°ä¸º ã€ŒRAIIã€ï¼ˆResource Acquistion Is Initializationï¼‰ï¼šèµ„æºè·å–å³åˆå§‹åŒ–ï¼Œå®ƒæ˜¯ç¼–ç¨‹ä¸­æœ€å®¹æ˜“æ··æ·†ä½†æ˜¯æœ‰ç”¨çš„å‘½åã€‚\nå¯¹æˆ‘æ¥è¯´å¾ˆæœ‰è¶£åœ°æ˜¯ï¼Œèƒ½æœ€å¤§æ•ˆç‡åœ°å‡è½»ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„æŠ€æœ¯å¾€å¾€ä¹Ÿæœ€éš¾æˆåŠŸå’Œæœ‰æ•ˆåœ°å‡è½»ç¨‹åºå‘˜æ‰‹åŠ¨åœ°ç®¡ç†èµ„æºã€‚ åœ¨é«˜çº§è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬ä»ä¸éœ€è¦é‡Šæ”¾å†…å­˜ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸éœ€è¦å…³é—­å¥—æ¥å­—ã€æ–‡ä»¶å’Œé‡Šæ”¾é”ã€‚\nåœ¨å®é™…ä¸­ï¼Œåœ¨å¸¦æœ‰åƒåœ¾å›æ”¶æœºåˆ¶çš„ç¼–ç¨‹è¯­è¨€ä¸­æ³„æ¼è¿™äº›èµ„æºçš„æƒ…å†µä»¤äººéœ‡æƒŠï¼Œæ‰€ä»¥æˆ‘çœŸçš„å¾ˆäº«å—è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œ åœ¨ Rust ä¸­å¿˜è®°å…³é—­å¥—æ¥å­—ä¸æ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå°±åƒåœ¨ Rust å¿˜è®°é‡Šæ”¾å†…å­˜ä¸€æ ·ã€‚å¹¶ä¸”åœ¨ Rust ä¸­ï¼Œ ä½ å¯ä»¥å…å—é˜²å¾¡æ¶‰åŠèµ„æºçš„â€œé‡Šæ”¾åä½¿ç”¨â€é”™è¯¯ï¼Œå°±åƒä½ å…å—é˜²å¾¡æ¶‰åŠå†…å­˜çš„â€œé‡Šæ”¾åä½¿ç”¨â€é”™è¯¯ä¸€æ ·ã€‚\nè¿™å¬èµ·æ¥å¾ˆç¥å¥‡ï¼Œæ‰€ä»¥ä½ å¯èƒ½ä¼šæœ‰ä¸€äº›é—®é¢˜å…³äºå®ƒå®é™…ä¸Šæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚\né¦–å…ˆï¼Œè¿™ä¸ªç³»ç»ŸåŸºäºäº‹å®ä¸Šä¸€ä¸ªå¯¹è±¡åœ¨åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚æˆ‘è¯¥å¦‚ä½•ç¡®ä¿æˆ‘æ²¡æœ‰é”™è¯¯åœ°åœ¨å¤šä¸ªåœ°æ–¹å¼•ç”¨ TempDir ï¼Ÿ ç­”æ¡ˆæ˜¯æ‰€æœ‰æƒç³»ç»Ÿä¸æ˜¯å»ºè®®æ€§çš„ã€‚åœ¨ Rust ä¸­ï¼Œå¯¹è±¡è¢«åˆ›å»ºå…¶çš„ä½œç”¨åŸŸæ‰€æ‹¥æœ‰ã€‚å®ƒå¯ä»¥å°†æ‰€æœ‰æƒè½¬ç§»åˆ°å…¶ä»–ä½œç”¨åŸŸï¼Œæˆ–è€…åœ¨å®Œæˆæ‰§è¡Œåä¿ç•™æ‰€æœ‰æƒã€‚ å½“ä¸€ä¸ªä½œç”¨åŸŸå®Œæˆæ—¶ï¼ŒRust å°†é”€æ¯å®ƒæ‰€æ‹¥æœ‰åœ°æ‰€æœ‰å¯¹è±¡ã€‚\nå› ä¸ºä¸€ä¸ªå¯¹è±¡åŒæ—¶åªèƒ½å½’ä¸€ä¸ªä½œç”¨åŸŸæ‰€æœ‰ï¼Œä½ å¯ä»¥é€šè¿‡æŸ¥çœ‹å°±çŸ¥é“æ‰§è¡Œç»“æŸæ—¶æœ‰å“ªäº›å¯¹è±¡å°†è¢«é”€æ¯ã€‚\nstruct Person { first: String, last: String } fn hello() { let yehuda = Person { first: \u0026#34;Yehuda\u0026#34;.to_string(), last: \u0026#34;Katz\u0026#34;.to_string() }; // `yehuda` is transferred to `name_size`, so it cannot be // used anymore in this function, and it will not be destroyed // when this function returns. It is up to `name_size`, // or possibly a future owner, to destroy it. let size = name_size(yehuda); let tom = Person { first: \u0026#34;Tom\u0026#34;.to_string(), last: \u0026#34;Dale\u0026#34;.to_string() }; // `tom` wasn\u0026#39;t transferred, so it will be // destroyed when this function returns. } fn name_size(person: Person) -\u0026gt; uint { let Person { first, last } = person; first.len() + last.len() // this function owns Person, so the Person is destroyed when `name_size` returns } ä»…ä»…é€šè¿‡é€ä¸€æŸ¥çœ‹è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œä½ å¯ä»¥çœ‹åˆ° yehuda è¢«è½¬ç§»åˆ°äº† name_size å‡½æ•°ï¼Œä½†æ˜¯ tom åˆ™æ²¡æœ‰ã€‚ é€šè¿‡æŸ¥çœ‹ name_size å‡½æ•°ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä¸€ç›´æ‹¥æœ‰å®ƒçš„ person å‚æ•°ç›´åˆ°å®ƒè¿”å›ã€‚ä»…ä»…é€šè¿‡æŸ¥çœ‹è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œ ä½ å°±å¯ä»¥ç›´æ¥ç¡®å®šå“ªä¸ªå¯¹è±¡ï¼ˆå¦‚æœæœ‰ï¼‰å°†ä¼šåœ¨å®ƒä»¬æ‰§è¡Œå®Œæ¯•è¢«é”€æ¯ã€‚\nä½†æ˜¯å¦‚ä½•è§£é‡Šä¸´æ—¶æ–‡ä»¶çš„ä¾‹å­ï¼Ÿå¦‚æœä½ æŸ¥çœ‹ process å‡½æ•°çš„ç¬¬ä¸‰è¡Œä»£ç ï¼Œä½ å¯ä»¥çœ‹åˆ° TempDir ä¸Šçš„æ–¹æ³• tempdir.path() è¢«è°ƒç”¨ã€‚ éš¾é“è¿™ä¸æ˜¯æ„å‘³ç€æˆ‘åˆ›å»ºäº†ç¬¬äºŒä¸ªå¼•ç”¨ï¼Œå¹¶ä¸”ç†è®ºä¸Šæœ‰ä¸¤ä¸ªæ‰€æœ‰è€…ï¼Ÿæˆ–è€…æ„å‘³ç€æˆ‘ä»¬å°†æ‰€æœ‰æƒè½¬ç§»åˆ°äº† path æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å½“è¯¥æ–¹æ³•è¿”å›æ—¶ä¼šç«‹å³é”€æ¯è¿™ä¸ªç›®å½•ï¼Ÿ æ˜¾ç„¶è¿™ä¸¤ä¸ªç­”æ¡ˆéƒ½è¡Œä¸é€šã€‚\nå€Ÿç”¨å’Œå€Ÿå‡ºï¼ˆBorrowing and Lendingï¼‰ è¦ç†è§£è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦çœ‹ä¸€ä¸‹ path æ–¹æ³•çš„æ–¹æ³•ç­¾åã€‚\nfn path(\u0026amp;self) -\u0026gt; \u0026amp;Path å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å¿µå‡ºè¿™ä¸ªæ–¹æ³•ç­¾åï¼š\npath æ–¹æ³•ã€Œå€Ÿç”¨ï¼ˆborrowsï¼‰ã€self å¹¶è¿”å›ã€Œå€Ÿç”¨çš„ï¼ˆborrowedï¼‰ã€Pathã€‚\nä¸€ä¸ªå‡½æ•°å€Ÿç”¨ä¸€ä¸ªå¯¹è±¡å¹¶ä¸ä¼šå–çš„å¯¹è±¡çš„æ‰€æœ‰æƒï¼Œå¹¶ä¸”åœ¨è¿”å›æ—¶ä¸ä¼šé”€æ¯è¯¥å¯¹è±¡ã€‚å®ƒåªèƒ½åœ¨å‡½æ•°è°ƒç”¨æœŸé—´ä½¿ç”¨å€Ÿç”¨çš„å¯¹è±¡ï¼Œå®ƒä¸èƒ½ï¼Œæ¯”å¦‚ï¼Œåˆ›å»ºçº¿ç¨‹å¹¶åœ¨çº¿ç¨‹ä¸­ä½¿ç”¨å€Ÿç”¨çš„å¯¹è±¡ã€‚ æ¢å¥è¯è¯´ï¼Œå€Ÿç”¨çš„å¯¹è±¡å¿…é¡»ä¸èƒ½åœ¨è¶…å‡ºå€Ÿå‡ºå®ƒçš„å‡½æ•°çš„ä½œç”¨åŸŸå¤–å­˜æ´»ã€‚\nè¿™æ„å‘³ç€ Rust ç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ‰€æœ‰å‡½æ•°è°ƒç”¨å¹¶ä¸”åœ¨ç¼–è¯‘æœŸå¾—çŸ¥ä»£ç æ˜¯å¦å°è¯•è·å–æ‰€æœ‰æƒã€‚ä¸€æ—¦ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰æƒè¢«è½¬ç§»ï¼Œé‚£ä¹ˆåŸæ‰€æœ‰è€…ä¼šè¢«æ‹’ç»è®¿é—®è¯¥å¯¹è±¡ã€‚\nstruct Person { first: String, last: String, age: uint } fn hello() { let person = Person { first: \u0026#34;Yehuda\u0026#34;.to_string(), last: \u0026#34;Katz\u0026#34;.to_string(), age: 32 }; let thirties = is_thirties(person); println!(\u0026#34;{}, thirties: {}\u0026#34;, person, thirties); } // This function tries to take ownership of `Person`; it does not // ask to borrow it by taking \u0026amp;Person fn is_thirties(person: Person) { person.age \u0026gt;= 30 \u0026amp;\u0026amp; person.age \u0026lt; 40 } å¦‚æœæˆ‘å°è¯•ç¼–è¯‘è¿™æ®µä»£ç ï¼Œæˆ‘ä¼šå¾—åˆ°ä¸‹é¢çš„ç¼–è¯‘é”™è¯¯ï¼ˆç•¥æœ‰åˆ èŠ‚ï¼‰ï¼š\nmove.rs:16:34: 16:40 error: use of moved value: `person` move.rs:16 println!(\u0026#34;{}, thirties: {}\u0026#34;, person, thirties); ^~\\~~~~ move.rs:15:32: 15:38 note: `person` moved here move.rs:15 let thirties = is_thirties(person); ^~\\~~~~ é”™è¯¯çš„æ„æ€æ˜¯ hello å‡½æ•°çš„ä½œç”¨åŸŸæ˜¯ Person çš„åˆå§‹æ‰€æœ‰è€…ï¼Œä½†æ˜¯å½“è°ƒç”¨ is_thirties æ—¶ï¼Œå®ƒæŠŠæ‰€æœ‰æƒè½¬ç§»åˆ°äº† is_thirties å‡½æ•°çš„ä½œç”¨åŸŸã€‚ ä½œä¸ºæ–°çš„æ‰€æœ‰è€…ï¼Œå½“ is_thirties è¿”å›ï¼Œå®ƒå°±ä¼šé‡Šæ”¾ Person å æ®çš„å†…å­˜ã€‚\nä½œä¸ºæ›¿ä»£ä½ ä¼šæƒ³ä½¿ç”¨ã€Œå€Ÿç”¨å’Œå€Ÿå‡ºã€å†™è¿™ä¸ªç¨‹åºï¼š\nfn hello() { let person = Person { first: \u0026#34;Yehuda\u0026#34;.to_string(), last: \u0026#34;Katz\u0026#34;.to_string(), age: 32 }; // lend the person -- don\u0026#39;t transfer ownership let thirties = is_thirties(\u0026amp;person); // now this scope still owns the person println!(\u0026#34;{}, thirties: {}\u0026#34;, person, thirties); } fn is_thirties(person: \u0026amp;Person) { person.age \u0026gt;= 30 \u0026amp;\u0026amp; person.age \u0026lt; 40 } ä»æ ¹æœ¬ä¸Šè®²ï¼Œè¿™æ„å‘³ç€ç»è¿‡éªŒè¯åœ°æ‰€æœ‰æƒæ˜¯ä½ å‡½æ•°æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚ Rust å¼€å‘è€…æœ‰æ—¶å°†å…¶ç§°ä¸ºâ€œå€Ÿç”¨æ£€æŸ¥å™¨ï¼ˆborrow checkerï¼‰â€ï¼Œä½†æ˜¯å´æ°å½“å¥½å¤„ã€‚\nå®é™…ä¸Šï¼Œè¿™äº›å¤§éƒ¨åˆ†æ—¶é—´å¯ä»¥æ­£å¸¸å·¥ä½œçš„åŸå› æ˜¯ï¼Œå‡½æ•°è·å¾—å®ƒä»¬å€¼çš„æ–¹å¼æ˜¯é€šè¿‡â€œå€Ÿç”¨ï¼ˆborrowingï¼‰â€ã€‚å®ƒä»¬è·å¾—å€¼ã€é€šè¿‡è¿™äº›å€¼å¤„ç†ä¸€äº›é€»è¾‘ç„¶åè¿”å›ã€‚ é•¿æ—¶é—´ä¿æŒè¯¥å€¼ï¼ˆæ¯”å¦‚é€šè¿‡ä½¿ç”¨çº¿ç¨‹ï¼‰æ—¢ä¸å¸¸è§ï¼Œåˆæ˜¯æ—¶å€™è¯¥è€ƒè™‘ä¸€ä¸‹æ­£åœ¨å‘ç”Ÿçš„ä»€ä¹ˆã€‚\nå½“æˆ‘ä»¬å¼€å§‹ç¼–å†™ä¸€ä¸ªæ–°çš„å‡½æ•°æ—¶åº”è¯¥å€Ÿç”¨æ‰€éœ€å‚æ•°ï¼Œè€Œä¸æ˜¯å°è¯•è·å–å…¶æ‰€æœ‰æƒã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„ Rust ç¼–ç¨‹ä¹‹åè¿™å°†ä¸ä¼šå¢åŠ è®¤çŸ¥æˆæœ¬ï¼Œåªæ˜¯é»˜è®¤è¿™æ ·åšã€‚ å¦‚æœç¼–è¯‘å™¨æŠ±æ€¨ï¼ˆéšç€ä½ æŒæ¡è¿™äº›è§„åˆ™å°†å®ƒä»¬å˜æˆä¹ æƒ¯ï¼ˆsecond natureï¼‰è¿™æ ·çš„æƒ…å†µå°†è¶Šæ¥è¶Šå°‘ï¼‰ï¼Œè¿™æ„å‘³ç€ä½ æ­£åœ¨åšå«æœ‰æ½œåœ¨å±é™©åœ°äº‹æƒ…ï¼Œé‚£å°±éœ€è¦ä½ æ€è€ƒä¸€ä¸‹äº†ã€‚\nä»ä¸€ä¸ªå€Ÿç”¨å¯¹è±¡ä¸­è¿”å›ä¸€ä¸ªå€Ÿç”¨å­—æ®µï¼ˆReturning a Borrowed Field from a Borrowed Objectï¼‰ åœ¨å‰é¢æˆ‘ä»¬æ£€æŸ¥äº†å¦‚ä¸‹æ–¹æ³•ç­¾åï¼š\nfn path(\u0026amp;self) -\u0026gt; \u0026amp;Path è¿™ä¸ªç­¾åå¯èƒ½è®©ä½ å›°æƒ‘ã€‚æˆ‘ä¹‹å‰è¯´è¿‡å½“ä¸€ä¸ªå‡½æ•°å€Ÿç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¿…é¡»åªèƒ½åœ¨å‡½æ•°è°ƒç”¨æœŸé—´ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œå¹¶ä¸”åœ¨æ­¤ä¹‹åå°±ä¸èƒ½ä½¿ç”¨ã€‚ éš¾é“è¿”å›å¯¹è±¡çš„å…¶ä¸­ä¸€éƒ¨åˆ†æ²¡æœ‰è¿åè¿™ä¸ªè§„åˆ™ï¼Ÿ\nè¿™ä¸ªä¹‹æ‰€ä»¥æ²¡é—®é¢˜æ˜¯å› ä¸º path çš„è°ƒç”¨è€…æ˜æ˜¾æœ‰æƒä½¿ç”¨ Tempfile å¹¶é€šè¿‡å‚æ•°å°†ä¹‹å€Ÿç»™ path ã€‚ åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼ŒRust ç¼–è¯‘å™¨å°†ä¼šä¿è¯è¿”å›çš„ Path æ²¡æœ‰åœ¨è¶…å‡ºæ‹¥æœ‰ Tempfile çš„ä½œç”¨åŸŸä¹‹å¤–å­˜æ´»ã€‚\nå®é™…ä¸Šï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥è¿”å›ä»ä¸Šæ¸¸å€Ÿæ¥çš„å†…å®¹ï¼Œç„¶å Rust å°†å¤„ç†å¥½è·Ÿè¸ªè¯¥å†…å®¹çš„åŸå®¹å™¨ã€‚\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ä¸¾ä¾‹è¯´æ˜ï¼š\nfn hello() -\u0026gt; \u0026amp;str { let person = Person { first: \u0026#34;Yehuda\u0026#34;.to_string(), last: \u0026#34;Katz\u0026#34;.to_string(), age: 32 }; first_name(\u0026amp;person) } fn first_name(person: \u0026amp;Person) -\u0026gt; \u0026amp;str { // as_slice borrows a slice \u0026#34;view\u0026#34; out of a string person.first.as_slice() } å¦‚æœä½ ä»”ç»†è§‚å¯Ÿï¼Œä½ å¯ä»¥ç«‹å³çœ‹åˆ°é—®é¢˜æ‰€åœ¨ã€‚å‡½æ•° hello è¯•å›¾è¿”å›ä¸€ä¸ªå€Ÿç”¨çš„ \u0026amp;str ï¼Œä½†æ˜¯æ‹¥æœ‰åŒ…å«è¢«è¿”å›çš„å­—èŠ‚çš„åŸ Person çš„æ‰€æœ‰æƒåœ¨ hello ä¸­ã€‚ ä¸€æ—¦ hello è¿”å›ï¼Œé‚£ä¹ˆ Person å°†ä¸å¤å­˜åœ¨ï¼Œå¯¼è‡´å€Ÿç”¨çš„å†…å®¹ï¼ˆå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼‰æŒ‡å‘äº†æ— æ•ˆåœ°åœ°å€ã€‚\nå¦‚æœè¯•å›¾ç¼–è¯‘è¿™æ®µä»£ç ï¼Œä½ å°†å¾—åˆ°å¦‚ä¸‹æŠ¥é”™ï¼š\nmove.rs:8:15: 8:19 error: missing lifetime specifier [E0106] move.rs:8 fn hello() -\u0026gt; \u0026amp;str { ^~\\~~ è¿™ä¸ªæœ‰ç‚¹æ··ä¹±åœ°é”™è¯¯ä¿¡æ¯è¡¨ç¤ºæˆ‘ä»¬æ­£å°è¯•è¿”å›å€Ÿç”¨çš„å­—èŠ‚ï¼Œä½†æ˜¯å‡½æ•°çš„è°ƒç”¨è€…æ²¡æœ‰å€Ÿç»™æˆ‘ä»¬å€Ÿç”¨å­—èŠ‚çš„æ¥æº Person ã€‚ Rust æ­£åœ¨å‘æˆ‘ä»¬å¾è¯¢å¦‚æœè¿”å›å€¼ä¸å±äºè°ƒç”¨è€…ä½œç”¨åŸŸé‚£ä¹ˆåº”è¯¥å½’å±äºé‚£ä¸ªã€Œç”Ÿå‘½å‘¨æœŸï¼ˆlifetimeï¼‰ã€ã€‚\né€šå¸¸æƒ…å†µä¸‹ï¼ŒRust ä¼šå°†è¿”å›å€¼çš„ä½œç”¨åŸŸç»‘å®šåˆ°å€Ÿç”¨å‚æ•°çš„ä½œç”¨åŸŸã€‚è¿™åœ¨é‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰å€Ÿç”¨çš„å‚æ•°ï¼Œæ‰€ä»¥ Rust è¦æ±‚æˆ‘ä»¬è¿›è¡Œæ˜¾å¼åœ°å®šä¹‰ã€‚\nå®é™…æƒ…å†µä¸‹ï¼Œè¿™è¡¨ç¤ºä¸€ä¸ªå‡½æ•°å¯ä»¥è½»æ¾åœ°é€šè¿‡å€Ÿç”¨çš„æ–¹å¼è¿”å›å€Ÿç”¨å‚æ•°ä¸­çš„å†…å®¹ã€‚å¦åˆ™ï¼Œä½ éœ€è¦ç»™è¯¥è¿”å›å€¼æ‰¾åˆ°ä¸€ä¸ªè°ƒç”¨è€…å¯ä»¥è®¿é—®çš„å­˜å‚¨ä½ç½®ï¼Œ æˆ–è€…å…‹éš†ï¼ˆcloneï¼‰è¯¥å€¼è®©è°ƒç”¨è€…æ‹¥æœ‰ä¸€ä»½è‡ªå·±çš„æ‹·è´ã€‚\næ˜“ç”¨æ€§ï¼ˆErgonomicsï¼‰ å’‹ä¸€çœ‹ï¼Œæ‰€æœ‰æƒè¿™äº›æœºåˆ¶è®©äººæ„Ÿè§‰å¾ˆå¤æ‚ï¼Œå¹¶ä¸”çœ‹èµ·æ¥å¯èƒ½ä¼šå¯¹ä½¿ç”¨ Rust çš„æ˜“ç”¨æ€§äº§ç”Ÿé‡å¤§å½±å“ã€‚å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œä¸€å¼€å§‹ç¡®å®ä¼šæœ‰è¿™ç§æ„Ÿè§‰ã€‚\nä½†æ˜¯æœ‰å‡ ä¸ªå› ç´ ä¼šè®© Rust çš„æ‰€æœ‰æƒå˜å¾—æ¯”è¿œçœ‹ä¸Šå»æ›´åŠ æ˜“ç”¨ã€‚\né¦–å…ˆï¼Œå¤§é‡çš„å®é™…ä»£ç é€‚ç”¨äºå€Ÿç”¨/å€Ÿå‡ºæ¨¡å¼ã€‚éšç€æˆ‘å†™äº†è¶Šæ¥è¶Šå¤šçš„ Rust ä»£ç ï¼Œæˆ‘é€æ¸æ„è¯†åˆ°ç”¨ Ruby ç¼–å†™çš„ç¨‹åºéµå¾ªç±»ä¼¼çš„æ¨¡å¼ï¼š å‡½æ•°åˆ›å»ºä¸€äº›å¯¹è±¡å¹¶å°†å®ƒä»¬ä¼ é€’ç»™å­å‡½æ•°æ‰§è¡ŒæŸäº›ä»»åŠ¡ï¼Œç„¶åå­å‡½æ•°è¿”å›æ–°å€¼ã€‚\nå½“ç„¶ï¼Œè¿™æ˜¯é€’å½’çš„ï¼Œå› æ­¤ä»…å½“å·®å¼‚ï¼ˆåœ¨äºå‡½æ•°è°ƒç”¨æœŸé—´ä½¿ç”¨å‚æ•°ï¼Œä»¥åŠå»¶é•¿å‚æ•°çš„ä½¿ç”¨å‘¨æœŸï¼‰åœ¨ Rust ä¸­è¢«æ˜¾å¼åŒºåˆ†æ—¶ï¼Œå®ƒæ‰èƒ½å˜å¾—æ˜¾è€Œæ˜“è§ã€‚ åªæœ‰é€šè¿‡å‡½æ•°ç­¾åè¿›è¡ŒåŒºåˆ†å’Œå…¨é¢è¦†ç›–ï¼Œå¹¶æ£€æŸ¥é”™è¯¯ï¼Œæˆ‘ä»¬æ‰èƒ½è·å¾— Rust æä¾›çš„ä¿è¯ã€‚\nç›¸åï¼ŒC++ åªå¯¹éƒ¨åˆ†æƒ…å†µè¿›è¡Œäº†æ˜æ˜¾åœ°åŒºåˆ†ï¼Œå¹¶ä¸”æ²¡æœ‰é”™è¯¯æ£€æŸ¥ã€‚å¸¦æœ‰åƒåœ¾å›æ”¶æœºåˆ¶çš„è¯­è¨€é€šå¸¸ä¼šéšè—â€œè½¬ç§»ï¼ˆtransferredï¼‰â€å’Œâ€œå€Ÿå‡ºï¼ˆlentï¼‰â€å‚æ•°ã€‚\nå¦‚æˆ‘ä¸Šé¢æ‰€è¯´ï¼Œè¿™æ„å‘³ç€ Rust ç¨‹åºå‘˜å¿«é€Ÿå­¦ä¹ å°†å€Ÿç”¨ä½œä¸ºé»˜è®¤è¡Œä¸ºå»ç¼–å†™å‡½æ•°æ¥å‡è½»è®¸å¤šç³»ç»Ÿè®¤çŸ¥è´Ÿæ‹…ã€‚\nå…¶æ¬¡ï¼Œéšç€ä½¿ç”¨ä¸€æ®µæ—¶é—´ Rust ä¹‹åï¼Œå¤§éƒ¨åˆ†äººæ„è¯†åˆ°å€Ÿç”¨æ£€æŸ¥å™¨é”™è¯¯å’Œè­¦å‘Šä»–ä»¬çš„éƒ½æ˜¯çœŸå®åœ°ã€ä¸¥é‡åœ°å’Œæ¯”è¾ƒéš¾ä»¥å‘è§‰çš„é”™è¯¯ã€‚ ä¸€æ®µæ—¶é—´ä»¥åï¼Œå€Ÿç”¨æ£€æŸ¥å™¨è‡ªç„¶åœ°å°†æ‚¨æ¨å…¥ç¼–ç¨‹æ¨¡å¼å¹¶ä¸”å‡å°‘å‡ºç°æ­¤ç±»éš¾ä»¥å‘è§‰åœ°é”™è¯¯çš„å½±å“ã€‚\nå†æ¬¡ï¼Œæˆ‘ä¸ªäººå‘ç°ï¼Œå¯¹æ‰€æœ‰æƒçš„æ¸…æ™°äº†è§£å¯ä»¥å¤§å¤§æé«˜æˆ‘å¯¹ç¨‹åºè¿›è¡Œæ¨ç†åœ°èƒ½åŠ›ï¼ŒåŒæ—¶é¿å…æ„å¤–å¼•å…¥åé¢ä¼šèŠ±è´¹å¤§é‡åœ°æ—¶é—´è·Ÿè¸ªæ’æŸ¥çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚\næœ€åï¼Œè‡ªåŠ¨èµ„æºç®¡ç†å…·æœ‰çœŸæ­£åœ°æ˜“ç”¨æ€§ä¼˜åŠ¿ï¼Œæ—¢å¯ä»¥é˜²æ­¢èµ„æºæ³„æ¼ï¼ˆå½“æˆ‘æ‡’æƒ°æ—¶ï¼‰ï¼Œåˆå¯ä»¥é˜²æ­¢é¢å¤–åœ°æ ·æ¿ä»£ç å’Œç¼©è¿›ï¼ˆå½“æˆ‘è°¨æ…æ—¶ï¼‰ã€‚\né™¤ C++ ä¹‹å¤–ï¼Œå¾ˆå°‘ç¨‹åºå‘˜ç»å†è¿‡è‡ªåŠ¨èµ„æºç®¡ç†ä¸ºæ ‡å‡†çš„ç¼–ç¨‹ç¯å¢ƒï¼Œæ‰“å¼€å¤§è„‘çš„â€œblubâ€éƒ¨åˆ†å¹¶è®¤ä¸ºå®ƒæ²¡æœ‰é‚£ä¹ˆå¤§çš„ä½œç”¨æ˜¯éå¸¸éå¸¸å®¹æ˜“çš„ã€‚ Rust æ”¹å˜äº†è¿™ä¸ªé¢†åŸŸä¸­çš„ä¼ ç»Ÿæƒè¡¡ï¼Œæˆ‘å»ºè®®æ‚¨å°†è„‘ä¸­å‘Šè¯‰è‡ªå·±ã€Œæˆ‘ä¸éœ€è¦å®ƒåœ¨ã€Šæˆ‘é€‰æ‹©çš„ç¼–ç¨‹è¯­è¨€ã€‹ï¼Œå®ƒæœ‰å¤šé‡è¦ï¼Ÿ ï¼Ÿã€çš„å°å£°éŸ³æš‚æ—¶å…ˆæ”¾å›å»ã€‚\nå¼•ç”¨è®¡æ•°ï¼ˆå’Œåƒåœ¾å›æ”¶ï¼‰ ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ° Rust å·²ç»æœ‰å¼•ç”¨è®¡æ•°æŒ‡é’ˆï¼ˆå¹¶ä¸”è®¡åˆ’æœªæ¥å®ç° GCï¼‰ã€‚\nå®ƒæ˜¯å¦‚ä½•åœ¨æ‰€æœ‰æƒç³»ç»Ÿä¸­å·¥ä½œçš„å‘¢ï¼Ÿ\nä»¥æˆ‘çš„ç»éªŒï¼Œä¸€æ—¦ä¹ æƒ¯äº†æ‰€æœ‰æƒèŒƒå¼ï¼Œä½ ä¼šå¾ˆå°‘æƒ³è¦ä½¿ç”¨ Rc æŒ‡é’ˆã€‚ä¾‹å¦‚ï¼Œæ•´ä¸ª Cargo ä»£ç åº“ä¸­æ²¡æœ‰ä½¿ç”¨å¼•ç”¨è®¡æ•°æŒ‡é’ˆçš„å®ä¾‹ï¼Œ åªä½¿ç”¨äº†ä¸€æ¬¡åŸå­è®¡æ•°æŒ‡é’ˆï¼ˆç”¨äºåœ¨å¹¶è¡Œæ„å»ºçš„ä»£ç çš„çº¿ç¨‹ä¹‹é—´å…±äº«é”ï¼‰ã€‚\næˆ‘è®¤ä¸ºè¿™æ˜¯ç”±äºæ‰€æœ‰æƒéå¸¸æ˜ç¡®ï¼Œå¹¶ä¸”åˆ‡å®åœ°æ”¹å–„äº†æœ¬åœ°æ¨ç†ã€‚å¦‚æœä½ æ£€æŸ¥ä»»æ„ä½¿ç”¨æ­£å¸¸ Rust å¼•ç”¨çš„å‡½æ•°ï¼Œ åˆ™å¯ä»¥è½»æ˜“åœ°çŸ¥é“ä¸€æ—¦å‡½æ•°è¿”å›å“ªäº›å†…å­˜ï¼ˆå’Œèµ„æºï¼‰ä»å°†å­˜æ´»ï¼Œè€Œå“ªäº›ä¸ä¼šã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨é—­åŒ…ï¼Œ åˆ™å¯ä»¥ç«‹å³åˆ¤æ–­å®ƒæ˜¯å¦å­˜æ´»äºå½“å‰å‡½æ•°ä½œç”¨åŸŸå¤–ï¼Œå¦‚æœå®ƒç¡®å®å­˜æ´»äºå½“å‰å‡½æ•°ä½œç”¨åŸŸå¤–ï¼Œä½ è¿˜å¯ä»¥çŸ¥é“é—­åŒ…æ‹¥æœ‰å“ªäº›å¯¹è±¡ã€‚\næˆ‘ä¹Ÿè®¤ä¸ºæ‰€æœ‰æƒå’Œå€Ÿå‡ºæ¦‚å¿µå¯ä»¥å¾ˆå¥½åœ°æ˜ å°„åˆ°å®é™…åœ°ç¼–ç¨‹æ¨¡å¼ã€‚æœ‰ä¸€äº›äº‹æƒ…ä½ ä¸å¯ä»¥åšï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œç•¥å¾®è°ƒæ•´ä»£ç ç»“æ„å°±å¯ä»¥é€šè¿‡ç¼–è¯‘ã€‚ ä½œä¸ºäº¤æ¢ï¼Œå†…å­˜å’Œèµ„æºæ³„æ¼éƒ½å¾ˆå°‘å‘ç”Ÿï¼Œå¹¶ä¸”ä»£ç æ¸…æ™°åº¦å¾—åˆ°äº†æé«˜ã€‚\nå¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µï¼Œæˆ‘æ€€ç–‘å³ä½¿æ˜¯ç»éªŒä¸°å¯Œåœ° Rust å¼€å‘äººå‘˜ä¹Ÿä¼šæ›´é¢‘ç¹åœ°ä½¿ç”¨ Rc ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¼•ç”¨è®¡æ•°ç”šè‡³åƒåœ¾å›æ”¶ä¹Ÿå¯ä»¥æ­£å¸¸çš„åœ¨æ‰€æœ‰æƒç³»ç»Ÿä¸‹å·¥ä½œã€‚ Rust çš„ â€œæ™ºèƒ½æŒ‡é’ˆâ€ ç³»ç»Ÿå…è®¸ Rc æŒ‡é’ˆåœ¨ç›¸åŒåœ°æ‰€æœ‰æƒå’Œå€Ÿç”¨ç³»ç»Ÿå†…é€æ˜åœ°è¿è¡Œï¼Œ å¹¶ä¸”å½“å¼•ç”¨è®¡æ•°å‡å°åˆ° 0 æ—¶è¿è¡Œææ„å‡½æ•°ï¼ˆä¼´éšæ˜æ˜¾åœ°æœ¬åœ°æ¨ç†å’Œè¿è¡Œæ—¶æ€§èƒ½ä¸Šçš„æˆæœ¬ï¼‰ã€‚\nå…¶ä»–è¯­è¨€çš„æœºåˆ¶ï¼ˆFacilities in Other Languagesï¼‰ å¸¦æœ‰åƒåœ¾å›æ”¶æœºåˆ¶çš„è¯­è¨€é€šå¸¸ä¼šæä¾›ä¸€äº›æœºå™¨è¾…åŠ©ç¨‹åºå‘˜æ‰‹åŠ¨ç®¡ç†èµ„æºã€‚åœ¨å¤§éƒ¨åˆ†ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½ ä¸ç”¨æ˜¾å¼çš„è°ƒç”¨ close ï¼Œ ä½†æ˜¯ä½ éœ€è¦è°ƒæ•´è¯­è¨€ç»“æ„å°†èµ„æºä¸è¯æ³•ä½œç”¨åŸŸè”ç³»åœ¨ä¸€èµ·ï¼Œç„¶ååœ¨å®Œæˆåè¿›è¡Œé‡Šæ”¾ã€‚\nè®©æˆ‘ä»¬è§‚å¯Ÿä¸€äº›ä¾‹å­ï¼Œç„¶åæˆ‘ä¼šè®¨è®ºè¿™äº›æ–¹æ³•çš„ç¼ºç‚¹ã€‚\nåœ¨ Ruby ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå—æ ‡è¯†ä½ å°†åœ¨æŒ‡å®šçš„ä½œç”¨åŸŸé‡Œä½¿ç”¨èµ„æºã€‚ä¸€æ—¦å—è¿”å›ï¼Œèµ„æºå°†ä¼šè¢«æ¸…ç†ã€‚\nFile.open(\u0026#34;/etc/passwd\u0026#34;) do |file| # use the file end åœ¨ Python ä¸­ï¼Œä¸€ä¸ªç‰¹æ®Šçš„è¯­è¨€å…³é”®å­— with ç”¨æ¥åˆ›å»ºä¸€ä¸ªåè®®è¿›è¡Œèµ„æºè·å–ï¼Œç„¶ååœ¨ä»£ç å—ç»“æŸåé‡Šæ”¾èµ„æºï¼š\nwith open(\u0026#34;/etc/passwd\u0026#34;) as file: # use the file Ruby å’Œ Python éƒ½ä½¿ç”¨äº†é€šè¿‡è°ƒæ•´è¯­è¨€ç»“æ„å’Œåˆ›å»ºæ–°åè®®çš„æ–¹æ³•æŠ½è±¡äº†ç‰¹å®šäºèµ„æºå…³é—­çš„æœºåˆ¶ã€‚ç”¨æˆ·æ°¸è¿œä¸çŸ¥é“å…³é—­ä»€ä¹ˆæ ·å­ï¼Œ ä½†æ˜¯ä»–ä»¬å¿…é¡»ä½¿ç”¨ç‰¹æ®Šçš„æŠ½è±¡æ¥ç¡®ä¿èµ„æºå…³é—­è¢«è°ƒç”¨ã€‚\nåœ¨ Go ä¸­ï¼Œ defer å…³é”®å­—å…è®¸ç¨‹åºå‘˜åœ¨åŸå§‹åˆ›å»ºé€»è¾‘ä¹‹åæä¾›æ¸…ç†é€»è¾‘æ¥ç®¡ç†èµ„æºï¼š\nfile, error := os.Open(\u0026#34;/etc/passwd\u0026#34;) if err != nil { return; } defer file.Close() // use the file è¿™ç§æ–¹å¼æ¯” try/catch/finally æœ‰å¥½ä¸€äº›ï¼Œå› ä¸ºå®ƒä¿æŒæ¸…ç†é€»è¾‘ç´§è·Ÿèµ„æºè·å–é€»è¾‘ï¼Œä½†æ˜¯æ²¡æœ‰æŠ½è±¡å…³é—­é€»è¾‘ã€‚\næ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æœ‰ä¸€ç³»åˆ—çš„é—®é¢˜ã€‚å†æ¬¡ï¼Œæˆ‘å»ºè®®ä½ è¿œç¦»å¤§è„‘ä¸­çš„å¾ˆå¯èƒ½ä¼šå‘Šè¯‰æ‚¨è¿™äº›é—®é¢˜â€œåœ¨å®è·µä¸­ä¸ä¼šå˜å¾—å¾ˆé‡è¦â€çš„â€œblubâ€ä¸­å¿ƒã€‚\nå‘å·²ç»ä½¿ç”¨ä¸­çš„ç»“æ„åé¢æ·»åŠ èµ„æºé‡Šæ”¾é€»è¾‘æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºä»–ä»¬çš„ä½¿ç”¨è€…ï¼ˆclientsï¼‰å°†ä¼šä½¿ç”¨æ­£å¸¸çš„å¯¹è±¡åˆ›å»º APIã€‚ è¿™ä¼šå¯¼è‡´åœ¨æ›´é«˜å±‚å¯¹è±¡ä¸­æŠ½è±¡èµ„æºæ›´åŠ å›°éš¾ï¼Œå› ä¸ºèµ„æºç®¡ç†éœ€è¦æš´æ¼åˆ°å…¬å…± APIã€‚ åŸºäºå—çš„æ–¹æ³•ï¼ˆRuby å’Œ Pythonï¼Œä¸åŒ…å« Goï¼‰å¼•å…¥å‘å³æ¼‚ç§»ã€‚æ¯æ¬¡ä½ æƒ³è¦ä½¿ç”¨ä¸€ä¸ªèµ„æºï¼Œä½ éƒ½è¢«å¼ºåˆ¶åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸèŒƒå›´ã€‚ è¿™åœ¨ Rubyï¼ˆæœ‰å¾ˆå¥½çš„å—ï¼‰å’Œ Pythonï¼ˆä½¿ç”¨è¯­è¨€å±‚é¢çš„ç»“æ„ï¼‰ä¸­ç›¸å½“çƒ¦äººï¼Œåœ¨ JavaScript ä¸­è¿˜æœ‰ä¸€ä¸ªä¸¥é‡åœ°é—®é¢˜ï¼Œå³å¼•å…¥æ–°çš„ä½œç”¨åŸŸä¼šé˜»æ­¢ä½ è¿”å›æˆ–è€…æ‘†è„±å½“å‰å¾ªç¯ã€‚ è¿™äº›æ–¹æ³•ï¼ˆåŒ…å« Go çš„ defer ï¼‰éœ€è¦ä½ åœ¨ç»™å®šçš„è¯æ³•ä½œç”¨åŸŸå†…ä½¿ç”¨èµ„æºã€‚å½“ä½ æƒ³è¦å°†èµ„æºä¼ é€’ç»™å¤šä¸ªå‡½æ•°æ—¶å°†ä¼šå¼•å‘å°´å°¬ï¼ˆæˆ–ä¸å¯èƒ½çš„ï¼‰ç¼–ç¨‹é£æ ¼ã€‚ å®é™…ä¸Šï¼Œå®ƒè¿«ä½¿è¯­è¨€ä½¿ç”¨ä¸€ä¸ªä¸åœ°é“çš„åŸºäºä½œç”¨åŸŸçš„æ‰€æœ‰æƒç³»ç»Ÿæ¨¡å‹è¿›è¡Œå¯¹è±¡ç®¡ç†ã€‚ ä¸€æ—¦ä½ å¼€å§‹ä½¿ç”¨èµ„æºè°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œåˆ™å¯èƒ½æ„å¤–åœ°åˆ›å»ºâ€œé‡Šæ”¾åä½¿ç”¨â€ çš„ bugï¼Œå¦‚å‡½æ•°ç»‘å®šåœ¨èµ„æºä¸Šï¼ˆå¦‚é—­åŒ…ä¸­ï¼‰ï¼Œå¹¶åœ¨è°ƒç”¨è€…å…³é—­èµ„æºåå°è¯•ä½¿ç”¨å®ƒã€‚ Rust ä¸­çš„è‡ªåŠ¨èµ„æºç®¡ç†å¯ç¼“è§£æ‰€æœ‰è¿™äº›é—®é¢˜ï¼š\nèµ„æºç®¡ç†å¯¹è±¡å¯ä»¥å®šä¹‰ä¸€ä¸ªææ„å™¨ï¼ˆdestructorï¼‰æŠ½è±¡é‡Šæ”¾é€»è¾‘ã€‚é€šè¿‡æ­£å¸¸åˆ›å»ºä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥è®©ææ„å™¨åœ¨æ­£ç¡®çš„æ—¶é—´è°ƒç”¨ã€‚ å¯¹è±¡å¯ä»¥åœ¨è¢«ä½¿ç”¨ä¹‹åæ·»åŠ ææ„å‡½æ•°è€Œæ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ã€‚\næ³¨æ„ Rust ä¸­çš„ææ„å™¨ä¸åŒäºå¸¦ GC çš„è¯­è¨€ä¸­çš„ææ„å™¨ã€‚å®ƒä»¬æ€»æ˜¯åœ¨å¯¹è±¡ä¸åœ¨è¢«ä½¿ç”¨åæ‰§è¡Œï¼Œå¹¶ä¸”ä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œé™¤äº†è¿è¡Œææ„å™¨æœ¬èº«ä¸é™„å¸¦ä»»ä½•è¿è¡Œæ—¶å¼€é”€ã€‚ ç”±äºèµ„æºç®¡ç†å’Œè‡ªåŠ¨å†…å­˜ç®¡ç†é€šè¿‡ç›¸åŒçš„æ–¹å¼å·¥ä½œï¼Œè¿™å°†æ¶ˆé™¤æ¼äººçš„ç¼©è¿›å¹¶ä¸”ä¸éœ€è¦åŒ…å›´é¢å¤–çš„ä»£ç ã€‚\nåœ¨ Rust ä¸­ï¼Œä½ å¯ä»¥åƒä¼ é€’å…¶ä»–ç±»å‹çš„å¯¹è±¡ä¸€æ ·ä¼ é€’èµ„æºã€‚å¦‚æœä½ å°†æ‰€æœ‰æƒè½¬ç§»åˆ°å…¶ä»–ä½œç”¨åŸŸï¼Œèµ„æºå°†ä¼šåœ¨æ–°ä½œç”¨åŸŸå®Œæˆæ—¶è¢«å…³é—­ã€‚ é™¤æ­¤ä¹‹å¤–ï¼Œå€Ÿç”¨ç³»ç»Ÿå°†è¿˜ä¼šåƒä¿è¯å†…å­˜ä¸€æ ·ä¿è¯èµ„æºä¸å­˜åœ¨â€œé‡Šæ”¾åä½¿ç”¨â€ã€‚\nç®€è€Œè¨€ä¹‹ï¼Œä½¿ç”¨åŒä¸€ç³»ç»Ÿè¿›è¡Œå†…å­˜å’Œèµ„æºç®¡ç†ç¡®å®æœ‰å¥½å¤„ã€‚\næˆ‘ä¸ä¼šè¯´ Rust æ‰€æœ‰æƒç³»ç»Ÿåƒåƒåœ¾å›æ”¶ä¸€æ ·ä¸ç”¨è€—è´¹ä»»ä½•å¿ƒåŠ›ã€‚ ä½†æ˜¯ï¼ŒRust å·²ç»åšäº†å¾ˆå¤šéå¸¸èªæ˜çš„äº‹æƒ…æ¥å¼¥è¡¥ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„åœ¨æŸäº›æƒ…å†µä¸‹çš„æ˜“ç”¨æ€§ç”šè‡³è¶…è¿‡äº†å¸¦åƒåœ¾å›æ”¶æœºåˆ¶çš„è¯­è¨€ã€‚\nä½œä¸ºäº¤æ¢ï¼Œä½ å°†è·å¾—ä¸€ç§éå¸¸å¿«é€Ÿçš„è¯­è¨€ï¼Œå¹¶ä¸”å¯ä»¥ç»å¯¹å®‰å…¨åœ°ç›´æ¥æ§åˆ¶å†…å­˜ã€‚\nå› æ­¤ï¼Œå®ƒå¼€å¯äº†ä¸€ä¸ªé«˜çº§è¯­è¨€ç”¨æˆ·éƒ½å¯ä»¥ç¼–å†™ä½çº§ä»£ç çš„æ—¶ä»£ï¼Œè¿™ç¡®å®è®©æˆ‘æ„Ÿåˆ°å…´å¥‹ã€‚åŒæ—¶åœ¨ç¤¾åŒºä¹Ÿå¯ä»¥æ‰¾åˆ°å¾ˆå¤šäººäº’ç›¸å­¦ä¹ ã€‚\nå½“æˆ‘è¯´â€œæ— éœ€â€ï¼Œæˆ‘çš„æ„æ€æ˜¯ç»å¤§éƒ¨åˆ†éƒ½ä¸éœ€è¦ã€‚åœ¨å¸¦æœ‰åƒåœ¾å›æ”¶çš„è¯­è¨€ä¸­ï¼Œæœ‰æ—¶ä½ æœ€ç»ˆè¿˜æ˜¯ä¼šç›´æ¥ç®¡ç†å†…å­˜ï¼Œ åŒæ ·çš„åœ¨ Rust ä¸­ä½ æœ€ç»ˆè¿˜æ˜¯ä¼šç›´æ¥ç®¡ç†èµ„æºã€‚é‡è¦çš„æ˜¯åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œä¸»è¦çš„ç¼–ç¨‹æ¨¡å‹æ˜¯ç¼–ç¨‹è¯­è¨€æ›¿ä½ ç®¡ç†èµ„æºã€‚\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","permalink":"https://notes.0081800.xyz/notes/20200629181735-rust_means_never_having_to_close_a_socket/","summary":"tags: Translate,Rust,Rust Wrapper Types åŸæ–‡é“¾æ¥ï¼šRust Means Never Having to Close a Socket\nRust æœ€é…·çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯å®ƒå¯ä»¥è‡ªåŠ¨åœ°å¸®åŠ©ä½ ç®¡ç†èµ„æºï¼ŒåŒæ—¶åœ¨ä»èƒ½ä¿æŒå®‰å…¨ï¼ˆæ²¡æœ‰æ®µé”™è¯¯ï¼‰å’Œé«˜æ€§èƒ½ã€‚\nè¿™æ˜¯å› ä¸º Rust æ˜¯ä¸€é—¨ä¸ä¼—ä¸åŒåœ°ç¼–ç¨‹è¯­è¨€ï¼Œè¦ç†è§£æˆ‘è¯´çš„å¯èƒ½æœ‰ç‚¹å›°éš¾ï¼Œè®©æˆ‘æ¥æ›´è¿‘ä¸€æ­¥è¯´æ˜ï¼š\nRust å°±åƒå¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½ æ— éœ€æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ Rust ä¸åŒäºå…¶ä»–å¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œä½ æ— éœ€1æ‰‹åŠ¨å…³é—­æˆ–è€…é‡Šæ”¾åƒæ–‡ä»¶ã€å¥—æ¥å­—å’Œé”è¿™æ ·çš„èµ„æº Rust è¾¾åˆ°ä»¥ä¸Šè¿™äº›ç‰¹æ€§ä¸é™„å¸¦ä»»ä½•è¿è¡Œæ—¶å¼€é”€ï¼ˆåƒåœ¾å›æ”¶æˆ–è€…å¼•ç”¨è®¡æ•°ï¼‰ï¼Œå¹¶ä¸”ä¸ç‰ºç‰²å®‰å…¨æ€§ã€‚ å¦‚æœä½ æ›¾ç»é€ æˆè¿‡ä¸€ä¸ªå¥—æ¥å­—æˆ–è€…æ–‡ä»¶æ³„æ¼ï¼Œæˆ–è€…ä½¿ç”¨è¿‡ä¸€äº›æŠ½è±¡æ–¹æ³•é€ æˆäº†è¿™äº›èµ„æºçš„æ³„æ¼ï¼Œé‚£ä¹ˆä½ å°±ä¼šçŸ¥é“è¿™æœ‰å¤šé‡è¦ã€‚\nä½ å¯èƒ½å·²ç»æœŸæœ›é€šè¿‡â€œä½¿ç”¨åé‡Šæ”¾â€æ¥é¿å…å†…å­˜é—®é¢˜ï¼Œè€Œä¸æ­¤åŒæ—¶ä½ å¹¶æ²¡æœ‰è€ƒè™‘åˆ°æ²¡æœ‰æ˜ç¡®åœ°å…³é—­å¥—æ¥å­—å¯èƒ½å‡ºç°ç±»ä¼¼çš„é”™è¯¯ã€‚æˆ‘åœ¨è¿™é‡Œå‘Šè¯‰ä½ ï¼Œè¿˜æœ‰æ›´å¥½åœ°åŠæ³•ã€‚\nå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å¸¦åƒåœ¾å›æ”¶çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆ™åº”å¯†åˆ‡å…³æ³¨æœ¬æ–‡æåˆ°çš„èµ„æºç®¡ç†æ–¹é¢çš„å†…å®¹ã€‚å¦‚æœä½ ä½¿ç”¨çš„æ˜¯åƒ C/C++ è¿™æ ·åº•å±‚ç¼–ç¨‹è¯­è¨€ï¼Œä½ å¯èƒ½ä¼šå¯¹å®‰å…¨æ–¹é¢æ›´åŠ æ„Ÿå…´è¶£ã€‚\nRust çš„è®¸å¤šç‰¹æ€§éƒ½æ˜¯ä»å…¶ä»–è¯­è¨€å€Ÿé‰´è€Œæ¥ã€‚Rust ä¹‹æ‰€ä»¥å˜å¾—æœ‰è¶£æ˜¯å› ä¸ºå®ƒæŠŠæ‰€æœ‰çš„è¿™äº›ç‰¹æ€§æ”¾åœ¨äº†ä¸€èµ·ï¼Œå¹¶ä¸”åœ¨ç¼–ç¨‹è¯­è¨€å±‚é¢å®ç°äº†æ›´ä¸¥æ ¼åœ°ä¿è¯ã€‚ å®é™…ä¸Šï¼Œè¿™ç§ç¼–ç¨‹è¯­è¨€å±‚é¢çš„ä¿è¯è®©è¿™äº›ç‰¹æ€§æ›´åŠ å®ç”¨ã€‚\næ‰€æœ‰æƒç³»ç»Ÿï¼ˆThe Ownership Systemï¼‰ è®©è¿™ç§ä¿è¯å·¥ä½œçš„æ–¹å¼æ˜¯é€šè¿‡ Rust çš„ã€Œæ‰€æœ‰æƒï¼ˆownershipï¼‰ã€ç³»ç»Ÿã€‚ä¸ç®¡ä»»ä½•æ—¶å€™ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œéƒ½è¢«åˆ›å»ºå®ƒçš„ã€Œä½œç”¨åŸŸï¼ˆscopeï¼‰ã€æ‰€æ‹¥æœ‰ã€‚\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è¿›ä¸€æ­¥è¯´æ˜ï¼šæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ‹·è´è¾“å…¥æ–‡ä»¶åˆ°ä¸´æ—¶æ–‡ä»¶å»å¤„ç†å®ƒï¼Œç„¶åæ‹·è´è¾“å…¥æ–‡ä»¶åˆ°è¾“å‡ºæ–‡ä»¶ã€‚\nfn process(from: \u0026amp;Path, to: \u0026amp;Path) -\u0026gt; IoResult\u0026lt;()\u0026gt; { // creates a new tempdir with the specified suffix let tempdir = try!(TempDir::new(\u0026#34;skylight\u0026#34;)); // open the input file let mut from_file = try!","title":"Rust Means Never Having to Close a Socket"},{"content":"å¹¶å‘ std::marker::Send å…è®¸è·¨çº¿ç¨‹è½¬ç§»æ‰€æœ‰æƒ Send æ ‡è®°ç‰¹æ€§ç”¨äºæ ‡è¯†å®ç°è¯¥ç‰¹æ€§çš„ç±»å‹çš„æ‰€æœ‰æƒå¯ä»¥åœ¨çº¿ç¨‹ä¸­é—´è½¬ç§»ï¼Œå‡ ä¹æ‰€æœ‰ Rust ç±»å‹éƒ½å®ç°äº† Send ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ä¾‹å¤–å¦‚ï¼š\nRc\u0026lt;T\u0026gt; ï¼Œå¦‚æœå…‹éš†ååœ¨å¤šä¸ªçº¿ç¨‹ä¸­è½¬ç§»æ‰€æœ‰æƒå¯èƒ½ä¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶å¢åŠ è®¡æ•°å™¨ï¼Œå¯ä»¥ä½¿ç”¨ Arc\u0026lt;T\u0026gt; æ›¿ä»£ å¦‚æœä¸€ä¸ªæ–°çš„ç±»å‹ç»„åˆçš„ç±»å‹éƒ½å®ç°äº† Send é‚£ä¹ˆè¯¥ç±»å‹ä¹Ÿè‡ªåŠ¨å®ç°äº† Send ï¼Œå‡ ä¹æ‰€æœ‰åŸå§‹ç±»å‹éƒ½å®ç°äº† Send .\nstd::marker::Sync å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—® Sync æ ‡è®°ç‰¹æ€§ç”¨äºæ ‡è¯†å®ç°è¯¥ç‰¹æ€§çš„ç±»å‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¼•ç”¨ï¼Œä»»ä½•ç±»å‹ T æ˜¯ Sync å¹¶ä¸” T çš„å¼•ç”¨ \u0026amp;T æ˜¯ Send åˆ™æ„å‘³ç€å¼•ç”¨å¯ä»¥å®‰å…¨çš„å‘é€ç»™å…¶ä»–çº¿ç¨‹ã€‚\nåŒ Send ç±»ä¼¼ï¼Œå‡ ä¹æ‰€æœ‰åŸå§‹ç±»å‹éƒ½å®ç°äº† Sync ï¼Œç»„åˆäº†æ‰€æœ‰ç±»å‹éƒ½æ˜¯ Sync çš„ç±»å‹è‡ªåŠ¨å®ç° Sync ã€‚\nä»¥ä¸‹åªèƒ½æŒ‡é’ˆæ²¡æœ‰å®ç° Sync\nRc\u0026lt;T\u0026gt; åŒæ ·æ²¡æœ‰å®ç° Sync RcCell\u0026lt;T\u0026gt; å’Œ Cell\u0026lt;T\u0026gt; è‡ªå·±å®ç° Sync å’Œ Send æ˜¯ä¸å®‰å…¨çš„ ","permalink":"https://notes.0081800.xyz/notes/20200629180709-rust_%E5%B9%B6%E5%8F%91/","summary":"å¹¶å‘ std::marker::Send å…è®¸è·¨çº¿ç¨‹è½¬ç§»æ‰€æœ‰æƒ Send æ ‡è®°ç‰¹æ€§ç”¨äºæ ‡è¯†å®ç°è¯¥ç‰¹æ€§çš„ç±»å‹çš„æ‰€æœ‰æƒå¯ä»¥åœ¨çº¿ç¨‹ä¸­é—´è½¬ç§»ï¼Œå‡ ä¹æ‰€æœ‰ Rust ç±»å‹éƒ½å®ç°äº† Send ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›ä¾‹å¤–å¦‚ï¼š\nRc\u0026lt;T\u0026gt; ï¼Œå¦‚æœå…‹éš†ååœ¨å¤šä¸ªçº¿ç¨‹ä¸­è½¬ç§»æ‰€æœ‰æƒå¯èƒ½ä¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶å¢åŠ è®¡æ•°å™¨ï¼Œå¯ä»¥ä½¿ç”¨ Arc\u0026lt;T\u0026gt; æ›¿ä»£ å¦‚æœä¸€ä¸ªæ–°çš„ç±»å‹ç»„åˆçš„ç±»å‹éƒ½å®ç°äº† Send é‚£ä¹ˆè¯¥ç±»å‹ä¹Ÿè‡ªåŠ¨å®ç°äº† Send ï¼Œå‡ ä¹æ‰€æœ‰åŸå§‹ç±»å‹éƒ½å®ç°äº† Send .\nstd::marker::Sync å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—® Sync æ ‡è®°ç‰¹æ€§ç”¨äºæ ‡è¯†å®ç°è¯¥ç‰¹æ€§çš„ç±»å‹å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¼•ç”¨ï¼Œä»»ä½•ç±»å‹ T æ˜¯ Sync å¹¶ä¸” T çš„å¼•ç”¨ \u0026amp;T æ˜¯ Send åˆ™æ„å‘³ç€å¼•ç”¨å¯ä»¥å®‰å…¨çš„å‘é€ç»™å…¶ä»–çº¿ç¨‹ã€‚\nåŒ Send ç±»ä¼¼ï¼Œå‡ ä¹æ‰€æœ‰åŸå§‹ç±»å‹éƒ½å®ç°äº† Sync ï¼Œç»„åˆäº†æ‰€æœ‰ç±»å‹éƒ½æ˜¯ Sync çš„ç±»å‹è‡ªåŠ¨å®ç° Sync ã€‚\nä»¥ä¸‹åªèƒ½æŒ‡é’ˆæ²¡æœ‰å®ç° Sync\nRc\u0026lt;T\u0026gt; åŒæ ·æ²¡æœ‰å®ç° Sync RcCell\u0026lt;T\u0026gt; å’Œ Cell\u0026lt;T\u0026gt; è‡ªå·±å®ç° Sync å’Œ Send æ˜¯ä¸å®‰å…¨çš„ ","title":"Rust å¹¶å‘"},{"content":"ä¸‰ç§å® è‡ªå®šä¹‰ #[derive] å±æ€§è¡Œä¸ºï¼ˆattribute-likeï¼‰å®ï¼ŒRust å±æ€§å®è§£æ å‡½æ•°è¡Œä¸ºï¼ˆfunction-likeï¼‰å® å® å®ç°å…ƒç¼–ç¨‹ï¼Œä»£ç ç”Ÿæˆä»£ç ï¼Œå¿…é¡»å¸¦å…¥å½“å‰å‘½åç©ºé—´å†…æ‰èƒ½ä½¿ç”¨ï¼ˆä¸èƒ½ä½¿ç”¨ mod::sub::macro! è¿™ç§æ–¹å¼è°ƒç”¨ï¼‰ã€‚\n#[macro_export] macro_rules! vec { ( $($x:expr), *) =\u0026gt; { // $() ç”¨äºæ•æ‰å€¼ï¼Œ$x:expr åŒ¹é… Rust è¡¨è¾¾å¼å¹¶ç»‘å®šåˆ° $xï¼Œé€—å·ï¼ˆ,ï¼‰è¡¨æ˜ä¸€ä¸ªé€—å·å¯èƒ½å‡ºç°åœ¨è¡¨è¾¾å¼åé¢ï¼Œ* è¡¨æ˜è¡¨è¾¾å¼åŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡ { let mut temp_vec = Vec::new(); ${ temp_vec.push($x); }* temp_vec } }; } è°ƒç”¨å®ç”¨äºä»å±æ€§ç”Ÿæˆä»£ç  æœ‰ç‚¹åƒç¼–è¯‘æœŸçš„è£…é¥°å™¨ï¼š\nuse proc_macro; #[some_attribute] pub fn some_name(input: TokenStream) -\u0026gt; TokenStream { // --snip-- } ","permalink":"https://notes.0081800.xyz/notes/20200629180623-rust_%E5%AE%8F/","summary":"ä¸‰ç§å® è‡ªå®šä¹‰ #[derive] å±æ€§è¡Œä¸ºï¼ˆattribute-likeï¼‰å®ï¼ŒRust å±æ€§å®è§£æ å‡½æ•°è¡Œä¸ºï¼ˆfunction-likeï¼‰å® å® å®ç°å…ƒç¼–ç¨‹ï¼Œä»£ç ç”Ÿæˆä»£ç ï¼Œå¿…é¡»å¸¦å…¥å½“å‰å‘½åç©ºé—´å†…æ‰èƒ½ä½¿ç”¨ï¼ˆä¸èƒ½ä½¿ç”¨ mod::sub::macro! è¿™ç§æ–¹å¼è°ƒç”¨ï¼‰ã€‚\n#[macro_export] macro_rules! vec { ( $($x:expr), *) =\u0026gt; { // $() ç”¨äºæ•æ‰å€¼ï¼Œ$x:expr åŒ¹é… Rust è¡¨è¾¾å¼å¹¶ç»‘å®šåˆ° $xï¼Œé€—å·ï¼ˆ,ï¼‰è¡¨æ˜ä¸€ä¸ªé€—å·å¯èƒ½å‡ºç°åœ¨è¡¨è¾¾å¼åé¢ï¼Œ* è¡¨æ˜è¡¨è¾¾å¼åŒ¹é…ä¸€æ¬¡æˆ–å¤šæ¬¡ { let mut temp_vec = Vec::new(); ${ temp_vec.push($x); }* temp_vec } }; } è°ƒç”¨å®ç”¨äºä»å±æ€§ç”Ÿæˆä»£ç  æœ‰ç‚¹åƒç¼–è¯‘æœŸçš„è£…é¥°å™¨ï¼š\nuse proc_macro; #[some_attribute] pub fn some_name(input: TokenStream) -\u0026gt; TokenStream { // --snip-- } ","title":"Rust å®"},{"content":"æ™ºèƒ½æŒ‡é’ˆ è¡¨ç°çš„åƒä¸€ä¸ªæŒ‡é’ˆï¼Œæ‹¥æœ‰æ•°æ®å¹¶å…è®¸åœ¨å¯¹æ•°æ®è¿›è¡Œç»´æŠ¤ã€‚\né€šå¸¸é€šè¿‡ struct å®ç°å¹¶å®ç°ä¸¤ä¸ªç‰¹æ€§ Deref å’Œ Drop\nDeref å…è®¸æ™ºèƒ½æŒ‡é’ˆå®ä¾‹è¡Œä¸ºåƒä¸€ä¸ªå¼•ç”¨ï¼Œè®©ä»£ç å¯ä»¥åŒæ—¶å¤„ç†å¼•ç”¨å’Œæ™ºèƒ½æŒ‡é’ˆ Drop å…è®¸è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆè¶…å‡ºä½œç”¨åŸŸçš„è¡Œä¸ºã€‚ æ ‡å‡†åº“å¸¸è§çš„æ™ºèƒ½æŒ‡é’ˆ\nBox\u0026lt;T\u0026gt; ç”¨äºåœ¨å †åˆ†é…å€¼ Rc\u0026lt;T\u0026gt; å¼•ç”¨è®¡æ•°ç±»å‹ï¼Œå…è®¸å¤šä¸ªæ‹¥æœ‰è€… Ref\u0026lt;T\u0026gt; å’Œ RefMut\u0026lt;T\u0026gt; å’Œé€šè¿‡ RefCell\u0026lt;T\u0026gt; è®¿é—®ï¼Œè¿è¡Œæ—¶å–ä»£ç¼–è¯‘æœŸå¼ºåˆ¶æ£€æŸ¥å€Ÿç”¨è§„åˆ™ Box\u0026lt;T\u0026gt; åœºæ™¯ï¼š\nç¼–è¯‘æœŸæœªçŸ¥å¤§å°çš„ç±»å‹ï¼ˆé€’å½’ç±»å‹ï¼ˆè‡ªå·±åŒ…å«è‡ªå·±ç±»å‹çš„ç±»å‹ï¼Œå¦‚é“¾è¡¨ï¼‰ç¼–è¯‘æœŸæ— æ³•ç¡®å®šå¤§å°ï¼‰\n// é€’å½’ç±»å‹ enum List { Cons(i32, Box\u0026lt;List\u0026gt;), Nil, } fn main() { let b = Box::new(5); println!(\u0026#34;b = {}\u0026#34;, b); let list = Cons(1, Box::new(Cons(2, Box::new(Cons(3, Box::new(Nil)))))); } é¿å…å¤§é‡æ•°æ®è½¬ç§»æ‰€æœ‰æƒæ—¶å‘ç”Ÿæ‹·è´\næ‹¥æœ‰ä¸€ä¸ªå®ç°ç‰¹å®šç‰¹æ€§çš„å€¼ï¼ˆä¸å…³å¿ƒå…·ä½“ç±»å‹ï¼‰çš„æ‰€æœ‰æƒ\nDeref ç”¨äºè‡ªå®šä¹‰è§£å¼•ç”¨æ“ä½œç¬¦ï¼ˆ * ï¼‰ çš„è¡Œä¸ºï¼Œæ™ºèƒ½æŒ‡é’ˆé€šè¿‡å®ç°è¯¥ç‰¹æ€§æ¥æ¨¡æ‹Ÿæ™®é€šå¼•ç”¨çš„è¡Œä¸ºã€‚\nå¯¹æ¯”\nfn main() { let x = 5; let y = \u0026amp;x; assert_eq!(5, x); assert_eq!(5, *y); // must dereference } å’Œ\nfn main() { let x = 5; let y = Box::new(x); assert_eq!(5, x); assert_eq!(5, *y); } Box\u0026lt;T\u0026gt; çš„å®ç°å¤§ä½“å¦‚ä¸‹\nuse std::ops::Deref; struct MyBox\u0026lt;T\u0026gt;(T); impl\u0026lt;T\u0026gt; Deref for MyBox\u0026lt;T\u0026gt; { type Target = T; fn new(x: T) -\u0026gt; MyBox\u0026lt;T\u0026gt; { MyBox(x) } fn deref(\u0026amp;self) -\u0026gt; \u0026amp;T { \u0026amp;self.0 } } deref è®©ç¼–è¯‘å™¨çŸ¥é“å¦‚ä½•é€šè¿‡ \u0026amp; è·å–ä¸€ä¸ªå¼•ç”¨ï¼Œç„¶åå°±å¯ä»¥æ­£ç¡®çš„è§£å¼•ç”¨ï¼Œå®é™…å±•å¼€çš„ä»£ç å¦‚ä¸‹ï¼š\n*(y.deref()) è¿™æ ·åšçš„åŸå› æ˜¯å¦‚æœ deref ä¸è¿”å›å¼•ç”¨è€Œæ˜¯è¿”å›å€¼ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»ï¼Œè¿™æ˜¯æ™ºèƒ½æŒ‡é’ˆæ‰€ä¸å…è®¸çš„ã€‚\nå¦‚æœä¸€ä¸ªç±»å‹å®ç°äº† Deref ï¼Œå½“ä¼ é€’ç»™å‡½æ•°æˆ–æ–¹æ³•çš„ç±»å‹ä¸æ»¡è¶³æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œéšå¼è½¬æ¢ï¼ˆå¯èƒ½æ—¶å¤šæ¬¡ï¼‰ä»¥æ»¡è¶³éœ€æ±‚ã€‚ è¿˜æœ‰ DerefMut å¤„ç†å¯å˜è§£å¼•ç”¨ã€‚\nå½“ T: Deref\u0026lt;Target=U\u0026gt; æ—¶ï¼Œä» \u0026amp;T å˜ä¸º \u0026amp;U å½“ T: DerefMut\u0026lt;Target=U\u0026gt; æ—¶ï¼Œä» \u0026amp;mut T å˜ä¸º \u0026amp;mut U å½“ T: Deref\u0026lt;Target=U\u0026gt; æ—¶ï¼Œä» \u0026amp;mut T å˜ä¸º \u0026amp;U ","permalink":"https://notes.0081800.xyz/notes/20200629180545-%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/","summary":"æ™ºèƒ½æŒ‡é’ˆ è¡¨ç°çš„åƒä¸€ä¸ªæŒ‡é’ˆï¼Œæ‹¥æœ‰æ•°æ®å¹¶å…è®¸åœ¨å¯¹æ•°æ®è¿›è¡Œç»´æŠ¤ã€‚\né€šå¸¸é€šè¿‡ struct å®ç°å¹¶å®ç°ä¸¤ä¸ªç‰¹æ€§ Deref å’Œ Drop\nDeref å…è®¸æ™ºèƒ½æŒ‡é’ˆå®ä¾‹è¡Œä¸ºåƒä¸€ä¸ªå¼•ç”¨ï¼Œè®©ä»£ç å¯ä»¥åŒæ—¶å¤„ç†å¼•ç”¨å’Œæ™ºèƒ½æŒ‡é’ˆ Drop å…è®¸è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆè¶…å‡ºä½œç”¨åŸŸçš„è¡Œä¸ºã€‚ æ ‡å‡†åº“å¸¸è§çš„æ™ºèƒ½æŒ‡é’ˆ\nBox\u0026lt;T\u0026gt; ç”¨äºåœ¨å †åˆ†é…å€¼ Rc\u0026lt;T\u0026gt; å¼•ç”¨è®¡æ•°ç±»å‹ï¼Œå…è®¸å¤šä¸ªæ‹¥æœ‰è€… Ref\u0026lt;T\u0026gt; å’Œ RefMut\u0026lt;T\u0026gt; å’Œé€šè¿‡ RefCell\u0026lt;T\u0026gt; è®¿é—®ï¼Œè¿è¡Œæ—¶å–ä»£ç¼–è¯‘æœŸå¼ºåˆ¶æ£€æŸ¥å€Ÿç”¨è§„åˆ™ Box\u0026lt;T\u0026gt; åœºæ™¯ï¼š\nç¼–è¯‘æœŸæœªçŸ¥å¤§å°çš„ç±»å‹ï¼ˆé€’å½’ç±»å‹ï¼ˆè‡ªå·±åŒ…å«è‡ªå·±ç±»å‹çš„ç±»å‹ï¼Œå¦‚é“¾è¡¨ï¼‰ç¼–è¯‘æœŸæ— æ³•ç¡®å®šå¤§å°ï¼‰\n// é€’å½’ç±»å‹ enum List { Cons(i32, Box\u0026lt;List\u0026gt;), Nil, } fn main() { let b = Box::new(5); println!(\u0026#34;b = {}\u0026#34;, b); let list = Cons(1, Box::new(Cons(2, Box::new(Cons(3, Box::new(Nil)))))); } é¿å…å¤§é‡æ•°æ®è½¬ç§»æ‰€æœ‰æƒæ—¶å‘ç”Ÿæ‹·è´\næ‹¥æœ‰ä¸€ä¸ªå®ç°ç‰¹å®šç‰¹æ€§çš„å€¼ï¼ˆä¸å…³å¿ƒå…·ä½“ç±»å‹ï¼‰çš„æ‰€æœ‰æƒ\nDeref ç”¨äºè‡ªå®šä¹‰è§£å¼•ç”¨æ“ä½œç¬¦ï¼ˆ * ï¼‰ çš„è¡Œä¸ºï¼Œæ™ºèƒ½æŒ‡é’ˆé€šè¿‡å®ç°è¯¥ç‰¹æ€§æ¥æ¨¡æ‹Ÿæ™®é€šå¼•ç”¨çš„è¡Œä¸ºã€‚\nå¯¹æ¯”\nfn main() { let x = 5; let y = \u0026amp;x; assert_eq!","title":"æ™ºèƒ½æŒ‡é’ˆ"},{"content":"è¿­ä»£å™¨ æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½å®ç°äº† Iterator ç‰¹æ€§ï¼š\npub trait Iterator { type Item; // å…³è”ç±»å‹ fn next(\u0026amp;mut self) -\u0026gt; Option\u0026lt;Self::Item\u0026gt;; // è¿”å› None ç»“æŸå¾ªç¯ } ","permalink":"https://notes.0081800.xyz/notes/20200629180506-%E8%BF%AD%E4%BB%A3%E5%99%A8/","summary":"è¿­ä»£å™¨ æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½å®ç°äº† Iterator ç‰¹æ€§ï¼š\npub trait Iterator { type Item; // å…³è”ç±»å‹ fn next(\u0026amp;mut self) -\u0026gt; Option\u0026lt;Self::Item\u0026gt;; // è¿”å› None ç»“æŸå¾ªç¯ } ","title":"è¿­ä»£å™¨"},{"content":"ç”Ÿå‘½å‘¨æœŸ Rust ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼šå¼•ç”¨æœ‰æ•ˆçš„ä½œç”¨åŸŸã€‚ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯éšå¼å’Œè‡ªä¸¾çš„ï¼Œåœ¨æ— æ³•å®Œæˆçš„æƒ…å†µä¸‹å°±éœ€è¦æˆ‘ä»¬é€šè¿‡ç”Ÿå‘½å‘¨æœŸæ³›å‹å‚æ•°å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡Œæ³¨è§£ã€‚ ç”Ÿå‘½å‘¨æœŸçš„ä¸»è¦ç›®æ ‡æ˜¯é¿å…æ‚¬ç©ºæŒ‡é’ˆã€‚ ç”Ÿå‘½å‘¨æœŸæ³›å‹å‚æ•°å®šä¹‰å„ä¸ªå¼•ç”¨ä¹‹é—´ï¼ˆå‚æ•°å’Œå‚æ•°ã€å‚æ•°å’Œè¿”å›å€¼ï¼‰çš„å…³ç³»ï¼Œå¹¶ä¸æ”¹å˜ï¼ˆå»¶é•¿ï¼‰å˜é‡åŸæœ¬çš„ç”Ÿå‘½å‘¨æœŸ \u0026amp;i32 // a reference \u0026amp;\u0026#39;a i32 // a reference with an explicit lifetime \u0026amp;\u0026#39;a mut i32 // a mutable reference with an explicit lifetime å‚è€ƒä»¥ä¸‹ä»£ç \nfn longest\u0026lt;\u0026#39;a\u0026gt;(x: \u0026amp;\u0026#39;a str, y: \u0026amp;\u0026#39;a str) -\u0026gt; \u0026amp;\u0026#39;a str { if x.len() \u0026gt; y.len() { x } else { y } } ä»¥ä¸Šä»£ç \næ ‡æ³¨ç”Ÿå‘½å‘¨æœŸ 'a å‡½æ•°æœ‰ä¸¤ä¸ªå¼•ç”¨å‚æ•°ï¼Œéƒ½ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸ 'a è¡¨ç¤ºä¸¤ä¸ªå‚æ•°çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»ä¸€è‡´ï¼ˆå­˜æ´»çš„å‘¨æœŸä¸€æ ·é•¿ï¼‰ å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸”å­˜æ´»çš„æ—¶é—´å’Œç”Ÿå‘½å‘¨æœŸ 'a ä¸€è‡´ ä»¥ä¸ŠæŒ‡å®šä¸æ”¹å˜ä»»ä½•ä¼ å…¥çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬åªæ˜¯è¦æ±‚å€Ÿç”¨æ£€æŸ¥å™¨ï¼ˆborrow checkerï¼‰æ£€æŸ¥è¿™äº›çº¦æŸã€‚ ä¹Ÿå°±æ˜¯è¯´å€Ÿç”¨æ£€æŸ¥å™¨è¦æ£€æŸ¥ä¼ å…¥çš„ä¸¤ä¸ªå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»ä¸€è‡´ï¼Œè¿”å›çš„å¼•ç”¨çš„å­˜æ´»å‘¨æœŸä¸èƒ½è¶…è¿‡ä¼ å…¥çš„å¼•ç”¨çš„å­˜æ´»å‘¨æœŸ æ€è€ƒ å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œè¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸæ³¨è§£è¦å’Œå‚æ•°çš„å…¶ä¸­ä¹‹ä¸€ç›¸åŒ¹é…ï¼Œå¦åˆ™é‚£ä¹ˆå¼•ç”¨å°±æ˜¯æŒ‡å‘é‡Œå‡½æ•°å†…åˆ›å»ºçš„å€¼ï¼ˆä¸èƒ½è¿”å›ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´è¿”å›å¼•ç”¨æ—¶ï¼Œå¼•ç”¨çš„å£°æ˜å‘¨æœŸå¿…é¡»å’Œå‚æ•°ï¼ˆå…¶ä¸€ï¼‰ç›¸å…³ã€‚å¦‚æœæƒ³è¦è¿”å›å‡½æ•°å†…åˆ›å»ºçš„å€¼æœ€å¥½è¿”å›ä¸€ä¸ªæœ‰æ‰€æœ‰æƒçš„å€¼ç±»å‹ã€‚\nç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸ å¦‚æœç»“æ„ä½“éœ€è¦æŒæœ‰å¼•ç”¨ï¼Œéœ€è¦åœ¨å®šä¹‰ç»“æ„ä½“æ—¶ç»™æ¯ä¸€ä¸ªå¼•ç”¨éƒ½åŠ ä¸Šç”Ÿå‘½å‘¨æœŸæ³¨è§£ã€‚\nå¦‚æœç»“æ„ä½“å£°æ˜äº†ç”Ÿå‘½å‘¨æœŸå‚æ•°ï¼Œé‚£ä¹ˆ impl åŒæ ·ä¹Ÿè¦å£°æ˜ã€‚\nstruct ImportantExcerpt\u0026lt;\u0026#39;a\u0026gt; { part: \u0026amp;\u0026#39;a str, } impl\u0026lt;\u0026#39;a\u0026gt; ImportantExcerpt\u0026lt;\u0026#39;a\u0026gt; { fn announce_and_return_part(\u0026amp;self, announcement: \u0026amp;str) -\u0026gt; \u0026amp;str { println!(\u0026#34;Attention please: {}\u0026#34;, announcement); self.part } } ç”Ÿå‘½å‘¨æœŸçœç•¥ï¼ˆelisionï¼‰è§„åˆ™ å‡½æ•°å‚æ•°çš„ç”Ÿå‘½å‘¨æœŸä¸ºè¾“å…¥ç”Ÿå‘½å‘¨æœŸ å‡½æ•°è¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸä¸ºè¾“å‡ºç”Ÿå‘½å‘¨æœŸ 3 ä¸ªè§„åˆ™ç”¨äº fn å’Œ impl ï¼š\nå‡½æ•°çš„æ¯ä¸ªå¼•ç”¨å‚æ•°éƒ½æœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼š fn foo\u0026lt;'a, 'b\u0026gt;(x: \u0026amp;'a i32, y: \u0026amp;'b i32) å¦‚æœåªæœ‰ä¸€ä¸ªå¼•ç”¨å‚æ•°ï¼Œé‚£ä¹ˆå°†è¾“å…¥çš„ç”Ÿå‘½å‘¨æœŸæ³¨è§£å°†åº”ç”¨åˆ°æ‰€æœ‰è¾“å‡ºä¸Š å¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œä½†åŒ…å«ä¸€ä¸ª \u0026amp;self æˆ– \u0026amp;mut self é‚£ä¹ˆ self çš„ç”Ÿå‘½å‘¨æœŸå°†åˆ†é…åˆ°æ‰€æœ‰è¾“å‡ºå‚æ•°ä¸Šã€‚ æ‰©å±•æ–‡ç«  Rust Borrow and Lifetimes ","permalink":"https://notes.0081800.xyz/notes/20200629180413-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/","summary":"ç”Ÿå‘½å‘¨æœŸ Rust ä¸­çš„æ¯ä¸€ä¸ªå¼•ç”¨éƒ½æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼šå¼•ç”¨æœ‰æ•ˆçš„ä½œç”¨åŸŸã€‚ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯éšå¼å’Œè‡ªä¸¾çš„ï¼Œåœ¨æ— æ³•å®Œæˆçš„æƒ…å†µä¸‹å°±éœ€è¦æˆ‘ä»¬é€šè¿‡ç”Ÿå‘½å‘¨æœŸæ³›å‹å‚æ•°å¸®åŠ©ç¼–è¯‘å™¨è¿›è¡Œæ³¨è§£ã€‚ ç”Ÿå‘½å‘¨æœŸçš„ä¸»è¦ç›®æ ‡æ˜¯é¿å…æ‚¬ç©ºæŒ‡é’ˆã€‚ ç”Ÿå‘½å‘¨æœŸæ³›å‹å‚æ•°å®šä¹‰å„ä¸ªå¼•ç”¨ä¹‹é—´ï¼ˆå‚æ•°å’Œå‚æ•°ã€å‚æ•°å’Œè¿”å›å€¼ï¼‰çš„å…³ç³»ï¼Œå¹¶ä¸æ”¹å˜ï¼ˆå»¶é•¿ï¼‰å˜é‡åŸæœ¬çš„ç”Ÿå‘½å‘¨æœŸ \u0026amp;i32 // a reference \u0026amp;\u0026#39;a i32 // a reference with an explicit lifetime \u0026amp;\u0026#39;a mut i32 // a mutable reference with an explicit lifetime å‚è€ƒä»¥ä¸‹ä»£ç \nfn longest\u0026lt;\u0026#39;a\u0026gt;(x: \u0026amp;\u0026#39;a str, y: \u0026amp;\u0026#39;a str) -\u0026gt; \u0026amp;\u0026#39;a str { if x.len() \u0026gt; y.len() { x } else { y } } ä»¥ä¸Šä»£ç \næ ‡æ³¨ç”Ÿå‘½å‘¨æœŸ 'a å‡½æ•°æœ‰ä¸¤ä¸ªå¼•ç”¨å‚æ•°ï¼Œéƒ½ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸ 'a è¡¨ç¤ºä¸¤ä¸ªå‚æ•°çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»ä¸€è‡´ï¼ˆå­˜æ´»çš„å‘¨æœŸä¸€æ ·é•¿ï¼‰ å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨ï¼Œå¹¶ä¸”å­˜æ´»çš„æ—¶é—´å’Œç”Ÿå‘½å‘¨æœŸ 'a ä¸€è‡´ ä»¥ä¸ŠæŒ‡å®šä¸æ”¹å˜ä»»ä½•ä¼ å…¥çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬åªæ˜¯è¦æ±‚å€Ÿç”¨æ£€æŸ¥å™¨ï¼ˆborrow checkerï¼‰æ£€æŸ¥è¿™äº›çº¦æŸã€‚ ä¹Ÿå°±æ˜¯è¯´å€Ÿç”¨æ£€æŸ¥å™¨è¦æ£€æŸ¥ä¼ å…¥çš„ä¸¤ä¸ªå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸå¿…é¡»ä¸€è‡´ï¼Œè¿”å›çš„å¼•ç”¨çš„å­˜æ´»å‘¨æœŸä¸èƒ½è¶…è¿‡ä¼ å…¥çš„å¼•ç”¨çš„å­˜æ´»å‘¨æœŸ æ€è€ƒ å½“å‡½æ•°è¿”å›ä¸€ä¸ªå¼•ç”¨æ—¶ï¼Œè¿”å›å€¼çš„ç”Ÿå‘½å‘¨æœŸæ³¨è§£è¦å’Œå‚æ•°çš„å…¶ä¸­ä¹‹ä¸€ç›¸åŒ¹é…ï¼Œå¦åˆ™é‚£ä¹ˆå¼•ç”¨å°±æ˜¯æŒ‡å‘é‡Œå‡½æ•°å†…åˆ›å»ºçš„å€¼ï¼ˆä¸èƒ½è¿”å›ï¼‰ã€‚ ä¹Ÿå°±æ˜¯è¯´è¿”å›å¼•ç”¨æ—¶ï¼Œå¼•ç”¨çš„å£°æ˜å‘¨æœŸå¿…é¡»å’Œå‚æ•°ï¼ˆå…¶ä¸€ï¼‰ç›¸å…³ã€‚å¦‚æœæƒ³è¦è¿”å›å‡½æ•°å†…åˆ›å»ºçš„å€¼æœ€å¥½è¿”å›ä¸€ä¸ªæœ‰æ‰€æœ‰æƒçš„å€¼ç±»å‹ã€‚\nç»“æ„ä½“ç”Ÿå‘½å‘¨æœŸ å¦‚æœç»“æ„ä½“éœ€è¦æŒæœ‰å¼•ç”¨ï¼Œéœ€è¦åœ¨å®šä¹‰ç»“æ„ä½“æ—¶ç»™æ¯ä¸€ä¸ªå¼•ç”¨éƒ½åŠ ä¸Šç”Ÿå‘½å‘¨æœŸæ³¨è§£ã€‚","title":"ç”Ÿå‘½å‘¨æœŸ"},{"content":"let add_one = | num | { num + 1 }; ç”±äºé—­åŒ…å’Œå½“å‰ä¸Šä¸‹æ–‡ç›¸å…³è”ï¼Œæ‰€ä»¥ Rust å¯ä»¥è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œç±»å‹æ³¨è§£ä¹Ÿå°±ä¸æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥è‡ªå·±æ·»åŠ ï¼š\nlet add_one = | num: i32 | { num + 1 }; fn add_one_v1 (x: u32) -\u0026gt; u32 { x + 1 } let add_one_v2 = |x: u32| -\u0026gt; u32 { x + 1 }; let add_one_v3 = |x| { x + 1 }; let add_one_v4 = |x| x + 1 ; ä½¿ç”¨ Fn å­˜å‚¨é—­åŒ…ç±»å‹\nstruct Cacher\u0026lt;T\u0026gt; where T: Fn(u32) -\u0026gt; u32 { calculation: T, value: Option\u0026lt;u32\u0026gt;, } impl Cacher\u0026lt;T\u0026gt; where T: Fn(u32) -\u0026gt; u32 { fn new(calculation: T) -\u0026gt; Cacher\u0026lt;T\u0026gt; { Cacher { calculation, value: None, } } fn value(\u0026amp;mut self, arg: u32) -\u0026gt; u32 { if let Some(value) = self.value { value } else { let value = (self.calculation)(arg); self.value = Some(value); value } } } é—­åŒ…å’Œå‡½æ•°çš„åŒºåˆ«ï¼šé—­åŒ…ä¼šæ•æ‰å½“å‰ç¯å¢ƒï¼Œä½†æ˜¯å‡½æ•°ä¸ä¼šã€‚\nä¸‰ç§ä¸åŒ Fn trait\nFnOnce å®šä¹‰æ—¶è·å–å¼•ç”¨ç¯å¢ƒçš„å˜é‡çš„æ‰€æœ‰æƒï¼Œå¹¶åªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼ˆä¸èƒ½å¤šæ¬¡è·å¾—ç¯å¢ƒå˜é‡çš„æ‰€æœ‰æƒï¼‰ Fn ç«‹å³ä»æ‰€åœ¨ç¯å¢ƒå€Ÿç”¨å€¼ FnMut å¯ä»¥æ”¹å˜å¼•ç”¨ç¯å¢ƒçš„å¼•ç”¨å€¼ å¦‚æœæƒ³è¦å¼ºåˆ¶å–å¾—ä½¿ç”¨çš„æ‰€åœ¨ç¯å¢ƒå˜é‡çš„æ‰€æœ‰æƒï¼Œå¯ä»¥ä½¿ç”¨ move å…³é”®å­—\nfn main() { let x = vec![1, 2, 3]; let euqal_to_x = move |z| z == x; // x has move to closure, so can\u0026#39;t use it anymore. } ","permalink":"https://notes.0081800.xyz/notes/20200629180436-%E9%97%AD%E5%8C%85/","summary":"let add_one = | num | { num + 1 }; ç”±äºé—­åŒ…å’Œå½“å‰ä¸Šä¸‹æ–‡ç›¸å…³è”ï¼Œæ‰€ä»¥ Rust å¯ä»¥è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œç±»å‹æ³¨è§£ä¹Ÿå°±ä¸æ˜¯å¿…è¦çš„ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥è‡ªå·±æ·»åŠ ï¼š\nlet add_one = | num: i32 | { num + 1 }; fn add_one_v1 (x: u32) -\u0026gt; u32 { x + 1 } let add_one_v2 = |x: u32| -\u0026gt; u32 { x + 1 }; let add_one_v3 = |x| { x + 1 }; let add_one_v4 = |x| x + 1 ; ä½¿ç”¨ Fn å­˜å‚¨é—­åŒ…ç±»å‹\nstruct Cacher\u0026lt;T\u0026gt; where T: Fn(u32) -\u0026gt; u32 { calculation: T, value: Option\u0026lt;u32\u0026gt;, } impl Cacher\u0026lt;T\u0026gt; where T: Fn(u32) -\u0026gt; u32 { fn new(calculation: T) -\u0026gt; Cacher\u0026lt;T\u0026gt; { Cacher { calculation, value: None, } } fn value(\u0026amp;mut self, arg: u32) -\u0026gt; u32 { if let Some(value) = self.","title":"é—­åŒ…"},{"content":"Traits å®šä¹‰è¡Œä¸ºåœ¨å¤šä¸ªç±»å‹ä¸­å…±äº«ã€‚ å¯ä»¥å®šä¹‰é»˜è®¤è¡Œä¸ºåœ¨å®ç°è€…ä¸­é—´å…±äº«ã€‚ å¯ä»¥ç”¨äºå®šä¹‰å‚æ•°çš„è¡Œä¸ºï¼ŒåŒæ ·å¯ä»¥å®šä¹‰è¿”å›å€¼è¡Œä¸ºï¼Œå½“ç”¨ trait é™å®šè¿”å›å€¼ç±»å‹æ—¶ï¼Œä¸èƒ½åŒæ—¶ï¼ˆif/elseï¼‰è¿”å›å¤šç§å®ç°äº†è¯¥ trait çš„ç±»å‹ã€‚ pub trait Summary { fn summarize(\u0026amp;self) -\u0026gt; String; } pub struct Article{ pub title: String, } impl Summary for Article { fn summarize(\u0026amp;self) -\u0026gt; String { format!(\u0026#34;{}\u0026#34;, self.title) } } pub fn notify(item: impl Summary) { println!(\u0026#34;{}\u0026#34;, item.summarize()); } // trait bound è¯­æ³•ç³–ç‰ˆæœ¬ pub fn notify\u0026lt;T: Summary\u0026gt;(item: T) { println!(\u0026#34;{}\u0026#34;, item.summarize()); } å®šä¹‰å‚æ•°è¡Œä¸º é€šè¿‡ impl ï¼š fn notify(item: impl TraitName) ï¼Œç”¨äºç®€å•æ˜äº†çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¸€ä¸ªå‚æ•° é€šè¿‡ trait bound ï¼š fn notify\u0026lt;T: TraitName\u0026gt; (item: T) ï¼Œç”¨äºæ›´å¤æ‚çš„åœºæ™¯ï¼Œæ¯”å¦‚å¤šä¸ªå‚æ•°ç”¨äºå‡å°‘ä»£ç  å¯ä»¥é€šè¿‡ + è¿æ¥ï¼š fn notify(T: TraitName + Display) (item: T)\nå¯ä»¥é€šè¿‡ where å­å¥\nfn some_function\u0026lt;T: Display + Clone, U: Clone + Debug\u0026gt;(t: T, u: U) -\u0026gt; i32 { // vs fn some_function\u0026lt;T, U\u0026gt;(t: T, u: U) -\u0026gt; i32 where T: Display + Clone, U: Clone + Debug { Trait Objects å¯¹æ¯”æ³›å‹ï¼š\næ³›å‹ä¼šåœ¨ç¼–è¯‘æœŸå±•å¼€ï¼šå°†ç¡®å®šçš„ç±»å‹æ›¿æ¢æ³›å‹å‚æ•°å±•å¼€æˆéæ³›å‹çš„å®ç°ã€‚æ–¹æ³•è°ƒç”¨åœ¨ç¼–è¯‘æœŸå°±èƒ½ç¡®å®šã€‚ \u0026ndash; é™æ€åˆ†é… Trait Object åœ¨ç¼–è¯‘æœŸç¡®å®šæ–¹æ³•è°ƒç”¨ã€‚ \u0026ndash; åŠ¨æ€åˆ†é… åªèƒ½ä½¿ç”¨ å¯¹è±¡å®‰å…¨ï¼ˆobject-safeï¼‰ çš„ç‰¹æ€§ä½œä¸º Trait Object ã€‚å¯¹è±¡å®‰å…¨çš„ç‰¹æ€§å®šä¹‰çš„æ‰€ä»¥æ–¹æ³•å¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼š\næ‰€æœ‰æ–¹æ³•è¿”å›ç±»å‹ä¸èƒ½æ˜¯ Self æ‰€æœ‰æ–¹æ³•ä¸åŒ…å«æ³›å‹å½¢å‚ é»„é‡‘è§„åˆ™ï¼šæˆ‘ä»¬å¿…é¡»å°†ä¸€äº›åŠ¨æ€å¤§å°çš„ç±»å‹çš„å€¼æ”¾åœ¨æŒ‡é’ˆåé¢ï¼Œé€šè¿‡æŒ‡é’ˆå¼•ç”¨ã€‚\næ¯ä¸€ä¸ª trait éƒ½æ˜¯ä¸€ä¸ªåŠ¨æ€å¤§å°çš„ç±»å‹ï¼Œå¦‚æœè¦å°† trait å½“ä½œå¯¹è±¡ä½¿ç”¨å¿…é¡»é€šè¿‡æŒ‡é’ˆå¼•ç”¨ï¼Œå¦‚ï¼š\n\u0026amp;dyn Trait Box\u0026lt;dyn Trait\u0026gt; Rc\u0026lt;dyn Trait\u0026gt; Sized ç‰¹æ€§ç”¨äºæ ‡å¿—ç±»å‹å¤§å°æ˜¯å¦ç¼–è¯‘æœŸå¯çŸ¥ï¼Œå¹¶ä¸”åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨ä¸ºæ‰€æœ‰å†…å®¹éƒ½å®ç°ã€‚\nfn generic\u0026lt;T\u0026gt;(t: T) { // --snip-- } // ç­‰äº fn generic\u0026lt;T: Sized\u0026gt;(t: T) { // --snip-- } å¯ä»¥é€šè¿‡ ?Sized æ¥é¿å…è¿™ç§é»˜è®¤è¡Œä¸ºï¼š\nfn generic\u0026lt;T: ?Sized\u0026gt;(t: \u0026amp;T) { // --snip-- } ","permalink":"https://notes.0081800.xyz/notes/20200629180345-traits/","summary":"Traits å®šä¹‰è¡Œä¸ºåœ¨å¤šä¸ªç±»å‹ä¸­å…±äº«ã€‚ å¯ä»¥å®šä¹‰é»˜è®¤è¡Œä¸ºåœ¨å®ç°è€…ä¸­é—´å…±äº«ã€‚ å¯ä»¥ç”¨äºå®šä¹‰å‚æ•°çš„è¡Œä¸ºï¼ŒåŒæ ·å¯ä»¥å®šä¹‰è¿”å›å€¼è¡Œä¸ºï¼Œå½“ç”¨ trait é™å®šè¿”å›å€¼ç±»å‹æ—¶ï¼Œä¸èƒ½åŒæ—¶ï¼ˆif/elseï¼‰è¿”å›å¤šç§å®ç°äº†è¯¥ trait çš„ç±»å‹ã€‚ pub trait Summary { fn summarize(\u0026amp;self) -\u0026gt; String; } pub struct Article{ pub title: String, } impl Summary for Article { fn summarize(\u0026amp;self) -\u0026gt; String { format!(\u0026#34;{}\u0026#34;, self.title) } } pub fn notify(item: impl Summary) { println!(\u0026#34;{}\u0026#34;, item.summarize()); } // trait bound è¯­æ³•ç³–ç‰ˆæœ¬ pub fn notify\u0026lt;T: Summary\u0026gt;(item: T) { println!(\u0026#34;{}\u0026#34;, item.summarize()); } å®šä¹‰å‚æ•°è¡Œä¸º é€šè¿‡ impl ï¼š fn notify(item: impl TraitName) ï¼Œç”¨äºç®€å•æ˜äº†çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¸€ä¸ªå‚æ•° é€šè¿‡ trait bound ï¼š fn notify\u0026lt;T: TraitName\u0026gt; (item: T) ï¼Œç”¨äºæ›´å¤æ‚çš„åœºæ™¯ï¼Œæ¯”å¦‚å¤šä¸ªå‚æ•°ç”¨äºå‡å°‘ä»£ç  å¯ä»¥é€šè¿‡ + è¿æ¥ï¼š fn notify(T: TraitName + Display) (item: T)","title":"Traits"},{"content":"enum Result\u0026lt;T, E\u0026gt; { Ok(T), Err(E), } ? æ“ä½œç¬¦ å¯¹æ¯”\nuse std::io; use std::io::Read; use std::fs::File; fn read_username_from_file() -\u0026gt; Result\u0026lt;String, io::Error\u0026gt; { let f = File::open(\u0026#34;hello.txt\u0026#34;); let mut f = match f { Ok(file) =\u0026gt; file, Err(e) =\u0026gt; return Err(e), }; let mut s = String::new(); match f.read_to_string(\u0026amp;mut s) { Ok(_) =\u0026gt; Ok(s), Err(e) =\u0026gt; Err(e), } } å’Œ\nuse std::io; use std::io::Read; use std::fs::File; fn read_username_from_file() -\u0026gt; Result\u0026lt;String, io::Error\u0026gt; { let mut f = File::open(\u0026#34;hello.txt\u0026#34;)?; let mut s = String::new(); f.read_to_string(\u0026amp;mut s)?; Ok(s) } å’Œ\nuse std::io; use std::io::Read; use std::fs::File; fn read_username_from_file() -\u0026gt; Result\u0026lt;String, io::Error\u0026gt; { let mut s = String::new(); File::open(\u0026#34;hello.txt\u0026#34;)?.read_to_string(\u0026amp;mut s)?; Ok(s) } ? æ“ä½œç¬¦ç”¨äºè¿”å› Result\u0026lt;T,E\u0026gt; çš„è¡¨è¾¾å¼åé¢ ? æ“ä½œç¬¦åªèƒ½ç”¨äºè¿”å› Result\u0026lt;T,E\u0026gt; çš„å‡½æ•°å†…éƒ¨ ? æ“ä½œç¬¦æ‰§è¡Œå¦‚ä¸‹æ“ä½œ å¦‚æœè¡¨è¾¾å¼è¿”å› Ok åˆ™è¿”å› Ok å†…çš„å€¼ï¼Œå¹¶ä¸”ç»§ç»­æ‰§è¡Œä»£ç  å¦‚æœè¡¨è¾¾å¼è¿”å› Err åˆ™ç›´æ¥è¿”å›æ•´ä¸ªå‡½æ•°ï¼Œå¹¶è°ƒç”¨ From trait å®šä¹‰çš„ from å‡½æ•°å°†é”™è¯¯è½¬æ¢ä¸ºè¿”å›å®šä¹‰çš„é”™è¯¯ç±»å‹ ","permalink":"https://notes.0081800.xyz/notes/20200629180301-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/","summary":"enum Result\u0026lt;T, E\u0026gt; { Ok(T), Err(E), } ? æ“ä½œç¬¦ å¯¹æ¯”\nuse std::io; use std::io::Read; use std::fs::File; fn read_username_from_file() -\u0026gt; Result\u0026lt;String, io::Error\u0026gt; { let f = File::open(\u0026#34;hello.txt\u0026#34;); let mut f = match f { Ok(file) =\u0026gt; file, Err(e) =\u0026gt; return Err(e), }; let mut s = String::new(); match f.read_to_string(\u0026amp;mut s) { Ok(_) =\u0026gt; Ok(s), Err(e) =\u0026gt; Err(e), } } å’Œ\nuse std::io; use std::io::Read; use std::fs::File; fn read_username_from_file() -\u0026gt; Result\u0026lt;String, io::Error\u0026gt; { let mut f = File::open(\u0026#34;hello.","title":"é”™è¯¯å¤„ç†"},{"content":"let some_u8_value = Some(0u8); // Without `if let` match some_u8_value { Some(3) =\u0026gt; println!(\u0026#34;three\u0026#34;); - =\u0026gt; (), } // With `if let` if let Some(3) = some_u8_value { println!(\u0026#34;three\u0026#34;); } ","permalink":"https://notes.0081800.xyz/notes/20200629180202-if_let/","summary":"let some_u8_value = Some(0u8); // Without `if let` match some_u8_value { Some(3) =\u0026gt; println!(\u0026#34;three\u0026#34;); - =\u0026gt; (), } // With `if let` if let Some(3) = some_u8_value { println!(\u0026#34;three\u0026#34;); } ","title":"if let"},{"content":"åŒ…ã€crate å’Œæ¨¡å— Cargo.toml è¡¨ç¤ºä¸€ä¸ªåŒ…\nåŒ…å« 0 ä¸ªæˆ– 1 ä¸ªåº“ crateï¼ˆ src/lib.rs ï¼‰ åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªå¯æ‰§è¡Œ crate ï¼ˆ src/main.rs src/bin/*.rs ï¼‰ å¯ä»¥åŒæ—¶åŒ…å«ä»¥ä¸Šä¸¤ç§ æ¨¡å—åŒ–ç³»ç»Ÿ\næ¨¡å—ï¼Œä¸€ç§ç»„ç»‡ä»£ç å’Œæ§åˆ¶è·¯å¾„éšç§çš„æ–¹æ³•\næ‰€æœ‰çš„é¡¹ï¼ˆå‡½æ•°ï¼Œæ–¹æ³•ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ï¼Œæ¨¡å—å’Œå¸¸é‡ï¼‰é»˜è®¤ç§æœ‰ ä¸å…è®¸ä½¿ç”¨ç§æœ‰çš„å­æ¨¡å—çš„ä»£ç  å¯ä»¥ä½¿ç”¨çˆ¶æ¨¡å—å’ŒåŒçº§æ¨¡å—çš„ä»£ç  è·¯å¾„ï¼Œä¸€ç§å‘½åé¡¹çš„æ–¹æ³•\nuse , ä¸€ä¸ªå°†è·¯å¾„å¸¦åˆ°å½“å‰ä½œç”¨åŸŸçš„å…³é”®å­—\npub ï¼Œä¸€ä¸ªå°†é¡¹å…¬å¼€çš„å…³é”®å­—\nas ï¼Œä¸€ä¸ªå°†å¸¦åˆ°å½“å‰ä½œç”¨åŸŸé¡¹é‡å‘½åçš„å…³é”®å­—\nsuper , ä¸€ä¸ªç›¸å½“äºæ–‡ä»¶ç³»ç»Ÿé‡Œ .. ä½œç”¨çš„å…³é”®å­—\n* ï¼Œé€šé…ç¬¦ç”¨äºä½¿ç”¨åˆ¶å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰é¡¹\npub use ç”¨äºé‡æ–°æš´éœ²å¯ä»¥è®¿é—®çš„æ¨¡å—\næ¨¡å—å¯ä»¥æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸€å®šè§„åˆ™æ‹†åˆ†åˆ°ä¸åŒæ–‡ä»¶ä¸‹\nä½¿ç”¨åŒä¸€ä¸ª use æ¸…ç†åµŒå¥—çš„ use\nuse std::cmp::Ordering; use std::io; use std::{cmp::Ordering, io}; use std::io; use std::io::Write; use std::{self, Write}; mod sound { pub mod instrument { pub mod woodwind { pub fn clarinet() { super::breathe_in(); } } fn breathe_in() { } } mod voice { } } fn main() { // ç»å¯¹è·¯å¾„ä»¥ crate å¼€å§‹ï¼Œcrate è¡¨ç¤ºæ ¹ crate::sound::instrument::woodwind::clarinet(); // ç›¸å¯¹è·¯å¾„ sound::instrument::woodwind::clarinet(); } ä¸Šé¢ä¾‹å­ sound æ¨¡å—å¹¶éå…¬å¼€ï¼Œä½†æ˜¯ç”±äº main å’Œ sound å®šä¹‰åœ¨åŒä¸€æ¨¡å—ä¸‹ï¼Œæ‰€ä»¥å…è®¸åœ¨ main ä¸­å¼•ç”¨ sound ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200629180233-%E6%A8%A1%E5%9D%97%E5%8C%96/","summary":"åŒ…ã€crate å’Œæ¨¡å— Cargo.toml è¡¨ç¤ºä¸€ä¸ªåŒ…\nåŒ…å« 0 ä¸ªæˆ– 1 ä¸ªåº“ crateï¼ˆ src/lib.rs ï¼‰ åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªå¯æ‰§è¡Œ crate ï¼ˆ src/main.rs src/bin/*.rs ï¼‰ å¯ä»¥åŒæ—¶åŒ…å«ä»¥ä¸Šä¸¤ç§ æ¨¡å—åŒ–ç³»ç»Ÿ\næ¨¡å—ï¼Œä¸€ç§ç»„ç»‡ä»£ç å’Œæ§åˆ¶è·¯å¾„éšç§çš„æ–¹æ³•\næ‰€æœ‰çš„é¡¹ï¼ˆå‡½æ•°ï¼Œæ–¹æ³•ï¼Œç»“æ„ä½“ï¼Œæšä¸¾ï¼Œæ¨¡å—å’Œå¸¸é‡ï¼‰é»˜è®¤ç§æœ‰ ä¸å…è®¸ä½¿ç”¨ç§æœ‰çš„å­æ¨¡å—çš„ä»£ç  å¯ä»¥ä½¿ç”¨çˆ¶æ¨¡å—å’ŒåŒçº§æ¨¡å—çš„ä»£ç  è·¯å¾„ï¼Œä¸€ç§å‘½åé¡¹çš„æ–¹æ³•\nuse , ä¸€ä¸ªå°†è·¯å¾„å¸¦åˆ°å½“å‰ä½œç”¨åŸŸçš„å…³é”®å­—\npub ï¼Œä¸€ä¸ªå°†é¡¹å…¬å¼€çš„å…³é”®å­—\nas ï¼Œä¸€ä¸ªå°†å¸¦åˆ°å½“å‰ä½œç”¨åŸŸé¡¹é‡å‘½åçš„å…³é”®å­—\nsuper , ä¸€ä¸ªç›¸å½“äºæ–‡ä»¶ç³»ç»Ÿé‡Œ .. ä½œç”¨çš„å…³é”®å­—\n* ï¼Œé€šé…ç¬¦ç”¨äºä½¿ç”¨åˆ¶å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰é¡¹\npub use ç”¨äºé‡æ–°æš´éœ²å¯ä»¥è®¿é—®çš„æ¨¡å—\næ¨¡å—å¯ä»¥æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¸€å®šè§„åˆ™æ‹†åˆ†åˆ°ä¸åŒæ–‡ä»¶ä¸‹\nä½¿ç”¨åŒä¸€ä¸ª use æ¸…ç†åµŒå¥—çš„ use\nuse std::cmp::Ordering; use std::io; use std::{cmp::Ordering, io}; use std::io; use std::io::Write; use std::{self, Write}; mod sound { pub mod instrument { pub mod woodwind { pub fn clarinet() { super::breathe_in(); } } fn breathe_in() { } } mod voice { } } fn main() { // ç»å¯¹è·¯å¾„ä»¥ crate å¼€å§‹ï¼Œcrate è¡¨ç¤ºæ ¹ crate::sound::instrument::woodwind::clarinet(); // ç›¸å¯¹è·¯å¾„ sound::instrument::woodwind::clarinet(); } ä¸Šé¢ä¾‹å­ sound æ¨¡å—å¹¶éå…¬å¼€ï¼Œä½†æ˜¯ç”±äº main å’Œ sound å®šä¹‰åœ¨åŒä¸€æ¨¡å—ä¸‹ï¼Œæ‰€ä»¥å…è®¸åœ¨ main ä¸­å¼•ç”¨ sound ã€‚","title":"æ¨¡å—åŒ–"},{"content":"#[derive(Debug)] enum UsState { Alabama, Alaska, } enum Coin { Penny, Nickel, Dime, Quarter(UsState), } fn value_cents(coin: Coin) -\u0026gt; u8 { match coin { Coin::Peny =\u0026gt; { println!(\u0026#34;Lucy penny!\u0026#34;); 1 }, Coin::Nickel =\u0026gt; 5, Coin::Dime =\u0026gt; 10, Coin::Quarter(state) =\u0026gt; { println!(\u0026#34;State quarter from {:?}!\u0026#34;, state); 25 }, } } // Option fn plus_one(x: Option\u0026lt;i32\u0026gt;) -\u0026gt; Option\u0026lt;i32\u0026gt; { match x { None =\u0026gt; None, Some(i) =\u0026gt; Some(i + 1), } } let five = Some(5); let six = plus_one(five); let none = plus_one(None); ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ match è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œ _ å¯ä»¥ç”¨äºæ‰€æœ‰æœªè¦†ç›–çš„æƒ…å†µã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200629180131-%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/","summary":"#[derive(Debug)] enum UsState { Alabama, Alaska, } enum Coin { Penny, Nickel, Dime, Quarter(UsState), } fn value_cents(coin: Coin) -\u0026gt; u8 { match coin { Coin::Peny =\u0026gt; { println!(\u0026#34;Lucy penny!\u0026#34;); 1 }, Coin::Nickel =\u0026gt; 5, Coin::Dime =\u0026gt; 10, Coin::Quarter(state) =\u0026gt; { println!(\u0026#34;State quarter from {:?}!\u0026#34;, state); 25 }, } } // Option fn plus_one(x: Option\u0026lt;i32\u0026gt;) -\u0026gt; Option\u0026lt;i32\u0026gt; { match x { None =\u0026gt; None, Some(i) =\u0026gt; Some(i + 1), } } let five = Some(5); let six = plus_one(five); let none = plus_one(None); ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ match è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œ _ å¯ä»¥ç”¨äºæ‰€æœ‰æœªè¦†ç›–çš„æƒ…å†µã€‚","title":"æ¨¡å¼åŒ¹é…"},{"content":" å¤šç§ç±»å‹çš„é›†åˆä½“ï¼Œä¸€ä¸ªç±»å‹çš„å˜é‡å¯ä»¥å­˜å‚¨å¤šç§ç±»å‹çš„å€¼ï¼Œæšä¸¾çš„æ¯ä¸€é¡¹éƒ½æ˜¯è¯¥æšä¸¾ç±»å‹çš„å˜ä½“ï¼š\nenum IpAddrKind { V4, V6, } fn main() { route(IpAddrKind::V4); route(IpAddrkind::V6); } fn route(kind: IpAddrKind) { // ... } æšä¸¾çš„æ¯ä¸€ä¸ªå˜ä½“éƒ½å¯ä»¥ç›´æ¥åŒ…å«æ•°æ®ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå˜ä½“å¯ä»¥åŒ…å«ä¸åŒçš„æ•°æ®ç±»å‹å’Œä¸åŒçš„æ•°é‡ï¼Œç”šè‡³å¯ä»¥ç›´æ¥æ”¾ç»“æ„ä½“ï¼ˆä¹Ÿå¯ä»¥æ˜¯åŒ¿åçš„ï¼‰ã€‚\nstruct Ipv4Addr { // --snip-- } enum IpAddr { V4(Ipv4Addr), V6(String), } let home = IpAddr::V4(127, 0, 0, 1); let loopback = IpAddr::V6(String::from(\u0026#34;::1\u0026#34;)); struct Message { Quit, Move{ x: i32, y: i32 }, // anonymous struct Write(String), ChangeColor(i32, i32, i32), // three i32 values } æšä¸¾ä¹Ÿå¯ä»¥é€šè¿‡ impl å®ç°æ–¹æ³•\nimpl Message { fn call(\u0026amp;self) { match self { // ... } } } let m = Message::Write(String::from(\u0026#34;hello\u0026#34;)); m.call(); Option\nenum Option\u0026lt;T\u0026gt; { Some(T), None, } ç”±äº Option å¾ˆé‡è¦ï¼Œæ‰€ä»¥å·²ç»åœ¨ prelude åŒ…å«ï¼Œä¹Ÿå°±æ˜¯è¯´æ— éœ€ä½¿ç”¨ Option:: å‰ç¼€å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ Some å’Œ None\nlet some_number = Some(5); let some_number: Option\u0026lt;i32\u0026gt; = Some(5); let some_number: Option\u0026lt;i32\u0026gt; = Option\u0026lt;i32\u0026gt;::Some(5); let some_number: Option\u0026lt;i32\u0026gt; = None; let some_number: Option\u0026lt;i32\u0026gt; = Option::None; ","permalink":"https://notes.0081800.xyz/notes/20200629180041-%E6%9E%9A%E4%B8%BE/","summary":"å¤šç§ç±»å‹çš„é›†åˆä½“ï¼Œä¸€ä¸ªç±»å‹çš„å˜é‡å¯ä»¥å­˜å‚¨å¤šç§ç±»å‹çš„å€¼ï¼Œæšä¸¾çš„æ¯ä¸€é¡¹éƒ½æ˜¯è¯¥æšä¸¾ç±»å‹çš„å˜ä½“ï¼š\nenum IpAddrKind { V4, V6, } fn main() { route(IpAddrKind::V4); route(IpAddrkind::V6); } fn route(kind: IpAddrKind) { // ... } æšä¸¾çš„æ¯ä¸€ä¸ªå˜ä½“éƒ½å¯ä»¥ç›´æ¥åŒ…å«æ•°æ®ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå˜ä½“å¯ä»¥åŒ…å«ä¸åŒçš„æ•°æ®ç±»å‹å’Œä¸åŒçš„æ•°é‡ï¼Œç”šè‡³å¯ä»¥ç›´æ¥æ”¾ç»“æ„ä½“ï¼ˆä¹Ÿå¯ä»¥æ˜¯åŒ¿åçš„ï¼‰ã€‚\nstruct Ipv4Addr { // --snip-- } enum IpAddr { V4(Ipv4Addr), V6(String), } let home = IpAddr::V4(127, 0, 0, 1); let loopback = IpAddr::V6(String::from(\u0026#34;::1\u0026#34;)); struct Message { Quit, Move{ x: i32, y: i32 }, // anonymous struct Write(String), ChangeColor(i32, i32, i32), // three i32 values } æšä¸¾ä¹Ÿå¯ä»¥é€šè¿‡ impl å®ç°æ–¹æ³•","title":"æšä¸¾"},{"content":"ç»“æ„ä½“ å…ƒç»„ç»“æ„ä½“ï¼ˆtuple structï¼‰ ç”¨äºå‘½åå…ƒç»„å¹¶å’Œå…¶ä»–å…ƒç»„è¿›è¡ŒåŒºåˆ†ï¼š\nstruct Color(i32, i32, i32); struct Point(i32, i32, i32); let black = Color(0, 0, 0); let origin = Point(0, 0, 0); ç”±äºå®šä¹‰äº†å…ƒç»„ç»“æ„ä½“æ‰€æœ‰ black å’Œ origin æ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»å‹ã€‚\næ²¡æœ‰å­—æ®µçš„ç»“æ„ä½“ï¼šç±»å•å…ƒï¼ˆUnit-Likeï¼‰ç»“æ„ä½“ æ²¡æœ‰ä»»ä½•å­—æ®µçš„ç»“æ„ä½“å’Œå•å…ƒç±»å‹ () ç±»ä¼¼ï¼Œç”¨äºå®ç°ä¸€äº›ç‰¹æ€§ï¼ˆtraitï¼‰ä½†æ˜¯æ²¡æœ‰ä»»ä½•æ•°æ®ã€‚\næ–¹æ³•è¯­æ³• self å æœ‰æ‰€æœ‰æƒ\n\u0026amp;self ä¸å¯å˜å€Ÿç”¨\n\u0026amp;mut self å¯å˜å€Ÿç”¨\nè‡ªåŠ¨å¼•ç”¨å’Œè§£å¼•ç”¨\nåœ¨ Rust ä¸­è¿›è¡Œæ–¹æ³•è°ƒç”¨ï¼Œå¦‚ object.something ï¼ŒRust ä¼šè‡ªåŠ¨æ·»åŠ  \u0026amp; \u0026amp;mut æˆ–è€… * , ç”¨ä»¥è‡ªåŠ¨åŒ¹é…æ–¹æ³•ç­¾åã€‚ä»¥ä¸‹æ˜¯ç­‰ä»·çš„ï¼š\np1.distance(\u0026amp;p2); (\u0026amp;p1).distance(\u0026amp;p2); æ–¹æ³•å¦‚æœä¸å£°æ˜ self è¡Œå‚åˆ™æ˜¯ä¸€ä¸ªå…³è”æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰ï¼Œé€šè¿‡ :: è°ƒç”¨\nstruct Rectangle { width: u32, height: u32, } impl Rectangle { fn square(size: u32) -\u0026gt; Rectangle { Rectangle{ width: size, height: size } } } let r = Rectangle::square(10); æ¯ä¸€ä¸ªç»“æ„ä½“å¯ä»¥æœ‰å¤šä¸ª impl å—ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200629175956-%E7%BB%93%E6%9E%84%E4%BD%93/","summary":"ç»“æ„ä½“ å…ƒç»„ç»“æ„ä½“ï¼ˆtuple structï¼‰ ç”¨äºå‘½åå…ƒç»„å¹¶å’Œå…¶ä»–å…ƒç»„è¿›è¡ŒåŒºåˆ†ï¼š\nstruct Color(i32, i32, i32); struct Point(i32, i32, i32); let black = Color(0, 0, 0); let origin = Point(0, 0, 0); ç”±äºå®šä¹‰äº†å…ƒç»„ç»“æ„ä½“æ‰€æœ‰ black å’Œ origin æ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»å‹ã€‚\næ²¡æœ‰å­—æ®µçš„ç»“æ„ä½“ï¼šç±»å•å…ƒï¼ˆUnit-Likeï¼‰ç»“æ„ä½“ æ²¡æœ‰ä»»ä½•å­—æ®µçš„ç»“æ„ä½“å’Œå•å…ƒç±»å‹ () ç±»ä¼¼ï¼Œç”¨äºå®ç°ä¸€äº›ç‰¹æ€§ï¼ˆtraitï¼‰ä½†æ˜¯æ²¡æœ‰ä»»ä½•æ•°æ®ã€‚\næ–¹æ³•è¯­æ³• self å æœ‰æ‰€æœ‰æƒ\n\u0026amp;self ä¸å¯å˜å€Ÿç”¨\n\u0026amp;mut self å¯å˜å€Ÿç”¨\nè‡ªåŠ¨å¼•ç”¨å’Œè§£å¼•ç”¨\nåœ¨ Rust ä¸­è¿›è¡Œæ–¹æ³•è°ƒç”¨ï¼Œå¦‚ object.something ï¼ŒRust ä¼šè‡ªåŠ¨æ·»åŠ  \u0026amp; \u0026amp;mut æˆ–è€… * , ç”¨ä»¥è‡ªåŠ¨åŒ¹é…æ–¹æ³•ç­¾åã€‚ä»¥ä¸‹æ˜¯ç­‰ä»·çš„ï¼š\np1.distance(\u0026amp;p2); (\u0026amp;p1).distance(\u0026amp;p2); æ–¹æ³•å¦‚æœä¸å£°æ˜ self è¡Œå‚åˆ™æ˜¯ä¸€ä¸ªå…³è”æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰ï¼Œé€šè¿‡ :: è°ƒç”¨\nstruct Rectangle { width: u32, height: u32, } impl Rectangle { fn square(size: u32) -\u0026gt; Rectangle { Rectangle{ width: size, height: size } } } let r = Rectangle::square(10); æ¯ä¸€ä¸ªç»“æ„ä½“å¯ä»¥æœ‰å¤šä¸ª impl å—ã€‚","title":"ç»“æ„ä½“"},{"content":" ç±»å‹å‰ç½® \u0026amp; è¡¨ç¤ºå¼•ç”¨ï¼Œå¼•ç”¨å…è®¸å˜é‡æŒ‡å‘ä¸€ä¸ªå€¼ä½†æ˜¯ä¸å‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»ã€‚ å¼•ç”¨ä¸å æœ‰æ‰€æœ‰æƒï¼Œæ‰€ä»¥å˜é‡è¶…å‡ºä½œç”¨åŸŸä¹‹åä¸ä¼šè§¦å‘ drop è°ƒç”¨ã€‚ å¼•ç”¨ä½œä¸ºå‡½æ•°å½¢å‚è¢«æˆä¸ºå€Ÿç”¨ï¼ˆborrowingï¼‰ å¯å˜å¼•ç”¨ é’ˆå¯¹ç‰¹å®šä½œç”¨åŸŸä¸‹çš„ç‰¹å®šæ•°æ®åªèƒ½åˆ›å»ºä¸€ä¸ªå¯å˜å¼•ç”¨ã€‚å¦‚æœè¦åˆ›å»ºå¤šä¸ªå¯å˜å¼•ç”¨å¯ä»¥é€šè¿‡å¤§æ‹¬å·åˆ›å»ºæ–°çš„ä½œç”¨åŸŸ\nlet mut s = String::from(\u0026#34;hello\u0026#34;); { let s1 = mut \u0026amp;s; } let s2 = mut \u0026amp;s; å½“å·²ç»å­˜åœ¨ä¸å¯å˜å¼•ç”¨æ—¶ï¼Œåˆ™æ— æ³•å†åˆ›å»ºå¯å˜å¼•ç”¨ï¼Œä¸‹é¢ä»£ç æ— æ³•ç¼–è¯‘é€šè¿‡\nlet mut s = String::from(\u0026#34;hello\u0026#34;); let s1 = \u0026amp;s; // OK let s2 = \u0026amp;s; // OK let s3 = mut \u0026amp;s; // BIG PROBLEM æ‚¬ç©ºå¼•ç”¨ ä»¥ä¸‹ä»£ç æ˜¯ä¸å…è®¸çš„ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡\nfn main() { let s = dangling_string(); } fn dangling_string() -\u0026gt; \u0026amp;String { let s = String::from(\u0026#34;hello\u0026#34;); \u0026amp;s } ä¸Šé¢ä»£ç  s åœ¨å‡½æ•°å†…éƒ¨åˆ†é…ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œå®Œæˆå s å°†è¢«é‡Šæ”¾ï¼Œæ‰€ä»¥è¿”å› s çš„å¼•ç”¨ä¼šé€ æˆæ‚¬ç©ºå¼•ç”¨ã€‚\nå¼•ç”¨çš„è§„åˆ™ ä»»ä½•æ—¶é—´é’ˆå¯¹ä¸€ä¸ªå˜é‡ï¼Œåªèƒ½æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨æˆ–è€…ä¸€ä¸ªå¯å˜å¼•ç”¨ å¼•ç”¨å¿…é¡»ä¸€ç›´æœ‰æ•ˆï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰ åˆ†ç‰‡ åˆ†ç‰‡æ•°æ®ç±»å‹æ²¡æœ‰æ‰€æœ‰æƒã€‚åˆ†ç‰‡å¼•ç”¨ä¸€ç‰‡è¿ç»­çš„åºåˆ—çš„é›†åˆã€‚\nå­—ç¬¦ä¸²åˆ†ç‰‡ å­—ç¬¦ä¸²åˆ†ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨æŒ‡å‘ String çš„ä¸€éƒ¨åˆ†ã€‚\nlet s = String::from(\u0026#34;Hello world!\u0026#34;) let hello = \u0026amp;s[0..5]; let world = \u0026amp;s[6..11]; å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆ\u0026amp;strï¼‰æ˜¯ä¸ªæŒ‡å‘äºŒè¿›åˆ¶ç¨‹åºä¸€å—åŒºåŸŸçš„å­—ç¬¦ä¸²åˆ†ç‰‡ï¼Œæ‰€ä»¥å‡½æ•°å£°æ˜å­—ç¬¦ä¸²å‚æ•°ä½¿ç”¨ \u0026amp;str ä¼šæ›´é€šç”¨ï¼š\nfn main() { let s = String::from(\u0026#34;hello world\u0026#34;); let word = first_word(\u0026amp;s[..]); let sl = \u0026#34;hello world\u0026#34;; let w1 = first_word(\u0026amp;sl[..]); let w2 = first_word(sl); } fn first_word(s: \u0026amp;str) -\u0026gt; \u0026amp;str { \u0026amp;s[..] } å…¶ä»–åˆ†ç‰‡ let a = [1, 2, 3, 4, 5]; let a1 = \u0026amp;a[..]; ç›¸å…³åšæ–‡ Rust Means Never Having to Close a Socket ","permalink":"https://notes.0081800.xyz/notes/20200629174943-%E5%BC%95%E7%94%A8%E5%92%8C%E5%80%9F%E7%94%A8/","summary":"ç±»å‹å‰ç½® \u0026amp; è¡¨ç¤ºå¼•ç”¨ï¼Œå¼•ç”¨å…è®¸å˜é‡æŒ‡å‘ä¸€ä¸ªå€¼ä½†æ˜¯ä¸å‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»ã€‚ å¼•ç”¨ä¸å æœ‰æ‰€æœ‰æƒï¼Œæ‰€ä»¥å˜é‡è¶…å‡ºä½œç”¨åŸŸä¹‹åä¸ä¼šè§¦å‘ drop è°ƒç”¨ã€‚ å¼•ç”¨ä½œä¸ºå‡½æ•°å½¢å‚è¢«æˆä¸ºå€Ÿç”¨ï¼ˆborrowingï¼‰ å¯å˜å¼•ç”¨ é’ˆå¯¹ç‰¹å®šä½œç”¨åŸŸä¸‹çš„ç‰¹å®šæ•°æ®åªèƒ½åˆ›å»ºä¸€ä¸ªå¯å˜å¼•ç”¨ã€‚å¦‚æœè¦åˆ›å»ºå¤šä¸ªå¯å˜å¼•ç”¨å¯ä»¥é€šè¿‡å¤§æ‹¬å·åˆ›å»ºæ–°çš„ä½œç”¨åŸŸ\nlet mut s = String::from(\u0026#34;hello\u0026#34;); { let s1 = mut \u0026amp;s; } let s2 = mut \u0026amp;s; å½“å·²ç»å­˜åœ¨ä¸å¯å˜å¼•ç”¨æ—¶ï¼Œåˆ™æ— æ³•å†åˆ›å»ºå¯å˜å¼•ç”¨ï¼Œä¸‹é¢ä»£ç æ— æ³•ç¼–è¯‘é€šè¿‡\nlet mut s = String::from(\u0026#34;hello\u0026#34;); let s1 = \u0026amp;s; // OK let s2 = \u0026amp;s; // OK let s3 = mut \u0026amp;s; // BIG PROBLEM æ‚¬ç©ºå¼•ç”¨ ä»¥ä¸‹ä»£ç æ˜¯ä¸å…è®¸çš„ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡\nfn main() { let s = dangling_string(); } fn dangling_string() -\u0026gt; \u0026amp;String { let s = String::from(\u0026#34;hello\u0026#34;); \u0026amp;s } ä¸Šé¢ä»£ç  s åœ¨å‡½æ•°å†…éƒ¨åˆ†é…ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œå®Œæˆå s å°†è¢«é‡Šæ”¾ï¼Œæ‰€ä»¥è¿”å› s çš„å¼•ç”¨ä¼šé€ æˆæ‚¬ç©ºå¼•ç”¨ã€‚","title":"å¼•ç”¨å’Œå€Ÿç”¨"},{"content":"è§„åˆ™ æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡å«åšæ‰€æœ‰è€…ï¼ˆownerï¼‰ åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€… å½“æ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸåˆ™å€¼è¢«é”€æ¯ å˜é‡ä½œç”¨åŸŸ ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªå˜é‡æœ‰æ•ˆçš„èŒƒå›´ å½“å˜é‡è¶…å‡ºä½œç”¨åŸŸèŒƒå›´è‡ªåŠ¨è°ƒç”¨å¯¹è±¡çš„ drop æ–¹æ³•è¿›è¡Œå†…å­˜å½’è¿˜æ“ä½œ å˜é‡ç›¸äº’ä½œç”¨ï¼šæ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰ å¯¹äºæ‰€æœ‰åœ¨æ ˆä¸Šåˆ†é…çš„å€¼ï¼ˆå›ºå®šå¤§å°ï¼‰ï¼Œåœ¨è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶éƒ½å¯¹å€¼è¿›è¡Œæ‹·è´ï¼š\nlet x = 5; ley y = x; // copy 5 to y ä½†æ˜¯å¯¹äºåœ¨å †ä¸Šåˆ†é…çš„ï¼Œå˜é‡ä¿å­˜çš„æ˜¯æŒ‡å‘å†…å­˜çš„æŒ‡é’ˆï¼Œæ‰€ä»¥åœ¨èµ‹å€¼æ—¶æ‹·è´çš„ä¹Ÿæ˜¯æŒ‡å‘è¯¥å†…å­˜çš„æŒ‡é’ˆï¼š\nlet s1 = String::from(\u0026#34;hello\u0026#34;); let s2 = s1; ä¸ºäº†ä¿è¯å†…å­˜å®‰å…¨ï¼Œé˜²æ­¢ s1 å’Œ s2 è¶…å‡ºä½œç”¨åŸŸèŒƒå›´è°ƒç”¨ä¸¤æ¬¡ drop é€ æˆé‡å¤çš„å†…å­˜å›æ”¶ï¼ŒRust ä¼šè®© s1 ä¸å†æœ‰æ•ˆï¼Œæ¥é¿å…å¯¹ s1 è¿›è¡Œå›æ”¶ã€‚ç»§ç»­ä½¿ç”¨ s1 ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚è¿™ç§æƒ…å†µå«åšæ‰€æœ‰æƒè½¬ç§»ï¼ˆmoveï¼‰ã€‚\nå˜é‡ç›¸äº’ä½œç”¨ï¼šå…‹éš†ï¼ˆCloneï¼‰ å…‹éš†ç”¨äºæ·±åº¦æ‹·è´å˜é‡ï¼š\nlet s1 = String::from(\u0026#34;hello\u0026#34;); let s2 = s1.clone(); println!(s1); å˜é‡é¡¹ç›®ä½œç”¨ï¼šæ‹·è´ï¼ˆCopyï¼‰ å¦‚æœæ•°æ®ç±»å‹çš„å¤§å°åœ¨ç¼–è¯‘æœŸèƒ½å¤Ÿç¡®å®šéƒ½å°†å­˜å‚¨åœ¨æ ˆä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå¿«é€Ÿçš„æ‹·è´ã€‚\nCopy ç‰¹æ€§ï¼ˆtraitï¼‰æ³¨è§£ç”¨äºå°†å€¼å­˜è´®åœ¨æ ˆæ ˆä¸Š Copy ç‰¹æ€§æ³¨è§£ä¸èƒ½å’Œ Drop ç‰¹æ€§æ³¨è§£æ··ç”¨ Copy ç‰¹æ€§æ³¨è§£ä½¿ç”¨è§„åˆ™å¦‚ä¸‹ æ‰€æœ‰çš„æ•°å­—ç±»å‹ æ‰€æœ‰çš„å¸ƒå°”å‹ æ‰€æœ‰çš„æµ®ç‚¹å‹ å­—ç¬¦ç±»å‹ æ‰€æœ‰å…ƒç´ éƒ½å®ç°äº† Copy ç‰¹æ€§æ³¨è§£çš„å…ƒç¥– æ‰€æœ‰æƒå’Œå‡½æ•° å‡½æ•°ä¼ é€’å®å‚çš„è§„åˆ™å’Œå˜é‡ç±»ä¼¼ï¼Œä¼ é€’å˜é‡åˆ°ä¸€ä¸ªå‡½æ•°å°†ä¸ºå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»æˆ–è€…æ‹·è´ã€‚\nè¿”å›å€¼å’Œä½œç”¨åŸŸ è¿”å›å€¼å¯ä»¥è½¬ç§»æ‰€æœ‰æƒ å°†ä¸€ä¸ªå€¼èµ‹ç»™å…¶ä»–å˜é‡ä¼šäº§ç”Ÿæ‰€æœ‰æƒè½¬ç§» ä¸€ä¸ªåŒ…å«å †åˆ†é…çš„å˜é‡è¶…å‡ºä½œç”¨åŸŸå°†ä¼šè¢« drop æ¸…ç†ï¼Œé™¤éæ‰€æœ‰æƒè¢«è½¬ç§»åˆ°å…¶ä»–å˜é‡ã€‚ ","permalink":"https://notes.0081800.xyz/notes/20200629174911-%E6%89%80%E6%9C%89%E6%9D%83/","summary":"è§„åˆ™ æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡å«åšæ‰€æœ‰è€…ï¼ˆownerï¼‰ åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€… å½“æ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸåˆ™å€¼è¢«é”€æ¯ å˜é‡ä½œç”¨åŸŸ ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªå˜é‡æœ‰æ•ˆçš„èŒƒå›´ å½“å˜é‡è¶…å‡ºä½œç”¨åŸŸèŒƒå›´è‡ªåŠ¨è°ƒç”¨å¯¹è±¡çš„ drop æ–¹æ³•è¿›è¡Œå†…å­˜å½’è¿˜æ“ä½œ å˜é‡ç›¸äº’ä½œç”¨ï¼šæ‰€æœ‰æƒè½¬ç§»ï¼ˆMoveï¼‰ å¯¹äºæ‰€æœ‰åœ¨æ ˆä¸Šåˆ†é…çš„å€¼ï¼ˆå›ºå®šå¤§å°ï¼‰ï¼Œåœ¨è¿›è¡Œèµ‹å€¼æ“ä½œæ—¶éƒ½å¯¹å€¼è¿›è¡Œæ‹·è´ï¼š\nlet x = 5; ley y = x; // copy 5 to y ä½†æ˜¯å¯¹äºåœ¨å †ä¸Šåˆ†é…çš„ï¼Œå˜é‡ä¿å­˜çš„æ˜¯æŒ‡å‘å†…å­˜çš„æŒ‡é’ˆï¼Œæ‰€ä»¥åœ¨èµ‹å€¼æ—¶æ‹·è´çš„ä¹Ÿæ˜¯æŒ‡å‘è¯¥å†…å­˜çš„æŒ‡é’ˆï¼š\nlet s1 = String::from(\u0026#34;hello\u0026#34;); let s2 = s1; ä¸ºäº†ä¿è¯å†…å­˜å®‰å…¨ï¼Œé˜²æ­¢ s1 å’Œ s2 è¶…å‡ºä½œç”¨åŸŸèŒƒå›´è°ƒç”¨ä¸¤æ¬¡ drop é€ æˆé‡å¤çš„å†…å­˜å›æ”¶ï¼ŒRust ä¼šè®© s1 ä¸å†æœ‰æ•ˆï¼Œæ¥é¿å…å¯¹ s1 è¿›è¡Œå›æ”¶ã€‚ç»§ç»­ä½¿ç”¨ s1 ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚è¿™ç§æƒ…å†µå«åšæ‰€æœ‰æƒè½¬ç§»ï¼ˆmoveï¼‰ã€‚\nå˜é‡ç›¸äº’ä½œç”¨ï¼šå…‹éš†ï¼ˆCloneï¼‰ å…‹éš†ç”¨äºæ·±åº¦æ‹·è´å˜é‡ï¼š\nlet s1 = String::from(\u0026#34;hello\u0026#34;); let s2 = s1.clone(); println!(s1); å˜é‡é¡¹ç›®ä½œç”¨ï¼šæ‹·è´ï¼ˆCopyï¼‰ å¦‚æœæ•°æ®ç±»å‹çš„å¤§å°åœ¨ç¼–è¯‘æœŸèƒ½å¤Ÿç¡®å®šéƒ½å°†å­˜å‚¨åœ¨æ ˆä¸Šï¼Œè¿™ç§æƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œå¿«é€Ÿçš„æ‹·è´ã€‚\nCopy ç‰¹æ€§ï¼ˆtraitï¼‰æ³¨è§£ç”¨äºå°†å€¼å­˜è´®åœ¨æ ˆæ ˆä¸Š Copy ç‰¹æ€§æ³¨è§£ä¸èƒ½å’Œ Drop ç‰¹æ€§æ³¨è§£æ··ç”¨ Copy ç‰¹æ€§æ³¨è§£ä½¿ç”¨è§„åˆ™å¦‚ä¸‹ æ‰€æœ‰çš„æ•°å­—ç±»å‹ æ‰€æœ‰çš„å¸ƒå°”å‹ æ‰€æœ‰çš„æµ®ç‚¹å‹ å­—ç¬¦ç±»å‹ æ‰€æœ‰å…ƒç´ éƒ½å®ç°äº† Copy ç‰¹æ€§æ³¨è§£çš„å…ƒç¥– æ‰€æœ‰æƒå’Œå‡½æ•° å‡½æ•°ä¼ é€’å®å‚çš„è§„åˆ™å’Œå˜é‡ç±»ä¼¼ï¼Œä¼ é€’å˜é‡åˆ°ä¸€ä¸ªå‡½æ•°å°†ä¸ºå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»æˆ–è€…æ‹·è´ã€‚","title":"æ‰€æœ‰æƒ"},{"content":"Rust åŒºåˆ†è¯­å¥å’Œè¡¨è¾¾å¼ï¼Œ Rust æ˜¯åŸºäºè¡¨è¾¾å¼çš„è¯­è¨€ï¼š\nè¯­å¥ï¼šæ‰§è¡ŒåŠ¨ä½œå¹¶ä¸”ä¸è¿”å›å€¼\nä½¿ç”¨ let å£°æ˜å˜é‡æ˜¯è¯­å¥ï¼Œæ‰€ä»¥ let è¯­å¥ä¸è¿”å›å€¼ï¼Œä¹Ÿå°±ä¸èƒ½åƒ Python é‚£æ ·å°† let è¯­å¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ å‡½æ•°å£°æ˜ä¹Ÿæ˜¯è¯­å¥ è¡¨è¾¾å¼ï¼šè®¡ç®—å¹¶è¿”å›å€¼ï¼Œä¸ä»¥åˆ†å·ï¼ˆ;ï¼‰ç»“å°¾\n5 + 6 æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè®¡ç®—å¹¶è¿”å›å€¼ 11\nè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºè¯­å¥çš„ä¸€éƒ¨åˆ†\nå‡½æ•°è°ƒç”¨æ˜¯è¡¨è¾¾å¼\nå®è°ƒç”¨æ˜¯è¡¨è¾¾å¼\nç”¨ {} åˆ›å»ºçš„å—ä¹Ÿæ˜¯è¡¨è¾¾å¼\nlet x = { let y = 6; y + 5 } if loop while for æ˜¯è¡¨è¾¾å¼\nåœ¨è¡¨è¾¾å¼åé¢å¢åŠ åˆ†å·ï¼ˆ;ï¼‰å¯ä»¥å°†ä¸€ä¸ªè¡¨è¾¾å¼è½¬ä¸ºè¯­å¥ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200629174820-%E8%AF%AD%E5%8F%A5%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F/","summary":"Rust åŒºåˆ†è¯­å¥å’Œè¡¨è¾¾å¼ï¼Œ Rust æ˜¯åŸºäºè¡¨è¾¾å¼çš„è¯­è¨€ï¼š\nè¯­å¥ï¼šæ‰§è¡ŒåŠ¨ä½œå¹¶ä¸”ä¸è¿”å›å€¼\nä½¿ç”¨ let å£°æ˜å˜é‡æ˜¯è¯­å¥ï¼Œæ‰€ä»¥ let è¯­å¥ä¸è¿”å›å€¼ï¼Œä¹Ÿå°±ä¸èƒ½åƒ Python é‚£æ ·å°† let è¯­å¥èµ‹å€¼ç»™å…¶ä»–å˜é‡ å‡½æ•°å£°æ˜ä¹Ÿæ˜¯è¯­å¥ è¡¨è¾¾å¼ï¼šè®¡ç®—å¹¶è¿”å›å€¼ï¼Œä¸ä»¥åˆ†å·ï¼ˆ;ï¼‰ç»“å°¾\n5 + 6 æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè®¡ç®—å¹¶è¿”å›å€¼ 11\nè¡¨è¾¾å¼å¯ä»¥ä½œä¸ºè¯­å¥çš„ä¸€éƒ¨åˆ†\nå‡½æ•°è°ƒç”¨æ˜¯è¡¨è¾¾å¼\nå®è°ƒç”¨æ˜¯è¡¨è¾¾å¼\nç”¨ {} åˆ›å»ºçš„å—ä¹Ÿæ˜¯è¡¨è¾¾å¼\nlet x = { let y = 6; y + 5 } if loop while for æ˜¯è¡¨è¾¾å¼\nåœ¨è¡¨è¾¾å¼åé¢å¢åŠ åˆ†å·ï¼ˆ;ï¼‰å¯ä»¥å°†ä¸€ä¸ªè¡¨è¾¾å¼è½¬ä¸ºè¯­å¥ã€‚","title":"è¯­å¥å’Œè¡¨è¾¾å¼"},{"content":" tags: C/C++ å¦‚æœç±»æˆå‘˜å±æ€§æ˜¯å€¼ç±»å‹æˆ–è€…å¼•ç”¨ç±»å‹åˆ™éœ€è¦æ”¹å¯¹è±¡æœ‰æ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œå¦åˆ™ç±»æ— æ³•å®ä¾‹åŒ–ï¼Œ è¿™æ˜¯å› ä¸ºè¿™ç±»æˆå‘˜å±æ€§åœ¨æ„é€ å‡½æ•°è°ƒç”¨ä¹‹å‰å°±éœ€è¦è¿›è¡Œåˆå§‹åŒ–ã€‚\nä¸‹é¢ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘\nclass Foo { public: Foo(int n) : n {n} { }; ~Foo() { }; private: int n; }; class Bar { public: Bar(int n) { this-\u0026gt;foo = Foo(n); }; ~Bar(); private: Foo \u0026amp; foo; }; ","permalink":"https://notes.0081800.xyz/notes/20200628183417-member_initialize/","summary":" tags: C/C++ å¦‚æœç±»æˆå‘˜å±æ€§æ˜¯å€¼ç±»å‹æˆ–è€…å¼•ç”¨ç±»å‹åˆ™éœ€è¦æ”¹å¯¹è±¡æœ‰æ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œå¦åˆ™ç±»æ— æ³•å®ä¾‹åŒ–ï¼Œ è¿™æ˜¯å› ä¸ºè¿™ç±»æˆå‘˜å±æ€§åœ¨æ„é€ å‡½æ•°è°ƒç”¨ä¹‹å‰å°±éœ€è¦è¿›è¡Œåˆå§‹åŒ–ã€‚\nä¸‹é¢ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘\nclass Foo { public: Foo(int n) : n {n} { }; ~Foo() { }; private: int n; }; class Bar { public: Bar(int n) { this-\u0026gt;foo = Foo(n); }; ~Bar(); private: Foo \u0026amp; foo; }; ","title":"Member initialize"},{"content":" tags: C/C++ å®¹å™¨ç±»å®ç° begin å’Œ end æ–¹æ³•è¿”å› Iterator class çš„å®ä¾‹ï¼Œ Iterator class é€šè¿‡å®ç°å‹å…ƒç±»å¯ä»¥ç›´æ¥è®¿é—®å®¹å™¨ç±»çš„ç§æœ‰å±æ€§ï¼Œ Iterator class é€šè¿‡é‡è½½ ++/==/* ç­‰æ“ä½œç¬¦å®ç°å¯¹å®¹å™¨ç±»çš„è®¿é—®å¹¶é€šè¿‡è‡ªå·±çš„ç§æœ‰å±æ€§è®°å½•å½“å‰ä½ç½®ã€‚\nIterator class é‡è½½çš„æ“ä½œç¬¦ï¼š\n++ ç§»åŠ¨å®¹å™¨å…ƒç´ ä½ç½® == åˆ¤æ–­ä¸¤ä¸ªå®¹å™¨ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼ˆå®¹å™¨æ˜¯å¦ä¸€ä¸ªï¼Œä½ç½®æ˜¯å¦ä¸€ä¸ªï¼‰ * è§£å¼•ç”¨è¿”å›å½“å‰ä½ç½®æŒ‡å‘çš„å®¹å™¨çš„å€¼ ","permalink":"https://notes.0081800.xyz/notes/20200628183227-iterator_class/","summary":" tags: C/C++ å®¹å™¨ç±»å®ç° begin å’Œ end æ–¹æ³•è¿”å› Iterator class çš„å®ä¾‹ï¼Œ Iterator class é€šè¿‡å®ç°å‹å…ƒç±»å¯ä»¥ç›´æ¥è®¿é—®å®¹å™¨ç±»çš„ç§æœ‰å±æ€§ï¼Œ Iterator class é€šè¿‡é‡è½½ ++/==/* ç­‰æ“ä½œç¬¦å®ç°å¯¹å®¹å™¨ç±»çš„è®¿é—®å¹¶é€šè¿‡è‡ªå·±çš„ç§æœ‰å±æ€§è®°å½•å½“å‰ä½ç½®ã€‚\nIterator class é‡è½½çš„æ“ä½œç¬¦ï¼š\n++ ç§»åŠ¨å®¹å™¨å…ƒç´ ä½ç½® == åˆ¤æ–­ä¸¤ä¸ªå®¹å™¨ä½ç½®æ˜¯å¦ç›¸ç­‰ï¼ˆå®¹å™¨æ˜¯å¦ä¸€ä¸ªï¼Œä½ç½®æ˜¯å¦ä¸€ä¸ªï¼‰ * è§£å¼•ç”¨è¿”å›å½“å‰ä½ç½®æŒ‡å‘çš„å®¹å™¨çš„å€¼ ","title":"Iterator class"},{"content":" tags: Computer Systems,C/C++,ä¼˜åŒ–,High Performance éƒ¨åˆ† intel CPU æ”¯æŒå‘é‡æŒ‡ä»¤é›†åŒæ—¶è¿›è¡Œå¤šè·¯æ•´æ•°å’Œæµ®ç‚¹æ•°è®¡ç®—ï¼Œä»¥æ­¤æ¥è¿›è¡Œå¯¹ç›¸å…³ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œè¿™é‡Œæ•´ç†ç›¸å…³é“¾æ¥ï¼š\nç¼–è¯‘å™¨æ”¯æŒç›¸å…³å°è£…é¿å…ç¼–å†™æ±‡ç¼–ä»£ç ï¼Œå®˜æ–¹æŒ‡å—ï¼šIntrinsics Guide åŸºäº sse_mathfun çš„ avx_mathfun å°è£…ç›¸å…³å®å’Œå‡½æ•° mp3 åº“ lame ä¸­çš„ SSE åŠ é€Ÿå®ç° libmp3lame/vector/xmm_quantize_sub.c AVX512 VNNI https://en.wikichip.org/wiki/x86/avx512_vnni ","permalink":"https://notes.0081800.xyz/notes/20200628182211-avx512/","summary":" tags: Computer Systems,C/C++,ä¼˜åŒ–,High Performance éƒ¨åˆ† intel CPU æ”¯æŒå‘é‡æŒ‡ä»¤é›†åŒæ—¶è¿›è¡Œå¤šè·¯æ•´æ•°å’Œæµ®ç‚¹æ•°è®¡ç®—ï¼Œä»¥æ­¤æ¥è¿›è¡Œå¯¹ç›¸å…³ç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œè¿™é‡Œæ•´ç†ç›¸å…³é“¾æ¥ï¼š\nç¼–è¯‘å™¨æ”¯æŒç›¸å…³å°è£…é¿å…ç¼–å†™æ±‡ç¼–ä»£ç ï¼Œå®˜æ–¹æŒ‡å—ï¼šIntrinsics Guide åŸºäº sse_mathfun çš„ avx_mathfun å°è£…ç›¸å…³å®å’Œå‡½æ•° mp3 åº“ lame ä¸­çš„ SSE åŠ é€Ÿå®ç° libmp3lame/vector/xmm_quantize_sub.c AVX512 VNNI https://en.wikichip.org/wiki/x86/avx512_vnni ","title":"SSE/AVX/AVX2/AVX512"},{"content":" AVX512 ","permalink":"https://notes.0081800.xyz/notes/20200628182150-%E4%BC%98%E5%8C%96/","summary":" AVX512 ","title":"ä¼˜åŒ–"},{"content":" tags: Translate,Incomplete åŸæ–‡é“¾æ¥ï¼šhttps://superorganizers.substack.com/p/surgical-reading-how-to-read-12-books\næ‰‹æœ¯é˜…è¯»æ³•ï¼šå¦‚ä½•åŒæ—¶é˜…è¯» 12 æœ¬ä¹¦ è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« è®©æˆ‘æƒ³èµ·äº†ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹è¿™æœ¬ä¹¦ï¼Œæ–‡ç« ä¸­çš„å¤§éƒ¨åˆ†æŠ€å·§éƒ½èƒ½åœ¨è¿™æœ¬ä¹¦ä¸­æ‰¾å‡ºæ¥ï¼Œé˜…è¯»æ˜¯ä¸€é—¨éœ€è¦å­¦ä¹ çš„æŠ€èƒ½ã€‚\nå½“æœ‰äººé—®æˆ‘å¦‚ä½•é˜…è¯»æ—¶æˆ‘æ€»æ˜¯ä¼šæœ‰ç‚¹å°´å°¬ï¼Œå› ä¸ºæˆ‘ä¸€èˆ¬éƒ½æ˜¯åŒæ—¶é˜…è¯»åå‡ æœ¬ä¹¦ã€‚\nä½†æ˜¯æˆ‘è¿™æ ·é˜…è¯»å¹¶ä¸æ˜¯ä¸ºäº†ç‚«è€€ \u0026ndash; æˆ‘è¿™ä¹ˆåšæ˜¯å› ä¸ºæˆ‘è§‰å¾—è¿™ç§é˜…è¯»æ–¹å¼æ›´å¥½ï¼Œæœ€èµ·ç å¯¹æˆ‘æ¥è¯´ã€‚\nè¿™æ˜¯ä¸€ä¸ªæˆ‘å¼€å‘ä¸€ä¸ªå«åš æ‰‹æœ¯é˜…è¯»æ³•ï¼ˆsurgical readingï¼‰ çš„è¿‡ç¨‹ï¼Œå®ƒæ„å‘³ç€å½“æˆ‘è¯»ä¸€æœ¬éå°è¯´çš„ä¹¦ç±æ—¶ï¼Œæˆ‘ä¼šä¸“æ³¨äºå°½å¯èƒ½å¿«çš„ä»ä¹¦ä¸­æ‰¾åˆ°æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†å¹¶å°†ä¹‹å‰”é™¤ã€‚ è¿™æ ·å…è®¸æˆ‘åœ¨ä¸€ä¸ªä¸»é¢˜ä¸ŠåŒæ—¶é˜…è¯»è®¸å¤šä¸åŒçš„ä¹¦ç±ï¼Œå¹¶ä»å¤šä¸ªè§’åº¦æ¥è§‚å¯Ÿè¿™ä¸€ä¸»é¢˜ã€‚æˆ‘çš„ç›®æ ‡æ˜¯å¿«é€Ÿåœ°æ‰¾åˆ°æœ‰ä»·å€¼çš„çŸ¥è¯†ï¼Œå¹¶ä½¿ç”¨ç°å®ä¸­è·å¾—çš„ä¿¡æ¯å»è§£å†³é—®é¢˜ã€‚\nè¿™ç§æ–¹æ³•æœ‰å¾ˆå¤šéšè—çš„å¥½å¤„ã€‚é¦–å…ˆï¼Œæˆ‘å¯ä»¥å¿«é€Ÿäº†è§£è‡ªå·±å¯¹ä¸€æœ¬ä¹¦æ˜¯å¦æœ‰å…´è¶£ï¼Œå¹¶å› æ­¤å»èŠ±æ›´å¤šçš„æ—¶é—´è¯»æˆ‘çœŸæ­£æ„Ÿå…´è¶£ä¹¦ç±ã€‚å½“æˆ‘å¯¹ä¸€æœ¬ä¹¦ä¸æ„Ÿå…´è¶£æ—¶æˆ‘å°±å¯ä»¥å°†å…¶æ”¾ä¸‹å¹¶è½¬åˆ°å…¶ä»–äº‹æƒ…ä¸Šï¼Œå› ä¸ºæˆ‘çŸ¥é“æˆ‘å°†å®ƒæ”¾å›å»æ˜¯æœ‰åŸå› çš„ã€‚ é˜…è¯»ä¸åº”è¯¥æ˜¯å°†ä¹¦ç±åœ¨ ToDo äº‹é¡¹å®Œæˆï¼Œè€Œæ˜¯åº”è¯¥è§£é‡Šä»€ä¹ˆå¸å¼•äº†ä½ ã€‚\nå…¶æ¬¡ï¼Œæˆ‘å¯ä»¥ä»å¤šä¸ªè§’åº¦è§‚å¯Ÿä¸€ä¸ªä¸»é¢˜ï¼Œå¹¶çœŸæ­£ç†è§£é—®é¢˜ã€‚æˆ‘å¯ä»¥çœ‹åˆ°æœ‰å¤šå°‘ä¸åŒçš„äººè®¨è®ºåŒä¸€ä¸ªæ—¶é—´å’Œæƒ³æ³•ï¼Œè€Œä¸æ˜¯ä¾é ä¸€ä½ä½œè€…çš„é™ˆè¿°ã€‚ è¿™ä½¿æˆ‘å¯¹å½“å‰æ„Ÿå…´è¶£çš„çš„ä»»ä½•ä¸»é¢˜éƒ½æœ‰æ›´ç»†å¾®çš„äº†è§£ã€‚\næœ€åï¼Œå®ƒå°†ä¹¦ç±è½¬å˜ä¸ºæ›´ä¸»åŠ¨å’Œæ›´ç§¯æçš„äº‹ç‰©ã€‚æˆ‘çš„ä¹¦æ¶ï¼ˆlibraryï¼‰å·²ç»ä¸å†æ˜¯æ­»æ¿çš„å­˜å‚¨ç©ºé—´ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸æˆ‘ä¸æ–­äº’åŠ¨çš„é²œæ´»çš„äº‹ç‰©ã€‚\nå½“ç„¶ï¼Œå½“æˆ‘æ‰¾åˆ°ä¸€æœ¬æˆ‘çœŸæ­£å–œæ¬¢çš„ä¹¦ï¼ˆç°åœ¨ä¹Ÿè¶Šæ¥è¶Šé¢‘ç¹ï¼‰ï¼Œæˆ‘ä¹Ÿå¯ä»¥å……åˆ†çš„åˆ©ç”¨å®ƒã€‚\næˆ‘æ˜¯è°ï¼ˆWho I Amï¼‰ æˆ‘çš„åå­—æ˜¯ Brian Tobalï¼Œæˆ‘è€—è´¹äº†æˆ‘çš„å¤§éƒ¨åˆ†æ—¶é—´æ¥æ€è€ƒå¦‚ä½•å­¦ä¹ ã€‚åœ¨è¿‡å» 15 å¹´ï¼Œæˆ‘åœ¨æ•™è‚²ç•Œè·å¾—äº†å¾ˆå¤šå¤´è¡”ï¼ˆhatsï¼‰ã€‚ æˆ‘æ›¾æ˜¯ä¸€åå°å­¦ç§‘å­¦è€å¸ˆã€ä¸€å®¶æ•™è‚²å…¬å¸çš„ç ”ç©¶å‘˜ã€å…­å®¶æ•™è‚²ç§‘æŠ€åˆåˆ›å…¬å¸çš„äº§å“è´Ÿè´£äººï¼Œæœ¬äººä¹Ÿæ˜¯ä¸€äº›åˆåˆ›å…¬å¸çš„åˆ›å§‹äººï¼Œ åŒ…æ‹¬æˆ‘äº 2018 å¹´å‡ºå”®çš„ä¸€å®¶åä¸º Hickory çš„å…¬å¸ã€‚\næˆ‘å–œæ¬¢åˆåˆ›å…¬å¸ã€‚ä»å­¦ä¹ è§’åº¦æ¥çœ‹ï¼Œå®ƒä»¬ä½¿ä½ å¯ä»¥å®Œå…¨æ²‰æµ¸äºæ–°çš„é¢†åŸŸï¼Œå¹¶æ ¹æ®å…¶æ€§è´¨è¿«ä½¿ä½ è§£å†³å®é™…é—®é¢˜ã€‚ è¿™ä¸ºæˆ‘è‡ªå·±çš„å­¦ä¹ æ–¹æ³•å’Œé˜…è¯»æ–¹æ³•æä¾›äº†åŠ¨åŠ›ã€‚æˆ‘ä¸æ˜¯ä¸ºäº†ä»…ä»…ç§¯ç´¯çŸ¥è¯†æ¥å»ºç«‹çŸ¥è¯†åº“ï¼Œé€šå¸¸æˆ‘å»ºç«‹å®ƒæ˜¯ä¸ºäº†å°½å¿«ä½¿ç”¨å®ƒã€‚\næ‰‹æœ¯é˜…è¯»æ³•å°±æ˜¯è®¾è®¡ç”¨æ¥å¸®åŠ©æˆ‘è¿™ä¹ˆåšçš„ã€‚\næ‰€ä»¥ä½ å‡†å¤‡å¥½è¯•ä¸€è¯•äº†å—ï¼Ÿè¯·ä»ä¹¦æ¶ä¸Šæ‹¿å‡ºä¸€äº›å·²ç»æç½®äº†ä¸€æ®µæ—¶é—´çš„ä¹¦ï¼Œå¸Œæœ›æ‚¨è¿˜æ²¡æœ‰è¯»è¿‡ã€‚è·Ÿç€æˆ‘ï¼Œäº²çœ¼çœ‹çœ‹æ‰‹æœ¯é˜…è¯»æ³•çš„æ„Ÿè§‰ã€‚\nè®©æˆ‘ä»¬å¼€å§‹å§ï¼\næŠŠä¹¦å½“ä½œå…¶è‡ªèº«çš„åœ°å›¾ï¼ˆUse the Book Itself as a Mapï¼‰ ä»¥ä¸‹æ˜¯ä¸€ä»½æˆ‘å¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦çš„æ­¥éª¤åˆ†è§£ï¼š\näº†è§£ä¸€æœ¬ä¹¦ é€šè¿‡å°é¢è¯„åˆ¤è¿™æœ¬ä¹¦ ç´¢å¼•ï¼ˆindexï¼‰åŒ…å«äº†ä¸€åˆ‡ æŠŠç›®å½•ï¼ˆTOCï¼‰å½“ä½œéª¨æ¶ é€šè¿‡å‰è¨€ï¼ˆprefaceï¼‰è¿›è¡Œé¢„è§ˆ æ­¤è¿‡ç¨‹çš„é‡ç‚¹æ˜¯è·å¾—åœ¨å¤§çº¦ 15 åˆ†é’Ÿå†…å¯¹ä»»ä½•ä¹¦ç±è¿›è¡Œâ€œåœ°å›¾ç»˜åˆ¶â€çš„èƒ½åŠ›ã€‚ä½ å¸Œæœ›å¯¹æœ‰ä»·å€¼çš„çŸ¥è¯†ä½äºä½•å¤„ã€ä»€ä¹ˆåœ°æ–¹æ‰“åŠ¨ä½ ä»¥åŠè¦èŠ±è´¹å¤šå°‘æ—¶é—´æ¥é˜…è¯»å®ƒæœ‰åŸºæœ¬çš„äº†è§£ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬å°†é€æ­¥å®Œæˆä»ä¸€æœ¬ä¹¦ä¸­æå–è¦ç‚¹ï¼ˆæˆ–è€…è¯´çŸ¥è¯†å—ï¼‰çš„è¿‡ç¨‹ï¼Œå¦‚ä½•å¢åŠ é˜…è¯»ä¸€æœ¬ä¹¦çš„ä»·å€¼ï¼Œä»¥åŠå¦‚ä½•ç»“åˆæ‰€æœ‰å†…å®¹ä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾çš„ä¸€æ¬¡æå–å¤šæœ¬ä¹¦ã€‚\näº†è§£ä¸€æœ¬ä¹¦ï¼ˆApproaching a Book ï¼‰ å½“æˆ‘å¼€å§‹é˜…è¯»ä¸€æœ¬éå°è¯´çš„ä¹¦ç±ä¹‹å‰ï¼Œæˆ‘ä¼šè¯è´¹ 5-10 åˆ†é’Ÿçš„æ—¶é—´å°è¯•å»äº†è§£ä»–å¯¹æˆ‘å…·æœ‰ä»€ä¹ˆä»·å€¼ä»¥åŠå®ƒçš„ç»“æ„ã€‚å½“æˆ‘ä»¬å†³å®šè¦é˜…è¯»æ­¤ä¹¦æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ˆå¤šæ–¹å¼åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä¹Ÿè®¸é€šè¿‡äºšé©¬é€Šé˜…è¯»ä¸€äº›è¯„è®ºå’Œåé¦ˆæˆ–è€…éšæœºæµè§ˆå…¶ä¸­ä¸€éƒ¨åˆ†ã€‚æˆ‘æ›´å–œæ¬¢ä½¿ç”¨è¿™æœ¬ä¹¦æœ¬èº«ã€‚\nåŒæ ·ï¼Œæˆ‘é€šå¸¸å¯¹ä»å¤´åˆ°å°¾é˜…è¯»ä¸€æœ¬ä¹¦ç±ä¸æ„Ÿå…´è¶£ï¼Œæ‰€ä»¥æˆ‘éœ€è¦åˆ é™¤æˆ‘éœ€è¦çš„ä¿¡æ¯ï¼Œå½“ç„¶éœ€è¦å…ˆæ‰¾æ‰¾å®ƒã€‚æˆ‘æƒ³è¦çš„æ˜¯ä¸€æœ¬å…³äºæœ¬ä¹¦å†…å®¹çš„åœ°å›¾ï¼ˆæ— è®ºæ˜¯æ€ç»´ä¸Šçš„è¿˜æ˜¯ä¹¦é¢ä¸Šçš„ï¼‰ã€‚ ä½ å¯ä»¥ä½¿ç”¨å¤§è„‘è®°å¿†ã€è®°äº‹æœ¬ã€Google Doc æˆ–æŸäº›ç²¾ç¾çš„ç¬”è®°è®°å½•ç³»ç»Ÿä½œä¸ºè®°å½•æœºåˆ¶ \u0026ndash; æ ¹æ®ä½ è‡ªå·±çš„å–œå¥½å°±è¡Œã€‚\né€šè¿‡ä¹¦ç±çš„å°é¢è¿›è¡Œå“è¯„ï¼ˆJudge a Book by its Coverï¼‰ é¦–å…ˆï¼Œç»™æ ‡é¢˜å’Œå‰¯æ ‡é¢˜ä¸€äº›æƒ³æ³•ã€‚ æˆ‘çŸ¥é“è¿™å¬èµ·æ¥å¾ˆå¹³å‡¡ï¼Œä½†æ˜¯ä½œè€…èŠ±äº†å¾ˆå¤šæ—¶é—´æ€è€ƒè¿™äº›é—®é¢˜ï¼Œé€šå¸¸å®ƒä»¬ä»£è¡¨ä¸€ç§è§‚ç‚¹ã€‚\næ¯”å¦‚ã€Šç¾å›½ç®€å²ã€‹å’Œã€Šç¾å›½äººå†å²ã€‹ï¼Œä½œè€…å¼ºè°ƒâ€œäººâ€è€Œä¸æ˜¯â€œç®€â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå†æ¯”å¦‚\n","permalink":"https://notes.0081800.xyz/articles/20200628134657-surgical_reading_how_to_read_12_books_at_once/","summary":"tags: Translate,Incomplete åŸæ–‡é“¾æ¥ï¼šhttps://superorganizers.substack.com/p/surgical-reading-how-to-read-12-books\næ‰‹æœ¯é˜…è¯»æ³•ï¼šå¦‚ä½•åŒæ—¶é˜…è¯» 12 æœ¬ä¹¦ è¯‘è€…æ³¨ï¼šè¿™ç¯‡æ–‡ç« è®©æˆ‘æƒ³èµ·äº†ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹è¿™æœ¬ä¹¦ï¼Œæ–‡ç« ä¸­çš„å¤§éƒ¨åˆ†æŠ€å·§éƒ½èƒ½åœ¨è¿™æœ¬ä¹¦ä¸­æ‰¾å‡ºæ¥ï¼Œé˜…è¯»æ˜¯ä¸€é—¨éœ€è¦å­¦ä¹ çš„æŠ€èƒ½ã€‚\nå½“æœ‰äººé—®æˆ‘å¦‚ä½•é˜…è¯»æ—¶æˆ‘æ€»æ˜¯ä¼šæœ‰ç‚¹å°´å°¬ï¼Œå› ä¸ºæˆ‘ä¸€èˆ¬éƒ½æ˜¯åŒæ—¶é˜…è¯»åå‡ æœ¬ä¹¦ã€‚\nä½†æ˜¯æˆ‘è¿™æ ·é˜…è¯»å¹¶ä¸æ˜¯ä¸ºäº†ç‚«è€€ \u0026ndash; æˆ‘è¿™ä¹ˆåšæ˜¯å› ä¸ºæˆ‘è§‰å¾—è¿™ç§é˜…è¯»æ–¹å¼æ›´å¥½ï¼Œæœ€èµ·ç å¯¹æˆ‘æ¥è¯´ã€‚\nè¿™æ˜¯ä¸€ä¸ªæˆ‘å¼€å‘ä¸€ä¸ªå«åš æ‰‹æœ¯é˜…è¯»æ³•ï¼ˆsurgical readingï¼‰ çš„è¿‡ç¨‹ï¼Œå®ƒæ„å‘³ç€å½“æˆ‘è¯»ä¸€æœ¬éå°è¯´çš„ä¹¦ç±æ—¶ï¼Œæˆ‘ä¼šä¸“æ³¨äºå°½å¯èƒ½å¿«çš„ä»ä¹¦ä¸­æ‰¾åˆ°æœ€æœ‰ä»·å€¼çš„éƒ¨åˆ†å¹¶å°†ä¹‹å‰”é™¤ã€‚ è¿™æ ·å…è®¸æˆ‘åœ¨ä¸€ä¸ªä¸»é¢˜ä¸ŠåŒæ—¶é˜…è¯»è®¸å¤šä¸åŒçš„ä¹¦ç±ï¼Œå¹¶ä»å¤šä¸ªè§’åº¦æ¥è§‚å¯Ÿè¿™ä¸€ä¸»é¢˜ã€‚æˆ‘çš„ç›®æ ‡æ˜¯å¿«é€Ÿåœ°æ‰¾åˆ°æœ‰ä»·å€¼çš„çŸ¥è¯†ï¼Œå¹¶ä½¿ç”¨ç°å®ä¸­è·å¾—çš„ä¿¡æ¯å»è§£å†³é—®é¢˜ã€‚\nè¿™ç§æ–¹æ³•æœ‰å¾ˆå¤šéšè—çš„å¥½å¤„ã€‚é¦–å…ˆï¼Œæˆ‘å¯ä»¥å¿«é€Ÿäº†è§£è‡ªå·±å¯¹ä¸€æœ¬ä¹¦æ˜¯å¦æœ‰å…´è¶£ï¼Œå¹¶å› æ­¤å»èŠ±æ›´å¤šçš„æ—¶é—´è¯»æˆ‘çœŸæ­£æ„Ÿå…´è¶£ä¹¦ç±ã€‚å½“æˆ‘å¯¹ä¸€æœ¬ä¹¦ä¸æ„Ÿå…´è¶£æ—¶æˆ‘å°±å¯ä»¥å°†å…¶æ”¾ä¸‹å¹¶è½¬åˆ°å…¶ä»–äº‹æƒ…ä¸Šï¼Œå› ä¸ºæˆ‘çŸ¥é“æˆ‘å°†å®ƒæ”¾å›å»æ˜¯æœ‰åŸå› çš„ã€‚ é˜…è¯»ä¸åº”è¯¥æ˜¯å°†ä¹¦ç±åœ¨ ToDo äº‹é¡¹å®Œæˆï¼Œè€Œæ˜¯åº”è¯¥è§£é‡Šä»€ä¹ˆå¸å¼•äº†ä½ ã€‚\nå…¶æ¬¡ï¼Œæˆ‘å¯ä»¥ä»å¤šä¸ªè§’åº¦è§‚å¯Ÿä¸€ä¸ªä¸»é¢˜ï¼Œå¹¶çœŸæ­£ç†è§£é—®é¢˜ã€‚æˆ‘å¯ä»¥çœ‹åˆ°æœ‰å¤šå°‘ä¸åŒçš„äººè®¨è®ºåŒä¸€ä¸ªæ—¶é—´å’Œæƒ³æ³•ï¼Œè€Œä¸æ˜¯ä¾é ä¸€ä½ä½œè€…çš„é™ˆè¿°ã€‚ è¿™ä½¿æˆ‘å¯¹å½“å‰æ„Ÿå…´è¶£çš„çš„ä»»ä½•ä¸»é¢˜éƒ½æœ‰æ›´ç»†å¾®çš„äº†è§£ã€‚\næœ€åï¼Œå®ƒå°†ä¹¦ç±è½¬å˜ä¸ºæ›´ä¸»åŠ¨å’Œæ›´ç§¯æçš„äº‹ç‰©ã€‚æˆ‘çš„ä¹¦æ¶ï¼ˆlibraryï¼‰å·²ç»ä¸å†æ˜¯æ­»æ¿çš„å­˜å‚¨ç©ºé—´ï¼Œè€Œæ˜¯ä¸€ä¸ªä¸æˆ‘ä¸æ–­äº’åŠ¨çš„é²œæ´»çš„äº‹ç‰©ã€‚\nå½“ç„¶ï¼Œå½“æˆ‘æ‰¾åˆ°ä¸€æœ¬æˆ‘çœŸæ­£å–œæ¬¢çš„ä¹¦ï¼ˆç°åœ¨ä¹Ÿè¶Šæ¥è¶Šé¢‘ç¹ï¼‰ï¼Œæˆ‘ä¹Ÿå¯ä»¥å……åˆ†çš„åˆ©ç”¨å®ƒã€‚\næˆ‘æ˜¯è°ï¼ˆWho I Amï¼‰ æˆ‘çš„åå­—æ˜¯ Brian Tobalï¼Œæˆ‘è€—è´¹äº†æˆ‘çš„å¤§éƒ¨åˆ†æ—¶é—´æ¥æ€è€ƒå¦‚ä½•å­¦ä¹ ã€‚åœ¨è¿‡å» 15 å¹´ï¼Œæˆ‘åœ¨æ•™è‚²ç•Œè·å¾—äº†å¾ˆå¤šå¤´è¡”ï¼ˆhatsï¼‰ã€‚ æˆ‘æ›¾æ˜¯ä¸€åå°å­¦ç§‘å­¦è€å¸ˆã€ä¸€å®¶æ•™è‚²å…¬å¸çš„ç ”ç©¶å‘˜ã€å…­å®¶æ•™è‚²ç§‘æŠ€åˆåˆ›å…¬å¸çš„äº§å“è´Ÿè´£äººï¼Œæœ¬äººä¹Ÿæ˜¯ä¸€äº›åˆåˆ›å…¬å¸çš„åˆ›å§‹äººï¼Œ åŒ…æ‹¬æˆ‘äº 2018 å¹´å‡ºå”®çš„ä¸€å®¶åä¸º Hickory çš„å…¬å¸ã€‚\næˆ‘å–œæ¬¢åˆåˆ›å…¬å¸ã€‚ä»å­¦ä¹ è§’åº¦æ¥çœ‹ï¼Œå®ƒä»¬ä½¿ä½ å¯ä»¥å®Œå…¨æ²‰æµ¸äºæ–°çš„é¢†åŸŸï¼Œå¹¶æ ¹æ®å…¶æ€§è´¨è¿«ä½¿ä½ è§£å†³å®é™…é—®é¢˜ã€‚ è¿™ä¸ºæˆ‘è‡ªå·±çš„å­¦ä¹ æ–¹æ³•å’Œé˜…è¯»æ–¹æ³•æä¾›äº†åŠ¨åŠ›ã€‚æˆ‘ä¸æ˜¯ä¸ºäº†ä»…ä»…ç§¯ç´¯çŸ¥è¯†æ¥å»ºç«‹çŸ¥è¯†åº“ï¼Œé€šå¸¸æˆ‘å»ºç«‹å®ƒæ˜¯ä¸ºäº†å°½å¿«ä½¿ç”¨å®ƒã€‚\næ‰‹æœ¯é˜…è¯»æ³•å°±æ˜¯è®¾è®¡ç”¨æ¥å¸®åŠ©æˆ‘è¿™ä¹ˆåšçš„ã€‚\næ‰€ä»¥ä½ å‡†å¤‡å¥½è¯•ä¸€è¯•äº†å—ï¼Ÿè¯·ä»ä¹¦æ¶ä¸Šæ‹¿å‡ºä¸€äº›å·²ç»æç½®äº†ä¸€æ®µæ—¶é—´çš„ä¹¦ï¼Œå¸Œæœ›æ‚¨è¿˜æ²¡æœ‰è¯»è¿‡ã€‚è·Ÿç€æˆ‘ï¼Œäº²çœ¼çœ‹çœ‹æ‰‹æœ¯é˜…è¯»æ³•çš„æ„Ÿè§‰ã€‚\nè®©æˆ‘ä»¬å¼€å§‹å§ï¼\næŠŠä¹¦å½“ä½œå…¶è‡ªèº«çš„åœ°å›¾ï¼ˆUse the Book Itself as a Mapï¼‰ ä»¥ä¸‹æ˜¯ä¸€ä»½æˆ‘å¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦çš„æ­¥éª¤åˆ†è§£ï¼š\näº†è§£ä¸€æœ¬ä¹¦ é€šè¿‡å°é¢è¯„åˆ¤è¿™æœ¬ä¹¦ ç´¢å¼•ï¼ˆindexï¼‰åŒ…å«äº†ä¸€åˆ‡ æŠŠç›®å½•ï¼ˆTOCï¼‰å½“ä½œéª¨æ¶ é€šè¿‡å‰è¨€ï¼ˆprefaceï¼‰è¿›è¡Œé¢„è§ˆ æ­¤è¿‡ç¨‹çš„é‡ç‚¹æ˜¯è·å¾—åœ¨å¤§çº¦ 15 åˆ†é’Ÿå†…å¯¹ä»»ä½•ä¹¦ç±è¿›è¡Œâ€œåœ°å›¾ç»˜åˆ¶â€çš„èƒ½åŠ›ã€‚ä½ å¸Œæœ›å¯¹æœ‰ä»·å€¼çš„çŸ¥è¯†ä½äºä½•å¤„ã€ä»€ä¹ˆåœ°æ–¹æ‰“åŠ¨ä½ ä»¥åŠè¦èŠ±è´¹å¤šå°‘æ—¶é—´æ¥é˜…è¯»å®ƒæœ‰åŸºæœ¬çš„äº†è§£ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬å°†é€æ­¥å®Œæˆä»ä¸€æœ¬ä¹¦ä¸­æå–è¦ç‚¹ï¼ˆæˆ–è€…è¯´çŸ¥è¯†å—ï¼‰çš„è¿‡ç¨‹ï¼Œå¦‚ä½•å¢åŠ é˜…è¯»ä¸€æœ¬ä¹¦çš„ä»·å€¼ï¼Œä»¥åŠå¦‚ä½•ç»“åˆæ‰€æœ‰å†…å®¹ä»¥ä¾¿æ‚¨å¯ä»¥è½»æ¾çš„ä¸€æ¬¡æå–å¤šæœ¬ä¹¦ã€‚\näº†è§£ä¸€æœ¬ä¹¦ï¼ˆApproaching a Book ï¼‰ å½“æˆ‘å¼€å§‹é˜…è¯»ä¸€æœ¬éå°è¯´çš„ä¹¦ç±ä¹‹å‰ï¼Œæˆ‘ä¼šè¯è´¹ 5-10 åˆ†é’Ÿçš„æ—¶é—´å°è¯•å»äº†è§£ä»–å¯¹æˆ‘å…·æœ‰ä»€ä¹ˆä»·å€¼ä»¥åŠå®ƒçš„ç»“æ„ã€‚å½“æˆ‘ä»¬å†³å®šè¦é˜…è¯»æ­¤ä¹¦æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ˆå¤šæ–¹å¼åšåˆ°è¿™ä¸€ç‚¹ã€‚ ä¹Ÿè®¸é€šè¿‡äºšé©¬é€Šé˜…è¯»ä¸€äº›è¯„è®ºå’Œåé¦ˆæˆ–è€…éšæœºæµè§ˆå…¶ä¸­ä¸€éƒ¨åˆ†ã€‚æˆ‘æ›´å–œæ¬¢ä½¿ç”¨è¿™æœ¬ä¹¦æœ¬èº«ã€‚\nåŒæ ·ï¼Œæˆ‘é€šå¸¸å¯¹ä»å¤´åˆ°å°¾é˜…è¯»ä¸€æœ¬ä¹¦ç±ä¸æ„Ÿå…´è¶£ï¼Œæ‰€ä»¥æˆ‘éœ€è¦åˆ é™¤æˆ‘éœ€è¦çš„ä¿¡æ¯ï¼Œå½“ç„¶éœ€è¦å…ˆæ‰¾æ‰¾å®ƒã€‚æˆ‘æƒ³è¦çš„æ˜¯ä¸€æœ¬å…³äºæœ¬ä¹¦å†…å®¹çš„åœ°å›¾ï¼ˆæ— è®ºæ˜¯æ€ç»´ä¸Šçš„è¿˜æ˜¯ä¹¦é¢ä¸Šçš„ï¼‰ã€‚ ä½ å¯ä»¥ä½¿ç”¨å¤§è„‘è®°å¿†ã€è®°äº‹æœ¬ã€Google Doc æˆ–æŸäº›ç²¾ç¾çš„ç¬”è®°è®°å½•ç³»ç»Ÿä½œä¸ºè®°å½•æœºåˆ¶ \u0026ndash; æ ¹æ®ä½ è‡ªå·±çš„å–œå¥½å°±è¡Œã€‚","title":"Surgical Reading: How to Read 12 Books at Once"},{"content":"Python vendor package ä¹‹å‰ä¸€ç›´åœ¨æ‰¾ Python ç±»ä¼¼ go mod vendor éƒ¨ç½²çš„è§£å†³æ–¹æ¡ˆï¼Œä»Šå¤©åœ¨çœ‹ PySpark çš„æ—¶å€™æ‰¾åˆ°äº†ï¼Œä¸»è¦ç°å­˜ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š\nConda ç”Ÿæ€å¯ä»¥ä½¿ç”¨ conda-pack åŸç”Ÿ CPython ç”Ÿæ€å¯ä»¥ä¾æ‰˜ venv-pack pex å¯¹æ¯”\næ—¶é—´ é¡¹ç›® æ´»è·ƒå¼€å‘ è´¡çŒ®äººæ•° æäº¤æ•°é‡ 2021-08-28 venv-pack å¦ 2 30 conda-pack æ˜¯ 15 246 pex æ˜¯ 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly å¯¹åº”ç‰ˆæœ¬ manylinux2014 å­˜åœ¨ä½†æ˜¯è£…ä¸ä¸Š å‚è§ï¼šPEP 599 \u0026ndash; The manylinux2014 Platform Tag\nCentOS éœ€è¦æ»¡è¶³ glibc ç‰ˆæœ¬ä¸º 2.17ï¼Œå‚è§ Platform Detection for Installersã€‚\n","permalink":"https://notes.0081800.xyz/topics/20200628133616-python/","summary":"Python vendor package ä¹‹å‰ä¸€ç›´åœ¨æ‰¾ Python ç±»ä¼¼ go mod vendor éƒ¨ç½²çš„è§£å†³æ–¹æ¡ˆï¼Œä»Šå¤©åœ¨çœ‹ PySpark çš„æ—¶å€™æ‰¾åˆ°äº†ï¼Œä¸»è¦ç°å­˜ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š\nConda ç”Ÿæ€å¯ä»¥ä½¿ç”¨ conda-pack åŸç”Ÿ CPython ç”Ÿæ€å¯ä»¥ä¾æ‰˜ venv-pack pex å¯¹æ¯”\næ—¶é—´ é¡¹ç›® æ´»è·ƒå¼€å‘ è´¡çŒ®äººæ•° æäº¤æ•°é‡ 2021-08-28 venv-pack å¦ 2 30 conda-pack æ˜¯ 15 246 pex æ˜¯ 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly å¯¹åº”ç‰ˆæœ¬ manylinux2014 å­˜åœ¨ä½†æ˜¯è£…ä¸ä¸Š å‚è§ï¼šPEP 599 \u0026ndash; The manylinux2014 Platform Tag","title":"Python"},{"content":" tags: C/C++,Programming Tools\nå®‰è£…çš„å¤´æ–‡ä»¶å¿…é¡»åŒ…å«åœ¨ç›®æ ‡çš„æºä»£ç ä¸­ï¼Œå¦åˆ™æ„å»ºå¦‚ iOS çš„ Framework æ—¶æ— æ³•æ­£ç¡®åŒ…å«å¤´æ–‡ä»¶\nADD_LIBRARY(test test.h) CMake ç”Ÿæˆ C++ LSP é…ç½®æ–‡ä»¶\n","permalink":"https://notes.0081800.xyz/notes/20200628123035-cmake/","summary":"tags: C/C++,Programming Tools\nå®‰è£…çš„å¤´æ–‡ä»¶å¿…é¡»åŒ…å«åœ¨ç›®æ ‡çš„æºä»£ç ä¸­ï¼Œå¦åˆ™æ„å»ºå¦‚ iOS çš„ Framework æ—¶æ— æ³•æ­£ç¡®åŒ…å«å¤´æ–‡ä»¶\nADD_LIBRARY(test test.h) CMake ç”Ÿæˆ C++ LSP é…ç½®æ–‡ä»¶","title":"CMake"},{"content":" CMake ","permalink":"https://notes.0081800.xyz/notes/20200628122958-build_system/","summary":" CMake ","title":"Build System"},{"content":" tags: Emacs ç”Ÿæˆ terminfo\n$ cat \u0026lt;\u0026lt;EOF \u0026gt; terminfo-24bits.src # Use semicolon separators. xterm-24bits|xterm with 24-bit direct color mode, use=xterm-256color, Tc, setb24=\\E[48;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%\u0026amp;%d;%p1%{255}%\u0026amp;%dm, setf24=\\E[38;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%\u0026amp;%d;%p1%{255}%\u0026amp;%dm,]] EOF $ tic -x -o ~/.terminfo terminfo-24bits.src é€šè¿‡ xterm-24bits å¯åŠ¨ Emacs\n$ env TERM=xterm-24bits emacs Emacs é€šè¿‡ list-color-display æŸ¥çœ‹æ•ˆæœã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200603103943_tmux_256_colors/","summary":"tags: Emacs ç”Ÿæˆ terminfo\n$ cat \u0026lt;\u0026lt;EOF \u0026gt; terminfo-24bits.src # Use semicolon separators. xterm-24bits|xterm with 24-bit direct color mode, use=xterm-256color, Tc, setb24=\\E[48;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%\u0026amp;%d;%p1%{255}%\u0026amp;%dm, setf24=\\E[38;2;%p1%{65536}%/%d;%p1%{256}%/%{255}%\u0026amp;%d;%p1%{255}%\u0026amp;%dm,]] EOF $ tic -x -o ~/.terminfo terminfo-24bits.src é€šè¿‡ xterm-24bits å¯åŠ¨ Emacs\n$ env TERM=xterm-24bits emacs Emacs é€šè¿‡ list-color-display æŸ¥çœ‹æ•ˆæœã€‚","title":"Emacs Tmux 256 colors"},{"content":" tags: Rust åŠ¨æ€å¤§å°ç±»å‹ï¼ˆDSTï¼‰å’Œ Sized ç‰¹æ€§ str ï¼ˆé \u0026amp;str ï¼‰å°±æ˜¯ä¸€ä¸ª DSTï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨è¿è¡Œæ—¶å¾—çŸ¥ str çš„å¤§å°ã€‚ \u0026amp;str æ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼Œå¤§å°æ˜¯å·²çŸ¥çš„ã€‚\nDSTï¼šæ‹¥æœ‰é¢å¤–çš„å…ƒæ•°æ®å­˜å‚¨åŠ¨æ€å¤§å°çš„ä¿¡æ¯ã€‚\næ¯ä¸€ä¸ªç‰¹æ€§éƒ½æ˜¯ä¸€ä¸ªæ˜¯ä¸ª DSTï¼Œä½¿ç”¨ Trait Object å¿…é¡»æ˜¯åƒ \u0026amp;dyn Trait å’Œ Box\u0026lt;dyn Trait\u0026gt; ï¼ˆæˆ– Rc\u0026lt;dyn Trait\u0026gt; ï¼‰çš„æŒ‡é’ˆç±»å‹ã€‚\ndyn å…³é”®å­— dyn å…³é”®å­—ç”¨äºå°† Trait Object æŒ‡é’ˆå’Œæ™®é€šçš„ç»“æ„ä½“æŒ‡é’ˆåŒºåˆ†å¼€æ¥ã€‚\nSized vs ?Sized Rust æœ‰ä¸€ä¸ªç‰¹å®šçš„ç‰¹æ€§å«åš Sized å»åˆ¤æ–­ä¸€ä¸ªç±»å‹çš„å¤§å°æ˜¯å¦æ˜¯ç¼–è¯‘æœŸå¯çŸ¥çš„ï¼Œå¹¶ä¸”è‡ªåŠ¨åœ¨ç¼–è¯‘æœŸä¸ºæ‰€æœ‰å·²çŸ¥å¤§å°çš„ç±»å‹å®ç°ï¼Œ åŒæ—¶ Rust éšå¼çš„ä¸ºæ³›å‹å‡½æ•°çš„ç±»å‹å‚æ•°åŠ ä¸Š Sized çš„é™åˆ¶ï¼ˆboundï¼‰ï¼Œä¸‹é¢è¿™æ ·çš„æ³›å‹å‡½æ•°ï¼š\nfn generic\u0026lt;T\u0026gt;(t: T) { // --snip-- } å®é™…ä¸Šç›¸å½“äºåƒä¸‹é¢è¿™æ ·ç¡¬ç¼–ç ï¼š\nfn generic\u0026lt;T: Sized\u0026gt;(t: T) { // --snip-- } ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢ç‰¹å®šçš„è¯­æ³•å–æ¶ˆè¿™ä¸ªé™åˆ¶ï¼š\nfn geneic\u0026lt;T: ?Sized\u0026gt;(t: \u0026amp;T) { // --snip-- } ","permalink":"https://notes.0081800.xyz/notes/20200329204833_rust_trait_object/","summary":" tags: Rust åŠ¨æ€å¤§å°ç±»å‹ï¼ˆDSTï¼‰å’Œ Sized ç‰¹æ€§ str ï¼ˆé \u0026amp;str ï¼‰å°±æ˜¯ä¸€ä¸ª DSTï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨è¿è¡Œæ—¶å¾—çŸ¥ str çš„å¤§å°ã€‚ \u0026amp;str æ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼Œå¤§å°æ˜¯å·²çŸ¥çš„ã€‚\nDSTï¼šæ‹¥æœ‰é¢å¤–çš„å…ƒæ•°æ®å­˜å‚¨åŠ¨æ€å¤§å°çš„ä¿¡æ¯ã€‚\næ¯ä¸€ä¸ªç‰¹æ€§éƒ½æ˜¯ä¸€ä¸ªæ˜¯ä¸ª DSTï¼Œä½¿ç”¨ Trait Object å¿…é¡»æ˜¯åƒ \u0026amp;dyn Trait å’Œ Box\u0026lt;dyn Trait\u0026gt; ï¼ˆæˆ– Rc\u0026lt;dyn Trait\u0026gt; ï¼‰çš„æŒ‡é’ˆç±»å‹ã€‚\ndyn å…³é”®å­— dyn å…³é”®å­—ç”¨äºå°† Trait Object æŒ‡é’ˆå’Œæ™®é€šçš„ç»“æ„ä½“æŒ‡é’ˆåŒºåˆ†å¼€æ¥ã€‚\nSized vs ?Sized Rust æœ‰ä¸€ä¸ªç‰¹å®šçš„ç‰¹æ€§å«åš Sized å»åˆ¤æ–­ä¸€ä¸ªç±»å‹çš„å¤§å°æ˜¯å¦æ˜¯ç¼–è¯‘æœŸå¯çŸ¥çš„ï¼Œå¹¶ä¸”è‡ªåŠ¨åœ¨ç¼–è¯‘æœŸä¸ºæ‰€æœ‰å·²çŸ¥å¤§å°çš„ç±»å‹å®ç°ï¼Œ åŒæ—¶ Rust éšå¼çš„ä¸ºæ³›å‹å‡½æ•°çš„ç±»å‹å‚æ•°åŠ ä¸Š Sized çš„é™åˆ¶ï¼ˆboundï¼‰ï¼Œä¸‹é¢è¿™æ ·çš„æ³›å‹å‡½æ•°ï¼š\nfn generic\u0026lt;T\u0026gt;(t: T) { // --snip-- } å®é™…ä¸Šç›¸å½“äºåƒä¸‹é¢è¿™æ ·ç¡¬ç¼–ç ï¼š\nfn generic\u0026lt;T: Sized\u0026gt;(t: T) { // --snip-- } ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢ç‰¹å®šçš„è¯­æ³•å–æ¶ˆè¿™ä¸ªé™åˆ¶ï¼š\nfn geneic\u0026lt;T: ?Sized\u0026gt;(t: \u0026amp;T) { // --snip-- } ","title":"Rust Trait Object"},{"content":" tags: Rust,Translate,Rust Wrapper Types åŸæ–‡é“¾æ¥ï¼šRust Borrow and Lifetimesã€‚\nRust æ˜¯ä¸€é—¨å¤„äºå¾€ 1.0 æ´»è·ƒå¼€å‘çš„æ–°è¯­è¨€ï¼ˆè¯‘æ³¨ï¼š1.0 æ—©å·²å‘å¸ƒï¼Œç›®å‰æœ€æ–°ç¨³å®šç‰ˆæœ¬ 1.42ï¼‰ã€‚ æˆ‘å¿…é¡»å†å†™ä¸€ç¯‡å…³äºæˆ‘ä¸ºä»€ä¹ˆè§‰å¾— Rust ç‰›é€¼çš„æ–°åšå®¢ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘å°†å…³æ³¨åœ¨å®ƒçš„å€Ÿç”¨ï¼ˆborrowï¼‰ å’Œç”Ÿå‘½å‘¨æœŸï¼ˆlifetimesï¼‰ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯å¸¸å¸¸è®©åŒ…æ‹¬æˆ‘åœ¨å†…çš„ Rust æ–°æ‰‹é™·å…¥å›°å¢ƒçš„åœ°æ–¹ã€‚è¿™ç¯‡æ–‡ç« å‡è®¾ ä½ åŸºæœ¬äº†è§£ Rustï¼Œå¦‚æœè¿˜æ²¡æ¨èä½ å…ˆé˜…è¯»æŒ‡å—å’ŒæŒ‡é’ˆæŒ‡å—ã€‚\nèµ„æºæ‰€æœ‰æƒå’Œå€Ÿç”¨ Rust é€šè¿‡ä¸€ä¸ªéš¾ç¼ çš„ï¼ˆsophisticatedï¼‰å€Ÿç”¨ç³»ç»Ÿåœ¨ä¸ç”¨ GC çš„æƒ…å†µä¸‹è¾¾åˆ°å†…å­˜å®‰å…¨ã€‚å¯¹äºä»»ä½•èµ„æº ï¼ˆæ ˆå†…å­˜ã€å †å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ï¼Œä»–ä»¬éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„æ‰€æœ‰è€…ï¼ˆownerï¼‰åœ¨éœ€è¦çš„æƒ…å†µä¸‹å¤„ç†èµ„æºå›æ”¶ã€‚ ä½ å¯ä»¥é€šè¿‡ \u0026amp; æˆ–è€… \u0026amp;mut åˆ›å»ºä¸€ä¸ªæ–°çš„ç»‘å®šæŒ‡å‘è¯¥èµ„æºï¼Œè¿™è¢«ç§°ä¹‹ä¸ºå€Ÿç”¨æˆ–å¯å˜å€Ÿç”¨ã€‚ç¼–è¯‘å™¨ç¡®ä¿ æ‰€æœ‰çš„æ‰€æœ‰è€…ï¼ˆownersï¼‰å’Œå€Ÿç”¨è€…ï¼ˆborrowersï¼‰è¡Œä¸ºæ­£ç¡®ã€‚\næ‹·è´å’Œè½¬ç§»ï¼ˆCopy and moveï¼‰ åœ¨æˆ‘ä»¬å¼€å§‹è¿›å…¥å€Ÿç”¨ç³»ç»Ÿä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ Rust å¦‚ä½•å¤„ç†æ‹·è´å’Œè½¬ç§»ã€‚è¿™ä¸ª StackOverflow ç­”æ¡ˆéå¸¸å€¼å¾—ä¸€è¯»ã€‚ åŸºæœ¬ä¸Šï¼Œåœ¨èµ‹å€¼å’Œå‡½æ•°è°ƒç”¨ä¸Šï¼š\nå¦‚æœå€¼æ˜¯å¯æ‹·è´çš„ï¼ˆcopyableï¼‰ï¼ˆä»…æ¶‰åŠåŸå§‹ï¼ˆprimitiveï¼‰ç±»å‹ï¼Œä¸æ¶‰åŠå¦‚å†…å­˜æˆ–æ–‡ä»¶å¥æŸ„çš„èµ„æºï¼‰ï¼Œç¼–è¯‘å™¨é»˜è®¤è¿›è¡Œæ‹·è´ã€‚ å…¶ä»–æƒ…å†µï¼Œç¼–è¯‘å™¨è½¬ç§»ï¼ˆmovesï¼‰æ‰€æœ‰æƒï¼ˆownershipï¼‰å¹¶ä½¿åŸæ¥çš„ç»‘å®šæ— æ•ˆã€‚ ç®€è€Œè¨€ä¹‹ï¼ŒPODï¼ˆPlan Old Dataï¼‰ =\u0026gt; æ‹·è´ï¼ŒNon-PODï¼ˆçº¿æ€§ç±»å‹ï¼ˆlinear typesï¼‰ï¼‰=\u0026gt; è½¬ç§»ã€‚\nä»¥ä¸‹æ˜¯ä¸€äº›é¢å¤–çš„æ³¨é‡Šä¾›ä½ å‚è€ƒï¼š\nRust æ‹·è´åƒ Cã€‚æ¯ä¸€ä¸ªæŒ‰å€¼ï¼ˆby-valueï¼‰ä½¿ç”¨ä¸€ä¸ªå€¼éƒ½æ˜¯å­—èŠ‚æ‹·è´ï¼ˆé€šè¿‡ memcpy æµ…æ‹·è´ï¼‰ï¼Œè€Œä¸æ˜¯è¯­ä¹‰ä¸Šçš„æ‹·è´æˆ–å…‹éš†ã€‚ å¦‚æœæƒ³è¦è®©ä¸€ä¸ª POD ç»“æ„ä½“å˜æˆä¸å¯æ‹·è´çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ª NoCopy æ ‡è®°ï¼Œæˆ–è€…å®ç° Drop ç‰¹æ€§ï¼ˆtraitï¼‰ã€‚ è½¬ç§»ä¹‹åï¼Œæ‰€æœ‰æƒå°±è½¬ç§»åˆ°äº†ä¸‹ä¸€ä¸ªæ‰€æœ‰è€…é‚£ã€‚\nèµ„æºå›æ”¶ Rust ä¼šåœ¨ä»»ä½•èµ„æºçš„æ‰€æœ‰æƒæ¶ˆå¤±åç«‹åˆ»é‡Šæ”¾è¯¥èµ„æºï¼Œå°±è¿™äº›ï¼Œå½“ï¼š\næ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸï¼Œæˆ– æ­£åœ¨æŒæœ‰çš„æ‰€æœ‰è€…æ”¹å˜ç»‘å®šï¼ˆåŸå§‹ç»‘å®šå˜æˆ voidï¼‰ã€‚ æ‰€æœ‰è€…å’Œå€Ÿç”¨è€…çš„æƒé™ï¼ˆprivilegesï¼‰å’Œé™åˆ¶ è¿™ä¸€èŠ‚åŸºäº Rust Guide åœ¨æƒé™ï¼ˆprivilegesï¼‰ä¸€éƒ¨åˆ†æåˆ°æ‹·è´å’Œè½¬ç§»ã€‚\næ‰€æœ‰è€…æœ‰ä¸€äº›æƒé™ã€‚å®ƒå¯ä»¥ï¼š\næ§åˆ¶èµ„æºå›æ”¶ã€‚ å€Ÿå‡ºèµ„æºï¼Œä¸å¯å˜çš„ï¼ˆå¯å¤šæ¬¡å€Ÿç”¨ï¼‰æˆ–å¯å˜çš„ï¼ˆåªèƒ½ç‹¬å ï¼‰ï¼Œå’Œ äº¤å‡ºæ‰€æœ‰æƒï¼ˆé€šè¿‡è½¬ç§»ï¼‰ åŒæ—¶æ‰€æœ‰è€…ä¹Ÿå­˜åœ¨ä¸€äº›é™åˆ¶ï¼š\nä¸å¯å˜å€Ÿç”¨æœŸé—´ï¼Œæ‰€æœ‰è€…ä¸èƒ½\na. æ”¹å˜èµ„æºï¼Œæˆ–è€…\nb. ä»¥å¯å˜çš„æ–¹å¼å€Ÿå‡ºèµ„æºã€‚\nå¯å˜å€Ÿç”¨æœŸé—´æ‰€æœ‰è€…ä¸èƒ½\na. è®¿é—®è¯¥èµ„æºï¼Œæˆ–è€…\nb. å†æ¬¡å€Ÿå‡ºè¯¥èµ„æºã€‚\nå€Ÿç”¨è€…åŒæ—¶ä¹Ÿæœ‰ä¸€äº›æƒé™ã€‚é™¤äº†è®¿é—®æˆ–è€…æ›´æ”¹å€Ÿç”¨çš„èµ„æºå¤–ï¼Œå€Ÿç”¨è€…ä¹Ÿå¯ä»¥è¿›ä¸€æ­¥å€Ÿå‡ºï¼ˆshare the borrowï¼‰ï¼š\nä¸å¯å˜å€Ÿç”¨è€…å¯ä»¥å€Ÿå‡ºï¼ˆæ‹·è´ï¼‰ä¸å¯å˜å€Ÿç”¨ï¼ˆè¯‘æ³¨ï¼šå†æ¬¡ä»¥ä¸å¯å˜å€Ÿç”¨å€Ÿå‡ºï¼‰ å¯å˜å€Ÿç”¨è€…å¯ä»¥äº¤å‡ºï¼ˆè½¬ç§»ï¼‰å¯å˜å€Ÿç”¨ã€‚ï¼ˆå¯å˜å¼•ç”¨é»˜è®¤ä½¿ç”¨è½¬ç§»ã€‚ï¼‰ ä»£ç ç¤ºä¾‹ å…³äºå€Ÿç”¨æˆ‘ä»¬å·²ç»èŠçš„å¤Ÿå¤šäº†ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€äº›ä»£ç å§ï¼ˆä½ å¯ä»¥é€šè¿‡ https://play.rust-lang.org è¿è¡Œè¿™äº› Rust ä»£ç ã€‚ï¼‰ åœ¨ä¸‹é¢æ‰€æœ‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸å¯æ‹·è´çš„ struct Foo ï¼Œå› ä¸ºå®ƒåŒ…å«äº†ä¸€ä¸ªè£…ç®±ï¼ˆboxedï¼‰ï¼ˆå †åˆ†é…ï¼‰å€¼ã€‚ ä½¿ç”¨ä¸å¯æ‹·è´èµ„æºå¯ä»¥é™åˆ¶ç›¸å…³æ“ä½œï¼Œè®©æˆ‘ä»¬æ›´å¥½çš„å­¦ä¹ ã€‚\nå¯¹äºæ¯ä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ªâ€œä½œç”¨åŸŸå›¾è¡¨â€ï¼ˆscope chartï¼‰æ¥å±•ç¤ºæ‰€æœ‰è€…å’Œå€Ÿç”¨è€…çš„ä½œç”¨åŸŸã€‚ å›¾è¡¨ç¬¬ä¸€è¡Œçš„å¤§æ‹¬å·å’Œä»£ç ä¸­çš„å¤§æ‹¬å·ä¸€ä¸€å¯¹åº”ã€‚\næ‰€æœ‰è€…åœ¨å¯å˜å€Ÿç”¨æœŸé—´ä¸èƒ½è®¿é—®èµ„æº å¦‚æœæˆ‘ä»¬å°†ä»£ç ä¸­çš„ println! è§£é™¤æ³¨é‡Šï¼Œä»£ç å°†ä¸èƒ½ç¼–è¯‘ï¼š\nstruct Foo { f: Box\u0026lt;int\u0026gt;, } fn main() { let mut a = Foo { f: box 0 }; // mutable borrow let x = \u0026amp;mut a; // error: cannot borrow `a.f` as immutable because `a` is also borrowed as mutable // println!(\u0026#34;{}\u0026#34;, a.f); } { a x * } owner a |_____| borrower x |___| x = \u0026amp;mut a access a.f | error è¿™è¿åäº†æ‰€æœ‰è€…é™åˆ¶ #2(a)ã€‚å¦‚æœæˆ‘ä»¬å°† let x = \u0026amp;mut a; åœ¨ä¸€ä¸ªåµŒå¥—çš„ä»£ç å—é‡Œï¼šå€Ÿç”¨ åœ¨ println! ä¹‹å‰ç»“æŸï¼Œè¿™æ®µä»£ç å°†èƒ½æ­£å¸¸å·¥ä½œï¼š\nfn main() { let mut a = Foo { f: box 0 }; { // mutable borrow let x = \u0026amp;mut a; // mutable borrow ends here } println!(\u0026#34;{}\u0026#34;, a.f); } { a { x } * } owner a |_________| borrower x |_| x = \u0026amp;mut a access a.f | OK å€Ÿç”¨è€…å¯ä»¥è½¬ç§»å¯å˜å€Ÿç”¨åˆ°ä¸€ä¸ªæ–°çš„å€Ÿç”¨è€… è¿™æ®µä»£ç å±•ç¤ºå€Ÿç”¨è€…çš„æƒé™ #2: å¯å˜å€Ÿç”¨ x å¯ä»¥å°†æ‰€æœ‰æƒè½¬ç§»å¯å˜å€Ÿç”¨åˆ°ä¸€ä¸ªæ–°çš„å€Ÿç”¨è€… y ã€‚\nfn main() { let mut a = Foo { f: box 0 }; // mutable borrow let x = \u0026amp;mut a; // move the mutable borrow to new borrower y let y = x; // error: use of moved value: `x.f` // println!(\u0026#34;{}\u0026#34;, x.f); } { a x y * } owner a |_______| borrower x |_| x = \u0026amp;mut a borrower y |___| y = x access x.f | error è½¬ç§»ä¹‹åï¼ŒåŸå§‹çš„å€Ÿç”¨è€… x ä¸å†èƒ½è®¿é—®å€Ÿç”¨çš„èµ„æºã€‚\nå€Ÿç”¨ä½œç”¨åŸŸï¼ˆBorrow scopeï¼‰ å¦‚æœæˆ‘ä»¬å¼€å§‹ä¼ é€’å¼•ç”¨ï¼ˆ \u0026amp; å’Œ \u0026amp;mutï¼‰äº‹æƒ…å°±å¼€å§‹å˜å¾—æœ‰è¶£ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ Rust æ–°æ‰‹ä»¬å¼€å§‹å›°æƒ‘çš„åœ°æ–¹ã€‚\nç”Ÿå‘½å‘¨æœŸï¼ˆLifetimeï¼‰ åœ¨æ•´ä¸ªå€Ÿç”¨è¿‡ç¨‹ä¸­ï¼ŒçŸ¥é“å€Ÿç”¨è€…çš„å€Ÿç”¨ä»€ä¹ˆæ—¶å€™å¼€å§‹å’Œç»“æŸéå¸¸é‡è¦ã€‚åœ¨ç”Ÿå‘½å‘¨æœŸæŒ‡å—ä¸­æ˜¯è¿™æ ·å®šä¹‰ç”Ÿå‘½å‘¨æœŸçš„ï¼š\nA lifetime is a static approximation of the span of execution during which the pointer is valid: it always corresponds to some expression or block within the program.\nç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡é’ˆæœ‰æ•ˆèŒƒå›´çš„é™æ€è¿‘ä¼¼å€¼ï¼šå®ƒå§‹ç»ˆå¯¹åº”ç¨‹åºä¸­çš„æŸäº›è¡¨è¾¾å¼æˆ–ä»£ç å—ã€‚\nç„¶è€Œï¼Œæˆ‘æ›´å–œæ¬¢ä½¿ç”¨ å€Ÿç”¨ä½œç”¨åŸŸï¼ˆborrow scopeï¼‰ è¿™ä¸ªæœ¯è¯­å»æè¿°å€Ÿç”¨ç”Ÿæ•ˆçš„ä½œç”¨åŸŸã€‚è¯·æ³¨æ„å®ƒä¸åŒäºä¸Šé¢ç”Ÿå‘½å‘¨æœŸçš„å®šä¹‰ã€‚ ï¼ˆæˆ‘ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¸ªæœ¯è¯­æ˜¯åœ¨ä¸€ä¸ª Rust RFC è®¨è®º ä¸­ï¼Œå°½ç®¡æˆ‘çš„å®šä¹‰å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ï¼‰æˆ‘ä¼šåœ¨ç¨åç»™å‡ºæˆ‘ä¸ºä»€ä¹ˆé¿å…ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸçš„åŸå› ã€‚ ç°åœ¨æˆ‘ä»¬å…ˆæŠŠç”Ÿå‘½å‘¨æœŸæ”¾åœ¨ä¸€è¾¹ã€‚\n\u0026amp; = borrow ä¸€äº›å…³äºå€Ÿç”¨çš„äº‹æƒ…ï¼š\né¦–å…ˆï¼Œåªéœ€è¦è®°ä½ \u0026amp; = å€Ÿç”¨ï¼Œ \u0026amp;mut = å¯å˜å€Ÿç”¨ã€‚ä»»ä½•åœ°æ–¹ä½ çœ‹åˆ°ä¸€ä¸ª \u0026amp; ï¼Œé‚£å°±æ˜¯ä¸€ä¸ªå€Ÿç”¨ã€‚\nå…¶æ¬¡ï¼Œå½“ä¸€ä¸ª \u0026amp; å‡ºç°åœ¨ä»»ä½•ç»“æ„ä½“ä¸­ï¼ˆåœ¨å®ƒçš„å­—æ®µä¸­ï¼‰æˆ–è€…å‡½æ•°_é—­åŒ…ï¼ˆè¿”å›å€¼æˆ–è€…æ•è·çš„å¼•ç”¨ï¼‰ï¼Œç»“æ„ä½“_å‡½æ•°/é—­åŒ…å°±æ˜¯ä¸€ä¸ªå€Ÿç”¨è€…ï¼Œ å¹¶ä¸”åº”ç”¨æ‰€æœ‰çš„å€Ÿç”¨è§„åˆ™ã€‚\nå†æ¬¡ï¼Œå¯¹äºæ¯ä¸€ä¸ªå€Ÿç”¨ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªæ‰€æœ‰è€…å’Œä¸€ä¸ªæˆ–å¤šä¸ªå€Ÿç”¨è€…ã€‚\næ‰©å±•å€Ÿç”¨ä½œç”¨åŸŸ ä¸€äº›å…³äºå€Ÿç”¨ä½œç”¨åŸŸçš„äº‹æƒ…ï¼š\né¦–å…ˆï¼Œä¸€ä¸ªå€Ÿç”¨ä½œç”¨åŸŸï¼š\næ˜¯ä¸€ä¸ªå€Ÿç”¨ç”Ÿæ•ˆçš„èŒƒå›´ï¼Œå¹¶ä¸” ä¸ä¸€å®šæ˜¯å€Ÿç”¨è€…çš„è¯æ³•ä½œç”¨åŸŸï¼Œå› ä¸ºå€Ÿç”¨è€…å¯ä»¥æ‰©å±•å€Ÿç”¨ä½œç”¨åŸŸï¼ˆå‚è§ä¸‹é¢ï¼‰ã€‚ å…¶æ¬¡ï¼Œå€Ÿç”¨è€…åœ¨èµ‹å€¼æˆ–è€…å‡½æ•°è°ƒç”¨ä¸­å¯ä»¥é€šè¿‡æ‹·è´ï¼ˆä¸å¯å˜å€Ÿç”¨ï¼‰æˆ–è€…è½¬ç§»ï¼ˆå¯å˜å€Ÿç”¨ï¼‰æ‰©å±•å€Ÿç”¨ä½œç”¨åŸŸã€‚ æ¥æ”¶è€…ï¼ˆreceiverï¼‰ï¼ˆå¯ä»¥æ˜¯æ–°çš„ç»‘å®šã€ç»“æ„ä½“ã€å‡½æ•°æˆ–è€…é—­åŒ…ï¼‰å˜æˆæ–°çš„å€Ÿç”¨è€…ã€‚\nå†æ¬¡ï¼Œå€Ÿç”¨ä½œç”¨åŸŸæ˜¯æ‰€æœ‰å€Ÿç”¨è€…ä½œç”¨åŸŸçš„å¹¶é›†ï¼Œå¹¶ä¸”è¢«å€Ÿç”¨çš„èµ„æºå¿…é¡»åœ¨æ•´ä¸ªå€Ÿç”¨ä½œç”¨åŸŸé‡Œæœ‰æ•ˆã€‚\nå€Ÿç”¨å…¬å¼ æ ¹æ®æœ€åä¸€ç‚¹ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå€Ÿç”¨å…¬å¼ï¼š\nèµ„æºä½œç”¨åŸŸ \u0026gt;= å€Ÿç”¨ä½œç”¨åŸŸ = æ‰€æœ‰å€Ÿç”¨è€…ä½œç”¨åŸŸçš„å¹¶é›†ã€‚\nä»£ç ç¤ºä¾‹ è®©æˆ‘ä»¬çœ‹ä¸€äº›æ‰©å±•ä½œç”¨åŸŸçš„ä»£ç ç¤ºä¾‹ã€‚ç»“æ„ä½“ struct Foo å’Œå‰é¢çš„ä¸€æ ·ï¼š\nfn main() { let mut a = Foo { f: box 0 }; let y: \u0026amp;Foo; if false { // borrow let x = \u0026amp;a; // share the borrow with new borrower y, hence extend the borrow scope y = x; } // error: cannot assign to `a.f` because it is borrowed // a.f = box 1; } { a { x y } * } resource a |___________| borrower x |___| x = \u0026amp;a borrower y |_____| y = x borrow scope |=======| mutate a.f | error å³ä½¿å€Ÿç”¨å‘ç”Ÿåœ¨ if ä»£ç å—ä¹‹å†…å¹¶ä¸”å€Ÿç”¨è€… x åœ¨ if ä»£ç å—ä¹‹åè¶…å‡ºä½œç”¨åŸŸï¼Œå®ƒå·²ç»é€šè¿‡èµ‹å€¼ y=x; æ‰©å±•äº†å€Ÿç”¨ä½œç”¨åŸŸï¼Œ æ‰€ä»¥å­˜åœ¨ä¸¤ä¸ªå€Ÿç”¨è€…ï¼š x å’Œ y ã€‚æ ¹æ®å€Ÿç”¨å…¬å¼ï¼šå€Ÿç”¨ä½œç”¨åŸŸæ˜¯å€Ÿç”¨è€… x å’Œå€Ÿç”¨è€… y ä½œç”¨åŸŸçš„å¹¶é›†ï¼š èŒƒå›´å¼€å§‹ç¬¬ä¸€æ¬¡å€Ÿç”¨äº let x = \u0026amp;a; ç›´åˆ° main ä»£ç å—çš„ç»“å°¾ã€‚ï¼ˆæ³¨æ„ç»‘å®š y åœ¨ y=x; ä¹‹å‰ä¸æ˜¯å€Ÿç”¨è€…ã€‚ï¼‰\nä½ å¯èƒ½æ³¨æ„åˆ°äº†ç”±äºæ¡ä»¶æ°¸è¿œæ˜¯ false if ä»£ç å—æ°¸è¿œä¸ä¼šæ‰§è¡Œï¼Œä½†æ˜¯ç¼–è¯‘å™¨å§‹ç»ˆæ‹’ç»èµ„æºæ‰€æœ‰è€… a å»è®¿é—® å®ƒçš„èµ„æºã€‚è¿™æ˜¯å› ä¸ºæ‰€æœ‰çš„å€Ÿç”¨æ£€æŸ¥å‘ç”Ÿåœ¨ç¼–è¯‘æœŸï¼Œè¿™æ ·ç¨‹åºè¿è¡Œæ—¶å°±ä¸éœ€è¦åšä»»ä½•äº‹æƒ…ã€‚\nå€Ÿç”¨å¤šä¸ªèµ„æº ç›®å‰ä¸ºæ­¢æˆ‘ä»¬åªå…³æ³¨å€Ÿç”¨å•ä¸ªèµ„æºã€‚å€Ÿç”¨è€…å¯ä»¥å€Ÿç”¨å¤šä¸ªèµ„æºå—ï¼Ÿå½“ç„¶ï¼æ¯”å¦‚ä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—ä¸¤ä¸ªå¼•ç”¨ç„¶å åŸºäºä¸€äº›æƒ…å†µè¿”å›å…¶ä¸­ä¸€ä¸ªï¼Œe.g. å…¶ä¸­å­—æ®µå€¼æ¯”è¾ƒå¤§çš„é‚£ä¸€ä¸ªã€‚\nfn max(x: \u0026amp;Foo, y: \u0026amp;Foo) -\u0026gt; \u0026amp;Foo max å‡½æ•°è¿”å›ä¸€ä¸ª \u0026amp; æŒ‡é’ˆï¼Œå› æ­¤å®ƒæ˜¯ä¸€ä¸ªå€Ÿç”¨è€…ã€‚è¿”å›çš„ç»“æœå¯ä»¥æ˜¯è¾“å…¥å‚æ•°çš„ä»»æ„ä¸€ä¸ªï¼Œæ‰€ä»¥å®ƒå€Ÿç”¨äº† ä¸¤é¥é¢èµ„æºã€‚\nå‘½åå€Ÿç”¨ä½œç”¨åŸŸï¼ˆNamed borrow scopeï¼‰ å½“å­˜åœ¨å¤šä¸ª \u0026amp; æŒ‡é’ˆä½œä¸ºè¾“å…¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ å‘½åç”Ÿå‘½å‘¨æœŸï¼ˆnamed lifetimesï¼‰ æŒ‡å®šå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Œ å‚è§ Lifetimes Guideã€‚ä½†ç°åœ¨ï¼Œè®©æˆ‘ä»¬å«å®ƒä»¬ å‘½åå€Ÿç”¨ä½œç”¨åŸŸï¼ˆnamed borrow scopesï¼‰ ã€‚\nä¸Šé¢çš„ä»£ç æ²¡æœ‰ä½¿ç”¨ å‘½åç”Ÿå‘½å‘¨æœŸ æŒ‡å®šå®ƒä»¬ä¹‹é—´çš„å…³ç³»æ˜¯ä¸ä¼šé€šè¿‡ç¼–è¯‘å™¨çš„ï¼Œi.e. å“ªäº›å€Ÿç”¨è€… åˆ†ç»„ï¼ˆgroupedï¼‰ åˆ°å“ªä¸ªå€Ÿç”¨ä½œç”¨åŸŸã€‚ä¸‹é¢çš„å®ç°æ˜¯åˆæ³•çš„ï¼š\nfn max\u0026lt;\u0026#39;a\u0026gt;(x: \u0026amp;\u0026#39;a Foo, y: \u0026amp;\u0026#39;a Foo) -\u0026gt; \u0026amp;\u0026#39;a Foo { if x.f \u0026gt; y.f { x } else { y } } (All resources and borrowers are grouped in borrow scope \u0026#39;a.) max( { } ) resource *x \u0026lt;--------------\u0026gt; resource *y \u0026lt;--------------\u0026gt; borrow scope \u0026#39;a \u0026lt;==============\u0026gt; borrower x |___| borrower y |___| return value |___| pass to the caller åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå€Ÿç”¨ä½œç”¨åŸŸ 'a å’Œä¸‰ä¸ªå€Ÿç”¨è€…ï¼šä¸¤ä¸ªè¾“å…¥å‚æ•°å’Œå‡½æ•°è¿”å›ç»“æœã€‚ å‰é¢æåˆ°çš„å€Ÿç”¨å…¬å¼ä¾ç„¶ç”Ÿæ•ˆï¼Œä½†æ˜¯ç°åœ¨æ¯ä¸ªè¢«å€Ÿç”¨çš„èµ„æºå¿…é¡»æ»¡è¶³å…¬å¼ã€‚å‚è§ä¸‹é¢çš„ä¾‹å­ï¼š\nä»£ç ç¤ºä¾‹ åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨ä¸Šé¢çš„ max å‡½æ•°åœ¨ a å’Œ b ä¹‹é—´é€‰æ‹©ä¸€ä¸ªæ›´å¤§ Foo ï¼š\nfn main() { let a = Foo { f: box 1 }; let y: \u0026amp;Foo; if false { let b = Foo { f: box 0 }; let x = max(\u0026amp;a, \u0026amp;b); // error: `b` does not live long enough // y = x; } } { a { b x ( ) y } } resource a |________________| pass resource b |__________| fail borrow scope |==========| temp borrower |_| \u0026amp;a temp borrower |_| \u0026amp;b borrower x |________| x = max(\u0026amp;a, \u0026amp;b) borrower y |___| y = x ç›´åˆ° let x = max(\u0026amp;a, \u0026amp;b) éƒ½ä¸€äº›æ­£å¸¸ï¼Œå› ä¸º \u0026amp;a å’Œ \u0026amp;b éƒ½æ˜¯å°½åœ¨è¡¨è¾¾å¼ä¸­æœ‰æ•ˆçš„ä¸´æ—¶å¼•ç”¨ï¼Œ å¹¶ä¸”ç¬¬ä¸‰ä¸ªå€Ÿç”¨ x å€Ÿç”¨äº†ä¸¤ä¸ªèµ„æºï¼ˆä¸ç®¡æœ€ç»ˆæ˜¯ a æˆ– b ï¼Œå¯¹äºå€Ÿç”¨æ£€æŸ¥å™¨è€Œè¨€å®ƒéƒ½å€Ÿç”¨äº†ï¼‰ç›´åˆ° if å—ç»“æŸï¼Œæ‰€ä»¥å€Ÿç”¨ä½œç”¨åŸŸæ˜¯ä» let x = max(\u0026amp;a, \u0026amp;b); åˆ° if å—ç»“å°¾ã€‚ä¸¤ä¸ªèµ„æº a å’Œ b åœ¨æ•´ä¸ªå€Ÿç”¨ä½œç”¨åŸŸ éƒ½æœ‰æ•ˆ,å› æ­¤æ»¡è¶³å€Ÿç”¨å…¬å¼ã€‚\nç°åœ¨å¦‚æœæˆ‘ä»¬è§£é™¤æœ€åä¸€ä¸ªèµ‹å€¼ y = x; çš„æ³¨é‡Šï¼Œ y å˜æˆç¬¬å››ä¸ªå€Ÿç”¨è€…ï¼Œç„¶åå€Ÿç”¨ä½œç”¨åŸŸè¢«æ‰©å±•åˆ° main å—çš„ç»“å°¾ï¼Œå¯¼è‡´èµ„æº b ä¸èƒ½æ»¡è¶³å…¬å¼ã€‚\nç»“æ„ä½“ä½œä¸ºå€Ÿç”¨è€… é™¤äº†å‡½æ•°å’Œé—­åŒ…ä¹‹å¤–ï¼Œä¸€ä¸ªç»“æ„ä½“ä¹Ÿå¯ä»¥é€šè¿‡å…¶å­—æ®µå­˜å‚¨å¤šä¸ªå¼•ç”¨æ¥å€Ÿç”¨å¤šä¸ªèµ„æºã€‚æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¸€äº›ä¾‹å­ æ¥çœ‹çœ‹å€Ÿç”¨å…¬å¼å¦‚ä½•ç”Ÿæ•ˆçš„ã€‚æˆ‘ä»¬æ¥ä½¿ç”¨ Link ç»“æ„ä½“æ¥ä¿å­˜ä¸€ä¸ªå¼•ç”¨ï¼ˆä¸å¯å˜å€Ÿç”¨ï¼‰ï¼š\nstruct Link\u0026lt;\u0026#39;a\u0026gt; { link: \u0026amp;\u0026#39;a Foo, } ç»“æ„ä½“å€Ÿç”¨å¤šä¸ªèµ„æº å³ä½¿åªæœ‰ä¸€ä¸ªå­—æ®µï¼Œç»“æ„ä½“ Link ä¹Ÿå¯ä»¥å€Ÿç”¨å¤šä¸ªèµ„æºï¼š\nfn main() { let a = Foo { f: box 0 }; let mut x = Link { link: \u0026amp;a }; if false { let b = Foo { f: box 1 }; // error: `b` does not live long enough // x.link = \u0026amp;b; } } { a x { b * } } resource a |___________| pass resource b |___| fail borrow scope |=========| borrower x |_________| x.link = \u0026amp;a borrower x |___| x.link = \u0026amp;b åœ¨ä¸Šé¢ä¾‹å­ä¸­ï¼Œå€Ÿç”¨è€… x ä»æ‰€æœ‰è€… a å€Ÿç”¨èµ„æºï¼Œå€Ÿç”¨ä½œç”¨åŸŸåˆ° main å—çš„ç»“å°¾ã€‚So far so goodã€‚ å¦‚æœæˆ‘ä»¬è§£é™¤æœ€åä¸€ä¸ªèµ‹å€¼ x.link = \u0026amp;b; çš„æ³¨é‡Šï¼Œ x ä¹Ÿå°è¯•ä»æ‰€æœ‰è€… b å€Ÿç”¨èµ„æºï¼Œè¿™ä¼šè®©èµ„æº b ä¸èƒ½æ»¡è¶³å€Ÿç”¨å…¬å¼ã€‚\næ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°æ‰©å±•å€Ÿç”¨ä½œç”¨åŸŸ ä¸€ä¸ªæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡è¾“å‡ºå‚æ•°èƒ½æ‰©å±•å€Ÿç”¨ä½œç”¨åŸŸã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªå‡½æ•° store_foo æ¥å—ä¸€ä¸ª Link çš„å¯å˜å¼•ç”¨ï¼Œç„¶åå­˜å‚¨ä¸€ä¸ªå¼•ç”¨ï¼ˆä¸å¯å˜å€Ÿç”¨ï¼‰åˆ° Foo é‡Œï¼š\nfn store_foo\u0026lt;\u0026#39;a\u0026#39;\u0026gt;(x: \u0026amp;mut Link\u0026lt;\u0026#39;a\u0026gt;, y: \u0026amp;\u0026#39;a Foo) { x.link = y; } åœ¨æ¥ä¸‹æ¥çš„ä»£ç ä¸­ï¼Œè¢« a æ‰€æœ‰çš„èµ„æºæ˜¯è¢«å€Ÿç”¨èµ„æºï¼› Link ç»“æ„ä½“è¢«å€Ÿç”¨è€… x å¯å˜çš„å¼•ç”¨ç€ï¼ˆi.e. *x æ˜¯å€Ÿç”¨è€…ï¼‰ï¼› å€Ÿç”¨ä½œç”¨åŸŸç›´åˆ° main å—çš„ç»“å°¾ã€‚\nfn main() { let a = Foo { f: box 0 }; let x = \u0026amp;mut Link { link: \u0026amp;a }; if false { let b = Foo { f: box 1 }; // store_foo(x, \u0026amp;b); } } { a x { b * } } resource a |___________| pass resource b |___| fail borrow scope |=========| borrower *x |_________| x.link = \u0026amp;a borrower *x |___| x.link = \u0026amp;b å¦‚æœæˆ‘ä»¬è§£é™¤æœ€åä¸€ä¸ªå‡½æ•°è°ƒç”¨ store_foo(x, \u0026amp;b); ,è¿™ä¸ªå‡½æ•°å°†ä¼šå°è¯•å°† \u0026amp;b å­˜å‚¨åˆ° x.link ï¼Œ å°†èµ„æº b ä½œä¸ºå¦å¤–ä¸€ä¸ªè¢«å€Ÿç”¨çš„èµ„æºï¼Œç”±äº b çš„ä½œç”¨åŸŸæ²¡æœ‰è¦†ç›–æ•´ä¸ªå€Ÿç”¨ä½œç”¨åŸŸï¼Œå¯¼è‡´ä¸æ»¡è¶³å€Ÿç”¨å…¬å¼ã€‚\nå¤šä¸ªå€Ÿç”¨ä½œç”¨åŸŸ ä¸€ä¸ªå‡½æ•°ä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªå€Ÿç”¨ä½œç”¨åŸŸã€‚ä¾‹å¦‚ï¼š\nfn superstore_foo\u0026lt;\u0026#39;a, \u0026#39;b\u0026gt;(x: \u0026amp;mut Link\u0026lt;\u0026#39;a\u0026gt;, y: \u0026amp;\u0026#39;a Foo, x2: \u0026amp;mut Link\u0026lt;\u0026#39;b\u0026gt;, y2: \u0026amp;\u0026#39;b Foo) { x.link = y; x2.link = y2; } è¿™ä¸ªçš„å‡½æ•°ï¼ˆå¯èƒ½ä¸æ˜¯ç‰¹åˆ«æœ‰ç”¨ï¼‰ä¸­ï¼Œæ¶‰åŠä¸¤ä¸ªä¸åŒçš„å€Ÿç”¨ä½œç”¨åŸŸã€‚æ¯ä¸ªå€Ÿç”¨ä½œç”¨åŸŸéƒ½æœ‰å®ƒä»¬è‡ªå·±çš„ä½œç”¨åŸŸå…¬å¼è¦æ»¡è¶³ã€‚\nä¸ºä»€ä¹ˆç”Ÿå‘½å‘¨æœŸä¼šé€ æˆå›°æƒ‘ æœ€åï¼Œæˆ‘æƒ³è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸º Rust å€Ÿç”¨ç³»ç»Ÿä½¿ç”¨ ç”Ÿå‘½å‘¨æœŸ æœ¯è¯­ä¼šé€ æˆå›°æƒ‘ï¼ˆåŒæ—¶é¿å…åœ¨è¿™ç‰‡åšæ–‡ä¸­ä½¿ç”¨å®ƒï¼‰ã€‚\nå½“æˆ‘ä»¬è®¨è®ºå€Ÿç”¨æ—¶ä¼šæ¶‰åŠåˆ°ä¸åŒç±»å‹çš„â€œç”Ÿå‘½å‘¨æœŸâ€ï¼š\nA. èµ„æºæ‰€æœ‰è€…çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæˆ–è€… è¢«æ‰€æœ‰/è¢«å€Ÿç”¨ èµ„æº B. è¢«å€Ÿç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œi.e. ä»å¼€å§‹å€Ÿç”¨åˆ°æœ€åè¿”è¿˜ C. æ¯ä¸€ä¸ªç‹¬ç«‹çš„å€Ÿç”¨è€…æˆ–è¢«å€Ÿç”¨çš„æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸ\nå½“æœ‰äººè¯´â€œç”Ÿå‘½å‘¨æœŸâ€ï¼Œå®ƒå¯ä»¥æŒ‡ä¸Šé¢çš„ä»»ä½•ä¸€ä¸ªã€‚å¦‚æœæ¶‰åŠå¤šä¸ªèµ„æºå’Œå€Ÿç”¨è€…å°±ä¼šå˜çš„æ›´åŠ å›°æƒ‘ã€‚ æ¯”å¦‚ï¼Œåœ¨å‡½æ•°æˆ–è€…ç»“æ„ä½“ç”Ÿå‘½ä¸­ä¸€ä¸ªâ€œå‘½åçš„ç”Ÿå‘½å‘¨æœŸâ€æŒ‡å“ªä¸ªï¼Ÿæ˜¯ Aã€B æˆ–è€… Cï¼Ÿ\nåœ¨æˆ‘ä»¬çš„å‰ä¸€ä¸ª max å‡½æ•°ä¸­ï¼š\nfn max\u0026lt;\u0026#39;a\u0026gt;(x: \u0026amp;\u0026#39;a Foo, y: \u0026amp;\u0026#39;a Foo) -\u0026gt; \u0026amp;\u0026#39;a Foo { if x.f \u0026gt; y.f { x } else { y } } ç”Ÿå‘½å‘¨æœŸ 'a çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸åº”è¯¥æ˜¯ Aï¼Œå› ä¸ºæ¶‰åŠä¸¤ä¸ªèµ„æºå¹¶ä¸”ä»–ä»¬æœ‰ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚ä¹Ÿä¸å¯èƒ½æ˜¯ Cï¼Œ å› ä¸ºæœ‰ä¸‰ä¸ªå€Ÿç”¨è€…ï¼š x ã€ y å’Œå‡½æ•°çš„è¿”å›å€¼ï¼Œå¹¶ä¸”ä»–ä»¬ä¹Ÿéƒ½æœ‰ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸã€‚å®ƒæ˜¯ B å—ï¼Ÿå¯èƒ½ã€‚ ä½†æ˜¯æ•´ä¸ªå€Ÿç”¨ä½œç”¨åŸŸå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡ï¼Œå®ƒæ€ä¹ˆèƒ½æœ‰ä¸€ä¸ªâ€œç”Ÿå‘½å‘¨æœŸâ€å‘¢ï¼Ÿç§°å®ƒä¸ºç”Ÿå‘½å‘¨æœŸå°±ä¼šé€ æˆå›°æƒ‘ã€‚\nå¦ä¸€ç§è¯´æ³•æ˜¯å®ƒæ„å‘³ç€å¯¹è¢«å€Ÿç”¨èµ„æºçš„æœ€å°ç”Ÿå‘½å‘¨æœŸè¦æ±‚ã€‚ä¸€å®šç¨‹åº¦ä¸Šæ˜¯æœ‰é“ç†çš„ï¼Œ ä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆç§°å‘¼æœ€å°ç”Ÿå‘½å‘¨æœŸè¦æ±‚â€œç”Ÿå‘½å‘¨æœŸâ€ï¼Ÿ\næ‰€æœ‰æƒ/å€Ÿç”¨æ¦‚å¿µè‡ªèº«å·²ç»å¤Ÿå¤æ‚äº†ã€‚æˆ‘ä¼šè¯´ï¼šå¯¹æœ¯è¯­â€œç”Ÿå‘½å‘¨æœŸâ€çš„å›°æƒ‘å¯¹å­¦ä¹ è¿™ä¸ªæ¦‚å¿µé€ æˆäº†æ›´å¤šçš„è«åå…¶å¦™ã€‚\nP.S. ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„ Aã€B å’Œ Cï¼Œå€Ÿç”¨å…¬å¼å˜æˆï¼š\nA \u0026gt;= B = C_1,UC_2U\u0026hellip;UC_n\nå­¦ä¹  Rust æ˜¯å€¼å¾—çš„ï¼ å°½ç®¡å€Ÿç”¨å’Œæ‰€æœ‰æƒå¯èƒ½è®©ä½ èŠ±ä¸€äº›æ—¶é—´æ¥æŒæ¡ï¼ˆto grokï¼‰ï¼Œä½†æ˜¯æ˜¯ä¸€ä¸ªéå¸¸æœ‰è¶£çš„å­¦ä¹ ã€‚Rust å°è¯•ä¸ç”¨ GC æ¥å®ç°å†…å­˜å®‰å…¨ï¼Œå¹¶ä¸”ç›®å‰æ¥çœ‹åšçš„éå¸¸å¥½ã€‚ä¸€äº›äººè¯´ä»–ä»¬é€šè¿‡å­¦ä¹  Haskell æ”¹å˜äº†ä»–ä»¬ç¼–ç¨‹çš„æ–¹å¼ã€‚ æˆ‘è®¤ä¸ºRust åŒæ ·ä¹Ÿå€¼å¾—ä½ å­¦ä¹ ã€‚\nå¸Œæœ›è¿™ç¯‡åšæ–‡èƒ½æä¾›ä¸€äº›å¸®åŠ©ã€‚\n","permalink":"https://notes.0081800.xyz/articles/20200325182450_rust_borrow_and_lifetimes/","summary":"tags: Rust,Translate,Rust Wrapper Types åŸæ–‡é“¾æ¥ï¼šRust Borrow and Lifetimesã€‚\nRust æ˜¯ä¸€é—¨å¤„äºå¾€ 1.0 æ´»è·ƒå¼€å‘çš„æ–°è¯­è¨€ï¼ˆè¯‘æ³¨ï¼š1.0 æ—©å·²å‘å¸ƒï¼Œç›®å‰æœ€æ–°ç¨³å®šç‰ˆæœ¬ 1.42ï¼‰ã€‚ æˆ‘å¿…é¡»å†å†™ä¸€ç¯‡å…³äºæˆ‘ä¸ºä»€ä¹ˆè§‰å¾— Rust ç‰›é€¼çš„æ–°åšå®¢ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘å°†å…³æ³¨åœ¨å®ƒçš„å€Ÿç”¨ï¼ˆborrowï¼‰ å’Œç”Ÿå‘½å‘¨æœŸï¼ˆlifetimesï¼‰ç³»ç»Ÿï¼Œè¿™ä¹Ÿæ˜¯å¸¸å¸¸è®©åŒ…æ‹¬æˆ‘åœ¨å†…çš„ Rust æ–°æ‰‹é™·å…¥å›°å¢ƒçš„åœ°æ–¹ã€‚è¿™ç¯‡æ–‡ç« å‡è®¾ ä½ åŸºæœ¬äº†è§£ Rustï¼Œå¦‚æœè¿˜æ²¡æ¨èä½ å…ˆé˜…è¯»æŒ‡å—å’ŒæŒ‡é’ˆæŒ‡å—ã€‚\nèµ„æºæ‰€æœ‰æƒå’Œå€Ÿç”¨ Rust é€šè¿‡ä¸€ä¸ªéš¾ç¼ çš„ï¼ˆsophisticatedï¼‰å€Ÿç”¨ç³»ç»Ÿåœ¨ä¸ç”¨ GC çš„æƒ…å†µä¸‹è¾¾åˆ°å†…å­˜å®‰å…¨ã€‚å¯¹äºä»»ä½•èµ„æº ï¼ˆæ ˆå†…å­˜ã€å †å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ï¼Œä»–ä»¬éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„æ‰€æœ‰è€…ï¼ˆownerï¼‰åœ¨éœ€è¦çš„æƒ…å†µä¸‹å¤„ç†èµ„æºå›æ”¶ã€‚ ä½ å¯ä»¥é€šè¿‡ \u0026amp; æˆ–è€… \u0026amp;mut åˆ›å»ºä¸€ä¸ªæ–°çš„ç»‘å®šæŒ‡å‘è¯¥èµ„æºï¼Œè¿™è¢«ç§°ä¹‹ä¸ºå€Ÿç”¨æˆ–å¯å˜å€Ÿç”¨ã€‚ç¼–è¯‘å™¨ç¡®ä¿ æ‰€æœ‰çš„æ‰€æœ‰è€…ï¼ˆownersï¼‰å’Œå€Ÿç”¨è€…ï¼ˆborrowersï¼‰è¡Œä¸ºæ­£ç¡®ã€‚\næ‹·è´å’Œè½¬ç§»ï¼ˆCopy and moveï¼‰ åœ¨æˆ‘ä»¬å¼€å§‹è¿›å…¥å€Ÿç”¨ç³»ç»Ÿä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ Rust å¦‚ä½•å¤„ç†æ‹·è´å’Œè½¬ç§»ã€‚è¿™ä¸ª StackOverflow ç­”æ¡ˆéå¸¸å€¼å¾—ä¸€è¯»ã€‚ åŸºæœ¬ä¸Šï¼Œåœ¨èµ‹å€¼å’Œå‡½æ•°è°ƒç”¨ä¸Šï¼š\nå¦‚æœå€¼æ˜¯å¯æ‹·è´çš„ï¼ˆcopyableï¼‰ï¼ˆä»…æ¶‰åŠåŸå§‹ï¼ˆprimitiveï¼‰ç±»å‹ï¼Œä¸æ¶‰åŠå¦‚å†…å­˜æˆ–æ–‡ä»¶å¥æŸ„çš„èµ„æºï¼‰ï¼Œç¼–è¯‘å™¨é»˜è®¤è¿›è¡Œæ‹·è´ã€‚ å…¶ä»–æƒ…å†µï¼Œç¼–è¯‘å™¨è½¬ç§»ï¼ˆmovesï¼‰æ‰€æœ‰æƒï¼ˆownershipï¼‰å¹¶ä½¿åŸæ¥çš„ç»‘å®šæ— æ•ˆã€‚ ç®€è€Œè¨€ä¹‹ï¼ŒPODï¼ˆPlan Old Dataï¼‰ =\u0026gt; æ‹·è´ï¼ŒNon-PODï¼ˆçº¿æ€§ç±»å‹ï¼ˆlinear typesï¼‰ï¼‰=\u0026gt; è½¬ç§»ã€‚\nä»¥ä¸‹æ˜¯ä¸€äº›é¢å¤–çš„æ³¨é‡Šä¾›ä½ å‚è€ƒï¼š\nRust æ‹·è´åƒ Cã€‚æ¯ä¸€ä¸ªæŒ‰å€¼ï¼ˆby-valueï¼‰ä½¿ç”¨ä¸€ä¸ªå€¼éƒ½æ˜¯å­—èŠ‚æ‹·è´ï¼ˆé€šè¿‡ memcpy æµ…æ‹·è´ï¼‰ï¼Œè€Œä¸æ˜¯è¯­ä¹‰ä¸Šçš„æ‹·è´æˆ–å…‹éš†ã€‚ å¦‚æœæƒ³è¦è®©ä¸€ä¸ª POD ç»“æ„ä½“å˜æˆä¸å¯æ‹·è´çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ª NoCopy æ ‡è®°ï¼Œæˆ–è€…å®ç° Drop ç‰¹æ€§ï¼ˆtraitï¼‰ã€‚ è½¬ç§»ä¹‹åï¼Œæ‰€æœ‰æƒå°±è½¬ç§»åˆ°äº†ä¸‹ä¸€ä¸ªæ‰€æœ‰è€…é‚£ã€‚\nèµ„æºå›æ”¶ Rust ä¼šåœ¨ä»»ä½•èµ„æºçš„æ‰€æœ‰æƒæ¶ˆå¤±åç«‹åˆ»é‡Šæ”¾è¯¥èµ„æºï¼Œå°±è¿™äº›ï¼Œå½“ï¼š","title":"Rust Borrow and Lifetimes"},{"content":" tags: Rust ","permalink":"https://notes.0081800.xyz/notes/20200325165657_rust_wrapper_types/","summary":" tags: Rust ","title":"Rust Wrapper Types"},{"content":" tags: è¯»ä¹¦ç¬”è®°,ç³»ç»Ÿæ¶æ„ ç¬¬ä¸€éç²—è¯» ä¸‰ä¸ªç¼–ç¨‹èŒƒå¼ï¼šç»“æ„åŒ–ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹\næ¯ä¸ªç¼–ç¨‹èŒƒå¼éƒ½æ˜¯å¢åŠ é™åˆ¶ï¼š\nç»“æ„åŒ–ç¼–ç¨‹é™åˆ¶äº† goto é¢å‘å¯¹è±¡ç¼–ç¨‹é™åˆ¶äº†å‡½æ•°æŒ‡é’ˆ å‡½æ•°å¼ç¼–ç¨‹é™åˆ¶å¯å˜å˜é‡ï¼ˆå˜é‡ä¸å¯ä¿®æ”¹ï¼‰ è®¾è®¡åŸåˆ™ï¼šSOLID\n","permalink":"https://notes.0081800.xyz/notes/20200323104907_%E6%9E%B6%E6%9E%84%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/","summary":"tags: è¯»ä¹¦ç¬”è®°,ç³»ç»Ÿæ¶æ„ ç¬¬ä¸€éç²—è¯» ä¸‰ä¸ªç¼–ç¨‹èŒƒå¼ï¼šç»“æ„åŒ–ç¼–ç¨‹ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€å‡½æ•°å¼ç¼–ç¨‹\næ¯ä¸ªç¼–ç¨‹èŒƒå¼éƒ½æ˜¯å¢åŠ é™åˆ¶ï¼š\nç»“æ„åŒ–ç¼–ç¨‹é™åˆ¶äº† goto é¢å‘å¯¹è±¡ç¼–ç¨‹é™åˆ¶äº†å‡½æ•°æŒ‡é’ˆ å‡½æ•°å¼ç¼–ç¨‹é™åˆ¶å¯å˜å˜é‡ï¼ˆå˜é‡ä¸å¯ä¿®æ”¹ï¼‰ è®¾è®¡åŸåˆ™ï¼šSOLID","title":"ã€Šæ¶æ„æ•´æ´ä¹‹é“ã€‹è¯»ä¹¦ç¬”è®°"},{"content":"SRP: Single Responsibility Principle æµ…æ˜¾çš„è§£é‡Šæ˜¯è½¯ä»¶æ¨¡å—åªæä¾›å•ä¸€åŠŸèƒ½\næ›´è¿›ä¸€æ­¥ä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªè¢«ä¿®æ”¹çš„åŸå› \nå†æ›´è¿›ä¸€æ­¥è¿™ä¸ªåŸåˆ™æ˜¯å…³äºäººï¼ˆActorï¼‰çš„\nä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥åªå¯¹ä¸€ä¸ªç”¨æˆ·æˆ–ç³»ç»Ÿåˆ©ç›Šç›¸å…³è€…è´Ÿè´£ã€‚\næœ€ç»ˆå°±æ˜¯ä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥åªå¯¹æŸä¸€ç±»è¡Œä¸ºè´Ÿè´£\nOCPï¼šOpen/Closed Principle è®¾è®¡è‰¯å¥½çš„è½¯ä»¶åº”è¯¥æ˜“äºæ‰©å±•ï¼ŒåŒæ—¶æŠ—æ‹’ä¿®æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªè½¯ä»¶æ¨¡å—åº”è¯¥å…è®¸åœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹æ‰©å±•å®ƒçš„è¡Œä¸ºã€‚\nå¯ä»¥é€šè¿‡ç»„åˆ SRPï¼ˆä»£ç åˆ†ç»„ï¼‰å’Œè°ƒæ•´ä¾èµ–å…³ç³»å®ç°ï¼ˆDIPï¼‰ã€‚å¦‚æœ A ç»„ä»¶ä¸æƒ³è¢« B ç»„ä»¶ä¸Šå‘ç”Ÿçš„ä¿®æ”¹æ‰€å½±å“ï¼Œé‚£ä¹ˆå°±åº”è¯¥è®© B ç»„ä»¶ä¾èµ–äº A ç»„ä»¶ã€‚\nLSPï¼šLiskov Substitution Principle é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå¤šæ€ã€‚\næ¯ä¸ªç±»å‹æ˜¯ S çš„å¯¹è±¡ o1 éƒ½å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º T çš„å¯¹è±¡ o2ï¼Œèƒ½ä½¿æ“ä½œ T ç±»å‹çš„ç¨‹åº P åœ¨ç”¨ o2 æ›¿æ¢ o1 æ—¶è¡Œä¸ºä¿æŒä¸å˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† S ç§°ä¸º T çš„å­ç±»å‹ã€‚\npublic class LiskovSub { public static main(String[] args) { T o1 = new S(); T o2 = new T(); P(o1); // ok P(o2); // ok } public static P(T o) { o.doSomeThing(); } } æ­£é•¿æ–¹å½¢é—®é¢˜\npublic class NonLiskovSub { public static main(String[] args) { Rectangle r = new Sqaure(); r.setW(5); r.setH(2); assert(r.area() == 10); // ä¸æˆç«‹ } public static class Reactangle { private int w = 0; private int h = 0; public void setW(int w) { this.w = w; } public void setH(int h) { this.h = h; } public int area() { return w * h; } } public static class Square extends Rectangle { @Override public void setW(int w) { setSide(w); } @Override public void setH(int h) { setSide(h); } public void setSide(int s) { this.w = s; this.h = s; } } } ISP: Interface-Segregation Principle ç”¨æˆ·åº”è¯¥ä¸ä¾èµ–å®ƒä¸æ˜¯ç”¨çš„æ–¹æ³•ã€‚è‡ƒè‚¿çš„æ–¹æ³•æ‹†åˆ†æˆæ›´å°æ›´å…·ä½“çš„è§’è‰²æ¥å£ã€‚\nDIP: Dependency Inversion Principle å¦‚æœæƒ³è¦è®¾è®¡ä¸€ä¸ªçµæ´»çš„ç³»ç»Ÿï¼Œåœ¨æºä»£ç å±‚é¢çš„ä¾èµ–å…³ç³»ä¸­å°±åº”è¯¥å¤šå¼•ç”¨æŠ½è±¡ç±»è¡Œï¼Œè€Œéå…·ä½“å®ç°ã€‚\nè¿™ä¸€åŸåˆ™ä¸é’ˆå¯¹å·²ç»ç¨³å®šä¸å˜çš„éƒ¨åˆ†ï¼Œè€Œæ˜¯é’ˆå¯¹é‚£äº›ç»å¸¸ å˜åŠ¨çš„(volatile) æ¨¡å—ã€‚\nåº”åœ¨ä»£ç ä¸­å¤šä½¿ç”¨æŠ½è±¡æ¥å£ï¼Œå°½é‡é¿å…ä½¿ç”¨é‚£äº›å¤šå˜çš„å…·ä½“å®ç°ç±» ã€‚åŒæ—¶åº”ä½¿ç”¨æŠ½è±¡å·¥å‚ä¸¥æ ¼é™åˆ¶å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚ ä¸è¦å†å…·ä½“å®ç°ç±»ä¸Šåˆ›å»ºè¡ç”Ÿç±» ã€‚é™æ€è¯­è¨€ä¸­ç»§æ‰¿ä¾èµ–æœ€å¼ºä¸”æœ€éš¾è¢«ä¿®æ”¹ã€‚ ä¸è¦è¦†ç›–ï¼ˆoverrideï¼‰åŒ…å«å…·ä½“å®ç°çš„å‡½æ•° ã€‚é€šè¿‡åˆ›å»ºä¸€ä¸ªæŠ½è±¡å‡½æ•°ï¼Œç„¶åå†ä¸ºè¯¥å‡½æ•°æä¾›å¤šç§å…·ä½“å®ç°ã€‚ åº”é¿å…åœ¨ä»£ç ä¸­å†™å…¥ä¸ä»»ä½•å…·ä½“å®ç°ç›¸å…³çš„åå­—ï¼Œæˆ–è€…æ˜¯å…¶ä»–å®¹æ˜“å˜åŠ¨çš„äº‹ç‰©çš„åå­— ã€‚ å·¥å‚æ¨¡å¼ä¹‹äºéå¸¸é‡è¦ã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200323101418_solid/","summary":"SRP: Single Responsibility Principle æµ…æ˜¾çš„è§£é‡Šæ˜¯è½¯ä»¶æ¨¡å—åªæä¾›å•ä¸€åŠŸèƒ½\næ›´è¿›ä¸€æ­¥ä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥æœ‰ä¸”åªæœ‰ä¸€ä¸ªè¢«ä¿®æ”¹çš„åŸå› \nå†æ›´è¿›ä¸€æ­¥è¿™ä¸ªåŸåˆ™æ˜¯å…³äºäººï¼ˆActorï¼‰çš„\nä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥åªå¯¹ä¸€ä¸ªç”¨æˆ·æˆ–ç³»ç»Ÿåˆ©ç›Šç›¸å…³è€…è´Ÿè´£ã€‚\næœ€ç»ˆå°±æ˜¯ä»»ä½•ä¸€ä¸ªè½¯ä»¶æ¨¡å—éƒ½åº”è¯¥åªå¯¹æŸä¸€ç±»è¡Œä¸ºè´Ÿè´£\nOCPï¼šOpen/Closed Principle è®¾è®¡è‰¯å¥½çš„è½¯ä»¶åº”è¯¥æ˜“äºæ‰©å±•ï¼ŒåŒæ—¶æŠ—æ‹’ä¿®æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªè½¯ä»¶æ¨¡å—åº”è¯¥å…è®¸åœ¨ä¸ä¿®æ”¹æºç çš„æƒ…å†µä¸‹æ‰©å±•å®ƒçš„è¡Œä¸ºã€‚\nå¯ä»¥é€šè¿‡ç»„åˆ SRPï¼ˆä»£ç åˆ†ç»„ï¼‰å’Œè°ƒæ•´ä¾èµ–å…³ç³»å®ç°ï¼ˆDIPï¼‰ã€‚å¦‚æœ A ç»„ä»¶ä¸æƒ³è¢« B ç»„ä»¶ä¸Šå‘ç”Ÿçš„ä¿®æ”¹æ‰€å½±å“ï¼Œé‚£ä¹ˆå°±åº”è¯¥è®© B ç»„ä»¶ä¾èµ–äº A ç»„ä»¶ã€‚\nLSPï¼šLiskov Substitution Principle é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå¤šæ€ã€‚\næ¯ä¸ªç±»å‹æ˜¯ S çš„å¯¹è±¡ o1 éƒ½å­˜åœ¨ä¸€ä¸ªç±»å‹ä¸º T çš„å¯¹è±¡ o2ï¼Œèƒ½ä½¿æ“ä½œ T ç±»å‹çš„ç¨‹åº P åœ¨ç”¨ o2 æ›¿æ¢ o1 æ—¶è¡Œä¸ºä¿æŒä¸å˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† S ç§°ä¸º T çš„å­ç±»å‹ã€‚\npublic class LiskovSub { public static main(String[] args) { T o1 = new S(); T o2 = new T(); P(o1); // ok P(o2); // ok } public static P(T o) { o.","title":"SOLID"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20200323104645_%E6%8A%80%E6%9C%AF/","summary":"","title":"æŠ€æœ¯"},{"content":" tags: æŠ€æœ¯ è®¾è®¡åŸåˆ™ SOLID\nå¥½çš„æ¶æ„ æˆ‘è®¤ä¸ºå¥½çš„æ¶æ„ èƒ½å¤Ÿæ— å¿ƒæ™ºéšœç¢çš„ç¼–å†™è¿è¡Œå•å…ƒæµ‹è¯• ä»ä¸€èµ·ä½œä¸šçœ‹å¥½çš„æ¶æ„ åº”è¯¥èƒ½å¤Ÿè®©ä»»ä½•å¼€å‘äººå‘˜æ–¹ä¾¿çš„éšæ—¶ä¸Šçº¿å’Œå›æ»š é¢å¯¹ä¸Šçº¿å¯¹åŸºç¡€è®¾æ–½æ²¡æœ‰å¿ƒç†å‹åŠ› å®Œå¤‡çš„ç›‘æ§ ","permalink":"https://notes.0081800.xyz/notes/20200322143810_%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/","summary":" tags: æŠ€æœ¯ è®¾è®¡åŸåˆ™ SOLID\nå¥½çš„æ¶æ„ æˆ‘è®¤ä¸ºå¥½çš„æ¶æ„ èƒ½å¤Ÿæ— å¿ƒæ™ºéšœç¢çš„ç¼–å†™è¿è¡Œå•å…ƒæµ‹è¯• ä»ä¸€èµ·ä½œä¸šçœ‹å¥½çš„æ¶æ„ åº”è¯¥èƒ½å¤Ÿè®©ä»»ä½•å¼€å‘äººå‘˜æ–¹ä¾¿çš„éšæ—¶ä¸Šçº¿å’Œå›æ»š é¢å¯¹ä¸Šçº¿å¯¹åŸºç¡€è®¾æ–½æ²¡æœ‰å¿ƒç†å‹åŠ› å®Œå¤‡çš„ç›‘æ§ ","title":"ç³»ç»Ÿæ¶æ„"},{"content":"éœ€è¦ç†Ÿæ‚‰è‚¡å¸‚ç›¸å…³æ¦‚å¿µè¿›è¡Œæ‰«ç›²ã€‚\nç²—è¯»è¦ç‚¹ æ ‘ç«‹å®‰å…¨è¾¹é™…ï¼Œè·Ÿéšæ ¼é›·å„å§† å¯»æ‰¾å¥½çš„å›°éš¾è‚¡ï¼Œé™ä½è§¦åº•éš¾åº¦ï¼ŒåŠ å¤§è§¦åº•åŒºé—´ï¼Œé¢„æµ‹åº•éƒ¨åŒºé—´ï¼Œåˆ† 5 æ¡£æŠ„åº•ï¼Œæœ€å¥½åœ¨ 1-3 æ¡£å°±èƒ½å®ŒæˆæŠ„åº• æ¯æ¬¡åªä¹°æ€»èµ„äº§çš„ 1% ç›ˆåˆ©åå¯ä»¥å°†æœ¬é‡‘æå‡ºï¼Œåªç•™åº•ä»“ç­‰å¾…é¡¶å³°ä¿¡å·åæŠ›å‡ºèµšå–é«˜é¢åˆ©æ¶¦çš„å‰æä¸‹ä¿éšœæœ¬é‡‘ æ€»æ˜¯ç•™ 25%-40% çš„ç°é‡‘ åšé•¿çº¿ åˆ†æè´¢æŠ¥çœ‹æ¯›åˆ©ã€è¥æ”¶å¢é•¿ç‡ã€è´Ÿå€ºç‡å¯ä»¥ç¡®å®šä¸€ä¸ªå¥½è‚¡ï¼Œç„¶åå°±ç­‰ä¸€äº›æƒ…å†µä¸‹è¿™åªè‚¡é‡åˆ°å›°éš¾è§¦åº• çœ‹è¡Œä¸šå¤„äºå“ªä¸ªå‘¨æœŸï¼šèŒå‘ã€æˆé•¿å•¥çš„ ä¸åšé‡ä»“ å¤è¯»è¦ç‚¹å®Œå–„ å®‰å…¨è¾¹é™… è·Ÿéšæ ¼é›·å„å§†\nåç¦»ï¼šæ›´ä¿å®ˆæˆ–æ›´æ¿€è¿› å¤§èµšå°èµ”ä¸å¦‚å°èµšä¸èµ”ï¼šä¸äºé’± å›°å¢ƒå¥½ä¼ åšæœ‰æŠŠæ¡çš„äº‹ï¼Œä¸å•ƒç¡¬éª¨å¤´ï¼Œå¹¿æ’’ç½‘ï¼Œå¤šæé±¼ï¼Œé€‰å–ä¸€æ‰¹å›°å¢ƒå¥½ä¼æ¥å®ç°ä»å°ç›˜å¤§ç¨³å®šå¢é•¿è‚¡\nè¡Œä¸šä¸­çš„å¥½ä¼ä¸šæ ‡å‡†\nè¡Œä¸šå¾ˆå…³é”®\néœ€æ±‚æ— é™ï¼Œä¾›ç»™æœ‰é™\nå…³æ³¨è¡Œä¸šå‘¨æœŸ\nå¤§å‘¨æœŸï¼šæ–°ç”Ÿ-\u0026gt;æˆé•¿-\u0026gt;æˆç†Ÿ-\u0026gt;è¡°è½-\u0026gt;æ¶ˆäº¡ å°å‘¨æœŸï¼šå¤§å‘¨æœŸå„ä¸ªè¿‡ç¨‹ä¸­çš„æ™¯æ°”ä¸è§æ¡ï¼ˆä¸€ä¸¤å¹´ã€ä¸‰äº”å¹´ç”šè‡³ä¸€äºŒåå¹´ï¼‰\næ¶ˆäº¡ä¹‹å‰ä¼šæœ‰æ­»ç°å¤ç‡ƒï¼Œå¤§å‘¨æœŸä¸­æˆé•¿é˜¶æ®µä¼šæœ‰è§æ¡ï¼Œæ³¨æ„åŒºåˆ†ã€‚\né—¨æ§›é«˜ï¼Œç«äº‰å°‘\nåªæœ‰å°‘æ•°å¯¡å¤´ï¼Œä¼°å€¼ä¼šé«˜\nå”¯ä¸€æˆ–ç¬¬ä¸€\næˆç†Ÿè¡Œä¸šæ¯”è¾ƒç®€å•ï¼Œæˆé•¿è¡Œä¸šæ¯”è¾ƒå›°éš¾ã€‚\né€šè¿‡ä¼ä¸šåŸåˆ™ã€ç»è¥åŸåˆ™ã€è´¢åŠ¡åŸåˆ™å’Œå¸‚åœºåŸåˆ™è¡¡é‡ã€‚- P28 ç”Ÿæ´»ç»éªŒæ´»å¸¸è¯†ä¹Ÿå¾ˆé‡è¦ã€‚\nè½éš¾å¥½ä¼\nè¡Œä¸šé¡ºå¢ƒï¼ŒæŸäº›åŸå› å¯¼è‡´çš„çŒœç–‘å¯¼è‡´è‚¡ä»·ä¸‹è·Œ è¡Œä¸šé­é‡æ•´ä½“å›°å¢ƒï¼šå¶ç„¶äº‹ä»¶ï¼Œåè½¬æ—¶é—´æ¯”å¥½æŠŠæ¡ ä¸ªè‚¡å›°å¢ƒï¼Œä¸»æ‰“äº§å“ç ´ç­ï¼šæœ‰æ— æ³•åº¦è¿‡çš„é£é™© è´¢åŠ¡æ•°æ®è¡¡é‡å›°å¢ƒå¥½ä¼èƒ½å¦åº¦è¿‡éš¾å…³ - P32\nè´Ÿå€ºç‡è¶Šä½è¶Šå¥½ï¼šä¸èƒ½è¶…è¿‡ 50% èµ„äº§ä¸­çš„ç°é‡‘è¶Šå¤šè¶Šå¥½ï¼šé«˜äºè‚¡ä¸œæƒç›Šçš„ 1/3ï¼Œåˆšä¸Šå¸‚çš„å¥½è¿‡ä¸Šå¸‚å¾ˆä¹…çš„è€ä¼ä¸šï¼ˆæŠŠé’±æŠ˜è…¾å…‰äº†ï¼‰ äº§å“çš„æ¯›åˆ©ç‡è¶Šé«˜è¶Šå¥½ï¼šå¸‚åœºæœ‰éœ€æ±‚ åº”æ”¶è´¦æ¬¾è¶Šå°‘è¶Šå¥½ï¼šé’±å¯èƒ½æ”¶ä¸å›æ¥ é€šè¿‡å­£æŠ¥å‘ç°åè½¬æ—¶æœº\nå­£æŠ¥æ—¶é—´é•¿ï¼ŒæŠ—çŸ­æœŸå¹²æ‰°ï¼Œä¸€å­£åº¦å®šè°ƒã€äºŒå­£åº¦ï¼ˆåŠå¹´ï¼‰çº åæˆ–ä¿®æ­£ã€ä¸‰å­£åº¦å‡ºç»“æœï¼ˆæ›´å¥½æˆ–æ›´å·®ï¼‰ã€å››å­£åº¦ï¼ˆå¹´æŠ¥ï¼‰æˆæœæ±‡æŠ¥å’Œæ–°çš„èµ·ç‚¹ç”¨äºæ¯”è¾ƒç¬¬ä¸€å­£åº¦ã€‚\nä¸€å­£åº¦å’ŒåŠå¹´ç‹ é‡è¦ã€‚\né€šè¿‡ è¥ä¸šæ”¶å…¥ å‘ç°è½¬æœºã€‚å›°å¢ƒè¡¨ç°ä¸ºå‡€åˆ©æ¶¦å¢é€Ÿä¸‹æ»‘ï¼Œä¹‹å‰æ˜¯å¥½ä¼å¯èƒ½ä¼šå¸‚ç›ˆç‡è¿‡é«˜ã€‚\nå®¹é”™å¯»åº• ä¸äºé’±çš„æƒ…å†µä¸‹å¯»æ‰¾æé™åº•éƒ¨ï¼Œä¿éšœå®‰å…¨ã€å¸¦æ¥æœ€å¤§åˆ©æ¶¦ã€å¸¦æ¥è‰¯å¥½å¿ƒæ€\nå˜ç§â€œä¸ç ´ä¹°ä»·â€ï¼šä¹°å…¥çš„ä»·æ ¼å¾ˆéš¾å†è·Œå›åŸæ¥çš„ä½ç½®\nå˜æˆå·¦ä¾§äº¤æ˜“è€…ï¼Œä¸è¿½æ¶¨\nå¤§ç›˜åº•ä¸ä¸ªè‚¡åº•çš„å…³ç³»\nåŒæ­¥æ€§ï¼šå¤§ç›˜ç­‘åº•ä¸ªè‚¡ä¹Ÿåœ¨ç­‘åº•ï¼Œå¤§ç›˜è¾¾åˆ°æœ€ä½ä½æ—¶ï¼Œä¸ªè‚¡ä¹Ÿå…ˆååˆ°è¾¾æœ€ä½ä½\nå·®å¼‚æ€§\nå¤§ç›˜ä¸‹è·Œè“ç­¹è‚¡å…ˆè·Œåˆ°ä½ï¼Œå¤§ç›˜ä¸‹è·Œè¿‡ç¨‹ä¸­å°ç›˜æˆé•¿è‚¡ä¸ç¨³å®šå¢é•¿è‚¡å°‘è®¸è·Ÿè·Œæˆ–é€†å¸‚ä¸Šæ‰¬ã€‚ å¸‚åœºåå¼¹å°ç›˜æˆé•¿è‚¡ä¸ç¨³å®šå¢é•¿è‚¡å¼€å§‹æ€è·Œã€‚\nè€¦åˆæ€§ï¼šå¤§ç›˜åº•å‡ºç°æ—¶æ¬¡æ–°è‚¡å‡ºç°åº•éƒ¨çš„æ¦‚ç‡å¤§ï¼Œè€è‚¡å½¢æˆåº•éƒ¨å¯èƒ½éœ€è¦å¥½å‡ å¹´ \u0026ndash; P56\nå®¹é”™å¯»åº•\nå®¹é”™ï¼šåº•éƒ¨æ˜¯ä¸€ä¸ªåŒºé—´ï¼Œ20%ï½30%\né™ä½è§¦åº•éš¾åº¦ï¼ŒåŠ å¤§è§¦åº•åŒºé—´ï¼Œé¢„æµ‹åº•éƒ¨åŒºé—´ã€‚\nå¸‚åœºé•¿æœŸä¸‹è·Œå¯¼è‡´å›°å¢ƒå¥½ä¼å‡ºç°åº•éƒ¨\nåè½¬è´¢åŠ¡æ ‡å¿—å‡ºç°ä¹Ÿå¯èƒ½å‡ºç°åº•éƒ¨ã€‚\næ¬¡æ–°è‚¡åŒæ­¥å¤§ç›˜å¥½é¢„æµ‹åº•éƒ¨\næ ¹æ®å¸‚å‡€ç‡ä½œä¸ºä¼°å€¼ä¾æ®\nå¤šç§æƒ…å†µï¼ˆP61ï¼‰ï¼š\næ¬¡æ–°è‚¡ 1.5 ï½ 2 å½¢æˆæé™åº•éƒ¨ã€‚ è€è‚¡ 0.5 ï½ 1.5ã€‚\näº”æ¡£ä¹°å…¥ ä»·æ ¼å®½åº¦åœ¨ 10%-20%ï¼Œä¸€æ¡£æ¥åº•è¾ƒå¥½ï¼ŒäºŒã€ä¸‰æ¡£æ¥åº•å®Œç¾ï¼Œçªç ´äº”æ¡£å¤±è´¥è¢«å¥—\nç¼“è§£ç„¦è™‘ï¼Œå¹³è¡¡å¿ƒæ€\næŠ€å·§\nç¬¬ä¸€æ¡£å¾ˆå…³é”®ï¼Œåº”å½“å°½é‡è§¦åº• ä¸‰æ¡£æ‹‰å¼€åŒºé—´ï¼ˆå°ç›˜å’Œç¨³å®š2ï½1PBï¼Œå›°å¢ƒåè½¬å’Œå‘¨æœŸæ³¢åŠ¨ 1.5ï½0.5PBï¼‰ äº”æ¡£æä¾›ç²¾ç¥æ”¯æŒï¼Œä¿®æ­£ä¸‰æ¡£ æ¯æ¡£åªä¹°è´¦æˆ·æ€»å€¼çš„ 1% å­¦ä¼šé¿é›·å®è·µå®‰å…¨è¾¹é™…\nåˆ† 5 æ¡£æŠ„åº•ï¼Œæœ€å¥½åœ¨ 1-3 æ¡£å°±èƒ½å®ŒæˆæŠ„åº•\næ¯æ¬¡åªä¹°æ€»èµ„äº§çš„ 1% ç›ˆåˆ©åå¯ä»¥å°†æœ¬é‡‘æå‡ºï¼Œåªç•™åº•ä»“ç­‰å¾…é¡¶å³°ä¿¡å·åæŠ›å‡ºä¸“åŒºé«˜é¢åˆ©æ¶¦çš„å‰æä¸‹ä¿éšœæœ¬é‡‘ æ€»æ˜¯ç•™ 25%-40% çš„ç°é‡‘ åšé•¿çº¿ åˆ†æè´¢æŠ¥çœ‹æ¯›åˆ©ã€è¥æ”¶å¢é•¿ç‡ã€è´Ÿå€ºç‡å¯ä»¥ç¡®å®šä¸€ä¸ªå¥½è‚¡ï¼Œç„¶åå°±ç­‰ä¸€äº›æƒ…å†µä¸‹è¿™åªè‚¡é‡åˆ°å›°éš¾è§¦åº• çœ‹è¡Œä¸šå¤„äºå“ªä¸ªå‘¨æœŸï¼šèŒå‘ã€æˆé•¿å•¥çš„ ä¸åšé‡ä»“ ","permalink":"https://notes.0081800.xyz/notes/20200320180837_%E7%99%BE%E7%AE%AD%E7%A9%BF%E6%9D%A8/","summary":"éœ€è¦ç†Ÿæ‚‰è‚¡å¸‚ç›¸å…³æ¦‚å¿µè¿›è¡Œæ‰«ç›²ã€‚\nç²—è¯»è¦ç‚¹ æ ‘ç«‹å®‰å…¨è¾¹é™…ï¼Œè·Ÿéšæ ¼é›·å„å§† å¯»æ‰¾å¥½çš„å›°éš¾è‚¡ï¼Œé™ä½è§¦åº•éš¾åº¦ï¼ŒåŠ å¤§è§¦åº•åŒºé—´ï¼Œé¢„æµ‹åº•éƒ¨åŒºé—´ï¼Œåˆ† 5 æ¡£æŠ„åº•ï¼Œæœ€å¥½åœ¨ 1-3 æ¡£å°±èƒ½å®ŒæˆæŠ„åº• æ¯æ¬¡åªä¹°æ€»èµ„äº§çš„ 1% ç›ˆåˆ©åå¯ä»¥å°†æœ¬é‡‘æå‡ºï¼Œåªç•™åº•ä»“ç­‰å¾…é¡¶å³°ä¿¡å·åæŠ›å‡ºèµšå–é«˜é¢åˆ©æ¶¦çš„å‰æä¸‹ä¿éšœæœ¬é‡‘ æ€»æ˜¯ç•™ 25%-40% çš„ç°é‡‘ åšé•¿çº¿ åˆ†æè´¢æŠ¥çœ‹æ¯›åˆ©ã€è¥æ”¶å¢é•¿ç‡ã€è´Ÿå€ºç‡å¯ä»¥ç¡®å®šä¸€ä¸ªå¥½è‚¡ï¼Œç„¶åå°±ç­‰ä¸€äº›æƒ…å†µä¸‹è¿™åªè‚¡é‡åˆ°å›°éš¾è§¦åº• çœ‹è¡Œä¸šå¤„äºå“ªä¸ªå‘¨æœŸï¼šèŒå‘ã€æˆé•¿å•¥çš„ ä¸åšé‡ä»“ å¤è¯»è¦ç‚¹å®Œå–„ å®‰å…¨è¾¹é™… è·Ÿéšæ ¼é›·å„å§†\nåç¦»ï¼šæ›´ä¿å®ˆæˆ–æ›´æ¿€è¿› å¤§èµšå°èµ”ä¸å¦‚å°èµšä¸èµ”ï¼šä¸äºé’± å›°å¢ƒå¥½ä¼ åšæœ‰æŠŠæ¡çš„äº‹ï¼Œä¸å•ƒç¡¬éª¨å¤´ï¼Œå¹¿æ’’ç½‘ï¼Œå¤šæé±¼ï¼Œé€‰å–ä¸€æ‰¹å›°å¢ƒå¥½ä¼æ¥å®ç°ä»å°ç›˜å¤§ç¨³å®šå¢é•¿è‚¡\nè¡Œä¸šä¸­çš„å¥½ä¼ä¸šæ ‡å‡†\nè¡Œä¸šå¾ˆå…³é”®\néœ€æ±‚æ— é™ï¼Œä¾›ç»™æœ‰é™\nå…³æ³¨è¡Œä¸šå‘¨æœŸ\nå¤§å‘¨æœŸï¼šæ–°ç”Ÿ-\u0026gt;æˆé•¿-\u0026gt;æˆç†Ÿ-\u0026gt;è¡°è½-\u0026gt;æ¶ˆäº¡ å°å‘¨æœŸï¼šå¤§å‘¨æœŸå„ä¸ªè¿‡ç¨‹ä¸­çš„æ™¯æ°”ä¸è§æ¡ï¼ˆä¸€ä¸¤å¹´ã€ä¸‰äº”å¹´ç”šè‡³ä¸€äºŒåå¹´ï¼‰\næ¶ˆäº¡ä¹‹å‰ä¼šæœ‰æ­»ç°å¤ç‡ƒï¼Œå¤§å‘¨æœŸä¸­æˆé•¿é˜¶æ®µä¼šæœ‰è§æ¡ï¼Œæ³¨æ„åŒºåˆ†ã€‚\né—¨æ§›é«˜ï¼Œç«äº‰å°‘\nåªæœ‰å°‘æ•°å¯¡å¤´ï¼Œä¼°å€¼ä¼šé«˜\nå”¯ä¸€æˆ–ç¬¬ä¸€\næˆç†Ÿè¡Œä¸šæ¯”è¾ƒç®€å•ï¼Œæˆé•¿è¡Œä¸šæ¯”è¾ƒå›°éš¾ã€‚\né€šè¿‡ä¼ä¸šåŸåˆ™ã€ç»è¥åŸåˆ™ã€è´¢åŠ¡åŸåˆ™å’Œå¸‚åœºåŸåˆ™è¡¡é‡ã€‚- P28 ç”Ÿæ´»ç»éªŒæ´»å¸¸è¯†ä¹Ÿå¾ˆé‡è¦ã€‚\nè½éš¾å¥½ä¼\nè¡Œä¸šé¡ºå¢ƒï¼ŒæŸäº›åŸå› å¯¼è‡´çš„çŒœç–‘å¯¼è‡´è‚¡ä»·ä¸‹è·Œ è¡Œä¸šé­é‡æ•´ä½“å›°å¢ƒï¼šå¶ç„¶äº‹ä»¶ï¼Œåè½¬æ—¶é—´æ¯”å¥½æŠŠæ¡ ä¸ªè‚¡å›°å¢ƒï¼Œä¸»æ‰“äº§å“ç ´ç­ï¼šæœ‰æ— æ³•åº¦è¿‡çš„é£é™© è´¢åŠ¡æ•°æ®è¡¡é‡å›°å¢ƒå¥½ä¼èƒ½å¦åº¦è¿‡éš¾å…³ - P32\nè´Ÿå€ºç‡è¶Šä½è¶Šå¥½ï¼šä¸èƒ½è¶…è¿‡ 50% èµ„äº§ä¸­çš„ç°é‡‘è¶Šå¤šè¶Šå¥½ï¼šé«˜äºè‚¡ä¸œæƒç›Šçš„ 1/3ï¼Œåˆšä¸Šå¸‚çš„å¥½è¿‡ä¸Šå¸‚å¾ˆä¹…çš„è€ä¼ä¸šï¼ˆæŠŠé’±æŠ˜è…¾å…‰äº†ï¼‰ äº§å“çš„æ¯›åˆ©ç‡è¶Šé«˜è¶Šå¥½ï¼šå¸‚åœºæœ‰éœ€æ±‚ åº”æ”¶è´¦æ¬¾è¶Šå°‘è¶Šå¥½ï¼šé’±å¯èƒ½æ”¶ä¸å›æ¥ é€šè¿‡å­£æŠ¥å‘ç°åè½¬æ—¶æœº\nå­£æŠ¥æ—¶é—´é•¿ï¼ŒæŠ—çŸ­æœŸå¹²æ‰°ï¼Œä¸€å­£åº¦å®šè°ƒã€äºŒå­£åº¦ï¼ˆåŠå¹´ï¼‰çº åæˆ–ä¿®æ­£ã€ä¸‰å­£åº¦å‡ºç»“æœï¼ˆæ›´å¥½æˆ–æ›´å·®ï¼‰ã€å››å­£åº¦ï¼ˆå¹´æŠ¥ï¼‰æˆæœæ±‡æŠ¥å’Œæ–°çš„èµ·ç‚¹ç”¨äºæ¯”è¾ƒç¬¬ä¸€å­£åº¦ã€‚\nä¸€å­£åº¦å’ŒåŠå¹´ç‹ é‡è¦ã€‚\né€šè¿‡ è¥ä¸šæ”¶å…¥ å‘ç°è½¬æœºã€‚å›°å¢ƒè¡¨ç°ä¸ºå‡€åˆ©æ¶¦å¢é€Ÿä¸‹æ»‘ï¼Œä¹‹å‰æ˜¯å¥½ä¼å¯èƒ½ä¼šå¸‚ç›ˆç‡è¿‡é«˜ã€‚\nå®¹é”™å¯»åº• ä¸äºé’±çš„æƒ…å†µä¸‹å¯»æ‰¾æé™åº•éƒ¨ï¼Œä¿éšœå®‰å…¨ã€å¸¦æ¥æœ€å¤§åˆ©æ¶¦ã€å¸¦æ¥è‰¯å¥½å¿ƒæ€\nå˜ç§â€œä¸ç ´ä¹°ä»·â€ï¼šä¹°å…¥çš„ä»·æ ¼å¾ˆéš¾å†è·Œå›åŸæ¥çš„ä½ç½®\nå˜æˆå·¦ä¾§äº¤æ˜“è€…ï¼Œä¸è¿½æ¶¨\nå¤§ç›˜åº•ä¸ä¸ªè‚¡åº•çš„å…³ç³»\nåŒæ­¥æ€§ï¼šå¤§ç›˜ç­‘åº•ä¸ªè‚¡ä¹Ÿåœ¨ç­‘åº•ï¼Œå¤§ç›˜è¾¾åˆ°æœ€ä½ä½æ—¶ï¼Œä¸ªè‚¡ä¹Ÿå…ˆååˆ°è¾¾æœ€ä½ä½\nå·®å¼‚æ€§\nå¤§ç›˜ä¸‹è·Œè“ç­¹è‚¡å…ˆè·Œåˆ°ä½ï¼Œå¤§ç›˜ä¸‹è·Œè¿‡ç¨‹ä¸­å°ç›˜æˆé•¿è‚¡ä¸ç¨³å®šå¢é•¿è‚¡å°‘è®¸è·Ÿè·Œæˆ–é€†å¸‚ä¸Šæ‰¬ã€‚ å¸‚åœºåå¼¹å°ç›˜æˆé•¿è‚¡ä¸ç¨³å®šå¢é•¿è‚¡å¼€å§‹æ€è·Œã€‚\nè€¦åˆæ€§ï¼šå¤§ç›˜åº•å‡ºç°æ—¶æ¬¡æ–°è‚¡å‡ºç°åº•éƒ¨çš„æ¦‚ç‡å¤§ï¼Œè€è‚¡å½¢æˆåº•éƒ¨å¯èƒ½éœ€è¦å¥½å‡ å¹´ \u0026ndash; P56","title":"ã€Šç™¾ç®­ç©¿æ¨ã€‹è¯»ä¹¦ç¬”è®°"},{"content":" tags: Programming Language ","permalink":"https://notes.0081800.xyz/topics/20200320171108_c/","summary":" tags: Programming Language ","title":"C/C++"},{"content":" tags: Bigdata,Dataflow Model,Streaming ","permalink":"https://notes.0081800.xyz/projects/20200320100601_flink/","summary":" tags: Bigdata,Dataflow Model,Streaming ","title":"Flink"},{"content":" tags: Bigdata ç›¸å…³çŸ¥è¯†ç‚¹ æ¦‚å¿µç»„æˆ Producer æ¶ˆæ¯äº§ç”Ÿè€…ï¼Œå¾€æŒ‡å®š Topic çš„æŒ‡å®š Partition å‘é€æ¶ˆæ¯\nConsumer Group æ¶ˆè´¹æŒ‡å®š Topic çš„æ¶ˆæ¯\nConsumer æ¶ˆè´¹æŒ‡å®š Topic ä¸‹æŸä¸€åˆ†åŒºçš„æ¶ˆæ¯ Topic åŒºåˆ†ä¸åŒæ¶ˆæ¯ä¸»é¢˜\nPartition ä¿è¯åŒä¸€åˆ†åŒºçš„æœ‰åºæ€§ Connector\næ¶ˆæ¯å¯è¢«ä¸åŒçš„ Consumer Group é‡å¤æ¶ˆè´¹ï¼ˆå¹¿æ’­æˆ–è®¢é˜…ï¼‰ã€‚åŒä¸€ Consumer Group ä¸‹çš„ä¸åŒ Consumer åˆ†åˆ«æ¶ˆè´¹ä¸åŒçš„ Partitionï¼ŒConsumer æ•°é‡ä¸èƒ½è¶…è¿‡ Partition æ•°é‡ã€‚\næ•°æ®è¢«æŒä¹…åŒ–å¹¶åˆ†ç‰‡æˆåŠŸåå‘é€ ACK ä¿è¯é‡Œæ•°æ®ä¸è¢«ä¸¢å¤±ã€‚\nè®¾è®¡ æŒä¹…åŒ– åŸºäºæ–‡ä»¶ç³»ç»Ÿ\nåŸºäºé˜Ÿåˆ—æ˜¯é¡ºåºçš„å’Œç£ç›˜çš„é¡ºåºè®¿é—®è¦æ¯”å†…å­˜çš„éšæœºè®¿é—®è¦å¿«ï¼ˆå‚è§ The Pathologies of Big Dataï¼‰ï¼Œ Kafka é‡‡ç”¨åœ¨ç£ç›˜æ–‡ä»¶ç³»ç»Ÿä¸Šå°¾éƒ¨å†™å¤´éƒ¨è¯»çš„æ–¹å¼ã€‚ Kafka æ²¡æœ‰é‡‡ç”¨ BTree å­˜å‚¨æ•°æ®å› ä¸º BTree çš„æ“ä½œæ˜¯ O(log N) ï¼Œè€Œä¸”å¯¹ç£ç›˜çš„ seek æ“ä½œè¦æ…¢ï¼Œä¸”åŒæ—¶åªèƒ½è¿›è¡Œä¸€æ¬¡é™åˆ¶äº†å¹¶è¡Œï¼Œæ‰€ä»¥å®é™…æ“ä½œæ¯” O(log N) è¦æ…¢ åŸºäºç£ç›˜çš„é¡ºåºè®¿é—®è¿›è¡Œåœ¨å°¾éƒ¨å†™å’Œå¤´éƒ¨è¯»ï¼Œå¯ä»¥å®ç°è¯»å†™éƒ½æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¹¶ä¸”è¯»å†™äº’ä¸å¹²æ‰° åŸºäºä»¥ä¸Šå®ç°ï¼ŒKafka å¯ä»¥ä¸å¿…åœ¨æ¶ˆæ¯ä¸€ç»æ¶ˆè´¹å°±åˆ é™¤ï¼Œè€Œæ˜¯å¯ä»¥ä¿ç•™æ¶ˆæ¯ä¸€æ®µç›¸å¯¹è¾ƒé•¿çš„æ—¶é—´ï¼ˆæ¯”å¦‚ä¸€å‘¨ï¼‰ é«˜æ•ˆ\nå¹¶ä¸”é‡‡ç”¨ç»Ÿä¸€çš„æ—¥å¿—æ ¼å¼ï¼Œå¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨ sendfile é¿å…å­—èŠ‚æ‹·è´ä»¥åœ¨å„ä¸ªç»„ä»¶ä¹‹é—´é«˜æ•ˆçš„äº¤æ¢æ—¥å¿—æ–‡ä»¶\nLinks page-cache-centric design The Pathologies of Big Data é›†ç¾¤ç®¡ç† æŸ¥çœ‹æ¶ˆè´¹çŠ¶å†µ kafka-consumer-groups.sh --bootstrap-server 192.168.1.111:9092 --group cabbage --describe é‡ç½®æ¶ˆè´¹ # æŸ¥çœ‹é‡ç½®åˆ°æœ€æ™š kafka-consumer-groups.sh --bootstrap-server 192.168.1.111:9092 --group cabbage --topic xxx.topic --reset-offsets --to-latest --dry-run # æ‰§è¡Œé‡ç½®åˆ°æœ€æ™š kafka-consumer-groups.sh --bootstrap-server 192.168.1.111:9092 --group cabbage --topic xxx.topic --reset-offsets --to-latest --execute # å½“å‰ï¼ˆæœ€æ—©ï¼‰ kafka-consumer-groups.sh --bootstrap-server 192.168.1.111:9092 --group cabbage --topic xxx.topic --reset-offsets --to-current --dry-run kafka-consumer-groups.sh --bootstrap-server 192.168.1.111:9092 --group cabbage --topic xxx.topic --reset-offsets --to-current --execute ","permalink":"https://notes.0081800.xyz/notes/20200320172022_kafka/","summary":"tags: Bigdata ç›¸å…³çŸ¥è¯†ç‚¹ æ¦‚å¿µç»„æˆ Producer æ¶ˆæ¯äº§ç”Ÿè€…ï¼Œå¾€æŒ‡å®š Topic çš„æŒ‡å®š Partition å‘é€æ¶ˆæ¯\nConsumer Group æ¶ˆè´¹æŒ‡å®š Topic çš„æ¶ˆæ¯\nConsumer æ¶ˆè´¹æŒ‡å®š Topic ä¸‹æŸä¸€åˆ†åŒºçš„æ¶ˆæ¯ Topic åŒºåˆ†ä¸åŒæ¶ˆæ¯ä¸»é¢˜\nPartition ä¿è¯åŒä¸€åˆ†åŒºçš„æœ‰åºæ€§ Connector\næ¶ˆæ¯å¯è¢«ä¸åŒçš„ Consumer Group é‡å¤æ¶ˆè´¹ï¼ˆå¹¿æ’­æˆ–è®¢é˜…ï¼‰ã€‚åŒä¸€ Consumer Group ä¸‹çš„ä¸åŒ Consumer åˆ†åˆ«æ¶ˆè´¹ä¸åŒçš„ Partitionï¼ŒConsumer æ•°é‡ä¸èƒ½è¶…è¿‡ Partition æ•°é‡ã€‚\næ•°æ®è¢«æŒä¹…åŒ–å¹¶åˆ†ç‰‡æˆåŠŸåå‘é€ ACK ä¿è¯é‡Œæ•°æ®ä¸è¢«ä¸¢å¤±ã€‚\nè®¾è®¡ æŒä¹…åŒ– åŸºäºæ–‡ä»¶ç³»ç»Ÿ\nåŸºäºé˜Ÿåˆ—æ˜¯é¡ºåºçš„å’Œç£ç›˜çš„é¡ºåºè®¿é—®è¦æ¯”å†…å­˜çš„éšæœºè®¿é—®è¦å¿«ï¼ˆå‚è§ The Pathologies of Big Dataï¼‰ï¼Œ Kafka é‡‡ç”¨åœ¨ç£ç›˜æ–‡ä»¶ç³»ç»Ÿä¸Šå°¾éƒ¨å†™å¤´éƒ¨è¯»çš„æ–¹å¼ã€‚ Kafka æ²¡æœ‰é‡‡ç”¨ BTree å­˜å‚¨æ•°æ®å› ä¸º BTree çš„æ“ä½œæ˜¯ O(log N) ï¼Œè€Œä¸”å¯¹ç£ç›˜çš„ seek æ“ä½œè¦æ…¢ï¼Œä¸”åŒæ—¶åªèƒ½è¿›è¡Œä¸€æ¬¡é™åˆ¶äº†å¹¶è¡Œï¼Œæ‰€ä»¥å®é™…æ“ä½œæ¯” O(log N) è¦æ…¢ åŸºäºç£ç›˜çš„é¡ºåºè®¿é—®è¿›è¡Œåœ¨å°¾éƒ¨å†™å’Œå¤´éƒ¨è¯»ï¼Œå¯ä»¥å®ç°è¯»å†™éƒ½æ˜¯ O(1) çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¹¶ä¸”è¯»å†™äº’ä¸å¹²æ‰° åŸºäºä»¥ä¸Šå®ç°ï¼ŒKafka å¯ä»¥ä¸å¿…åœ¨æ¶ˆæ¯ä¸€ç»æ¶ˆè´¹å°±åˆ é™¤ï¼Œè€Œæ˜¯å¯ä»¥ä¿ç•™æ¶ˆæ¯ä¸€æ®µç›¸å¯¹è¾ƒé•¿çš„æ—¶é—´ï¼ˆæ¯”å¦‚ä¸€å‘¨ï¼‰ é«˜æ•ˆ","title":"Kafka"},{"content":" tags: Learning,Algorithm ","permalink":"https://notes.0081800.xyz/notes/20200320172132_leetcode/","summary":" tags: Learning,Algorithm ","title":"LeetCode"},{"content":" tags: LeetCode ","permalink":"https://notes.0081800.xyz/notes/20200320172219_leetcode_trapping_tain_water/","summary":" tags: LeetCode ","title":"LeetCode: Trapping Tain Water"},{"content":" tags: Linux åŸæ–‡è¿æ¥ï¼šLinux Virtual Memory Management Chapter 2 Describing Physical Memoryï¼šæè¿°ç‰©ç†å†…å­˜ ç‹¬ç«‹äºå¹³å°æ¶æ„çš„æ–¹å¼æè¿°å†…å­˜ â€” æ›´å¥½çš„æ”¯æŒå¤šå¹³å°\næœ¬ç« åŒ…å«æè¿°å­˜å‚¨å™¨ã€å†…å­˜é¡µçš„ç»“æ„ä½“ï¼ˆstructuresï¼‰å’Œä¸€äº›å½±å“ VM è¡Œä¸ºçš„æ ‡è¯†ä½ï¼ˆflagsï¼‰\nVM ä¸­æ™®éï¼ˆprevlentï¼‰è®¤ä¸ºç¬¬ä¸€é‡è¦ï¼ˆprincipalï¼‰çš„æ¦‚å¿µæ˜¯ NUMAã€‚\nå¤§å‹æœºå™¨ä¸­å†…å­˜è®¿é—®é€Ÿåº¦å–å†³äº CPU åˆ°å†…å­˜çš„è·ç¦»ã€‚æ¯”å¦‚ä¸€ç»„ï¼ˆbankï¼‰å†…å­˜åˆ†é…ç»™æ¯ä¸€ä¸ªå¤„ç†å™¨æˆ–è€…ä¸€ç»„å†…å­˜éå¸¸é€‚åˆé è¿‘çš„ DMA è®¾å¤‡å¡ã€‚\nè¿™é‡Œçš„æ¯ç»„ï¼ˆbankï¼‰å†…å­˜è¢«ç§°ä¸ºèŠ‚ç‚¹ï¼ˆnodeï¼‰å¹¶ä¸”è¿™ä¸ªæ¦‚å¿µåœ¨ Linux ä¸­é€šè¿‡ struct pglist_dataï¼ˆtypedef pg_data_t) è¡¨ç¤ºï¼Œå³ä½¿åœ¨ UMA æ¶æ„ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªç”± NULL ç»“å°¾çš„é“¾è¡¨ï¼Œé€šè¿‡ pg_data_t-\u0026gt;next_node æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚\næ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¢«åˆ†å‰²æˆå¤šä¸ªå—ï¼ˆblockï¼‰ç§°ä¸ºåˆ†åŒºï¼ˆzoneï¼‰ç”¨äºè¡¨ç¤ºå†…å­˜ä¸­çš„èŒƒå›´ã€‚åˆ†åŒºä½¿ç”¨ struct zone_struct(typedef zone_t) ç»“æ„ä½“æè¿°ï¼Œæ¯ä¸€ä¸ªåˆ†åŒºéƒ½æ˜¯ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„ä¸€ç§\nZONE_DMA å¼€å§‹ 16MB å†…å­˜ï¼Œä¾› ISA è®¾å¤‡ä½¿ç”¨ ZONE_NORMAL 16MB - 896MBï¼Œç”±å†…æ ¸ç›´æ¥æ˜ å°„åˆ°çº¿æ€§åœ°å€ç©ºé—´çš„ä¸Šéƒ¨åŒºåŸŸï¼ˆå°†åœ¨ç¬¬å››ç« è®¨è®ºï¼‰ ZONE_HIGHMEM 896MB - ENDï¼Œå‰©ä½™ä¸ç”±å†…æ ¸ç›´æ¥æ˜ å°„çš„ç³»ç»Ÿå¯ç”¨å†…å­˜ï¼Œ å¤§éƒ¨åˆ†å†…æ ¸æ“ä½œéƒ½åªèƒ½ä½¿ç”¨è¿™ç§ç±»å‹çš„åˆ†åŒºï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿæ˜¯è¿™é‡Œä¹Ÿæ˜¯æœ€å…³é”®çš„æ€§èƒ½åŒºåŸŸï¼ˆmost performance critical zoneï¼‰ æ¯ä¸€ä¸ªç‰©ç†é¡µå¸§ï¼ˆphysical page frameï¼‰éƒ½ä½¿ç”¨ç»“æ„ä½“ struct page è¡¨ç¤ºï¼Œæ‰€æœ‰çš„ç»“æ„ä½“éƒ½ä¿å­˜åœ¨å…¨å±€æ•°ç»„ mem_map ä¸­ï¼Œmem_map é€šå¸¸å­˜å‚¨åœ¨ ZONE_NORMAL çš„å¼€å§‹å¤„ï¼›\nç»“æ„ä½“ä¹‹é—´çš„å…³ç³»\nå†…å­˜èŠ‚ç‚¹ Linux åœ¨åˆ†é…å†…å­˜é¡µçš„æ—¶å€™é‡‡ç”¨ æœ¬åœ°èŠ‚ç‚¹åˆ†é…ç­–ç•¥ï¼ˆnode-local allocation policyï¼‰ é€šè¿‡æœ€é è¿‘å½“å‰è¿è¡Œ CPU çš„èŠ‚ç‚¹å»åˆ†é…å†…å­˜ã€‚åŒæ—¶è¿›ç¨‹ä¹Ÿä¼šè¶‹å‘äºé‡‡ç”¨åŒä¸€ CPU è¿è¡Œã€‚\nèŠ‚ç‚¹çš„ç»“æ„ä½“å®šä¹‰åœ¨ \u0026lt;linux/memzone.h\u0026gt; ä¸‹\ntypedef struct pglist_data { // å½“å‰èŠ‚ç‚¹åŒ…å«çš„åˆ†åŒºï¼šZONE_HIGHMEM,ZONE_NORMAL,ZONE_DMA zone_t node_zones[MAX_NR_ZONES]; // å®šä¹‰çš„é¡ºåºå†³å®šåˆ†é…ä¼˜å…ˆé‡‡ç”¨çš„åˆ†åŒº zonelist_t node_zonelists[GFP_ZONEMASK+1]; // å½“å‰èŠ‚ç‚¹åŒ…å«çš„åˆ†åŒºæ•°é‡ï¼Œ1 åˆ° 3 ä¹‹é—´ï¼Œä¸ä¸€å®šå…¨æœ‰ï¼Œæ¯”å¦‚ä¸€ä¸ª CPU Bank å¯èƒ½æ²¡æœ‰ ZONE_DMA int nr_zones; // èŠ‚ç‚¹ä¸Šæ¯ä¸€ä¸ªç‰©ç†çš„å¸§çš„é¡µæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆç¬¬ä¸€é¡µï¼‰ï¼Œä¼šåœ¨æŸä¸ªåœ°æ–¹è¢«å…¨å±€ mem_map æ•°ç»„æ›¿æ¢ struct page *node_mem_map; // ä½å›¾ï¼ˆbitmapï¼‰è¡¨ç¤ºèŠ‚ç‚¹ä¸­æ²¡æœ‰å†…å­˜çš„â€œæ´ï¼ˆholesï¼‰â€ï¼Œä»…ç”¨åœ¨ Sparc å’Œ Sparc64 æ¶æ„ unsigned long *valid_addr_bitmap; // ç¬¬äº”ç« å…³äºå¯åŠ¨å†…å­˜åˆ†é…å™¨ struct bootmem_data *bdata; // å½“å‰èŠ‚ç‚¹çš„èµ·å§‹ç‰©ç†åœ°å€ unsigned long node_start_paddr; // ç”¨äºå…¨å±€ mem_map è®¾ç½®é¡µåç§»é‡ï¼Œç”¨äºè®¡ç®—å…¨å±€ mem_map å’Œå½“å‰èŠ‚ç‚¹ï¼ˆlmem_mapï¼‰ä¹‹é—´çš„é¡µæ•° unsigned long node_start_mapnr; // å½“å‰åˆ†åŒºçš„æ€»é¡µæ•° unsigned long node_size; // ä» 0 å¼€å§‹çš„èŠ‚ç‚¹ id int node_id; // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒNULL è¡¨ç¤ºç»“å°¾ struct pglist_data *node_next; } pg_data_t; ç³»ç»Ÿä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ç»´æŠ¤åœ¨ pgdat_list ä¸­ã€‚\nåˆ†åŒº ç”¨äºè·Ÿè¸ªä¿¡æ¯ï¼Œå¦‚\né¡µè¯·ç”¨æƒ…å†µ å¯ç”¨åŒºåŸŸ é”ï¼Œç­‰ å®šä¹‰åœ¨ \u0026lt;linux/memzone.h\u0026gt;\ntypedef struct zone_struct { // è‡ªæ—‹é”ç”¨äºä¿æŠ¤å¹¶å‘è®¿é—® spinlock_t lock; // å…¨éƒ¨å¯ç”¨é¡µæ•° unsigned long free_pages; // åˆ†åŒºæ°´å°ï¼ˆwatermarksï¼‰ unsigned long pages_min, pages_low, pages_high; // æ ‡è¯†ä½ç”¨äºå‘ŠçŸ¥æ¢é¡µï¼ˆpageoutï¼‰å®ˆæŠ¤ kswapd å¹³è¡¡å½“å‰åˆ†åŒºï¼ˆå½“è·å–ä»»æ„æ°´å°ååˆ™éœ€è¦è¿›è¡Œå¹³è¡¡ï¼‰ int need_balance; // å¯ç”¨åŒºåŸŸä½å›¾ç”¨äºå…¶ä»–åˆ†é…å™¨ï¼ˆbuddy allocatorï¼‰ free_area_t free_area[MAX_ORDER]; // è¿›ç¨‹ç­‰å¾…é¡µè¢«é‡Šæ”¾çš„ Hash table å®ç°çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œ wait_queue_head_t * wait_table; // Hash è¡¨ä¸­ç­‰å¾…é˜Ÿåˆ—çš„æ•°é‡ï¼ˆ2çš„æ¬¡æ–¹ï¼‰ unsigned long wait_table_size; // ç”¨ long å®šä¹‰ä¸Šé¢å¤§å°å‡å»äºŒè¿›åˆ¶å¯¹æ•°ä½çš„æ•°é‡ unsigned long wait_table_shift; // æŒ‡å‘çˆ¶ struct pglist_data *zone_pgdat; // å½“å‰åˆ†åŒºæŒ‡å‘çš„å…¨å±€ mem_map çš„ç¬¬ä¸€é¡µ struct page *zone_mem_map; // åŒ node_start_paddr unsigned long zone_start_paddr; // åŒ node_start_mapnr unsigned long zone_start_mapnr; // å­—ç¬¦ä¸²åå­—ï¼Œå¦‚ â€œDMAâ€, â€œNormaâ€ or â€œHighMemâ€ char *name; // å½“å‰åˆ†åŒºåŒ…å«çš„é¡µæ•° unsigned long size; } zone_t; åˆ†åŒºæ°´å° å½“ç³»ç»Ÿå¯ç”¨å†…å­˜éå¸¸å°‘æ—¶ä¼šå”¤é†’æ¢é¡µå®ˆæŠ¤ kswapd é‡Šæ”¾å†…å­˜é¡µã€‚å¦‚æœå‹åŠ›è¿‡å¤§ kswapd ä¼šè¿›è¡ŒåŒæ­¥é‡Šæ”¾å†…å­˜ï¼Œæœ‰æ—¶è¢«ç§°ä¸ºç›´æ¥å›æ”¶ï¼ˆdirect-reclaimï¼‰è·¯å¾„ã€‚\næ¯ä¸ªåˆ†åŒºæœ‰ä¸‰ä¸ªæ°´å°\npages_lowï¼Œå½“é˜ˆå€¼è¾¾åˆ°è¿™ä¸ªå€¼åˆ™å”¤é†’ kswapd é‡Šæ”¾å†…å­˜é¡µ pages_minï¼Œé€šè¿‡ free_area_init_core æ ¹æ®åˆ†åŒºå¤§å°é¡µæ•°æ¯”ï¼ˆZoneSizeInPages / 128ï¼‰åˆå§‹åŒ–ï¼Œæœ€å° 20 é¡µï¼ˆx86 80Kï¼‰ï¼Œæœ€å¤§ 255 é¡µï¼ˆx86 1MB ï¼‰ï¼Œé˜ˆå€¼è¾¾åˆ°è¿™ä¸ªå€¼è§¦å‘ kswapd åŒæ­¥æ–¹å¼ï¼ˆfashionï¼‰å·¥ä½œ pages_highï¼Œä¸ä¼šè§¦å‘ kswapd å¹³è¡¡å†…å­˜é¡µï¼Œå¹¶ä½¿ kswapd é™·å…¥ä¼‘çœ  è®¡ç®—åˆ†åŒºå¤§å° PFN(Page Frame Number) æ˜¯ä¸€ä¸ªåŒ…å«ç‰©ç†å†…å­˜æ˜ å°„çš„åç§»é‡ç”¨äºå†…å­˜é¡µè®¡æ•°ï¼Œç¬¬ä¸€ä¸ª PFNè¢«ç³»ç»Ÿä½¿ç”¨\nmin\\_low\\_pfn ç”¨äºå®šä½ç¬¬ä¸€é¡µåŠ è½½å†…æ ¸é•œåƒçš„åçš„å¼€å§‹ max_fpn æŒ‡ç¤ºç³»ç»Ÿä¸­æœ€åä¸€ä¸ªå†…å­˜é¡µå¸§ max_low_pfn æ ‡è®° ZONE_NORMAL ç»“å°¾ï¼Œ å†…å­˜å°‘çš„æœºå™¨ max_pfn å’Œ max_low_pfn ä¸€è‡´ é€šè¿‡ä¸Šé¢ä¸‰ä¸ªå€¼å¯ä»¥ç›´æ¥è®¡ç®—å‡ºé«˜åŒºå†…å­˜çš„å¼€å§‹å’Œç»“æŸã€‚\nåˆ†åŒºç­‰å¾…é˜Ÿåˆ—è¡¨ å½“ IO åœ¨ä¸€é¡µå†…å­˜ä¸Šå¼€å§‹æ‰§è¡Œæ—¶ï¼ˆpage-in or page-outï¼‰ä¼šè¿›è¡Œé”å®šé˜²æ­¢è·å–åˆ°ä¸ä¸€è‡´çš„æ•°æ®ã€‚\nè¿›ç¨‹ä½¿ç”¨é¡µæ—¶è°ƒç”¨ wait_on_page åŠ å…¥åˆ°ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ— IO å®Œæˆåè°ƒç”¨ UnlockPage è§£é” å”¤é†’æ‰€æœ‰ç­‰å¾…çš„è¿›ç¨‹ æ¯æ¬¡æ¢é¡µéƒ½ä¼šæœ‰ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—ï¼Œä¸”ä»£ä»·éå¸¸æ˜‚è´µï¼Œé€šè¿‡åˆ†ç¦»è®¸å¤šé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–ï¼Œç­‰å¾…é˜Ÿåˆ—å­˜åœ¨ zone_t ä¸­ã€‚\nå¦‚æœä¸€ä¸ªåˆ†åŒºä»…æœ‰ä¸€ä¸ªç­‰å¾…é˜Ÿåˆ—å°±ä¼šäº§ç”ŸæƒŠç¾¤æ•ˆåº”ï¼ˆthundering herdï¼‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ä¼šæœ‰å¤šä¸ªç­‰å¾…é˜Ÿåˆ—å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ zone_t-\u0026gt;wait_table ä¸­ï¼ˆæå°‘çš„å“ˆå¸Œç¢°æ’ä¾ç„¶ä¼šå¯¼è‡´ä¸å¿…è¦çš„è¿›ç¨‹è¢«å”¤é†’ï¼‰ã€‚\nåˆ†åŒºåˆå§‹åŒ– å†…æ ¸é¡µå®Œå…¨åˆå§‹åŒ–åï¼ˆpaging_initï¼‰åå¼€å§‹åˆå§‹åŒ–åˆ†åŒºï¼Œå¯ä»¥é¢„è§çš„æ˜¯ï¼ˆperdictablyï¼‰å„ä¸ªå¹³å°å®ç°ä¸ä¸€è‡´ï¼Œä½†æ˜¯ç¡®å®šï¼ˆdetermineï¼‰å‘é€ç»™ free_area_init çš„å‚æ•°çš„é€»è¾‘æ˜¯ä¸€è‡´çš„ï¼Œæ”¯æŒä»¥ä¸‹å‚æ•°\nnid åˆ†åŒºæ‰€å±èŠ‚ç‚¹çš„é€»è¾‘ ID pgdat åˆå§‹åŒ–çš„æ‰€å±èŠ‚ç‚¹çš„ pg_data_t ï¼ŒUMA ä¸‹åˆ™ä¸º contig_page_data pmap æŒ‡å‘åˆ†é…ç»™èŠ‚ç‚¹çš„æœ¬åœ°æ•°ç»„ lmem_map çš„å¼€å§‹ï¼Œç¨åç”± free_area_core åˆå§‹åŒ– zones_sizes ä¸€ä¸ªåŒ…å«å†…å­˜é¡µä¸­æ‰€æœ‰åˆ†åŒºå¤§å°çš„æ•°ç»„ zone_start_paddr ç¬¬ä¸€ä¸ªåˆ†åŒºçš„èµ·å§‹ç‰©ç†åœ°å€ *zone_holes åŒ…å«åˆ†åŒºå†…å†…å­˜æ®µï¼ˆmemory holesï¼‰æ€»å¤§å°çš„æ•°ç»„ free_area_init_core è´Ÿè´£ä½¿ç”¨ç›¸åº”çš„ä¿¡æ¯å¡«å…… zone_t å¹¶ä¸ºèŠ‚ç‚¹åˆ†é… mem_map æ•°ç»„ã€‚\nåˆå§‹åŒ– mem_map me_map ä¼šåœ¨ç³»ç»Ÿå¯åŠ¨ä¸­ä»¥ä¸¤ç§æ–¹å¼ï¼ˆfashionsï¼‰ä¹‹ä¸€è¿›è¡Œåˆ›å»º\nNUMAï¼šå½“ä½œä¸€ä¸ªèµ·å§‹äº PAGE_OFFSET ï¼Œè°ƒç”¨ free_area_init_node åˆå§‹åŒ–è¿™ä¸ªæ•°ç»„ä¸­åˆ†é…çš„ç³»ç»Ÿä¸­æ¯ä¸€ä¸ªæ´»è·ƒçš„èŠ‚ç‚¹ UMAï¼š free_area_init ä½¿ç”¨ contig_page_data ä½œä¸ºå½“å‰èŠ‚ç‚¹ï¼Œä½¿ç”¨å…¨å±€ mem_map ä½œä¸ºå½“å‰èŠ‚ç‚¹çš„â€œæœ¬åœ°â€ mem_map ä¸¤ä¸ªå‡½æ•°çš„è°ƒç”¨å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º\né¡µ æ¯é¡µç‰©ç†é¡µå¸§åœ¨ç³»ç»Ÿä¸­éƒ½é€šè¿‡ struct page å…³è”ï¼Œç”¨äºè·Ÿè¸ªçŠ¶æ€ã€‚\nå£°æ˜åœ¨ \u0026lt;linux/mm.h\u0026gt; ä¸­\ntypedef struct page { // é¡µå¯èƒ½å½’å±äºå¤šä¸ªåˆ—è¡¨ï¼Œæ­¤å­—æ®µç”¨äºå­˜æ”¾æ‰€å±é“¾è¡¨çš„è¡¨å¤´ï¼ˆå¤šä¸ªï¼‰ï¼Œä¹Ÿç”¨äºå°†å¤šä¸ªï¼ˆblocksï¼‰ç©ºé—²çš„è¡¨è¿æ¥åœ¨ä¸€èµ· struct list_head list; // ç”¨äºå½“æ–‡ä»¶æˆ–è®¾å¤‡æ˜ å°„åˆ°å†…å­˜åå…³è” inode // å¦‚æœé¡µå±äºæ–‡ä»¶åˆ™æŒ‡å‘å½“å‰åœ°å€ç©ºé—´ï¼ˆaddress spaceï¼‰ // å¦‚æœæ˜¯åŒ¿åé¡µä½†è¢«è®¾ç½®åˆ™è¯´æ˜æ˜¯ swap åœ°å€ç©ºé—´ struct address_space *mapping; // æ„ä¹‰å–å†³äºé¡µçš„çŠ¶æ€ // 1. é¡µæ˜¯æ–‡ä»¶æ˜ å°„çš„ä¸€éƒ¨åˆ†è¡¨ç¤ºæ–‡ä»¶çš„åç§»é‡ï¼ˆoffsetï¼‰ // 2. é¡µæ˜¯ swap ç¼“å­˜çš„ä¸€éƒ¨åˆ†è¡¨ç¤º address_space å¯¹ swap åœ°å€ç©ºé—´çš„åç§»é‡ unsigned long index; // ä½œä¸ºæ–‡ä»¶æ˜ å°„ä¸€éƒ¨åˆ†çš„é¡µçš„ inode å’Œåç§»é‡çš„å“ˆå¸Œï¼Œå°†å…±äº«åŒä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼ˆhash_bucketï¼‰çš„é¡µè¿æ¥åœ¨ä¸€èµ· struct page *next_hash; // å½“å‰é¡µçš„å¼•ç”¨è®¡æ•°ï¼Œå˜æˆ 0 è¡¨ç¤ºå¯èƒ½è¢«é‡Šæ”¾ï¼Œå¦åˆ™å°±è¢«ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ä½¿ç”¨æˆ–ç”¨äºå†…æ ¸ IO ç­‰å¾… atomic_t count; // å®šä¹‰é¡µçš„çŠ¶æ€ï¼Œè§ä¸‹è¡¨ unsigned long flags; // ç”¨äºé¡µæ›¿æ¢ç­–ç•¥ struct list_head lru; // é…åˆ next_hash å®ç°ç±»ä¼¼åŒç«¯é“¾è¡¨çš„æ“ä½œ struct page **pprev_hash; // 1. å—è®¾å¤‡ç”¨äºè·Ÿè¸ª buffer_head // 2. ç”±è¿›ç¨‹æ˜ å°„çš„åŒ¿åé¡µå¦‚æœæ”¯æŒäº¤æ¢æ–‡ä»¶å¯èƒ½å…³è”ä¸€ä¸ª buffer_headï¼Œå¦‚æœé¡µå¿…é¡»ä»¥åº•å±‚æ–‡ä»¶ç³»ç»Ÿå®šä¹‰çš„å¤§å°çš„å—å’Œæ”¯æŒçš„å­˜å‚¨åŒæ­¥åˆ™æœ‰å¿…è¦ struct buffer_head * buffers; #if defined(CONFIG_HIGHMEM) || defined(WANT_PAGE_VIRTUAL) // ZONE_HIGHMEM çš„è™šæ‹Ÿåœ°å€ void *virtual; #endif /* CONFIG_HIGMEM || WANT_PAGE_VIRTUAL */ } mem_map_t; æ˜ å°„é¡µåˆ°åˆ†åŒº page-\u0026gt;zone å†…æ ¸ç‰ˆæœ¬ 2.4.18 ä¹‹å‰ struct page é€šè¿‡ page-\u0026gt;zone å¼•ç”¨æ‰€å±çš„åˆ†åŒº page-\u0026gt;flags å†…æ ¸ç‰ˆæœ¬ 2.4.18 ä¹‹åé€šè¿‡é¡¶éƒ¨ ZONE_SHIFT (8 in x86) ä¸ªä½æ›¿ä»£ page-\u0026gt;zone æ¥è®¡ç®—é¡µæ‰€å±çš„åˆ†åŒºã€‚ æ˜ å°„è¿‡ç¨‹\nåœ¨ mm/page_alloc.c ä¸­åˆå§‹åŒ– zone_table\n33 zone_t *zone_table[MAX_NR_ZONES*MAX_NR_NODES]; 34 EXPORT_SYMBOL(zone_table); MAX_NR_ZONE å®šä¹‰ä¸€ä¸ªå†…å­˜èŠ‚ç‚¹ä¸­çš„æœ€å¤§åˆ†åŒºæ•°é‡ MAX_NR_NODES å®šä¹‰æœ€å¤§å¯å­˜åœ¨çš„å†…å­˜èŠ‚ç‚¹æ•°é‡ EXPORT_SYMBOL() ä½¿ zone_table å¯è¢«å¯åŠ è½½æ¨¡å—ï¼ˆloadable modulesï¼‰è®¿é—®ã€‚ è¿™ä¸ªè¡¨å°†è¢«å½“ä½œä¸€ä¸ªå¤šç»´æ•°ç»„å¯¹å¾…ã€‚\nåœ¨ free_area_init_core ä¸­åˆå§‹åŒ–å†…å­˜èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„é¡µ\nè®¾ç½®åˆ†åŒºè¡¨(zone table)çš„å€¼\n733 zone_table[nid * MAX_NR_ZONES + j] = zone; nid \u0026ndash; å½“å‰å†…å­˜èŠ‚ç‚¹ ID j \u0026ndash; åˆ†åŒºï¼ˆ struct zone_t ï¼‰ç´¢å¼• è°ƒç”¨ set_page_zone\n788 set_page_zone(page, nid * MAX_NR_ZONES + j); page åˆ†åŒºå†…è¢«åˆå§‹çš„é¡µï¼Œæ‰€ä»¥ zone_table çš„ç´¢å¼•å­˜å‚¨åœ¨é¡µä¸­ High Memory å†…æ ¸æ”¯æŒ High Memory ç”¨äºè§£å†³å†…æ ¸å¯ä½¿ç”¨çš„åœ°å€ç©ºé—´ä¸è¶³çš„æƒ…å†µï¼ˆç›®å‰ 64 ä½å¹³å°ä¸‹åŸºæœ¬ä¸Šæ‰€æœ‰å†…å­˜éƒ½å¯ä»¥æ˜ å°„åˆ°å†…æ ¸ï¼Œæ‰€ä»¥åŸºæœ¬ä¸ä¼šå­˜åœ¨è¿™ç§æƒ…å†µï¼‰ã€‚\n32 ä½ x86 ç³»ç»Ÿå…³äº High Memory å­˜åœ¨ä¸¤ä¸ªé˜ˆå€¼\n4GiBï¼š32 ä½ç‰©ç†åœ°å€æœ€å¤§å¯å¯»å€å¤§å°ï¼Œå†…æ ¸ é€šè¿‡ kmap() ä¸´æ—¶å°†å†…å­˜é¡µä» High Memory æ˜ å°„åˆ° ZONE_NORMAL ç”¨äºè®¿é—® 1GiB åˆ° 4GiB çš„å†…å­˜ 64GiBï¼šIntel å‘æ˜çš„ PAEï¼ˆPhysical Address Extensionï¼‰å…è®¸ 32 ä½ç³»ç»Ÿä¸‹ä½¿ç”¨æ›´å¤šå†…å­˜ï¼Œé€šè¿‡å¢åŠ é¢å¤–çš„ 4 ä½ç”¨äºå†…å­˜å¯»å€æœ€å¤§å¯ä»¥æ”¯æŒ 2 çš„ 36 æ¬¡æ–¹ä¸ªå­—èŠ‚ï¼ˆ64GiB)çš„å†…å­˜å¯»å€ ç¼ºé™·\nç†è®ºä¸Š PAE å…è®¸å¤„ç†å™¨æœ€å¤§å¯å¯»å€ 64GiBï¼Œä½†æ˜¯ç”±äº Linux çš„è™šæ‹Ÿåœ°å€ç©ºé—´æœ€å¤§ä»…æ”¯æŒ 4GiBï¼Œæ‰€ä»¥è¿›ç¨‹ä¾ç„¶ä¸èƒ½ä½¿ç”¨è¿™ä¹ˆå¤šå†…å­˜ã€‚ PAE åŒæ—¶ä¹Ÿä¸å…è®¸å†…æ ¸æœ¬èº«ä½¿ç”¨è¿™ä¹ˆå¤šå†…å­˜ï¼šæè¿° 1GiB å†…å­˜éœ€è¦æ¶ˆè€— 11MiB å†…æ ¸å†…å­˜ï¼ˆæ¯ä¸ª struct page éœ€è¦åœ¨å†…æ ¸è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼ˆZONE_NORMALï¼‰æ¶ˆè€— 44 å­—èŠ‚ï¼‰ï¼Œ16GiB éœ€è¦ 176MiBï¼Œè¿™æ ·ä¼šç»™ ZONE_NORMAL é€ æˆå¾ˆå¤§çš„å‹åŠ› 2.6 ä¸­çš„å˜æ›´ æè¿°å†…å­˜èŠ‚ç‚¹çš„ pg_data_t\nnode_start_fpn æ›¿æ¢äº† node_start_paddrï¼Œç”¨äºé€‚é… PAE æ¶æ„å¯ä»¥çªç ´ 32 ä½å¯»å€è§£å†³é€šè¿‡æ—§å­—æ®µæ— æ³•è®¿é—® 4GiB ä¹‹åçš„å†…å­˜èŠ‚ç‚¹ kswapd_wait ç”¨äº kswapd çš„æ–°çš„ç­‰å¾…é˜Ÿåˆ—æ›¿æ¢ä¹‹å‰çš„å…¨å±€ç­‰å¾…é˜Ÿåˆ—ã€‚2.6 ä¸­æ¯ä¸€ä¸ªå†…å­˜èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ kswapdNï¼ˆN å¯¹åº”å†…å­˜èŠ‚ç‚¹çš„ IDï¼‰ï¼ŒåŒæ—¶æ¯ä¸€ä¸ª kswapd ä¹Ÿé€šè¿‡æ­¤å­—æ®µç”¨äºè‡ªå·±çš„ç­‰å¾…é˜Ÿåˆ— node_size å­—æ®µè¢«ä»¥ä¸‹ä¸¤ä¸ªå­—æ®µæ›¿ä»£ï¼Œå¼•å…¥è¿™ä¸€å˜åŒ–ä¸»è¦æ˜¯è®¤è¯†åˆ°èŠ‚ç‚¹ä¸­å¯èƒ½æœ‰ â€œholesâ€ å¯¼è‡´æ²¡æœ‰ç‰©ç†å†…å­˜æ”¯æŒå¯»å€è¿™ä¸€äº‹å®ã€‚\nnode_present_pages å†…å­˜èŠ‚ç‚¹ä¸­å­˜åœ¨çš„æ€»ç‰©ç†é¡µæ•° node_spanned_pages è¢«å½“å‰å†…å­˜èŠ‚ç‚¹å¯»å€çš„æ€»åŒºåŸŸï¼ŒåŒ…æ‹¬ä»»æ„å¯èƒ½å­˜åœ¨çš„ \u0026ldquo;holes\u0026rdquo; zone_t æ”¹ä¸º struct zone ï¼ŒåŒæ—¶ LRU åˆ—è¡¨ç”±å…¨å±€æ”¹ä¸ºå­˜å‚¨å† struct zone ä¸­ï¼ˆLRU ç”¨äºç¡®å®šå†…å­˜é¡µé‡Šæ”¾æˆ–åˆ‡å‡ºçš„é¡ºåºï¼‰\nç›¸å…³é“¾æ¥ ","permalink":"https://notes.0081800.xyz/notes/20200320174700_linux_virtual_memory_management/","summary":"tags: Linux åŸæ–‡è¿æ¥ï¼šLinux Virtual Memory Management Chapter 2 Describing Physical Memoryï¼šæè¿°ç‰©ç†å†…å­˜ ç‹¬ç«‹äºå¹³å°æ¶æ„çš„æ–¹å¼æè¿°å†…å­˜ â€” æ›´å¥½çš„æ”¯æŒå¤šå¹³å°\næœ¬ç« åŒ…å«æè¿°å­˜å‚¨å™¨ã€å†…å­˜é¡µçš„ç»“æ„ä½“ï¼ˆstructuresï¼‰å’Œä¸€äº›å½±å“ VM è¡Œä¸ºçš„æ ‡è¯†ä½ï¼ˆflagsï¼‰\nVM ä¸­æ™®éï¼ˆprevlentï¼‰è®¤ä¸ºç¬¬ä¸€é‡è¦ï¼ˆprincipalï¼‰çš„æ¦‚å¿µæ˜¯ NUMAã€‚\nå¤§å‹æœºå™¨ä¸­å†…å­˜è®¿é—®é€Ÿåº¦å–å†³äº CPU åˆ°å†…å­˜çš„è·ç¦»ã€‚æ¯”å¦‚ä¸€ç»„ï¼ˆbankï¼‰å†…å­˜åˆ†é…ç»™æ¯ä¸€ä¸ªå¤„ç†å™¨æˆ–è€…ä¸€ç»„å†…å­˜éå¸¸é€‚åˆé è¿‘çš„ DMA è®¾å¤‡å¡ã€‚\nè¿™é‡Œçš„æ¯ç»„ï¼ˆbankï¼‰å†…å­˜è¢«ç§°ä¸ºèŠ‚ç‚¹ï¼ˆnodeï¼‰å¹¶ä¸”è¿™ä¸ªæ¦‚å¿µåœ¨ Linux ä¸­é€šè¿‡ struct pglist_dataï¼ˆtypedef pg_data_t) è¡¨ç¤ºï¼Œå³ä½¿åœ¨ UMA æ¶æ„ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªç”± NULL ç»“å°¾çš„é“¾è¡¨ï¼Œé€šè¿‡ pg_data_t-\u0026gt;next_node æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚\næ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¢«åˆ†å‰²æˆå¤šä¸ªå—ï¼ˆblockï¼‰ç§°ä¸ºåˆ†åŒºï¼ˆzoneï¼‰ç”¨äºè¡¨ç¤ºå†…å­˜ä¸­çš„èŒƒå›´ã€‚åˆ†åŒºä½¿ç”¨ struct zone_struct(typedef zone_t) ç»“æ„ä½“æè¿°ï¼Œæ¯ä¸€ä¸ªåˆ†åŒºéƒ½æ˜¯ä»¥ä¸‹ä¸‰ç§ç±»å‹çš„ä¸€ç§\nZONE_DMA å¼€å§‹ 16MB å†…å­˜ï¼Œä¾› ISA è®¾å¤‡ä½¿ç”¨ ZONE_NORMAL 16MB - 896MBï¼Œç”±å†…æ ¸ç›´æ¥æ˜ å°„åˆ°çº¿æ€§åœ°å€ç©ºé—´çš„ä¸Šéƒ¨åŒºåŸŸï¼ˆå°†åœ¨ç¬¬å››ç« è®¨è®ºï¼‰ ZONE_HIGHMEM 896MB - ENDï¼Œå‰©ä½™ä¸ç”±å†…æ ¸ç›´æ¥æ˜ å°„çš„ç³»ç»Ÿå¯ç”¨å†…å­˜ï¼Œ å¤§éƒ¨åˆ†å†…æ ¸æ“ä½œéƒ½åªèƒ½ä½¿ç”¨è¿™ç§ç±»å‹çš„åˆ†åŒºï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿæ˜¯è¿™é‡Œä¹Ÿæ˜¯æœ€å…³é”®çš„æ€§èƒ½åŒºåŸŸï¼ˆmost performance critical zoneï¼‰ æ¯ä¸€ä¸ªç‰©ç†é¡µå¸§ï¼ˆphysical page frameï¼‰éƒ½ä½¿ç”¨ç»“æ„ä½“ struct page è¡¨ç¤ºï¼Œæ‰€æœ‰çš„ç»“æ„ä½“éƒ½ä¿å­˜åœ¨å…¨å±€æ•°ç»„ mem_map ä¸­ï¼Œmem_map é€šå¸¸å­˜å‚¨åœ¨ ZONE_NORMAL çš„å¼€å§‹å¤„ï¼›","title":"Linux Virtual Memory Management"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20200320170914_programming_language/","summary":"","title":"Programming Language"},{"content":" tags: æŠ€æœ¯ ","permalink":"https://notes.0081800.xyz/topics/20200320174417_%E5%88%86%E5%B8%83%E5%BC%8F/","summary":" tags: æŠ€æœ¯ ","title":"åˆ†å¸ƒå¼"},{"content":" tags: Algorithm çŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ— åæ•ˆæ€§ å¦‚æœç»™å®šæŸä¸€é˜¶æ®µçš„çŠ¶æ€ï¼Œåˆ™åœ¨è¿™ä¸€é˜¶æ®µä»¥åè¿‡ç¨‹çš„å‘å±•ä¸å—è¿™é˜¶æ®µä»¥å‰å„æ®µçŠ¶æ€çš„å½±å“ã€‚\nä¸€æ—¦ \\(f(n)\\) ç¡®å®šï¼Œâ€œæˆ‘ä»¬å¦‚ä½•å‡‘å‡º \\(f(n)\\) â€å°±å†ä¹Ÿç”¨ä¸ç€äº†ï¼š\nè¦æ±‚å‡º \\(f(15)\\)ï¼Œåªéœ€è¦çŸ¥é“ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) çš„å€¼ï¼Œ è€Œ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) æ˜¯å¦‚ä½•ç®—å‡ºæ¥çš„ï¼Œå¯¹ä¹‹åçš„é—®é¢˜æ²¡æœ‰å½±å“ã€‚ â€œæœªæ¥ä¸è¿‡å»æ— å…³â€ï¼Œè¿™å°±æ˜¯æ— åæ•ˆæ€§ã€‚\næœ€ä¼˜å­ç»“æ„ å¤§é—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥ç”±å°é—®é¢˜çš„æœ€ä¼˜è§£æ¨å‡ºï¼Œè¿™ä¸ªæ€§è´¨å«åšâ€œæœ€ä¼˜å­ç»“æ„æ€§è´¨â€ï¼š\n\\(f(n)\\) çš„å®šä¹‰éœ€è¦è•´å«â€œæœ€ä¼˜â€ï¼Œåˆ©ç”¨ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) çš„æœ€ä¼˜è§£ï¼Œæˆ‘ä»¬å³å¯ç®—å‡º \\(f(15)\\) çš„æœ€ä¼˜è§£ã€‚\nèƒ½å°†å¤§é—®é¢˜æ‹†æˆå‡ ä¸ªå°é—®é¢˜ï¼Œä¸”æ»¡è¶³æ— åæ•ˆæ€§ã€æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚ DP æ€è·¯ å‚è§ LeetCode è®¨è®ºï¼š\nå…ˆå†™å‡ºç©·ä¸¾çš„æ–¹æ³• æ‰¾å‡ºä¸å¿…è¦çš„é‡å¤è®¡ç®— å†™å‡º DP ç»ƒä¹  0x00 ç¡¬å¸æ‰¾é›¶ æè¿° å‡è®¾æœ‰å‡ ç§ç¡¬å¸ï¼Œå¦‚1ã€3ã€5ï¼Œå¹¶ä¸”æ•°é‡æ— é™ã€‚è¯·æ‰¾å‡ºèƒ½å¤Ÿç»„æˆæŸä¸ªæ•°ç›®çš„æ‰¾é›¶æ‰€ä½¿ç”¨æœ€å°‘çš„ç¡¬å¸æ•°ã€‚\nçŠ¶æ€è½¬ç§»å…¬å¼ å…¬å¼ \\(f(n)=min\\{f(n-1),f(n-3),f(n-5)\\} + 1\\)\næ£€æŸ¥æ˜¯å¦æ»¡è¶³ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªç‰¹æ€§ï¼š\næ— åæ•ˆæ€§ï¼šå¯¹äº \\(n\\)ï¼Œä¸€æ—¦ \\(f(n)\\) ç¡®å®šï¼Œä»¥ååªå…³å¿ƒ \\(f(n)\\) çš„å€¼ï¼Œä¸å…³å¿ƒæ€ä¹ˆè®¡ç®—çš„ï¼› æœ€ä¼˜å­ç»“æ„ï¼šå¯¹äº \\(n\\)ï¼Œåªè¦ \\(n - 1\\) \\(n - 3\\) \\(n - 5\\) èƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆå°±èƒ½è®¡ç®—å‡º n; æ¨å¯¼è¿‡ç¨‹ å‡è®¾æ‰¾é›¶ 15ï¼š\nè‹¥ä¼˜å…ˆä½¿ç”¨ 5 å…ƒç¡¬å¸ \\(cost = f(10) + 1 = 2 + 1 = 3\\)\nä½¿ç”¨ 5 å…ƒï¼š \\(f(10)=f(5) + 1\\)\n\\(f(5)=1\\) ä½¿ç”¨ 3 å…ƒï¼š \\(f(10)=f(7) + 1\\)\n\\(f(7)=f(4) + 1 = 2 + 1 = 3\\) \\(f(4)= 1 + 1\\) è‹¥ä¼˜å…ˆä½¿ç”¨ 3 å…ƒç¡¬å¸ \\(cost = f(12) + 1 = 4 + 1 = 5\\)\n\\(f(12)=f(7) + 1\\) \u0026ndash; ä¸Šé¢å·²ç»ç®—å‡º \\(f(7)=3\\) è‹¥ä¼˜å…ˆä½¿ç”¨ 1 å…ƒç¡¬å¸ \\(cost = f(14) + 1\\)\n\\(f(14)=f(13)+1\\) \\(f(13)=f(12) + 1 = 4 + 5\\) (ä¸Šé¢å·²ç»ç®—å‡º \\(f(12)=4\\)ï¼‰ å°†ä¸Šè¿°è¿‡ç¨‹åè¿‡æ¥å°±å¯ä»¥ä¸€æ­¥æ­¥æ¨å‡ºç»“æœã€‚\nå®ç° package dp //ã€€å‡è®¾æœ‰å‡ ç§ç¡¬å¸ï¼Œå¦‚1ã€3ã€5ï¼Œå¹¶ä¸”æ•°é‡æ— é™ã€‚è¯·æ‰¾å‡ºèƒ½å¤Ÿç»„æˆæŸä¸ªæ•°ç›®çš„æ‰¾é›¶æ‰€ä½¿ç”¨æœ€å°‘çš„ç¡¬å¸æ•°ã€‚ func getCoinNumber(total int) int { f := make([]int, total + 1, total + 1) for i := 1; i \u0026lt;= total; i++ { if i - 5 \u0026gt;= 0 { f[i] = f[i - 5] + 1 } else if i - 3 \u0026gt;= 0 { f[i] = f[i - 3] + 1 } else if i - 1 \u0026gt;= 0 { f[i] = f[i - 1] + 1 } } return f[total] } ä¸Šé¢ç®—æ³•å®ç°æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ¯æ¬¡è®¡ç®—æ—¶åªä¼˜å…ˆè€ƒè™‘é‡‡ç”¨æœ€å¤§é¢å€¼ï¼ˆç±»ä¼¼è´ªå¿ƒç®—æ³•ï¼‰ï¼Œæ— æ³•åº”å¯¹æŸäº›æƒ…å†µï¼Œå¯¹æ¯”ä¸‹é¢ä»£ç \npackage dp import \u0026#34;math\u0026#34; func min(x, y int) int { if x \u0026lt; y { return x } return y } //ã€€å‡è®¾æœ‰å‡ ç§ç¡¬å¸ï¼Œå¦‚1ã€3ã€5ï¼Œå¹¶ä¸”æ•°é‡æ— é™ã€‚è¯·æ‰¾å‡ºèƒ½å¤Ÿç»„æˆæŸä¸ªæ•°ç›®çš„æ‰¾é›¶æ‰€ä½¿ç”¨æœ€å°‘çš„ç¡¬å¸æ•°ã€‚ func getCoinNumber(total int) int { f := make([]int, total + 1, total + 1) for i := 1; i \u0026lt;= total; i++ { cost := math.MaxInt32 if i - 1 \u0026gt;= 0 { cost = min(cost, f[i - 1] + 1) } if i - 3 \u0026gt;= 0 { cost = min(cost, f[i - 3] + 1) } if i - 5 \u0026gt;= 0 { cost = min(cost, f[i - 5] + 1) } if cost == math.MaxInt32 { panic(\u0026#34;error\u0026#34;) } f[i] = cost } return f[total] } 0x01å•è·¯å–è‹¹æœ æè¿° ä¸€ä¸ªçŸ©å½¢åŒºåŸŸè¢«åˆ’åˆ†ä¸º \\(N*M\\) ä¸ªå°çŸ©å½¢æ ¼å­ï¼Œåœ¨æ ¼å­(i,j)ä¸­æœ‰A[i][j]ä¸ªè‹¹æœã€‚ç°åœ¨ä»å·¦ä¸Šè§’çš„æ ¼å­(1,1)å‡ºå‘ï¼Œè¦æ±‚æ¯æ¬¡åªèƒ½å‘å³èµ°ä¸€æ­¥æˆ–å‘ä¸‹èµ°ä¸€æ­¥ï¼Œæœ€ååˆ°è¾¾(N,M)ï¼Œæ¯ç»è¿‡ä¸€ä¸ªæ ¼å­å°±æŠŠå…¶ä¸­çš„è‹¹æœå…¨éƒ¨æ‹¿èµ°ã€‚è¯·æ‰¾å‡ºèƒ½æ‹¿åˆ°æœ€å¤šè‹¹æœæ•°çš„è·¯çº¿ã€‚\næ€è·¯ è¿™é¢˜æ˜¯ 0x00 çš„æ‰©å±•ï¼Œæ ¼å­ A[N][M] çš„è‹¹æœæ•°é‡ä¸º \\(max\\{A[N-1][M],A[N][M-1]\\}+A[N][M]\\)\nLeetCode çœŸé¢˜ See also https://www.zhihu.com/question/23995189 ","permalink":"https://notes.0081800.xyz/notes/20200320171538_%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/","summary":"tags: Algorithm çŠ¶æ€è½¬ç§»æ–¹ç¨‹ æ— åæ•ˆæ€§ å¦‚æœç»™å®šæŸä¸€é˜¶æ®µçš„çŠ¶æ€ï¼Œåˆ™åœ¨è¿™ä¸€é˜¶æ®µä»¥åè¿‡ç¨‹çš„å‘å±•ä¸å—è¿™é˜¶æ®µä»¥å‰å„æ®µçŠ¶æ€çš„å½±å“ã€‚\nä¸€æ—¦ \\(f(n)\\) ç¡®å®šï¼Œâ€œæˆ‘ä»¬å¦‚ä½•å‡‘å‡º \\(f(n)\\) â€å°±å†ä¹Ÿç”¨ä¸ç€äº†ï¼š\nè¦æ±‚å‡º \\(f(15)\\)ï¼Œåªéœ€è¦çŸ¥é“ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) çš„å€¼ï¼Œ è€Œ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) æ˜¯å¦‚ä½•ç®—å‡ºæ¥çš„ï¼Œå¯¹ä¹‹åçš„é—®é¢˜æ²¡æœ‰å½±å“ã€‚ â€œæœªæ¥ä¸è¿‡å»æ— å…³â€ï¼Œè¿™å°±æ˜¯æ— åæ•ˆæ€§ã€‚\næœ€ä¼˜å­ç»“æ„ å¤§é—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥ç”±å°é—®é¢˜çš„æœ€ä¼˜è§£æ¨å‡ºï¼Œè¿™ä¸ªæ€§è´¨å«åšâ€œæœ€ä¼˜å­ç»“æ„æ€§è´¨â€ï¼š\n\\(f(n)\\) çš„å®šä¹‰éœ€è¦è•´å«â€œæœ€ä¼˜â€ï¼Œåˆ©ç”¨ \\(f(14)\\),\\(f(10)\\),\\(f(4)\\) çš„æœ€ä¼˜è§£ï¼Œæˆ‘ä»¬å³å¯ç®—å‡º \\(f(15)\\) çš„æœ€ä¼˜è§£ã€‚\nèƒ½å°†å¤§é—®é¢˜æ‹†æˆå‡ ä¸ªå°é—®é¢˜ï¼Œä¸”æ»¡è¶³æ— åæ•ˆæ€§ã€æœ€ä¼˜å­ç»“æ„æ€§è´¨ã€‚ DP æ€è·¯ å‚è§ LeetCode è®¨è®ºï¼š\nå…ˆå†™å‡ºç©·ä¸¾çš„æ–¹æ³• æ‰¾å‡ºä¸å¿…è¦çš„é‡å¤è®¡ç®— å†™å‡º DP ç»ƒä¹  0x00 ç¡¬å¸æ‰¾é›¶ æè¿° å‡è®¾æœ‰å‡ ç§ç¡¬å¸ï¼Œå¦‚1ã€3ã€5ï¼Œå¹¶ä¸”æ•°é‡æ— é™ã€‚è¯·æ‰¾å‡ºèƒ½å¤Ÿç»„æˆæŸä¸ªæ•°ç›®çš„æ‰¾é›¶æ‰€ä½¿ç”¨æœ€å°‘çš„ç¡¬å¸æ•°ã€‚\nçŠ¶æ€è½¬ç§»å…¬å¼ å…¬å¼ \\(f(n)=min\\{f(n-1),f(n-3),f(n-5)\\} + 1\\)\næ£€æŸ¥æ˜¯å¦æ»¡è¶³ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªç‰¹æ€§ï¼š\næ— åæ•ˆæ€§ï¼šå¯¹äº \\(n\\)ï¼Œä¸€æ—¦ \\(f(n)\\) ç¡®å®šï¼Œä»¥ååªå…³å¿ƒ \\(f(n)\\) çš„å€¼ï¼Œä¸å…³å¿ƒæ€ä¹ˆè®¡ç®—çš„ï¼› æœ€ä¼˜å­ç»“æ„ï¼šå¯¹äº \\(n\\)ï¼Œåªè¦ \\(n - 1\\) \\(n - 3\\) \\(n - 5\\) èƒ½æ˜¯æœ€ä¼˜è§£ï¼Œé‚£ä¹ˆå°±èƒ½è®¡ç®—å‡º n; æ¨å¯¼è¿‡ç¨‹ å‡è®¾æ‰¾é›¶ 15ï¼š","title":"åŠ¨æ€è§„åˆ’"},{"content":" tags: æŠ€æœ¯ ","permalink":"https://notes.0081800.xyz/topics/20200320100519_%E5%A4%A7%E6%95%B0%E6%8D%AE/","summary":" tags: æŠ€æœ¯ ","title":"å¤§æ•°æ®"},{"content":" tags: Algorithm,Sorting Wikipedia: å½’å¹¶æ’åº\n","permalink":"https://notes.0081800.xyz/notes/20200320173033_%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/","summary":"tags: Algorithm,Sorting Wikipedia: å½’å¹¶æ’åº","title":"å½’å¹¶æ’åº"},{"content":" alias: Algorithm ","permalink":"https://notes.0081800.xyz/notes/20200320171501_%E7%AE%97%E6%B3%95/","summary":" alias: Algorithm ","title":"ç®—æ³•"},{"content":" tags: Over the Wall,HTTPs è¿™é‡Œä»¥æ–°å¢ vd.linuxzen.com ä¸ºä¾‹ã€‚\næ–°å¢ DNS è§£æ é€šè¿‡ DNSPOD æ–°å¢ DNS è§£æ A è®°å½• è°ƒæ•´ Nginx æ–°å¢ HTTP ç«™ç‚¹ Nginx å‚è€ƒé…ç½®\nserver { listen 80; server_name vd.linuxzen.com; include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } æ–°å¢ç­¾å‘è¯ä¹¦ $ acme.sh --force --issue -d linuxzen.com -d www.linuxzen.com -d cwiki.linuxzen.com -d monitor.linuxzen.com -d v.linuxzen.com -d vd.linuxzen.com -d d.linuxzen.com -d piwik.linuxzen.com -d t.linuxzen.com -d wiki.linuxzen.com -d note.linuxzen.com -w /var/www/letsencrypt/ å®‰è£…è¯ä¹¦\n$ acme.sh --install-cert -d linuxzen.com --cert-file /etc/nginx/certs/linuxzen.com/cert.pem --key-file /etc/nginx/certs/linuxzen.com/privkey.pem --fullchain-file /etc/nginx/certs/linuxzen.com/fullchain.pem --reloadcmd \u0026#34;sudo service nginx reload \u0026amp;\u0026amp; docker restart ipsec-vpn-ssl \u0026amp;\u0026amp; docker restart v2ray \u0026amp;\u0026amp; docker restart v2ray2\u0026#34; è°ƒæ•´ Nginx é…ç½®æ–‡ä»¶åº”ç”¨è¯ä¹¦ server { listen 80; server_name vd.linuxzen.com; return 301 https://$server_name$request_uri; } server { listen 443 http2 ssl fastopen=3 reuseport; server_name vd.linuxzen.com; ssl_certificate /etc/nginx/certs/linuxzen.com/fullchain.pem; ssl_certificate_key /etc/nginx/certs/linuxzen.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; ssl_dhparam /etc/ssl/certs/dhparam.pem; ssl_ciphers \u0026#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\u0026#39;; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_stapling on; ssl_stapling_verify on; add_header Strict-Transport-Security max-age=15768000; access_log /var/log/nginx/vd.linuxzen.com.log; location / { root /srv/www/vd.linuxzen.com; index index.html index.htm; } location /passport { proxy_redirect off; proxy_pass http://v2ray; proxy_http_version 1.1; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } ","permalink":"https://notes.0081800.xyz/notes/20200319221212_let_s_encrypt/","summary":"tags: Over the Wall,HTTPs è¿™é‡Œä»¥æ–°å¢ vd.linuxzen.com ä¸ºä¾‹ã€‚\næ–°å¢ DNS è§£æ é€šè¿‡ DNSPOD æ–°å¢ DNS è§£æ A è®°å½• è°ƒæ•´ Nginx æ–°å¢ HTTP ç«™ç‚¹ Nginx å‚è€ƒé…ç½®\nserver { listen 80; server_name vd.linuxzen.com; include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } æ–°å¢ç­¾å‘è¯ä¹¦ $ acme.sh --force --issue -d linuxzen.com -d www.linuxzen.com -d cwiki.linuxzen.com -d monitor.linuxzen.com -d v.linuxzen.com -d vd.linuxzen.com -d d.linuxzen.com -d piwik.linuxzen.com -d t.linuxzen.com -d wiki.linuxzen.com -d note.linuxzen.com -w /var/www/letsencrypt/ å®‰è£…è¯ä¹¦\n$ acme.sh --install-cert -d linuxzen.com --cert-file /etc/nginx/certs/linuxzen.","title":"Let's Encrypt"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20200319224041_%E7%BF%BB%E5%A2%99/","summary":"","title":"Over the Wall"},{"content":" tags: Over the Wall,Tools æ¶æ„ Client -\u0026gt; DIDIYun(HAProxy) -\u0026gt; HK\næ»´æ»´äº‘ HAPorxy é…ç½® 117.51.146.119\nfrontend v_linuxzen_com bind *:6697 option tcplog mode tcp default_backend v_linuxzen_com_nodes backend v_linuxzen_com_nodes mode tcp balance roundrobin option ssl-hello-chk server webserver1 45.115.36.35:443 check å®¢æˆ·ç«¯æ”¹åŠ¨ éœ€è¦è°ƒæ•´ hosts\n$ echo \u0026#39;117.51.146.119 v.linuxzen.com\u0026#39; | sudo tee -a /etc/hosts HK V2Ray Docker å¯åŠ¨ $ docker run -d -p 127.0.0.1:25001:25001 --name v2ray --restart always -v /etc/v2ray:/etc/v2ray v2ray/official HK Let\u0026rsquo;s Encrypt è¯ä¹¦ $ acme.sh --issue -d linuxzen.com -d www.linuxzen.com -d cwiki.linuxzen.com -d monitor.linuxzen.com -d v.linuxzen.com -d d.linuxzen.com -d piwik.linuxzen.com -d t.linuxzen.com -d wiki.linuxzen.com -d note.linuxzen.com -w /var/www/letsencrypt/ $ acme.sh --install-cert -d linuxzen.com --cert-file /etc/nginx/certs/linuxzen.com/cert.pem --key-file /etc/nginx/certs/linuxzen.com/privkey.pem --fullchain-file /etc/nginx/certs/linuxzen.com/fullchain.pem --reloadcmd \u0026#34;sudo service nginx reload \u0026amp;\u0026amp; docker restart ipsec-vpn-ssl \u0026amp;\u0026amp; docker restart v2ray \u0026amp;\u0026amp; docker restart v2ray2\u0026#34; HK V2Ray é…ç½® { \u0026#34;log\u0026#34;: { \u0026#34;loglevel\u0026#34;: \u0026#34;debug\u0026#34;, \u0026#34;access\u0026#34;: \u0026#34;/var/log/v2ray/access.log\u0026#34;, \u0026#34;error\u0026#34;: \u0026#34;/var/log/v2ray/error.log\u0026#34; }, \u0026#34;inbounds\u0026#34;: [ { \u0026#34;port\u0026#34;: 25001, \u0026#34;listen\u0026#34;:\u0026#34;0.0.0.0\u0026#34;, \u0026#34;protocol\u0026#34;: \u0026#34;vmess\u0026#34;, \u0026#34;settings\u0026#34;: { \u0026#34;clients\u0026#34;: [ { \u0026#34;id\u0026#34;: \u0026#34;1fde12b8-0cfd-11ea-a4b3-acde48001122\u0026#34;, \u0026#34;alterId\u0026#34;: 64 } ] }, \u0026#34;streamSettings\u0026#34;: { \u0026#34;network\u0026#34;: \u0026#34;ws\u0026#34;, \u0026#34;wsSettings\u0026#34;: { \u0026#34;path\u0026#34;: \u0026#34;/passport\u0026#34; } } } ], \u0026#34;outbounds\u0026#34;: [ { \u0026#34;protocol\u0026#34;: \u0026#34;freedom\u0026#34;, \u0026#34;settings\u0026#34;: {} } ] } HK Nginx é…ç½® server { listen 80; server_name v.linuxzen.com; return 301 https://$server_name$request_uri; } upstream v2ray { server 127.0.0.1:25001; server 127.0.0.1:25002; } server{ listen 443 http2 ssl fastopen=3 reuseport; # listen 80; server_name v.linuxzen.com; ssl_certificate /etc/nginx/certs/linuxzen.com/fullchain.pem; ssl_certificate_key /etc/nginx/certs/linuxzen.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; ssl_dhparam /etc/ssl/certs/dhparam.pem; ssl_ciphers \u0026#39;ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:AES128-GCM-SHA256:AES256-GCM-SHA384:AES128-SHA256:AES256-SHA256:AES128-SHA:AES256-SHA:AES:CAMELLIA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!aECDH:!EDH-DSS-DES-CBC3-SHA:!EDH-RSA-DES-CBC3-SHA:!KRB5-DES-CBC3-SHA\u0026#39;; ssl_session_timeout 1d; ssl_session_cache shared:SSL:50m; ssl_stapling on; ssl_stapling_verify on; add_header Strict-Transport-Security max-age=15768000; access_log /var/log/nginx/v.linuxzen.com.log; location / { root /srv/www/v.linuxzen.com; index index.html index.htm; } location /passport { proxy_redirect off; proxy_pass http://v2ray; proxy_http_version 1.1; proxy_read_timeout 300s; proxy_send_timeout 300s; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } include /etc/nginx/snippets/letsencrypt-acme-challenge.conf; } æ–°å¢ä¸€ä¸ªåŸŸåç”¨äºå•ç‹¬çš„æ»´æ»´äº‘åŠ é€Ÿ ä½¿ç”¨ä¸€ä¸ªå•ç‹¬çš„åŸŸå vd.linuxzen.com ç”¨äºæ»´æ»´äº‘åŠ é€Ÿï¼Œå‚è§Let\u0026rsquo;s Encryptã€‚\n","permalink":"https://notes.0081800.xyz/notes/20200319215535_v2ray/","summary":"tags: Over the Wall,Tools æ¶æ„ Client -\u0026gt; DIDIYun(HAProxy) -\u0026gt; HK\næ»´æ»´äº‘ HAPorxy é…ç½® 117.51.146.119\nfrontend v_linuxzen_com bind *:6697 option tcplog mode tcp default_backend v_linuxzen_com_nodes backend v_linuxzen_com_nodes mode tcp balance roundrobin option ssl-hello-chk server webserver1 45.115.36.35:443 check å®¢æˆ·ç«¯æ”¹åŠ¨ éœ€è¦è°ƒæ•´ hosts\n$ echo \u0026#39;117.51.146.119 v.linuxzen.com\u0026#39; | sudo tee -a /etc/hosts HK V2Ray Docker å¯åŠ¨ $ docker run -d -p 127.0.0.1:25001:25001 --name v2ray --restart always -v /etc/v2ray:/etc/v2ray v2ray/official HK Let\u0026rsquo;s Encrypt è¯ä¹¦ $ acme.","title":"V2Ray"},{"content":" tags: Over the Wall,Network xinetd ä»£ç† SMTP å’Œ IMAP é€šè¿‡ xinetd ä»£ç† SMTP å’Œ IMAP å®ç° gmail ç¿»å¢™ã€‚\né…ç½®æœåŠ¡ç«¯\nservice imap { type = UNLISTED port = 993 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = imap.gmail.com 993 per_source = UNLIMITED cps = 100 2 } service smtp-465 { type = UNLISTED port = 465 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = smtp.gmail.com 465 per_source = UNLIMITED cps = 100 2 } service smtp-587 { type = UNLISTED port = 587 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = smtp.gmail.com 587 per_source = UNLIMITED cps = 100 2 } æœ¬æœºä¿®æ”¹ hosts\necho \u0026#39;45.115.36.35 smtp.gmail.com\u0026#39; | sudo tee -a /etc/hosts echo \u0026#39;45.115.36.35 imap.gmail.com\u0026#39; | sudo tee -a /etc/hosts é€šè¿‡æ»´æ»´äº‘ç©¿é€å’ŒåŠ é€Ÿ gmail ä»£ç† é€šè¿‡åœ¨æ»´æ»´äº‘ä¸Šé…ç½®\nservice imap { type = UNLISTED port = 993 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = 45.115.36.35 993 per_source = UNLIMITED cps = 100 2 } service smtp-465 { type = UNLISTED port = 465 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = 45.115.36.35 465 per_source = UNLIMITED cps = 100 2 } service smtp-587 { type = UNLISTED port = 587 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = 45.115.36.35 587 per_source = UNLIMITED cps = 100 2 } è°ƒæ•´æœ¬åœ° hosts\necho \u0026#39;117.51.146.119 smtp.gmail.com\u0026#39; | sudo tee -a /etc/hosts echo \u0026#39;117.51.146.119 imap.gmail.com\u0026#39; | sudo tee -a /etc/hosts ","permalink":"https://notes.0081800.xyz/notes/20200319223026_xinetd/","summary":"tags: Over the Wall,Network xinetd ä»£ç† SMTP å’Œ IMAP é€šè¿‡ xinetd ä»£ç† SMTP å’Œ IMAP å®ç° gmail ç¿»å¢™ã€‚\né…ç½®æœåŠ¡ç«¯\nservice imap { type = UNLISTED port = 993 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = imap.gmail.com 993 per_source = UNLIMITED cps = 100 2 } service smtp-465 { type = UNLISTED port = 465 bind = 0.0.0.0 socket_type = stream wait = no user = nobody redirect = smtp.","title":"xinetd"},{"content":"è‚¡åˆ†ç±» ä¸ªè‚¡ï¼šæŠ•èµ„èµ„é‡‘æ¥è‡ªä¸ªäººçš„è‚¡ç¥¨ï¼ˆè¿˜æœ‰å›½å®¶è‚¡ã€æ³•äººè‚¡ï¼‰\nè“ç­¹è‚¡ï¼šæ˜æ˜Ÿè‚¡\nå°ç›˜\nå¸‚å€¼æ¯”è¾ƒä½çš„è‚¡ç¥¨\nå°ç›˜ä»·å€¼è‚¡ï¼šæ ¼ä½äºä»·å€¼çš„è‚¡ç¥¨ï¼Œè¢«ä½ä¼°çš„è‚¡ç¥¨ï¼Œé•¿æœŸçœ‹æ¥å€¼å¾—æŠ•èµ„çš„è‚¡ç¥¨ã€‚ å°ç›˜æˆé•¿è‚¡ï¼šæˆé•¿æ½œåŠ›å¾ˆå¤§ï¼Œå…¬å¸å‘å±•å¤„äºè¾ƒå¿«é˜¶æ®µï¼Œä½†ä¸ç¡®å®šæ€§ä¹Ÿæ¯”è¾ƒé«˜ï¼Œä¸šç»©æ³¢åŠ¨å¯èƒ½ä¼šå¾ˆå¤§ã€‚ ç¨³å®šå¢é•¿è‚¡ï¼šå°ç›˜å…·æœ‰ä¸€å®šå“ç‰Œæ•ˆåº”åçš„å¿«é”€å“ï¼Œè¾¾åˆ°ä¸€å®šç»Ÿæ²»åœ°ä½ï¼Œæœ€å¥½åœ¨è¡Œä¸šçš„ç¹è£å‘¨æœŸé¡¶å³°å–å‡º\nå‘¨æœŸè‚¡\nç›¸å…³æŒ‡æ ‡ å¸‚ç›ˆç‡ï¼ˆP/E æˆ– PERï¼‰= æ¯è‚¡å¸‚å€¼ / æ¯è‚¡ç›ˆä½™\næ¯è‚¡å¸‚ä»·å¤„äºæ¯è‚¡ç›ˆä½™ï¼ˆEPSï¼‰ï¼Œè¯„ä¼°è‚¡ä»·æ˜¯æ˜‚è´µè¿˜æ˜¯ä¾¿å®œã€‚å¸‚ç›ˆç‡è¶Šä½ä»£è¡¨æŠ•èµ„è€…èƒ½å¤Ÿä»¥ç›¸å¯¹è¾ƒä½çš„ä»·æ ¼è´­å…¥è‚¡ç¥¨ã€‚\nWikipedia: https://zh.wikipedia.org/wiki/%E5%B8%82%E7%9B%88%E7%8E%87\nå¸‚å‡€ç‡ï¼ˆPBRï¼ŒP/Bï¼‰ = æ€»å¸‚å€¼ / å‡€èµ„äº§\nè¯„ä¼°é«˜é£é™©ä¼ä¸šï¼Œä¼ä¸šèµ„äº§å¤§é‡ä¸ºå®ç‰©èµ„äº§çš„ä¼ä¸šæ—¶æ”¶åˆ°é‡è§†ã€‚\nå¸‚é”€ç‡ï¼ˆPSRï¼ŒP/Sï¼‰ = æ€»å¸‚å€¼ / è¥æ”¶\nå…¬å¸å¸‚å€¼é™¤ä»¥ä¸Šä¸€è´¢å¹´ï¼ˆæˆ–å­£åº¦ï¼‰çš„è¥ä¸šæ”¶å…¥ï¼Œæˆ–ç­‰ä»·åœ°ï¼Œä»¥å…¬å¸è‚¡ä»·é™¤ä»¥æ¯è‚¡è¥åˆ©æ”¶å…¥ï¼Œè¶Šå°ï¼ˆå°äº 1ï¼‰é€šå¸¸è¢«è®¤ä¸ºæŠ•èµ„ä»·å€¼è¶Šé«˜ã€‚å¯ä»¥ä»˜å‡ºæ¯”å•ä½è¥æ”¶æ›´å°‘çš„é’±è´­ä¹°è‚¡ç¥¨ã€‚ Wikipedia: https://zh.wikipedia.org/zh-hans/%E5%B8%82%E9%94%80%E7%8E%87\nç›¸å…³é“¾æ¥\nç®€å•ç›´è§‚çš„è§£é‡Šä¸€ä¸‹å¸‚ç›ˆç‡å’Œå¸‚å‡€ç‡çš„æ„æ€ ","permalink":"https://notes.0081800.xyz/notes/20200318160435_%E8%82%A1%E5%B8%82%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/","summary":"è‚¡åˆ†ç±» ä¸ªè‚¡ï¼šæŠ•èµ„èµ„é‡‘æ¥è‡ªä¸ªäººçš„è‚¡ç¥¨ï¼ˆè¿˜æœ‰å›½å®¶è‚¡ã€æ³•äººè‚¡ï¼‰\nè“ç­¹è‚¡ï¼šæ˜æ˜Ÿè‚¡\nå°ç›˜\nå¸‚å€¼æ¯”è¾ƒä½çš„è‚¡ç¥¨\nå°ç›˜ä»·å€¼è‚¡ï¼šæ ¼ä½äºä»·å€¼çš„è‚¡ç¥¨ï¼Œè¢«ä½ä¼°çš„è‚¡ç¥¨ï¼Œé•¿æœŸçœ‹æ¥å€¼å¾—æŠ•èµ„çš„è‚¡ç¥¨ã€‚ å°ç›˜æˆé•¿è‚¡ï¼šæˆé•¿æ½œåŠ›å¾ˆå¤§ï¼Œå…¬å¸å‘å±•å¤„äºè¾ƒå¿«é˜¶æ®µï¼Œä½†ä¸ç¡®å®šæ€§ä¹Ÿæ¯”è¾ƒé«˜ï¼Œä¸šç»©æ³¢åŠ¨å¯èƒ½ä¼šå¾ˆå¤§ã€‚ ç¨³å®šå¢é•¿è‚¡ï¼šå°ç›˜å…·æœ‰ä¸€å®šå“ç‰Œæ•ˆåº”åçš„å¿«é”€å“ï¼Œè¾¾åˆ°ä¸€å®šç»Ÿæ²»åœ°ä½ï¼Œæœ€å¥½åœ¨è¡Œä¸šçš„ç¹è£å‘¨æœŸé¡¶å³°å–å‡º\nå‘¨æœŸè‚¡\nç›¸å…³æŒ‡æ ‡ å¸‚ç›ˆç‡ï¼ˆP/E æˆ– PERï¼‰= æ¯è‚¡å¸‚å€¼ / æ¯è‚¡ç›ˆä½™\næ¯è‚¡å¸‚ä»·å¤„äºæ¯è‚¡ç›ˆä½™ï¼ˆEPSï¼‰ï¼Œè¯„ä¼°è‚¡ä»·æ˜¯æ˜‚è´µè¿˜æ˜¯ä¾¿å®œã€‚å¸‚ç›ˆç‡è¶Šä½ä»£è¡¨æŠ•èµ„è€…èƒ½å¤Ÿä»¥ç›¸å¯¹è¾ƒä½çš„ä»·æ ¼è´­å…¥è‚¡ç¥¨ã€‚\nWikipedia: https://zh.wikipedia.org/wiki/%E5%B8%82%E7%9B%88%E7%8E%87\nå¸‚å‡€ç‡ï¼ˆPBRï¼ŒP/Bï¼‰ = æ€»å¸‚å€¼ / å‡€èµ„äº§\nè¯„ä¼°é«˜é£é™©ä¼ä¸šï¼Œä¼ä¸šèµ„äº§å¤§é‡ä¸ºå®ç‰©èµ„äº§çš„ä¼ä¸šæ—¶æ”¶åˆ°é‡è§†ã€‚\nå¸‚é”€ç‡ï¼ˆPSRï¼ŒP/Sï¼‰ = æ€»å¸‚å€¼ / è¥æ”¶\nå…¬å¸å¸‚å€¼é™¤ä»¥ä¸Šä¸€è´¢å¹´ï¼ˆæˆ–å­£åº¦ï¼‰çš„è¥ä¸šæ”¶å…¥ï¼Œæˆ–ç­‰ä»·åœ°ï¼Œä»¥å…¬å¸è‚¡ä»·é™¤ä»¥æ¯è‚¡è¥åˆ©æ”¶å…¥ï¼Œè¶Šå°ï¼ˆå°äº 1ï¼‰é€šå¸¸è¢«è®¤ä¸ºæŠ•èµ„ä»·å€¼è¶Šé«˜ã€‚å¯ä»¥ä»˜å‡ºæ¯”å•ä½è¥æ”¶æ›´å°‘çš„é’±è´­ä¹°è‚¡ç¥¨ã€‚ Wikipedia: https://zh.wikipedia.org/zh-hans/%E5%B8%82%E9%94%80%E7%8E%87\nç›¸å…³é“¾æ¥\nç®€å•ç›´è§‚çš„è§£é‡Šä¸€ä¸‹å¸‚ç›ˆç‡å’Œå¸‚å‡€ç‡çš„æ„æ€ ","title":"è‚¡å¸‚ç›¸å…³æ¦‚å¿µ"},{"content":" é€‚åˆäººç¾¤ï¼šç©·äººã€ç¬¨äººã€å¿™äººã€å¥½äºº\nä¸ºä»€ä¹ˆ\né€šèƒ€å¤ªé«˜ï¼Œè‚¡ç¥¨æˆ˜èƒœé€šèƒ€çš„é‡è¦å·¥å…· ç»å¤§å¤šæ•°äººä¸å…·å¤‡æ‹©æ—¶èƒ½åŠ› é¿å…é«˜ç‚¹ä¹°å…¥ æ ¸å¿ƒé€»è¾‘ï¼šæ”¾å¼ƒæ‹©æ—¶ï¼ŒæŒç»­å°é¢ä¹°å…¥ï¼Œé™ä½æˆæœ¬\nç¼ºç‚¹ï¼šåœ¨å¸‚åœºä¸Šæ¶¨ã€é«˜ä½éœ‡è¡è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶ç›ˆåˆ©å¤§å¹…æé«˜ï¼Œä½†æŒä»“æˆæœ¬ä¹Ÿåœ¨å¿«é€Ÿæé«˜ã€‚ä¸€æ—¦å¸‚åœºè½¬å‘ç†Šå¸‚ï¼Œæ•´ä½“ä¼šè¿…é€Ÿäºæœ¬ã€‚\nå•è¾¹ä¸Šæ¶¨ï¼šå®šæŠ•ç›ˆåˆ©å°‘äºä¸€æ¬¡æ€§æŠ•èµ„ å…ˆéœ‡è¡åä¸Šæ¶¨ï¼šå®šæŠ•ç›ˆåˆ©å°‘äºä¸€æ¬¡æ€§æŠ•èµ„ å…ˆä¸Šæ¶¨åä¸‹è·Œï¼šå®šæŠ•äºæŸå¤šäºä¸€æ¬¡æ€§æŠ•èµ„ å•è¾¹ä¸‹è·Œï¼šå®šæŠ•äºæŸå°‘äºä¸€æ¬¡æ€§æŠ•èµ„ éœ‡è¡ï¼šå®šæŠ•ä¸ä¸€æ¬¡æ€§æŠ•èµ„æŒå¹³ å…ˆä¸‹è·Œå†éœ‡è¡ï¼šå®šæŠ•äºæŸå°‘äºä¸€æ¬¡æ€§æŠ•èµ„ é™¤äº†åšæŒï¼Œè¿˜åœ¨äºæ­¢ç›ˆç­–ç•¥ï¼Œç‰›å¸‚ä¸­æˆæœ¬ä¸æ–­æé«˜ï¼Œéœ€è¦åŠæ—¶æ­¢ç›ˆï¼Œé˜²æ­¢ä¸‹è·Œæ—¶å€™çš„äºæŸ é”™è¯¯ç†å¿µ\nå®šæŠ•ä¸æ˜¯ä¸‡èƒ½ï¼Œéœ€è¦é˜²æ­¢â€œå€’å¾®ç¬‘æ›²çº¿å‘¨æœŸâ€ å·´è²ç‰¹è¯´æŒ‡æ•°åŸºé‡‘éš¾ä»¥è¶…è¶Šä»…é™äºç¾è‚¡ï¼ŒA è‚¡ä¸ä¹‹ç›¸å å®šæŠ•ç»„åˆåŒ…å«å€ºåˆ¸åŸºé‡‘ï¼šå®šæŠ•é€‚åˆæ³¢åŠ¨è¾ƒå¤§çš„æƒç›Šç±»èµ„äº§ï¼ˆè‚¡ç¥¨ã€å•†å“ï¼‰ï¼Œå€ºå·ç­‰å›ºå®šæ”¶ç›Šç±»äº§å“æœ¬èº«æ³¢åŠ¨å°ï¼Œä¸€æ¬¡æ€§ä¹°å…¥å’Œå®šæŠ•åŸºæœ¬æ²¡åŒºåˆ« æœˆå®šæŠ•ä¸å¤Ÿè¿˜è¦å‘¨å®šæŠ•ï¼šåŸºæœ¬æ²¡å·®åˆ« å®šæŠ•æ˜¯æ‡’äººæŠ•èµ„ï¼ŒåšæŒå³å¯ï¼šè¿˜éœ€è¦ä¸»åŠ¨ç®¡ç†ï¼Œå¦‚å®šæŠ•çš„æ ‡çš„ä¸å†é€‚åˆå®šæŠ•ï¼Œè¯¥æ¢è¦æ¢ã€‚ ä¸€æ¬¡æ€§æŠ•èµ„æ­¢æŸä¸æ­¢èµ¢ï¼Œå®šæŠ•æ­¢èµ¢ä¸æ­¢æŸã€‚ å®šæŠ•åªä¹°å¼€æ”¾å¼åŸºé‡‘ï¼šè¿˜å¯ä»¥å®½åŸºæŒ‡æ•°åŸºé‡‘ã€ä¸»é¢˜æŒ‡æ•°åŸºé‡‘ã€è¡Œä¸šæŒ‡æ•°åŸºé‡‘ã€é£æ ¼æŒ‡æ•°åŸºé‡‘ã€ç­–ç•¥æŒ‡æ•°åŸºé‡‘ã€QDII æŒ‡æ•°åŸºé‡‘ã€å•†å“æŒ‡æ•°åŸºé‡‘ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰æŠ˜ä»·çš„å°é—­å¼åŸºé‡‘ã€å®šå¢åŸºé‡‘ï¼Œé€‚å½“çš„é…ç½®ä¼šéå¸¸å¥½ç©ã€‚ ç­–ç•¥\nå®šæŠ•ä¹°å…¥ï¼Œæ­¢ç›ˆä¸æ­¢æŸï¼š éœ€è¦åœ¨å¯èƒ½å‡ºç°çš„â€œå€’å¾®ç¬‘æ›²çº¿å‘¨æœŸâ€åŠæ—¶æ­¢ç›ˆã€‚ åˆ¶è®¢é‡åŒ–ä¼°å€¼æ ‡å‡† æŠ€æœ¯åˆ†æ\né€šè¿‡MAã€MACDã€RSIç­‰å„ç§æŠ€æœ¯æŒ‡æ ‡ï¼Œåˆ¤æ–­ç›®å‰å¸‚åœºä»é•¿æœŸçœ‹ï¼Œæ˜¯ç›¸å¯¹ä½ä½è¿˜æ˜¯é«˜ä½\nè¶‹åŠ¿ä¸Šæ¶¨åŸåˆ™ï¼šMA(30)\u0026gt;MA(60)\u0026gt;MA(120)ï¼› è¶‹åŠ¿ä¸‹è·ŒåŸåˆ™ï¼šMA(30)\u0026lt;MA(60)\u0026lt;MA(120)ã€‚ å‡çº¿åç¦»æ³•ï¼šæ ¹æ®æŒ‡æ•°ä»·æ ¼å¯¹å‡çº¿åç¦»çš„ç¨‹åº¦å†³å®šæŠ•èµ„é¢åº¦çš„å¤šå°‘ã€‚\nP\u0026gt;MA(120)ï¼šæ­£åç¦»ï¼Œå‡å°‘æŠ•èµ„é¢åº¦ï¼› P\u0026lt;MA(120)ï¼šè´Ÿåç¦»ï¼Œå¢åŠ æŠ•èµ„é¢åº¦ã€‚ åŸºæœ¬é¢åˆ†æ\næ ¹æ®æŒ‡æ•°ç›¸å…³åŸºæœ¬é¢æŒ‡æ ‡ï¼Œåˆ¤æ–­è‚¡å¸‚å¤„äºé«˜ä¼°æˆ–è€…ä½ä¼°ã€‚å¦‚å¸‚ç›ˆç‡ã€å¸‚å‡€ç‡ã€æ•´ä½“ROIç­‰åœ°ã€‚åœ¨è‚¡å¸‚é«˜ä¼°æ—¶ï¼Œé™ä½æŠ•èµ„é¢åº¦ï¼Œåœ¨è‚¡å¸‚ä½ä¼°æ—¶ï¼Œå¢åŠ æŠ•èµ„é¢åº¦ã€‚\nå®šæœŸä¸å®šé¢ç­–ç•¥\nåœ¨ä¸Šè¿°ç­–ç•¥çš„åŸºç¡€ä¸Šï¼Œå¦‚ç›®å‰å¸‚åœºæ˜æ˜¾åœ¨å†å²åœ°ç‚¹ï¼ŒåŸæ¥æ¯ä¸ªæœˆæŠ•1000çš„ï¼Œè¿™æ—¶ä¸å¦¨æŠ•2000ã€‚å¦‚å¸‚åœºæ˜æ˜¾é«˜ä¼°ï¼Œæ¯ä¸ªæœˆæŠ•1000çš„å¯ä»¥æŠ•500ã€‚å¦‚æœæ¶¨çš„éƒ½å®³æ€•äº†ï¼Œå¯ä»¥ä¸æŠ•ç”šè‡³å–å‡ºä¸€éƒ¨åˆ†ã€‚\näº§å“æ± ç®¡ç†\næ„å»ºâ€œæ ¸å¿ƒâ€”â€”å«æ˜Ÿâ€ç»„åˆ\næŠ€å·§\néƒ¨åˆ†åŸºé‡‘å¯ä»¥åœºå†…è´­ä¹°ï¼ˆç‚’è‚¡è´¦å·è´­ä¹°ï¼‰ï¼Œäº¤æ˜“æ—¶é—´çŸ­æ‰‹ç»­è´¹ä½ Links åŸºé‡‘å®šæŠ•ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† ","permalink":"https://notes.0081800.xyz/notes/20200311093314_%E5%9F%BA%E9%87%91%E5%AE%9A%E6%8A%95/","summary":" é€‚åˆäººç¾¤ï¼šç©·äººã€ç¬¨äººã€å¿™äººã€å¥½äºº\nä¸ºä»€ä¹ˆ\né€šèƒ€å¤ªé«˜ï¼Œè‚¡ç¥¨æˆ˜èƒœé€šèƒ€çš„é‡è¦å·¥å…· ç»å¤§å¤šæ•°äººä¸å…·å¤‡æ‹©æ—¶èƒ½åŠ› é¿å…é«˜ç‚¹ä¹°å…¥ æ ¸å¿ƒé€»è¾‘ï¼šæ”¾å¼ƒæ‹©æ—¶ï¼ŒæŒç»­å°é¢ä¹°å…¥ï¼Œé™ä½æˆæœ¬\nç¼ºç‚¹ï¼šåœ¨å¸‚åœºä¸Šæ¶¨ã€é«˜ä½éœ‡è¡è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶ç›ˆåˆ©å¤§å¹…æé«˜ï¼Œä½†æŒä»“æˆæœ¬ä¹Ÿåœ¨å¿«é€Ÿæé«˜ã€‚ä¸€æ—¦å¸‚åœºè½¬å‘ç†Šå¸‚ï¼Œæ•´ä½“ä¼šè¿…é€Ÿäºæœ¬ã€‚\nå•è¾¹ä¸Šæ¶¨ï¼šå®šæŠ•ç›ˆåˆ©å°‘äºä¸€æ¬¡æ€§æŠ•èµ„ å…ˆéœ‡è¡åä¸Šæ¶¨ï¼šå®šæŠ•ç›ˆåˆ©å°‘äºä¸€æ¬¡æ€§æŠ•èµ„ å…ˆä¸Šæ¶¨åä¸‹è·Œï¼šå®šæŠ•äºæŸå¤šäºä¸€æ¬¡æ€§æŠ•èµ„ å•è¾¹ä¸‹è·Œï¼šå®šæŠ•äºæŸå°‘äºä¸€æ¬¡æ€§æŠ•èµ„ éœ‡è¡ï¼šå®šæŠ•ä¸ä¸€æ¬¡æ€§æŠ•èµ„æŒå¹³ å…ˆä¸‹è·Œå†éœ‡è¡ï¼šå®šæŠ•äºæŸå°‘äºä¸€æ¬¡æ€§æŠ•èµ„ é™¤äº†åšæŒï¼Œè¿˜åœ¨äºæ­¢ç›ˆç­–ç•¥ï¼Œç‰›å¸‚ä¸­æˆæœ¬ä¸æ–­æé«˜ï¼Œéœ€è¦åŠæ—¶æ­¢ç›ˆï¼Œé˜²æ­¢ä¸‹è·Œæ—¶å€™çš„äºæŸ é”™è¯¯ç†å¿µ\nå®šæŠ•ä¸æ˜¯ä¸‡èƒ½ï¼Œéœ€è¦é˜²æ­¢â€œå€’å¾®ç¬‘æ›²çº¿å‘¨æœŸâ€ å·´è²ç‰¹è¯´æŒ‡æ•°åŸºé‡‘éš¾ä»¥è¶…è¶Šä»…é™äºç¾è‚¡ï¼ŒA è‚¡ä¸ä¹‹ç›¸å å®šæŠ•ç»„åˆåŒ…å«å€ºåˆ¸åŸºé‡‘ï¼šå®šæŠ•é€‚åˆæ³¢åŠ¨è¾ƒå¤§çš„æƒç›Šç±»èµ„äº§ï¼ˆè‚¡ç¥¨ã€å•†å“ï¼‰ï¼Œå€ºå·ç­‰å›ºå®šæ”¶ç›Šç±»äº§å“æœ¬èº«æ³¢åŠ¨å°ï¼Œä¸€æ¬¡æ€§ä¹°å…¥å’Œå®šæŠ•åŸºæœ¬æ²¡åŒºåˆ« æœˆå®šæŠ•ä¸å¤Ÿè¿˜è¦å‘¨å®šæŠ•ï¼šåŸºæœ¬æ²¡å·®åˆ« å®šæŠ•æ˜¯æ‡’äººæŠ•èµ„ï¼ŒåšæŒå³å¯ï¼šè¿˜éœ€è¦ä¸»åŠ¨ç®¡ç†ï¼Œå¦‚å®šæŠ•çš„æ ‡çš„ä¸å†é€‚åˆå®šæŠ•ï¼Œè¯¥æ¢è¦æ¢ã€‚ ä¸€æ¬¡æ€§æŠ•èµ„æ­¢æŸä¸æ­¢èµ¢ï¼Œå®šæŠ•æ­¢èµ¢ä¸æ­¢æŸã€‚ å®šæŠ•åªä¹°å¼€æ”¾å¼åŸºé‡‘ï¼šè¿˜å¯ä»¥å®½åŸºæŒ‡æ•°åŸºé‡‘ã€ä¸»é¢˜æŒ‡æ•°åŸºé‡‘ã€è¡Œä¸šæŒ‡æ•°åŸºé‡‘ã€é£æ ¼æŒ‡æ•°åŸºé‡‘ã€ç­–ç•¥æŒ‡æ•°åŸºé‡‘ã€QDII æŒ‡æ•°åŸºé‡‘ã€å•†å“æŒ‡æ•°åŸºé‡‘ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰æŠ˜ä»·çš„å°é—­å¼åŸºé‡‘ã€å®šå¢åŸºé‡‘ï¼Œé€‚å½“çš„é…ç½®ä¼šéå¸¸å¥½ç©ã€‚ ç­–ç•¥\nå®šæŠ•ä¹°å…¥ï¼Œæ­¢ç›ˆä¸æ­¢æŸï¼š éœ€è¦åœ¨å¯èƒ½å‡ºç°çš„â€œå€’å¾®ç¬‘æ›²çº¿å‘¨æœŸâ€åŠæ—¶æ­¢ç›ˆã€‚ åˆ¶è®¢é‡åŒ–ä¼°å€¼æ ‡å‡† æŠ€æœ¯åˆ†æ\né€šè¿‡MAã€MACDã€RSIç­‰å„ç§æŠ€æœ¯æŒ‡æ ‡ï¼Œåˆ¤æ–­ç›®å‰å¸‚åœºä»é•¿æœŸçœ‹ï¼Œæ˜¯ç›¸å¯¹ä½ä½è¿˜æ˜¯é«˜ä½\nè¶‹åŠ¿ä¸Šæ¶¨åŸåˆ™ï¼šMA(30)\u0026gt;MA(60)\u0026gt;MA(120)ï¼› è¶‹åŠ¿ä¸‹è·ŒåŸåˆ™ï¼šMA(30)\u0026lt;MA(60)\u0026lt;MA(120)ã€‚ å‡çº¿åç¦»æ³•ï¼šæ ¹æ®æŒ‡æ•°ä»·æ ¼å¯¹å‡çº¿åç¦»çš„ç¨‹åº¦å†³å®šæŠ•èµ„é¢åº¦çš„å¤šå°‘ã€‚\nP\u0026gt;MA(120)ï¼šæ­£åç¦»ï¼Œå‡å°‘æŠ•èµ„é¢åº¦ï¼› P\u0026lt;MA(120)ï¼šè´Ÿåç¦»ï¼Œå¢åŠ æŠ•èµ„é¢åº¦ã€‚ åŸºæœ¬é¢åˆ†æ\næ ¹æ®æŒ‡æ•°ç›¸å…³åŸºæœ¬é¢æŒ‡æ ‡ï¼Œåˆ¤æ–­è‚¡å¸‚å¤„äºé«˜ä¼°æˆ–è€…ä½ä¼°ã€‚å¦‚å¸‚ç›ˆç‡ã€å¸‚å‡€ç‡ã€æ•´ä½“ROIç­‰åœ°ã€‚åœ¨è‚¡å¸‚é«˜ä¼°æ—¶ï¼Œé™ä½æŠ•èµ„é¢åº¦ï¼Œåœ¨è‚¡å¸‚ä½ä¼°æ—¶ï¼Œå¢åŠ æŠ•èµ„é¢åº¦ã€‚\nå®šæœŸä¸å®šé¢ç­–ç•¥\nåœ¨ä¸Šè¿°ç­–ç•¥çš„åŸºç¡€ä¸Šï¼Œå¦‚ç›®å‰å¸‚åœºæ˜æ˜¾åœ¨å†å²åœ°ç‚¹ï¼ŒåŸæ¥æ¯ä¸ªæœˆæŠ•1000çš„ï¼Œè¿™æ—¶ä¸å¦¨æŠ•2000ã€‚å¦‚å¸‚åœºæ˜æ˜¾é«˜ä¼°ï¼Œæ¯ä¸ªæœˆæŠ•1000çš„å¯ä»¥æŠ•500ã€‚å¦‚æœæ¶¨çš„éƒ½å®³æ€•äº†ï¼Œå¯ä»¥ä¸æŠ•ç”šè‡³å–å‡ºä¸€éƒ¨åˆ†ã€‚\näº§å“æ± ç®¡ç†\næ„å»ºâ€œæ ¸å¿ƒâ€”â€”å«æ˜Ÿâ€ç»„åˆ\næŠ€å·§\néƒ¨åˆ†åŸºé‡‘å¯ä»¥åœºå†…è´­ä¹°ï¼ˆç‚’è‚¡è´¦å·è´­ä¹°ï¼‰ï¼Œäº¤æ˜“æ—¶é—´çŸ­æ‰‹ç»­è´¹ä½ Links åŸºé‡‘å®šæŠ•ï¼Œçœ‹è¿™ç¯‡å°±å¤Ÿäº† ","title":"åŸºé‡‘å®šæŠ•"},{"content":" tags: AI What is the Difference Between CNN and RNN? ","permalink":"https://notes.0081800.xyz/notes/20200310093014_deep_learning/","summary":" tags: AI What is the Difference Between CNN and RNN? ","title":"Deep Learning"},{"content":" Machine Learning Deep Learning ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹è¯»ä¹¦ç¬”è®° How to Train Really Large Models on Many GPUs? ","permalink":"https://notes.0081800.xyz/notes/20200309112015_ai/","summary":" Machine Learning Deep Learning ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹è¯»ä¹¦ç¬”è®° How to Train Really Large Models on Many GPUs? ","title":"AI"},{"content":" tags: Learning,Learning English ","permalink":"https://notes.0081800.xyz/topics/20200309112105_translate/","summary":" tags: Learning,Learning English ","title":"Translate"},{"content":" tags: Translate,Deep Learning,AI,Incomplete åŸæ–‡é“¾æ¥ï¼šDeep Learning Algorithms : The Complete Guideã€‚\næ·±åº¦å­¦ä¹ æ­£åœ¨å½±å“æ•´ä¸ªä¸–ç•Œã€‚\næ·±åº¦å­¦ä¹ çš„ç‚’ä½œå§‹äº 2012 å¹´ï¼šä¸€ä¸ªç¥ç»ç½‘ç»œï¼ˆNeural Networkï¼‰åœ¨å›¾ç‰‡è¯†åˆ«ä»»åŠ¡ä¸Šè¡¨ç°å‡ºè¶…äººçš„æ€§èƒ½ï¼Œå¹¶ä¸”åªæœ‰å°‘æ•°äººèƒ½é¢„æµ‹å°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚\nåœ¨è¿‡å» 10 å¹´ï¼Œè¶Šæ¥è¶Šå¤šçš„ç®—æ³•è½åœ°åˆ°æˆ‘ä»¬ç”Ÿæ´»ä¸­ã€‚è¶Šæ¥è¶Šå¤šçš„å…¬å¸å¼€å§‹å°†å…¶åŠ å…¥åˆ°æ—¥å¸¸ä¸šåŠ¡ä¸­ã€‚\nè¿™é‡Œï¼Œæˆ‘å°è¯•è¦†ç›–è¿‘å‡ å¹´å„ç§åº”ç”¨å¦‚è®¡ç®—æœºè§†è§‰å’Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNatural Language Processingï¼‰ä¸­æ‰€æ¶‰åŠçš„æ‰€æœ‰æœ€é‡è¦çš„ç®—æ³•å’Œæ„æ€ã€‚\nå…¶ä¸­æœ‰ä¸€äº›ç®—æ³•æ¯”å…¶ä»–ä¸€äº›ä½¿ç”¨çš„æ›´åŠ é¢‘ç¹å¹¶ä¸”æ¯ä¸€ç§éƒ½æœ‰å…¶è‡ªèº«çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\næˆ‘çš„ä¸»è¦ç›®æ ‡æ˜¯ç»™ä½ ä¸€ä¸ªå½“å‰é¢†åŸŸé€šç”¨çš„æ€è·¯å»å¸®åŠ©ä½ ç†è§£æ¯ä¸€ç§æƒ…å†µåº”è¯¥ä½¿ç”¨ä»€ä¹ˆç®—æ³•ã€‚ å› æˆ‘çŸ¥é“å®ƒçœ‹èµ·æ¥ä¼šå¯¹ä¸€äº›ä»é›¶å¼€å§‹çš„äººé€ æˆä¸€å®šç¨‹åº¦çš„æ··ä¹±ã€‚\nä½†æ˜¯é€šè¿‡é˜…è¯»è¿™ä»½æŒ‡å—ï¼Œæˆ‘æœ‰ä¿¡å¿ƒä½ ä¼šè®¤è¯†åˆ°ä»€ä¹ˆæ˜¯ä»€ä¹ˆå¹¶ä¸”ä½ å¯ä»¥å‡†å¤‡å¥½å»ç«‹å³ä½¿ç”¨ä»–ä»¬ã€‚\næ‰€ä»¥å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä»½æ·±åº¦å­¦ä¹ çœŸæ­£çš„å®Œæ•´æŒ‡å—ï¼Œé‚£å°±è®©æˆ‘ä»¬å¼€å§‹å§ã€‚\nContents ä½†æ˜¯ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ?\nç¥ç»ç½‘ç»œ\nå‰é¦ˆç¥ç»ç½‘ç»œï¼ˆFNNï¼‰\nå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰\nå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰\né€’å½’ç¥ç»ç½‘ç»œï¼ˆRecurisive Neural Networkï¼‰\nè‡ªç¼–ç å™¨ï¼ˆAutoEncodersï¼‰\næ·±åº¦ä¿¡å¿µç½‘ç»œ (Deep belief network)å’Œå—é™ç»å°”å…¹æ›¼æœº (Restricted Boltzmann machine)\nç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰\nTransformers\nå›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰\nè‡ªç„¶è¯­è¨€å¤„ç†ä¸­çš„æ·±åº¦å­¦ä¹ \nè¯åµŒå…¥ (Word embedding) åºåˆ—å»ºæ¨¡ï¼ˆSequence Modelingï¼‰ è®¡ç®—æœºè§†è§‰ä¸­çš„æœºå™¨å­¦ä¹ \næœ¬åœ°åŒ–å’Œç‰©ä½“è¯†åˆ« å•å‘æ¢æµ‹å™¨ï¼ˆSingle shot detectorsï¼‰ è¯­ä¹‰åˆ†å‰²ï¼ˆSemantic Segmentationï¼‰ å§¿åŠ¿ä¼°è®¡ï¼ˆPose Estimationï¼‰ æ·±åº¦å­¦ä¹ åœ¨ç§‘å­¦å’Œä¼ä¸šç•Œå–å¾—äº†ç–¯ç‹‚çš„äººæ°”ã€‚ä» 2012ï¼Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰åœ¨å›¾åƒè¯†åˆ«ç«èµ›ï¼ˆ ImageNet Large Scale Visual Recognition Challengeï¼‰ä¸­è·å¾—äº†æƒŠäººçš„å‡†ç¡®æ€§ï¼Œæ¯å¹´éƒ½å‡ºç°äº†è¶Šæ¥è¶Šå¤šçš„ç ”ç©¶è®ºæ–‡å¹¶ä¸”è¶Šæ¥è¶Šå¤šçš„ä¼ä¸šå°†ç¥ç»ç½‘ç»œæ”¶å½•åˆ°ä»–ä»¬çš„ä¸šåŠ¡ä¸­ã€‚æ®ä¼°è®¡ï¼Œæ·±åº¦å­¦ä¹ ç›®å‰çš„å¸‚åœºè§„æ¨¡ä¸º 25 äº¿ï¼Œé¢„è®¡åˆ° 2023 å¹´å°†è¾¾åˆ° 181.6 äº¿ã€‚\nä½†æ˜¯ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ? æ ¹æ®ç»´åŸºç™¾ç§‘ï¼šã€Œæ·±åº¦å­¦ä¹ ï¼ˆè‹±èªï¼šdeep learningï¼‰æ˜¯æœºå™¨å­¦ä¹ çš„åˆ†æ”¯ï¼Œæ˜¯ä¸€ç¨®ä»¥äººå·¥ç¥ç¶“ç¶²è·¯ç‚ºæ¶æ§‹ï¼Œå°è³‡æ–™é€²è¡Œè¡¨å¾µå­¸ç¿’çš„ç®—æ³•ã€‚ã€\nåœ¨æˆ‘çœ‹æ¥ï¼Œ æ·±åº¦å­¦ä¹ æ˜¯ä¸€ç³»åˆ—å¯å‘äºäººè„‘åœ¨å¤„ç†æ•°æ®å’Œåˆ›å»ºç”¨äºå†³ç­–çš„æ¨¡å¼æ–¹é¢çš„å·¥ä½œçš„ç®—æ³•çš„é›†åˆï¼Œè¿™æ˜¯å¯¹æˆä¸ºäººå·¥ç¥ç»ç½‘ç»œï¼ˆArtificial Neural Networkï¼‰å¾—å•ä¸€æ¨¡å‹æ¶æ„çš„æ€æƒ³çš„æ‰©å±•å’Œæ”¹è¿›ã€‚\nç¥ç»ç½‘ç»œ ç¥ç»ç½‘ç»œï¼ˆNeural Networksï¼‰å°±åƒäººè„‘ä¸€æ ·ç”±ç¥ç»å…ƒç»„æˆã€‚æ¯ä¸€ä¸ªç¥ç»å…ƒæ¥æ”¶ä¿¡å·ä½œä¸ºè¾“å…¥ï¼Œç”¨æƒé‡ç›¸ä¹˜ï¼Œå¯¹å®ƒä»¬æ±‚å’Œå¹¶åº”ç”¨éçº¿æ€§å‡½æ•°ã€‚è¿™äº›ç¥ç»å…ƒå½¼æ­¤ç›¸é‚»å †å å¹¶åˆ†å±‚ç»„ç»‡ã€‚\nä½†æ˜¯é€šè¿‡è¿™äº›æˆ‘ä»¬èƒ½åšäº›ä»€ä¹ˆå‘¢ï¼Ÿ\näº‹å®è¯æ˜ï¼Œç¥ç»ç½‘ç»œæ˜¯å‡ºè‰²çš„ å‡½æ•°é€¼è¿‘å™¨ï¼ˆfunction approximatorsï¼‰ ã€‚\næˆ‘ä»¬å¯ä»¥å‡è®¾æ¯ä¸€ä¸ªè¡Œä¸ºå’Œç³»ç»Ÿå¯ä»¥æœ€ç»ˆè¢«è¡¨ç¤ºä¸ºä¸€ä¸ªæ•°å­¦å‡½æ•°ï¼ˆå¯èƒ½ä¼šå¼‚å¸¸å¤æ‚ï¼‰ã€‚å¦‚ä½•æˆ‘ä»¬è®¾æ³•æ‰¾åˆ°è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä»æœ¬è´¨ä¸Šç†è§£ç³»ç»Ÿçš„æ‰€æœ‰å†…å®¹ã€‚ä½†æ˜¯æ‰¾åˆ°è¯¥å‡½æ•°å¯èƒ½éå¸¸å›°éš¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œä¼°ç®—ã€‚è¾“å…¥ç¥ç»ç½‘ç»œã€‚\nåå‘ä¼ æ’­ï¼ˆBackpropagationï¼‰ ç¥ç»ç½‘ç»œå¯ä»¥ä½¿ç”¨å¤§é‡æ•°æ®å’Œè¢«ç§°ä¸º backpropagation çš„ç®—æ³•å­¦ä¹ æè¿°å‡½æ•°ã€‚æˆ‘ä»¬å°†æ•°æ®è¾“å…¥åˆ°ç½‘ç»œï¼Œå®ƒç”Ÿäº§è¾“å‡ºï¼Œæˆ‘ä»¬å°†è¯¥è¾“å‡ºä¸æ‰€éœ€çš„è¾“å‡ºè¿›è¡Œå¯¹æ¯”ï¼ˆä½¿ç”¨æŸå¤±å‡½æ•°ï¼ˆloss functionï¼‰ï¼‰ï¼Œç„¶åæˆ‘ä»¬æ ¹æ®å·®å¼‚å†è°ƒæ•´æƒé‡ã€‚\nç„¶åä¸€ç›´é‡å¤ã€‚ä½¿ç”¨ç§°ä¸ºéšæœºæ¢¯åº¦ä¸‹é™ï¼ˆstochastic gradient descentï¼‰çš„éçº¿æ€§ä¼˜åŒ–æŠ€æœ¯æ‰§è¡Œæƒé‡çš„è°ƒæ•´ã€‚\nä¸€æ®µæ—¶é—´ä¹‹åï¼Œç½‘ç»œå°†åœ¨ç”Ÿäº§è¾“å‡ºä¸Šå˜çš„è¶³å¤Ÿå¥½ã€‚å› æ­¤ï¼Œè®­ç»ƒæ¥ç»“æŸäº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¾æ³•æ¥è¿‘æˆ‘ä»¬çš„å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å°†è¾“å‡ºæœªçŸ¥çš„è¾“å…¥ä¼ é€’ç»™ç½‘ç»œï¼Œå®ƒä¼šåŸºäºè¿‘ä¼¼å‡½æ•°ï¼ˆapproximated functionï¼‰ç»™æˆ‘ä»¬ä¸€ä¸ªç­”æ¡ˆã€‚\nè®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­è®©å…¶æ›´å®¹æ˜“ç†è§£ã€‚æ¯”å¦‚åŸºäºä¸€äº›åŸå› æˆ‘ä»¬æƒ³é‰´åˆ«ä¸€å¼ å›¾ç‰‡ä¸­æ˜¯å¦æœ‰æ ‘ã€‚æˆ‘ä»¬å°†ä»»æ„ç±»å‹çš„å›¾ç‰‡è¾“å…¥åˆ°ç½‘ç»œç„¶åç½‘ç»œäº§ç”Ÿè¾“å‡ºã€‚ç”±äºæˆ‘ä»¬çŸ¥é“ä¸€å¼ å›¾ç‰‡æ˜¯å¦åŒ…å«æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ç½‘ç»œè¾“å‡ºå’Œäº‹å®å¹¶è°ƒæ•´ç½‘ç»œã€‚\né€šè¿‡è¶Šæ¥è¶Šå¤šçš„å›¾ç‰‡è¾“å…¥åˆ°ç½‘ç»œï¼Œç½‘ç»œå°†ä¼šè¶Šæ¥è¶Šç²¾å‡†ã€‚ç°åœ¨æˆ‘ä»¬è¾“å…¥ä¸€å¼ æœªçŸ¥çš„å›¾ç‰‡ï¼Œç„¶åå®ƒå°±ä¼šå‘Šè¯‰æˆ‘ä»¬å›¾ç‰‡ä¸­æ˜¯å¦åŒ…å«æ ‘ã€‚å¾ˆé…·å¯¹å§ï¼Ÿ\nå¤šå¹´æ¥ï¼Œç ”ç©¶äººå‘˜å¯¹åŸå§‹æƒ³æ³•è¿›è¡Œäº†æƒŠäººçš„æ”¹è¿›ã€‚æ¯ç§æ–°æ¶æ„éƒ½é’ˆå¯¹ç‰¹å®šé—®é¢˜å®ç°äº†æ›´é«˜çš„å‡†ç¡®æ€§å’Œé€Ÿåº¦ã€‚æˆ‘ä»¬å°†æ‰€æœ‰è¿™äº›æ–°æ¨¡å‹å½’ä¸ºç‰¹å®šçš„ç±»åˆ«ï¼š\nå‰é¦ˆç¥ç»ç½‘ç»œï¼ˆFNNï¼‰ FNN é€šå¸¸æ˜¯å…¨éƒ¨è¿æ¥çš„ï¼ˆfully connectedï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å±‚ä¸­çš„æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½ä¸ä¸‹ä¸€å±‚ä¸­å…¶ä»–ç¥ç»å…ƒç›¸è¿ã€‚æ‰€æè¿°çš„ç»“æ„è¢«ç§°ä¸ºå¤šå±‚æ„ŸçŸ¥å™¨ (Multilayer Perceptron)ï¼Œèµ·æºäº 1958ã€‚å•å±‚æ„ŸçŸ¥å™¨åªèƒ½å­¦ä¹ çº¿æ€§å¯åˆ†ç¦»æ¨¡å¼ï¼Œä½†æ˜¯ä¸€ä¸ªå¤šå±‚æ„ŸçŸ¥å™¨å¯ä»¥å­¦ä¹ æ•°æ®é—´çš„éçº¿æ€§å…³ç³»ã€‚\nå®ƒä»¬åœ¨åˆ†ç±»å’Œå›å½’ç­‰ä»»åŠ¡ä¸Šè¡¨ç°çš„å¼‚å¸¸çš„å¥½ã€‚ä¸å…¶ä»–æœºå™¨å­¦ä¹ ç®—æ³•ç›¸åï¼Œå®ƒä»¬å¹¶ä¸é‚£ä¹ˆå®¹æ˜“æ”¶æ•›ã€‚å®ƒä»¬æ‹¥æœ‰çš„æ•°æ®è¶Šå¤šï¼Œå…¶å‡†ç¡®æ€§å°±è¶Šé«˜ã€‚\nå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ CNN é‡‡ç”¨äº†ä¸€ä¸ªå«åšå·ç§¯ï¼ˆconvolutionï¼‰çš„å‡½æ•°ã€‚\nå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ é€’å½’ç¥ç»ç½‘ç»œ è‡ªç¼–ç å™¨ï¼ˆAutoEncodersï¼‰ æ·±åº¦ä¿¡å¿µç½‘ç»œ (Deep belief network)å’Œå—é™ç»å°”å…¹æ›¼æœº (Restricted Boltzmann machine) ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰ Transformers å›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰ è‡ªç„¶è¯­è¨€å¤„ç†ä¸­çš„æ·±åº¦å­¦ä¹  è¯åµŒå…¥ (Word embedding) åºåˆ—å»ºæ¨¡ï¼ˆSequence Modelingï¼‰ è®¡ç®—æœºè§†è§‰ä¸­çš„æœºå™¨å­¦ä¹  æœ¬åœ°åŒ–å’Œç‰©ä½“è¯†åˆ« å•å‘æ¢æµ‹å™¨ï¼ˆSingle shot detectorsï¼‰ è¯­ä¹‰åˆ†å‰²ï¼ˆSemantic Segmentationï¼‰ å§¿åŠ¿ä¼°è®¡ï¼ˆPose Estimationï¼‰ ","permalink":"https://notes.0081800.xyz/articles/20200309112133_deep_learning_algorithms/","summary":"tags: Translate,Deep Learning,AI,Incomplete åŸæ–‡é“¾æ¥ï¼šDeep Learning Algorithms : The Complete Guideã€‚\næ·±åº¦å­¦ä¹ æ­£åœ¨å½±å“æ•´ä¸ªä¸–ç•Œã€‚\næ·±åº¦å­¦ä¹ çš„ç‚’ä½œå§‹äº 2012 å¹´ï¼šä¸€ä¸ªç¥ç»ç½‘ç»œï¼ˆNeural Networkï¼‰åœ¨å›¾ç‰‡è¯†åˆ«ä»»åŠ¡ä¸Šè¡¨ç°å‡ºè¶…äººçš„æ€§èƒ½ï¼Œå¹¶ä¸”åªæœ‰å°‘æ•°äººèƒ½é¢„æµ‹å°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚\nåœ¨è¿‡å» 10 å¹´ï¼Œè¶Šæ¥è¶Šå¤šçš„ç®—æ³•è½åœ°åˆ°æˆ‘ä»¬ç”Ÿæ´»ä¸­ã€‚è¶Šæ¥è¶Šå¤šçš„å…¬å¸å¼€å§‹å°†å…¶åŠ å…¥åˆ°æ—¥å¸¸ä¸šåŠ¡ä¸­ã€‚\nè¿™é‡Œï¼Œæˆ‘å°è¯•è¦†ç›–è¿‘å‡ å¹´å„ç§åº”ç”¨å¦‚è®¡ç®—æœºè§†è§‰å’Œè‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNatural Language Processingï¼‰ä¸­æ‰€æ¶‰åŠçš„æ‰€æœ‰æœ€é‡è¦çš„ç®—æ³•å’Œæ„æ€ã€‚\nå…¶ä¸­æœ‰ä¸€äº›ç®—æ³•æ¯”å…¶ä»–ä¸€äº›ä½¿ç”¨çš„æ›´åŠ é¢‘ç¹å¹¶ä¸”æ¯ä¸€ç§éƒ½æœ‰å…¶è‡ªèº«çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚\næˆ‘çš„ä¸»è¦ç›®æ ‡æ˜¯ç»™ä½ ä¸€ä¸ªå½“å‰é¢†åŸŸé€šç”¨çš„æ€è·¯å»å¸®åŠ©ä½ ç†è§£æ¯ä¸€ç§æƒ…å†µåº”è¯¥ä½¿ç”¨ä»€ä¹ˆç®—æ³•ã€‚ å› æˆ‘çŸ¥é“å®ƒçœ‹èµ·æ¥ä¼šå¯¹ä¸€äº›ä»é›¶å¼€å§‹çš„äººé€ æˆä¸€å®šç¨‹åº¦çš„æ··ä¹±ã€‚\nä½†æ˜¯é€šè¿‡é˜…è¯»è¿™ä»½æŒ‡å—ï¼Œæˆ‘æœ‰ä¿¡å¿ƒä½ ä¼šè®¤è¯†åˆ°ä»€ä¹ˆæ˜¯ä»€ä¹ˆå¹¶ä¸”ä½ å¯ä»¥å‡†å¤‡å¥½å»ç«‹å³ä½¿ç”¨ä»–ä»¬ã€‚\næ‰€ä»¥å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä»½æ·±åº¦å­¦ä¹ çœŸæ­£çš„å®Œæ•´æŒ‡å—ï¼Œé‚£å°±è®©æˆ‘ä»¬å¼€å§‹å§ã€‚\nContents ä½†æ˜¯ä»€ä¹ˆæ˜¯æ·±åº¦å­¦ä¹ ?\nç¥ç»ç½‘ç»œ\nå‰é¦ˆç¥ç»ç½‘ç»œï¼ˆFNNï¼‰\nå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰\nå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰\né€’å½’ç¥ç»ç½‘ç»œï¼ˆRecurisive Neural Networkï¼‰\nè‡ªç¼–ç å™¨ï¼ˆAutoEncodersï¼‰\næ·±åº¦ä¿¡å¿µç½‘ç»œ (Deep belief network)å’Œå—é™ç»å°”å…¹æ›¼æœº (Restricted Boltzmann machine)\nç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰\nTransformers\nå›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰\nè‡ªç„¶è¯­è¨€å¤„ç†ä¸­çš„æ·±åº¦å­¦ä¹ \nè¯åµŒå…¥ (Word embedding) åºåˆ—å»ºæ¨¡ï¼ˆSequence Modelingï¼‰ è®¡ç®—æœºè§†è§‰ä¸­çš„æœºå™¨å­¦ä¹ \næœ¬åœ°åŒ–å’Œç‰©ä½“è¯†åˆ« å•å‘æ¢æµ‹å™¨ï¼ˆSingle shot detectorsï¼‰ è¯­ä¹‰åˆ†å‰²ï¼ˆSemantic Segmentationï¼‰ å§¿åŠ¿ä¼°è®¡ï¼ˆPose Estimationï¼‰ æ·±åº¦å­¦ä¹ åœ¨ç§‘å­¦å’Œä¼ä¸šç•Œå–å¾—äº†ç–¯ç‹‚çš„äººæ°”ã€‚ä» 2012ï¼Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰åœ¨å›¾åƒè¯†åˆ«ç«èµ›ï¼ˆ ImageNet Large Scale Visual Recognition Challengeï¼‰ä¸­è·å¾—äº†æƒŠäººçš„å‡†ç¡®æ€§ï¼Œæ¯å¹´éƒ½å‡ºç°äº†è¶Šæ¥è¶Šå¤šçš„ç ”ç©¶è®ºæ–‡å¹¶ä¸”è¶Šæ¥è¶Šå¤šçš„ä¼ä¸šå°†ç¥ç»ç½‘ç»œæ”¶å½•åˆ°ä»–ä»¬çš„ä¸šåŠ¡ä¸­ã€‚æ®ä¼°è®¡ï¼Œæ·±åº¦å­¦ä¹ ç›®å‰çš„å¸‚åœºè§„æ¨¡ä¸º 25 äº¿ï¼Œé¢„è®¡åˆ° 2023 å¹´å°†è¾¾åˆ° 181.","title":"è¯‘ï¼šæ·±åº¦å­¦ä¹ ç®—æ³•ï¼šå®Œæ•´æŒ‡å—"},{"content":"ç§¯ç´¯è´¢å¯Œé¦–å…ˆè¦æ”¹å˜æ€ç»´ï¼Œå­¦ä¹ å¤åˆ©çš„åŠ›é‡ã€‚\nç²—è¯»è¦ç‚¹ å®è·µ 10/50 æ‡’äººå‚¨è“„æŠ•èµ„è‡ªå·±ï¼Œå·¥èµ„ 10% å¥–é‡‘ 50% å­˜å‚¨å•ç‹¬çš„è´¦æˆ·ç”¨æˆ·æŠ•èµ„è‡ªå·± å¼€è¾Ÿå•ç‹¬åŸºé‡‘ç”¨äºå­˜æ”¾æˆ¿ç§Ÿã€å­©å­å­¦è´¹å’Œè‡ªæˆ‘æŠ•èµ„ ä¸æ‡‚ä¸æŠ•ï¼Œå®æ„¿é”™è¿‡ï¼Œä¸çŠ¯è¿‡é”™ ç”»å‡ºè‡ªå·±çš„è´¢å¯Œæ°´æ±  ä¸ºè‡ªå·±è´­ä¹°ä¿é™©è§„é¿é£é™©ï¼ˆå¤§ç—…å’Œæ­»äº¡ï¼‰ï¼Œå®Œæˆå®¶åº­ä¿é™©é…ç½® ç†æ¸…æˆ¿è´·è¿˜æ¬¾è®¡åˆ’ï¼Œæ€ä¹ˆå°†è¿˜æ¬¾é‡‘é¢é™ä½åˆ°æ”¶å…¥åˆ° 1/3 ï¼ˆ9000ï¼‰ä»¥ä¸‹ï¼Œå¯ä»¥è€ƒè™‘å…ˆæå‰è¿˜æˆ¿è´·å‡è½»æˆ¿è´·åˆ©æ¯å‹åŠ› ","permalink":"https://notes.0081800.xyz/notes/20200307114151_%E5%B7%B4%E6%AF%94%E4%BC%A6%E5%AF%8C%E7%BF%81%E6%96%B0%E8%A7%A3/","summary":"ç§¯ç´¯è´¢å¯Œé¦–å…ˆè¦æ”¹å˜æ€ç»´ï¼Œå­¦ä¹ å¤åˆ©çš„åŠ›é‡ã€‚\nç²—è¯»è¦ç‚¹ å®è·µ 10/50 æ‡’äººå‚¨è“„æŠ•èµ„è‡ªå·±ï¼Œå·¥èµ„ 10% å¥–é‡‘ 50% å­˜å‚¨å•ç‹¬çš„è´¦æˆ·ç”¨æˆ·æŠ•èµ„è‡ªå·± å¼€è¾Ÿå•ç‹¬åŸºé‡‘ç”¨äºå­˜æ”¾æˆ¿ç§Ÿã€å­©å­å­¦è´¹å’Œè‡ªæˆ‘æŠ•èµ„ ä¸æ‡‚ä¸æŠ•ï¼Œå®æ„¿é”™è¿‡ï¼Œä¸çŠ¯è¿‡é”™ ç”»å‡ºè‡ªå·±çš„è´¢å¯Œæ°´æ±  ä¸ºè‡ªå·±è´­ä¹°ä¿é™©è§„é¿é£é™©ï¼ˆå¤§ç—…å’Œæ­»äº¡ï¼‰ï¼Œå®Œæˆå®¶åº­ä¿é™©é…ç½® ç†æ¸…æˆ¿è´·è¿˜æ¬¾è®¡åˆ’ï¼Œæ€ä¹ˆå°†è¿˜æ¬¾é‡‘é¢é™ä½åˆ°æ”¶å…¥åˆ° 1/3 ï¼ˆ9000ï¼‰ä»¥ä¸‹ï¼Œå¯ä»¥è€ƒè™‘å…ˆæå‰è¿˜æˆ¿è´·å‡è½»æˆ¿è´·åˆ©æ¯å‹åŠ› ","title":"ã€Šå·´æ¯”ä¼¦å¯Œç¿æ–°è§£ã€‹è¯»ä¹¦ç¬”è®°"},{"content":"åæ˜ ä¸å±…æ°‘ç”Ÿæ´»æœ‰å…³çš„äº§å“åŠåŠ³åŠ¡ä»·æ ¼ç»Ÿè®¡å‡ºæ¥çš„ç‰©ä»·å˜åŠ¨æŒ‡æ ‡ï¼Œè¡¡é‡é€šè´§è†¨èƒ€çš„ä¸»è¦æŒ‡æ ‡ä¹‹ä¸€ï¼š\nè¶…è¿‡ 3% ä¸ºé€šè´§è†¨èƒ€ è¶…è¿‡ 5% å°±æ˜¯æ¯”è¾ƒä¸¥é‡çš„é€šè´§è†¨èƒ€ Links æ¶ˆè´¹è€…ç‰©ä»·æŒ‡æ•° ","permalink":"https://notes.0081800.xyz/notes/20200224133304_cpi/","summary":"åæ˜ ä¸å±…æ°‘ç”Ÿæ´»æœ‰å…³çš„äº§å“åŠåŠ³åŠ¡ä»·æ ¼ç»Ÿè®¡å‡ºæ¥çš„ç‰©ä»·å˜åŠ¨æŒ‡æ ‡ï¼Œè¡¡é‡é€šè´§è†¨èƒ€çš„ä¸»è¦æŒ‡æ ‡ä¹‹ä¸€ï¼š\nè¶…è¿‡ 3% ä¸ºé€šè´§è†¨èƒ€ è¶…è¿‡ 5% å°±æ˜¯æ¯”è¾ƒä¸¥é‡çš„é€šè´§è†¨èƒ€ Links æ¶ˆè´¹è€…ç‰©ä»·æŒ‡æ•° ","title":"CPI"},{"content":" tags: Emacs 'foo vs #'foo https://emacs.stackexchange.com/a/10943\n#\u0026rsquo; on symbols will cause the byte-compiler to emit a warning if the function is not defined.\n","permalink":"https://notes.0081800.xyz/notes/20200225192204_elisp/","summary":"tags: Emacs 'foo vs #'foo https://emacs.stackexchange.com/a/10943\n#\u0026rsquo; on symbols will cause the byte-compiler to emit a warning if the function is not defined.","title":"ELisp"},{"content":"Emacs æ’å…¥æ–­é¡µç¬¦^L C-q C-l æˆ– M-x quoted-insert RET C-lã€‚\nå¯ä»¥é€šè¿‡ page-break-lines è¿™ä¸ªæ‰©å±•åŒ…æ¥æ˜¾ç¤ºä¸€ä¸ªåˆ†éš”ç¬¦ã€‚\néƒ¨åˆ† Orgmode ä¸­ awesome-tray ä¸ç”Ÿæ•ˆ éƒ¨åˆ† Orgmode ä¸­ awesome-tray è®¾ç½®çš„ 0.1 height mode-line ä¸ç”Ÿæ•ˆã€‚\n","permalink":"https://notes.0081800.xyz/topics/20200218120634/","summary":"Emacs æ’å…¥æ–­é¡µç¬¦^L C-q C-l æˆ– M-x quoted-insert RET C-lã€‚\nå¯ä»¥é€šè¿‡ page-break-lines è¿™ä¸ªæ‰©å±•åŒ…æ¥æ˜¾ç¤ºä¸€ä¸ªåˆ†éš”ç¬¦ã€‚\néƒ¨åˆ† Orgmode ä¸­ awesome-tray ä¸ç”Ÿæ•ˆ éƒ¨åˆ† Orgmode ä¸­ awesome-tray è®¾ç½®çš„ 0.1 height mode-line ä¸ç”Ÿæ•ˆã€‚","title":"Emacs"},{"content":" åŸºé‡‘ åŸºé‡‘å®šæŠ• è‚¡å¸‚ç›¸å…³æ¦‚å¿µ ç›¸å…³ä¹¦ç± ã€Šå·´æ¯”ä¼¦å¯Œç¿æ–°è§£ã€‹è¯»ä¹¦ç¬”è®° ã€Šç™¾ç®­ç©¿æ¨ã€‹è¯»ä¹¦ç¬”è®° To Read ã€Šå¸ƒé›·è¿ªæŠ¥å‘Šã€‹ ","permalink":"https://notes.0081800.xyz/notes/20200224132507/","summary":" åŸºé‡‘ åŸºé‡‘å®šæŠ• è‚¡å¸‚ç›¸å…³æ¦‚å¿µ ç›¸å…³ä¹¦ç± ã€Šå·´æ¯”ä¼¦å¯Œç¿æ–°è§£ã€‹è¯»ä¹¦ç¬”è®° ã€Šç™¾ç®­ç©¿æ¨ã€‹è¯»ä¹¦ç¬”è®° To Read ã€Šå¸ƒé›·è¿ªæŠ¥å‘Šã€‹ ","title":"Financial Management"},{"content":" tags: Programming Language æŸ¯é‡ŒåŒ– func max(a, b int) int { if a \u0026gt; b { return a } return b } func currying(a int) func(int) int { return func(b int) int { return max(a, b) } } ","permalink":"https://notes.0081800.xyz/notes/20200218115725/","summary":" tags: Programming Language æŸ¯é‡ŒåŒ– func max(a, b int) int { if a \u0026gt; b { return a } return b } func currying(a int) func(int) int { return func(b int) int { return max(a, b) } } ","title":"Go"},{"content":" tags: Go Channel Directions func demo(readOnlyStream \u0026lt;-chan bool, writeOnlyStream chan\u0026lt;- bool) { } ","permalink":"https://notes.0081800.xyz/notes/20200218115740_go_channel/","summary":" tags: Go Channel Directions func demo(readOnlyStream \u0026lt;-chan bool, writeOnlyStream chan\u0026lt;- bool) { } ","title":"Go Channel"},{"content":" tags: Emacs å¦‚ä½•ä»å†å²è·³åˆ°å…¶ä»–å‘½ä»¤åˆ—è¡¨ Key binds C-o\nSee also: https://emacs.stackexchange.com/questions/18173/how-to-jump-from-emacs-command-history-to-emacs-commands-in-helm\n","permalink":"https://notes.0081800.xyz/notes/20200218122103_helm/","summary":"tags: Emacs å¦‚ä½•ä»å†å²è·³åˆ°å…¶ä»–å‘½ä»¤åˆ—è¡¨ Key binds C-o\nSee also: https://emacs.stackexchange.com/questions/18173/how-to-jump-from-emacs-command-history-to-emacs-commands-in-helm","title":"Helm"},{"content":"Links A Makefile for Emacs Packages ","permalink":"https://notes.0081800.xyz/notes/20200218174830_makefile/","summary":"Links A Makefile for Emacs Packages ","title":"Makefile"},{"content":" tags: Emacs å¿«æ·é”® C-c C-o æ‰“å¼€å½“å‰å…‰æ ‡ä¸‹çš„é“¾æ¥ C-c C-l æ’å…¥é“¾æ¥ C-c C-' æ’å…¥ä»£ç å— Snippets [[http://www.gnu.org/software/emacs/][GNU Emacs]] è½¬ä¹‰ä»£ç å— https://stackoverflow.com/a/7462884/2873718\n","permalink":"https://notes.0081800.xyz/topics/20200218120643_org_mode/","summary":"tags: Emacs å¿«æ·é”® C-c C-o æ‰“å¼€å½“å‰å…‰æ ‡ä¸‹çš„é“¾æ¥ C-c C-l æ’å…¥é“¾æ¥ C-c C-' æ’å…¥ä»£ç å— Snippets [[http://www.gnu.org/software/emacs/][GNU Emacs]] è½¬ä¹‰ä»£ç å— https://stackoverflow.com/a/7462884/2873718","title":"Org Mode"},{"content":" tags: Programming Language ","permalink":"https://notes.0081800.xyz/topics/20200307191429_rust/","summary":" tags: Programming Language ","title":"Rust"},{"content":" Makefile SSH macOS max open files macOS TimeMachine æ—¥å¿— macOS é—®é¢˜è§£å†³ä¸‰æ¿æ–§ ","permalink":"https://notes.0081800.xyz/notes/20200218174814/","summary":" Makefile SSH macOS max open files macOS TimeMachine æ—¥å¿— macOS é—®é¢˜è§£å†³ä¸‰æ¿æ–§ ","title":"Unix"},{"content":"å°†èµ„é‡‘äº¤ç»™æŠ•èµ„ç»ç†äººè¿›è¡ŒæŠ•èµ„ç›ˆåˆ©è·‘èµ¢ CPI æˆ–èµšå–æ›´å¤šåˆ©æ¶¦ã€‚\nåˆ†ç±» äº¤æ˜“æ–¹å¼åˆ’åˆ†ï¼š\nå¼€æ”¾å¼åŸºé‡‘ï¼ˆæ´»æœŸï¼‰ å°é—­å¼åŸºé‡‘ï¼ˆæ­»æœŸï¼‰ æŠ•èµ„å¯¹è±¡åˆ’åˆ†:\nè´§å¸åŸºé‡‘ï¼šä½™é¢å® è‚¡ç¥¨å‹ã€å€ºå·å‹ï¼šä¾é åŸºé‡‘ç»ç†ç®¡ç†åŸºé‡‘çš„èƒ½åŠ› æŒ‡æ•°å‹ï¼šè¢«åŠ¨å‹åŸºé‡‘ï¼Œä¾é å¤§ç›˜æŒ‡æ•°ï¼Œç¾è‚¡å±äºé•¿ç‰›çŸ­ç†Šå‹èƒ½è·‘èµ¢ä¸»åŠ¨å‹ï¼ŒA è‚¡å±äºçŸ­ç‰›é•¿ç†Šè·‘èµ¢ä¸»åŠ¨å‹æ¯”è¾ƒå›°éš¾ã€‚ è‚¡ç¥¨ VS åŸºé‡‘ è‚¡ç¥¨ï¼šæƒ³ä¸€å¤œæš´å¯Œï¼ˆä¹Ÿå¯èƒ½ä¸€å¤œæš´äºï¼‰ åŸºé‡‘ï¼šè´¢å¯Œå¢å€¼ï¼Œé—¨æ§›ä½ï¼Œé£é™©ä½ å¦‚ä½•é€‰åŸº å¸‚åœºç ”åˆ¤ è‚¡å¸‚èµ°ç†Šï¼šå€ºå·åŸºé‡‘ ç‰›å¸‚åˆä¸­ï¼šè‚¡ç¥¨åŸºé‡‘å’ŒæŒ‡æ•°åŸºé‡‘ è‡ªèº«æƒ…å†µ ç¨³å¥å‹ æ¿€è¿›å‹ æŠ€å·§ åŸºé‡‘è¯„çº§ å›½å¤–æ¸ é“\næ™¨æ˜Ÿ å›½å†…æ¸ é“\né“¶æ²³è¯åŠµ æµ·é€šè¯åŠµ æµå®‰é‡‘ä¿¡ æ‹›å•†è¯åŠµ å†å²ä¸šç»© å°†åŸºé‡‘æ”¶ç›Šä¸è‚¡ç¥¨å¤§ç›˜èµ°åŠ¿è¿›è¡Œæ¯”è¾ƒï¼› å°†åŸºé‡‘æ”¶ç›Šä¸å…¶ä»–åŒç±»åŸºé‡‘çš„æ”¶ç›Šè¿›è¡Œæ¯”è¾ƒï¼› å°†åŸºé‡‘çš„å½“æœŸæ”¶ç›Šä¸å†å²æ”¶ç›Šè¿›è¡Œæ¯”è¾ƒã€‚ ä¸€äº›æŒ‡æ ‡ å¤æ™®æ¯”ç‡ \u0026gt; 0 åŸºé‡‘æŠ¥é…¬å¤§äºé£é™©ï¼Œ\u0026lt; 0 é£é™©å¤§è¿‡æŠ¥é…¬ æ ‡å‡†å·®è¶Šå°ï¼ŒæŠ•èµ„é£é™©è¶Šä½ å¤©å¤©åŸºé‡‘ç½‘ç­‰ä¸‰æ–¹å¹³å°ä¸Šéƒ½èƒ½çœ‹ï¼Œæ™¨æ˜Ÿç½‘ä¸Šæ›´å…¨ã€‚å¤©å¤©åŸºé‡‘ç½‘çš„ç‰¹è‰²æ•°æ®ä¸€æ å¯ä»¥çœ‹ï¼Œæ™¨æ˜Ÿç½‘çš„åŸºé‡‘å·¥å…·é‡ŒåŒ…æ‹¬é˜¿å°”æ³•ç³»æ•°ç­‰æŒ‡æ ‡éƒ½æœ‰æ ‡è¯†ã€‚\nLinks ã€ˆå¦‚ä½•ä¹°åŸºé‡‘ï¼ŸåŸºé‡‘å…¥é—¨ï¼Œå­¦ä¼šè¿™å‡ æ‹›å°±å¤Ÿäº†ã€‰ ","permalink":"https://notes.0081800.xyz/notes/20200224132645_/","summary":"å°†èµ„é‡‘äº¤ç»™æŠ•èµ„ç»ç†äººè¿›è¡ŒæŠ•èµ„ç›ˆåˆ©è·‘èµ¢ CPI æˆ–èµšå–æ›´å¤šåˆ©æ¶¦ã€‚\nåˆ†ç±» äº¤æ˜“æ–¹å¼åˆ’åˆ†ï¼š\nå¼€æ”¾å¼åŸºé‡‘ï¼ˆæ´»æœŸï¼‰ å°é—­å¼åŸºé‡‘ï¼ˆæ­»æœŸï¼‰ æŠ•èµ„å¯¹è±¡åˆ’åˆ†:\nè´§å¸åŸºé‡‘ï¼šä½™é¢å® è‚¡ç¥¨å‹ã€å€ºå·å‹ï¼šä¾é åŸºé‡‘ç»ç†ç®¡ç†åŸºé‡‘çš„èƒ½åŠ› æŒ‡æ•°å‹ï¼šè¢«åŠ¨å‹åŸºé‡‘ï¼Œä¾é å¤§ç›˜æŒ‡æ•°ï¼Œç¾è‚¡å±äºé•¿ç‰›çŸ­ç†Šå‹èƒ½è·‘èµ¢ä¸»åŠ¨å‹ï¼ŒA è‚¡å±äºçŸ­ç‰›é•¿ç†Šè·‘èµ¢ä¸»åŠ¨å‹æ¯”è¾ƒå›°éš¾ã€‚ è‚¡ç¥¨ VS åŸºé‡‘ è‚¡ç¥¨ï¼šæƒ³ä¸€å¤œæš´å¯Œï¼ˆä¹Ÿå¯èƒ½ä¸€å¤œæš´äºï¼‰ åŸºé‡‘ï¼šè´¢å¯Œå¢å€¼ï¼Œé—¨æ§›ä½ï¼Œé£é™©ä½ å¦‚ä½•é€‰åŸº å¸‚åœºç ”åˆ¤ è‚¡å¸‚èµ°ç†Šï¼šå€ºå·åŸºé‡‘ ç‰›å¸‚åˆä¸­ï¼šè‚¡ç¥¨åŸºé‡‘å’ŒæŒ‡æ•°åŸºé‡‘ è‡ªèº«æƒ…å†µ ç¨³å¥å‹ æ¿€è¿›å‹ æŠ€å·§ åŸºé‡‘è¯„çº§ å›½å¤–æ¸ é“\næ™¨æ˜Ÿ å›½å†…æ¸ é“\né“¶æ²³è¯åŠµ æµ·é€šè¯åŠµ æµå®‰é‡‘ä¿¡ æ‹›å•†è¯åŠµ å†å²ä¸šç»© å°†åŸºé‡‘æ”¶ç›Šä¸è‚¡ç¥¨å¤§ç›˜èµ°åŠ¿è¿›è¡Œæ¯”è¾ƒï¼› å°†åŸºé‡‘æ”¶ç›Šä¸å…¶ä»–åŒç±»åŸºé‡‘çš„æ”¶ç›Šè¿›è¡Œæ¯”è¾ƒï¼› å°†åŸºé‡‘çš„å½“æœŸæ”¶ç›Šä¸å†å²æ”¶ç›Šè¿›è¡Œæ¯”è¾ƒã€‚ ä¸€äº›æŒ‡æ ‡ å¤æ™®æ¯”ç‡ \u0026gt; 0 åŸºé‡‘æŠ¥é…¬å¤§äºé£é™©ï¼Œ\u0026lt; 0 é£é™©å¤§è¿‡æŠ¥é…¬ æ ‡å‡†å·®è¶Šå°ï¼ŒæŠ•èµ„é£é™©è¶Šä½ å¤©å¤©åŸºé‡‘ç½‘ç­‰ä¸‰æ–¹å¹³å°ä¸Šéƒ½èƒ½çœ‹ï¼Œæ™¨æ˜Ÿç½‘ä¸Šæ›´å…¨ã€‚å¤©å¤©åŸºé‡‘ç½‘çš„ç‰¹è‰²æ•°æ®ä¸€æ å¯ä»¥çœ‹ï¼Œæ™¨æ˜Ÿç½‘çš„åŸºé‡‘å·¥å…·é‡ŒåŒ…æ‹¬é˜¿å°”æ³•ç³»æ•°ç­‰æŒ‡æ ‡éƒ½æœ‰æ ‡è¯†ã€‚\nLinks ã€ˆå¦‚ä½•ä¹°åŸºé‡‘ï¼ŸåŸºé‡‘å…¥é—¨ï¼Œå­¦ä¼šè¿™å‡ æ‹›å°±å¤Ÿäº†ã€‰ ","title":"åŸºé‡‘"},{"content":"Wikipedia: https://zh.wikipedia.org/wiki/%E5%A4%8D%E5%88%A9\n","permalink":"https://notes.0081800.xyz/notes/20200307114233_%E5%A4%8D%E5%88%A9/","summary":"Wikipedia: https://zh.wikipedia.org/wiki/%E5%A4%8D%E5%88%A9","title":"å¤åˆ©"},{"content":"å®ƒæ˜¯ç”¨æ¥è¡¡é‡é‡‘èèµ„äº§ç»©æ•ˆåŸºé‡‘è¡¨ç°çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯é€‰æ‹©æ”¶ç›Šç‡ç›¸è¿‘çš„åŸºé‡‘æ‰¿æ‹…çš„é£é™©è¶Šå°è¶Šå¥½ï¼Œé€‰æ‹©é£é™©æ°´å¹³ç›¸åŒçš„åŸºé‡‘åˆ™æ”¶ç›Šç‡è¶Šé«˜è¶Šå¥½ã€‚æ€»ä¹‹ï¼Œå¤æ™®æ¯”ç‡è¶Šå¤§ï¼Œè¯´æ˜è¿™åªåŸºé‡‘çš„ç»©æ•ˆè¶Šå¥½ã€‚\n\u0026gt; 0 åŸºé‡‘æŠ¥é…¬å¤§äºé£é™© \u0026lt; 0 åŸºé‡‘é£é™©å¤§è¿‡æŠ¥é…¬ ","permalink":"https://notes.0081800.xyz/notes/20200224140348_/","summary":"å®ƒæ˜¯ç”¨æ¥è¡¡é‡é‡‘èèµ„äº§ç»©æ•ˆåŸºé‡‘è¡¨ç°çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯é€‰æ‹©æ”¶ç›Šç‡ç›¸è¿‘çš„åŸºé‡‘æ‰¿æ‹…çš„é£é™©è¶Šå°è¶Šå¥½ï¼Œé€‰æ‹©é£é™©æ°´å¹³ç›¸åŒçš„åŸºé‡‘åˆ™æ”¶ç›Šç‡è¶Šé«˜è¶Šå¥½ã€‚æ€»ä¹‹ï¼Œå¤æ™®æ¯”ç‡è¶Šå¤§ï¼Œè¯´æ˜è¿™åªåŸºé‡‘çš„ç»©æ•ˆè¶Šå¥½ã€‚\n\u0026gt; 0 åŸºé‡‘æŠ¥é…¬å¤§äºé£é™© \u0026lt; 0 åŸºé‡‘é£é™©å¤§è¿‡æŠ¥é…¬ ","title":"å¤æ™®æ¯”ç‡"},{"content":"åˆç§°æ ‡å‡†åå·®ã€å‡æ–¹å·®ï¼Œæ•°å­¦ç¬¦å· sigmaã€‚æ¦‚ç‡ç»Ÿè®¡ä¸­æœ€å¸¸ä½¿ç”¨ä½œä¸ºæµ‹é‡ä¸€ç»„æ•°å€¼çš„ç¦»æ•£ç¨‹åº¦ã€‚\nå®šä¹‰ï¼šä¸ºæ–¹å·®å¼€ç®—æ•°å¹³æ–¹æ ¹ï¼Œååº”ç»„å†…ä¸ªä½“é—´çš„ç¦»æ•£ç¨‹åº¦ã€‚\nç”¨åœ¨åŸºé‡‘ä¸Šåæ˜ äº†åŸºé‡‘æ€»å›æŠ¥ç‡çš„æ³¢åŠ¨å¹…åº¦å¤§å°ï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜æ³¢åŠ¨ç¨‹åº¦è¶Šå‰å®³ï¼Œç¨³å®šåº¦è¶Šå°ï¼ŒæŠ•èµ„é£é™©å°±è¶Šé«˜ã€‚\nè¶Šå°ï¼ŒæŠ•èµ„é£é™©è¶Šä½ è¶Šå¤§ï¼ŒæŠ•èµ„é£é™©è¶Šé«˜ ","permalink":"https://notes.0081800.xyz/notes/20200224141925_/","summary":"åˆç§°æ ‡å‡†åå·®ã€å‡æ–¹å·®ï¼Œæ•°å­¦ç¬¦å· sigmaã€‚æ¦‚ç‡ç»Ÿè®¡ä¸­æœ€å¸¸ä½¿ç”¨ä½œä¸ºæµ‹é‡ä¸€ç»„æ•°å€¼çš„ç¦»æ•£ç¨‹åº¦ã€‚\nå®šä¹‰ï¼šä¸ºæ–¹å·®å¼€ç®—æ•°å¹³æ–¹æ ¹ï¼Œååº”ç»„å†…ä¸ªä½“é—´çš„ç¦»æ•£ç¨‹åº¦ã€‚\nç”¨åœ¨åŸºé‡‘ä¸Šåæ˜ äº†åŸºé‡‘æ€»å›æŠ¥ç‡çš„æ³¢åŠ¨å¹…åº¦å¤§å°ï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜æ³¢åŠ¨ç¨‹åº¦è¶Šå‰å®³ï¼Œç¨³å®šåº¦è¶Šå°ï¼ŒæŠ•èµ„é£é™©å°±è¶Šé«˜ã€‚\nè¶Šå°ï¼ŒæŠ•èµ„é£é™©è¶Šä½ è¶Šå¤§ï¼ŒæŠ•èµ„é£é™©è¶Šé«˜ ","title":"æ ‡å‡†å·®ï¼ˆStandard Deviationï¼‰"},{"content":"","permalink":"https://notes.0081800.xyz/topics/20200307114122_%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/","summary":"","title":"æ­£åœ¨è¯»çš„ä¹¦"},{"content":":Tags: Financial Management\næ¶ˆè´¹è€…ç‰©ä»·æŒ‡æ•° ","permalink":"https://notes.0081800.xyz/notes/20200224133214/","summary":":Tags: Financial Management\næ¶ˆè´¹è€…ç‰©ä»·æŒ‡æ•° ","title":"CPI"},{"content":" tags: æ­£åœ¨è¯»çš„ä¹¦,è¯»ä¹¦ç¬”è®°,DDD å‰è¨€å’Œç›®å½• å¥½çš„è½¯ä»¶éœ€è¦æ§åˆ¶å¤æ‚æ€§ï¼Œå¥½çš„é¢†åŸŸæ¨¡å‹å¯ä»¥å¸®åŠ©æ§åˆ¶å¤æ‚æ€§ã€‚\nä»€ä¹ˆæ ·çš„é¡¹ç›®éœ€è¦ DDDï¼Ÿå°è¯•å‹çš„å°å‹é¡¹ç›®åº”è¯¥ä¸éœ€è¦ DDDï¼Œä½†æ˜¯ä¸€æ—¦ä¸Šäº†è§„æ¨¡è€ƒè™‘åç»­è¿­ä»£åˆ™éœ€è¦ DDDã€‚\næœ¬ä¹¦ç»„ç»‡æ–¹å¼ï¼š\né¢†åŸŸå»ºæ¨¡ é¢†åŸŸå»ºæ¨¡çš„è¿‡ç¨‹å°±æ˜¯æ¶ˆåŒ–çŸ¥è¯†çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹åº”è¯¥è´¯ç©¿æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼Œéœ€è¦æŒç»­å­¦ä¹ ã€‚\næ¨¡å‹ç”¨æ¥æç»˜äººä»¬æ‰€å…³æ³¨çš„å®ç°æˆ–æƒ³æ³•çš„æŸä¸ªæ–¹é¢ï¼Œæ¯”å¦‚åœ°å›¾å°±æ˜¯æ¨¡å‹ã€‚\næ¨¡å‹æ˜¯ä¸€ç§ç®€åŒ–ï¼Œæ˜¯å¯¹å®ç°çš„è§£é‡Šï¼šæŠŠä¸è§£å†³é—®é¢˜å¯†åˆ‡ç›¸å…³çš„æ–¹é¢æŠ½è±¡å‡ºæ¥ï¼Œè€Œå¿½ç•¥æ— å…³çš„ç»†èŠ‚ã€‚\nè½¯ä»¶é—®é¢˜å»ºæ¨¡çš„åŒºåŸŸå°±æ˜¯è½¯ä»¶çš„é¢†åŸŸ\nç‰©è´¨ä¸–ç•Œçš„é¢†åŸŸï¼šæœºç¥¨é¢„è®¢ç¨‹åºæ¶‰åŠçš„é£æœºä¹˜å®¢ã€‚ æ— å½¢çš„é¢†åŸŸï¼šä¼šè®¡ç¨‹åºçš„é‡‘èé¢†åŸŸã€‚ é¢†åŸŸæ¶‰åŠçŸ¥è¯†ä¿¡æ¯è¶…è½½çš„é—®é¢˜ï¼Œæ¨¡å‹è¿™ç§çŸ¥è¯†å¯¹çŸ¥è¯†è¿›è¡Œäº†é€‰æ‹©æ€§çš„ç®€åŒ–å’Œæœ‰æ„çš„ç»“æ„åŒ–ã€‚\né¢†åŸŸæ¨¡å‹å°†é¢†åŸŸä¸“å®¶å¤´è„‘ä¸­çš„æ”¯æŒä¸¥æ ¼çš„ç»„ç»‡ä¸”æœ‰é€‰æ‹©çš„æŠ½è±¡ï¼Œå¹¶ä¸æ˜¯å°½å¯èƒ½å»ºç«‹ä¸€ä¸ªç¬¦åˆâ€œç°å®â€çš„æ¨¡å‹ã€‚\næ¨¡å‹è¡¨ç¤º å…³è” è§„å®šä¸€ä¸ªéå†æ–¹å‘ï¼šå­˜åœ¨åŒå‘è”ç»“æ—¶ï¼ˆåœ°å€ -\u0026gt; äºº æˆ– äºº -\u0026gt; åœ°å€ï¼‰å°½é‡åªç”¨ä¸€ç§ï¼Œå¹¶é¿å…äº’ç›¸å…³è” æ·»åŠ ä¸€ä¸ªé™å®šç¬¦ï¼Œä»¥ä¾¿æœ‰æ•ˆå‡å°‘å¤šé‡å…³è” æ¶ˆé™¤ä¸å¿…è¦çš„å…³è” è¡¨ç¤ºæ–¹å¼ é¢†åŸŸæ¨¡å¼ å®è·µ MODEL-DRIVEN DESIGN éš”ç¦»é¢†åŸŸï¼šå¼•å…¥åº”ç”¨å±‚ åº”ç”¨ LAYERED ARCHITECTURE æŠŠé¢†åŸŸå±‚åˆ’åˆ†å‡ºæ¥ï¼Œé€šè¿‡åº”ç”¨å±‚ç±»æ¥å¤„ç†åº”ç”¨ç¨‹åºåŠŸèƒ½ã€‚åº”ç”¨å±‚ç±»æ˜¯åè°ƒè€…ï¼Œè´Ÿè´£æé—®ï¼Œé¢†åŸŸå±‚è´Ÿè´£å›ç­”ã€‚\nå°† ENTITY å’Œ VALUE OBJECT åŒºåˆ†å¼€ ä¾æ¬¡è€ƒè™‘å¯¹è±¡æ˜¯å¿…é¡»è·Ÿè¸ªçš„ ENTITY è¿˜æ˜¯è¡¨ç¤ºä¸€ä¸ª VALUE OBJECTã€‚\nAGGREGATE è¾¹ç•Œ è¯†åˆ«æ¨¡å‹ä¸­çš„ AGGREGATE æ ¹å’Œå¯¹åº”çš„è¾¹ç•Œã€‚\né€‰æ‹© REPOSITORY ä¸º AGGREGATE æ ¹å¯¹è±¡å»ºç«‹ REPOSITORYã€‚\nåœºæ™¯èµ°æŸ¥ æ ¹æ®åº”ç”¨ç¨‹åºç‰¹æ€§å¤æ ¸å»ºæ¨¡ï¼Œè¿›è¡Œåœºæ™¯èµ°æŸ¥ï¼Œç¡®ä¿èƒ½å¤Ÿæœ‰æ•ˆåœ°è§£å†³åº”ç”¨é—®é¢˜ã€‚å¯ä»¥èµ°æŸ¥ä¸€äº›æ­£å¸¸å’Œå¼‚å¸¸ä¸šåŠ¡åœºæ™¯è¿›è¡Œå¤æ ¸ã€‚\nå¯¹è±¡åˆ›å»º å¦‚æœå¯¹è±¡å¤æ‚åˆ™åˆ›å»ºå•ç‹¬çš„ FACTORY ç±»è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼Œç®€å•å¯¹è±¡å¯ä»¥ç›´æ¥åœ¨ AGGREGATE æ ¹ä¸Šé€šè¿‡ FACTORY METHOD è¿›è¡Œåˆ›å»ºã€‚\nåœä¸€ä¸‹ï¼Œé‡æ„ å»ºæ¨¡å’Œè®¾è®¡éœ€è¦ç»å¸¸è¿›è¡Œé‡æ„ï¼šåˆ©ç”¨æ–°çŸ¥è¯†æ¥æ”¹è¿›æ¨¡å‹å’Œè®¾è®¡ã€‚\nMODULE åˆ’åˆ† åº”è¯¥æŒ‰ç…§å¯¹è±¡çš„æ„ä¹‰æ¥åˆ’åˆ†ï¼Œå…¶ä»–ä»»ä½•åˆ’åˆ†æ–¹å¼éƒ½æ˜¯é”™è¯¯çš„ï¼ŒåŒ…æ‹¬ï¼š\næŒ‰æ¨¡å¼åˆ’åˆ† æŒ‰ç…§å¯¹è±¡ç”Ÿå‘½å‘¨æœŸåˆ’åˆ† é€šè¿‡é‡æ„å‘ç°æ·±å±‚æ¨¡å‹ é‡æ„ä¸åº”è¯¥åœç•™åœ¨ä»£ç ç»†èŠ‚å±‚é¢ï¼Œè¿˜åº”å½“åœ¨æ¨¡å‹è®¾è®¡å±‚é¢éšç€å¯¹çŸ¥è¯†å¸æ”¶çš„åŠ æ·±å¯¹æ¨¡å‹è¿›è¡Œé‡æ„ï¼Œå‘ç°æ·±å±‚æ¨¡å‹ã€‚\næ·±å±‚æ¨¡å‹èƒ½å¤Ÿç©¿è¿‡é¢†åŸŸè¡¨è±¡ï¼Œæ¸…æ¥šåœ°è¡¨è¾¾å‡ºé¢†åŸŸä¸“å®¶ä»¬çš„ä¸»è¦å…³æ³¨ç‚¹ä»¥åŠç›¸å…³çš„çŸ¥è¯†ã€‚\næ·±å±‚æ¨¡å‹/æŸ”æ€§è®¾è®¡ åœ¨ä¸æ–­é‡æ„çš„è¿‡ç¨‹ä¸­ï¼Œè®¾è®¡æœ¬èº«ä¹Ÿéœ€è¦æ”¯æŒé‡æ„æ‰€å¸¦æ¥å˜åŒ–ã€‚è®¾è®¡è‡ªèº«çš„æŸäº›ç‰¹æ€§å°±å¯ä»¥ä½¿å…¶æ˜“äºä¿®æ”¹å’Œä½¿ç”¨ã€‚ æ¯æ¬¡å¯¹æ¨¡å‹å’Œä»£ç æ‰€è¿›è¡Œçš„ä¿®æ”¹èƒ½å¤Ÿåæ˜ å‡ºå¯¹é¢†åŸŸçš„æ–°ç†è§£ï¼Œä¸æ–­çš„é‡æ„èƒ½ç»™ç³»ç»Ÿæœ€éœ€è¦ä¿®æ”¹çš„åœ°æ–¹å¢æ·»çµæ´»æ€§ï¼Œ å¹¶èƒ½æ‰¾åˆ°ç®€å•å¿«æ·çš„æ–¹å¼æ¥å®ç°æ™®é€šçš„åŠŸèƒ½ã€‚\nã€Œæˆ´ä¹…çš„æ‰‹å¥—åœ¨æ‰‹æŒ‡å…³èŠ‚å¤„å˜å¾—æŸ”è½¯ï¼›è€Œå…¶ä»–éƒ¨åˆ†å·²ç„¶ç¡¬å®ï¼Œå¯èµ·åˆ°ä¿æŠ¤çš„ä½œç”¨ã€‚ã€åå¤çš„ä¿®æ”¹èƒ½è®©æˆ‘ä»¬è¶Šæ¥è¶Šæ¥è¿‘æŸ”æ€§è®¾è®¡ã€‚\næŸ”æ€§è®¾è®¡é™¤äº†ä¾¿äºä¿®æ”¹ï¼Œè¿˜æœ‰åŠ©äºæ”¹è¿›æ¨¡å‹æœ¬èº«ã€‚MODEL-DRIVEN DESIGN éœ€è¦ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢æ”¯æŒï¼š\næ·±å±‚æ¨¡å‹ä½¿è®¾è®¡æ›´å…·è¡¨ç°åŠ›ï¼› åŒæ—¶ï¼Œå½“è®¾è®¡çš„çµæ´»æ€§å¯ä»¥è®©å¼€å‘äººå‘˜è¿›è¡Œå®éªŒï¼Œè€Œè®¾è®¡åˆèƒ½æ¸…æ™°çš„è¡¨è¾¾å‡ºé¢†åŸŸå«ä¹‰æ—¶ï¼Œèƒ½å¤Ÿå°†å¼€å‘äººå‘˜çš„æ·±å±‚ç†è§£åé¦ˆåˆ°æ•´ä¸ªæ¨¡å‹å‘ç°çš„è¿‡ç¨‹ä¸­ã€‚ è¿™åº”è¯¥æ˜¯æ„å»ºç³»ç»Ÿçš„åŸºç¡€ã€‚\nå‘ç°è¿‡ç¨‹ æ”¯æŒä¸æ–­é‡æ„ã€å€Ÿç”¨åˆ«äººå·²ç»å»ºå¥½çš„æ¨¡å¼ã€‚\nçªç ´ é‡æ„åˆ›é€ æœºé‡ å…³æ³¨æ ¹æœ¬ï¼šä¸è¦å¼ºè¡Œçªç ´ æ¦‚å¿µæŒ–æ˜ å€¾å¬è¯­è¨€ å€¾å¬é¢†åŸŸä¸“å®¶çš„è¯­è¨€ï¼Œæ€è€ƒå¹¶è¡¨è¾¾ï¼Œè§‚å¯Ÿé¢†åŸŸä¸“å®¶çš„è¡¨æƒ…ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯å¦æ‰¾åˆ°äº†æ­£ç¡®çš„æ¦‚å¿µï¼ˆå¯¹è±¡ï¼‰ã€‚\næ£€æŸ¥ä¸è¶³ä¹‹å¤„ ç§¯æä¸é¢†åŸŸä¸“å®¶æ²Ÿé€šï¼Œå¯»æ‰¾ä¸¢å¤±çš„æ¦‚å¿µã€‚ï¼ˆæ³¨æ„é¢†åŸŸä¸“å®¶çš„è¡¨æƒ…ï¼‰\næ€è€ƒçŸ›ç›¾ä¹‹å¤„ çŸ›ç›¾å¯ä»¥åˆç†å­˜åœ¨ï¼Œä½†æ˜¯ä¸€å®šè¦ä»”ç»†æ€è€ƒä¸¤ç§å¯¹ç«‹çš„çœ‹æ³•æ˜¯å¦‚ä½•åŒæ—¶åº”ç”¨äºåŒä¸€ä¸ªå¤–éƒ¨å®ç°çš„ï¼Œè¿™ä¼šç»™æˆ‘ä»¬å¸¦æ¥å¯ç¤ºã€‚\næŸ¥é˜…ä¹¦è®° é€šè¿‡è§£é‡ŠåŸºæœ¬æ¦‚å¿µå’Œä¼ ç»Ÿæ€æƒ³çš„ä¹¦ç±æ¥å¯»æ‰¾æ¦‚å¿µã€‚\nå°è¯•ï¼Œå†å°è¯• ä¸ºéšå¼æ¦‚å¿µå»ºæ¨¡ æ˜¾å¼çš„çº¦æŸ çº¦æŸé€šå¸¸å¼éšå«çš„ï¼Œå°†å®ƒä»¬æ˜¾å¼çš„è¡¨ç°å‡ºæ¥å¯ä»¥æå¤§åœ°æé«˜è®¾è®¡è´¨é‡ã€‚çº¦æŸæœ‰æ—¶è‡ªç„¶çš„å­˜åœ¨äºå¯¹è±¡æˆ–æ–¹æ³•ä¸­ã€‚\nå°†è¿‡ç¨‹å»ºæ¨¡ä¸ºé¢†åŸŸå¯¹è±¡ å»ºæ¨¡æ–¹å¼ï¼š\né€šè¿‡ æ¨¡å¼ï¼šSERVICE æ˜¾å¼è¡¨è¾¾ã€‚ é€šè¿‡ STRATEGY è¡¨è¾¾é€‰æ‹©è¿‡ç¨‹ï¼šé€‰æ‹©å˜æˆé€‰æ‹©ä¸åŒçš„å¯¹è±¡ï¼Œä¸åŒå¯¹è±¡è¡¨ç¤ºä¸åŒçš„ STRATEGYã€‚ ","permalink":"https://notes.0081800.xyz/notes/20200320171301_%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/","summary":"tags: æ­£åœ¨è¯»çš„ä¹¦,è¯»ä¹¦ç¬”è®°,DDD å‰è¨€å’Œç›®å½• å¥½çš„è½¯ä»¶éœ€è¦æ§åˆ¶å¤æ‚æ€§ï¼Œå¥½çš„é¢†åŸŸæ¨¡å‹å¯ä»¥å¸®åŠ©æ§åˆ¶å¤æ‚æ€§ã€‚\nä»€ä¹ˆæ ·çš„é¡¹ç›®éœ€è¦ DDDï¼Ÿå°è¯•å‹çš„å°å‹é¡¹ç›®åº”è¯¥ä¸éœ€è¦ DDDï¼Œä½†æ˜¯ä¸€æ—¦ä¸Šäº†è§„æ¨¡è€ƒè™‘åç»­è¿­ä»£åˆ™éœ€è¦ DDDã€‚\næœ¬ä¹¦ç»„ç»‡æ–¹å¼ï¼š\né¢†åŸŸå»ºæ¨¡ é¢†åŸŸå»ºæ¨¡çš„è¿‡ç¨‹å°±æ˜¯æ¶ˆåŒ–çŸ¥è¯†çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹åº”è¯¥è´¯ç©¿æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼Œéœ€è¦æŒç»­å­¦ä¹ ã€‚\næ¨¡å‹ç”¨æ¥æç»˜äººä»¬æ‰€å…³æ³¨çš„å®ç°æˆ–æƒ³æ³•çš„æŸä¸ªæ–¹é¢ï¼Œæ¯”å¦‚åœ°å›¾å°±æ˜¯æ¨¡å‹ã€‚\næ¨¡å‹æ˜¯ä¸€ç§ç®€åŒ–ï¼Œæ˜¯å¯¹å®ç°çš„è§£é‡Šï¼šæŠŠä¸è§£å†³é—®é¢˜å¯†åˆ‡ç›¸å…³çš„æ–¹é¢æŠ½è±¡å‡ºæ¥ï¼Œè€Œå¿½ç•¥æ— å…³çš„ç»†èŠ‚ã€‚\nè½¯ä»¶é—®é¢˜å»ºæ¨¡çš„åŒºåŸŸå°±æ˜¯è½¯ä»¶çš„é¢†åŸŸ\nç‰©è´¨ä¸–ç•Œçš„é¢†åŸŸï¼šæœºç¥¨é¢„è®¢ç¨‹åºæ¶‰åŠçš„é£æœºä¹˜å®¢ã€‚ æ— å½¢çš„é¢†åŸŸï¼šä¼šè®¡ç¨‹åºçš„é‡‘èé¢†åŸŸã€‚ é¢†åŸŸæ¶‰åŠçŸ¥è¯†ä¿¡æ¯è¶…è½½çš„é—®é¢˜ï¼Œæ¨¡å‹è¿™ç§çŸ¥è¯†å¯¹çŸ¥è¯†è¿›è¡Œäº†é€‰æ‹©æ€§çš„ç®€åŒ–å’Œæœ‰æ„çš„ç»“æ„åŒ–ã€‚\né¢†åŸŸæ¨¡å‹å°†é¢†åŸŸä¸“å®¶å¤´è„‘ä¸­çš„æ”¯æŒä¸¥æ ¼çš„ç»„ç»‡ä¸”æœ‰é€‰æ‹©çš„æŠ½è±¡ï¼Œå¹¶ä¸æ˜¯å°½å¯èƒ½å»ºç«‹ä¸€ä¸ªç¬¦åˆâ€œç°å®â€çš„æ¨¡å‹ã€‚\næ¨¡å‹è¡¨ç¤º å…³è” è§„å®šä¸€ä¸ªéå†æ–¹å‘ï¼šå­˜åœ¨åŒå‘è”ç»“æ—¶ï¼ˆåœ°å€ -\u0026gt; äºº æˆ– äºº -\u0026gt; åœ°å€ï¼‰å°½é‡åªç”¨ä¸€ç§ï¼Œå¹¶é¿å…äº’ç›¸å…³è” æ·»åŠ ä¸€ä¸ªé™å®šç¬¦ï¼Œä»¥ä¾¿æœ‰æ•ˆå‡å°‘å¤šé‡å…³è” æ¶ˆé™¤ä¸å¿…è¦çš„å…³è” è¡¨ç¤ºæ–¹å¼ é¢†åŸŸæ¨¡å¼ å®è·µ MODEL-DRIVEN DESIGN éš”ç¦»é¢†åŸŸï¼šå¼•å…¥åº”ç”¨å±‚ åº”ç”¨ LAYERED ARCHITECTURE æŠŠé¢†åŸŸå±‚åˆ’åˆ†å‡ºæ¥ï¼Œé€šè¿‡åº”ç”¨å±‚ç±»æ¥å¤„ç†åº”ç”¨ç¨‹åºåŠŸèƒ½ã€‚åº”ç”¨å±‚ç±»æ˜¯åè°ƒè€…ï¼Œè´Ÿè´£æé—®ï¼Œé¢†åŸŸå±‚è´Ÿè´£å›ç­”ã€‚\nå°† ENTITY å’Œ VALUE OBJECT åŒºåˆ†å¼€ ä¾æ¬¡è€ƒè™‘å¯¹è±¡æ˜¯å¿…é¡»è·Ÿè¸ªçš„ ENTITY è¿˜æ˜¯è¡¨ç¤ºä¸€ä¸ª VALUE OBJECTã€‚\nAGGREGATE è¾¹ç•Œ è¯†åˆ«æ¨¡å‹ä¸­çš„ AGGREGATE æ ¹å’Œå¯¹åº”çš„è¾¹ç•Œã€‚\né€‰æ‹© REPOSITORY ä¸º AGGREGATE æ ¹å¯¹è±¡å»ºç«‹ REPOSITORYã€‚\nåœºæ™¯èµ°æŸ¥ æ ¹æ®åº”ç”¨ç¨‹åºç‰¹æ€§å¤æ ¸å»ºæ¨¡ï¼Œè¿›è¡Œåœºæ™¯èµ°æŸ¥ï¼Œç¡®ä¿èƒ½å¤Ÿæœ‰æ•ˆåœ°è§£å†³åº”ç”¨é—®é¢˜ã€‚å¯ä»¥èµ°æŸ¥ä¸€äº›æ­£å¸¸å’Œå¼‚å¸¸ä¸šåŠ¡åœºæ™¯è¿›è¡Œå¤æ ¸ã€‚\nå¯¹è±¡åˆ›å»º å¦‚æœå¯¹è±¡å¤æ‚åˆ™åˆ›å»ºå•ç‹¬çš„ FACTORY ç±»è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼Œç®€å•å¯¹è±¡å¯ä»¥ç›´æ¥åœ¨ AGGREGATE æ ¹ä¸Šé€šè¿‡ FACTORY METHOD è¿›è¡Œåˆ›å»ºã€‚","title":"ã€Šé¢†åŸŸé©±åŠ¨è®¾è®¡ã€‹è¯»ä¹¦ç¬”è®°"},{"content":" tags: LeetCode ç§»é™¤å°å†™å­—æ¯ä¸­é‡å¤çš„å­—æ¯ï¼Œè®©æ‰€æœ‰å­—æ¯éƒ½åªå‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”ç»“æœæ˜¯æ‰€æœ‰ç»“æœä¸­æŒ‰ç…§å­—å…¸åºæ’åºæœ€å°çš„é‚£ä¸ªã€‚\nExample 1\nInput: \u0026ldquo;bcabc\u0026rdquo; Output: \u0026ldquo;abc\u0026rdquo; Example 2\nInput: \u0026ldquo;cbacdcbc\u0026rdquo; Output: \u0026ldquo;acdb\u0026rdquo; è§£æ³•ä¹‹ä¸€:\né€šè¿‡ä¸€ä¸ªæ•°ç»„å¯¹æ¯ä¸€ä¸ªå‡ºç°çš„å­—æ¯è¿›è¡Œè®¡æ•° éå†æ¯ä¸€ä¸ªå­—æ¯æ”¾å…¥æ ˆï¼Œå¹¶å°†è¯¥å­—æ¯çš„è®¡æ•°å‡ 1 æŸ¥çœ‹æ ˆåº•çš„å­—æ¯æœ‰æ²¡æœ‰æ¯”å½“å‰å­—æ¯å¤§ä¸”è¯¥å­—æ¯çš„è®¡æ•°ä¸ä¸º 0 çš„ï¼ˆæœ‰æ¯”å½“å‰æ›´å°çš„å­—å…¸åºï¼‰ï¼Œä»æ ˆåº•å¼¹å‡ºè¯¥å­—æ¯ func removeDuplicateLetters(s string) string { var countOfEachLetter [26]int var visited [26]bool stack := make([]byte, 0) stackBottom := 0 bytesArr := []byte(s) for _, c := range bytesArr { countOfEachLetter[getIndex(c)]++ } for _, c := range bytesArr { index := getIndex(c) countOfEachLetter[index]-- if visited[index] { continue } // countOfEachLetter[getIndex(stack[stackBottom])] \u0026gt; 0 åé¢è¿˜æœ‰è¯¥å­—ç¬¦ for len(stack[stackBottom:]) \u0026gt; 0 \u0026amp;\u0026amp; stack[stackBottom] \u0026gt; c \u0026amp;\u0026amp; countOfEachLetter[getIndex(stack[stackBottom])] \u0026gt; 0 { // æ ‡è®°ä¸ºæœªè®¿é—®ç”¨äºåé¢çš„å­—ç¬¦åŠ å…¥ç»“æœ visited[getIndex(stack[stackBottom])] = false // ç§»åŠ¨æ ˆåº• stackBottom++ } // åŠ å…¥åˆ°ç»“æœæ ˆ stack = append(stack, c) visited[index] = true } return string(stack[stackBottom:]) } func getIndex(b byte) int { return int(b - \u0026#39;a\u0026#39;) } é€šè¿‡ä¸Šé¢è§£æ³•é‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š\ntestcase: \u0026lsquo;\u0026ldquo;bbcaac\u0026rdquo;\u0026rsquo; answer: \u0026ldquo;bca\u0026rdquo; expected_answer: \u0026ldquo;bac\u0026rdquo; ç»è¿‡ä¸€ç•ªæ’æŸ¥ä¸åº”è¯¥ä»æ ˆåº•æŸ¥æ‰¾ï¼Œåº”è¯¥ä»æ ˆé¡¶å¼€å§‹ï¼Œé€šè¿‡çš„ä»£ç å¦‚ä¸‹ï¼š\nfunc removeDuplicateLetters(s string) string { var countOfEachLetter [26]int var visited [26]bool st := \u0026amp;stack{} bytesArr := []byte(s) for _, c := range bytesArr { countOfEachLetter[getIndex(c)]++ } for _, c := range bytesArr { index := getIndex(c) countOfEachLetter[index]-- if visited[index] { continue } // countOfEachLetter[getIndex(st.topChar())] \u0026gt; 0 åé¢è¿˜æœ‰è¯¥å­—ç¬¦ for !st.empty() \u0026amp;\u0026amp; st.topChar() \u0026gt; c \u0026amp;\u0026amp; countOfEachLetter[getIndex(st.topChar())] \u0026gt; 0 { // æ ‡è®°ä¸ºæœªè®¿é—®ç”¨äºåé¢çš„å­—ç¬¦åŠ å…¥ç»“æœ visited[getIndex(st.pop())] = false } // åŠ å…¥åˆ°ç»“æœæ ˆ st.push(c) visited[index] = true } return st.String() } func getIndex(b byte) int { return int(b - \u0026#39;a\u0026#39;) } type stack struct { top *stackItem bottom *stackItem } type stackItem struct { prev *stackItem next *stackItem c byte } func (s *stack) topChar() byte { return s.top.c } // ä»æ ˆé¡¶å¼¹å‡º func (s *stack) pop() byte { top := s.top s.top = s.top.prev if top == s.bottom { s.bottom = s.top } return top.c } func (s *stack) push(c byte) { new := \u0026amp;stackItem{ prev: s.top, c: c, } if s.bottom == nil { s.bottom = new } if s.top == nil { s.top = new } else { s.top.next = new s.top = new } } func (s *stack) empty() bool { return s.top == nil } func (s *stack) String() string { buf := make([]byte, 0, 10) current := s.bottom for current != nil { buf = append(buf, current.c) current = current.next } return string(buf) } ","permalink":"https://notes.0081800.xyz/notes/20200320172625_leetcode_316_remove_duplicate_letters/","summary":"tags: LeetCode ç§»é™¤å°å†™å­—æ¯ä¸­é‡å¤çš„å­—æ¯ï¼Œè®©æ‰€æœ‰å­—æ¯éƒ½åªå‡ºç°ä¸€æ¬¡ï¼Œå¹¶ä¸”ç»“æœæ˜¯æ‰€æœ‰ç»“æœä¸­æŒ‰ç…§å­—å…¸åºæ’åºæœ€å°çš„é‚£ä¸ªã€‚\nExample 1\nInput: \u0026ldquo;bcabc\u0026rdquo; Output: \u0026ldquo;abc\u0026rdquo; Example 2\nInput: \u0026ldquo;cbacdcbc\u0026rdquo; Output: \u0026ldquo;acdb\u0026rdquo; è§£æ³•ä¹‹ä¸€:\né€šè¿‡ä¸€ä¸ªæ•°ç»„å¯¹æ¯ä¸€ä¸ªå‡ºç°çš„å­—æ¯è¿›è¡Œè®¡æ•° éå†æ¯ä¸€ä¸ªå­—æ¯æ”¾å…¥æ ˆï¼Œå¹¶å°†è¯¥å­—æ¯çš„è®¡æ•°å‡ 1 æŸ¥çœ‹æ ˆåº•çš„å­—æ¯æœ‰æ²¡æœ‰æ¯”å½“å‰å­—æ¯å¤§ä¸”è¯¥å­—æ¯çš„è®¡æ•°ä¸ä¸º 0 çš„ï¼ˆæœ‰æ¯”å½“å‰æ›´å°çš„å­—å…¸åºï¼‰ï¼Œä»æ ˆåº•å¼¹å‡ºè¯¥å­—æ¯ func removeDuplicateLetters(s string) string { var countOfEachLetter [26]int var visited [26]bool stack := make([]byte, 0) stackBottom := 0 bytesArr := []byte(s) for _, c := range bytesArr { countOfEachLetter[getIndex(c)]++ } for _, c := range bytesArr { index := getIndex(c) countOfEachLetter[index]-- if visited[index] { continue } // countOfEachLetter[getIndex(stack[stackBottom])] \u0026gt; 0 åé¢è¿˜æœ‰è¯¥å­—ç¬¦ for len(stack[stackBottom:]) \u0026gt; 0 \u0026amp;\u0026amp; stack[stackBottom] \u0026gt; c \u0026amp;\u0026amp; countOfEachLetter[getIndex(stack[stackBottom])] \u0026gt; 0 { // æ ‡è®°ä¸ºæœªè®¿é—®ç”¨äºåé¢çš„å­—ç¬¦åŠ å…¥ç»“æœ visited[getIndex(stack[stackBottom])] = false // ç§»åŠ¨æ ˆåº• stackBottom++ } // åŠ å…¥åˆ°ç»“æœæ ˆ stack = append(stack, c) visited[index] = true } return string(stack[stackBottom:]) } func getIndex(b byte) int { return int(b - \u0026#39;a\u0026#39;) } é€šè¿‡ä¸Šé¢è§£æ³•é‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š","title":"LeetCode: 316.Remove Duplicate Letters"},{"content":" tags: LeetCode è§£æ³• 1 æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ä¾æ¬¡å¾€å·¦å³æ‰©æ•£ï¼š\nå‘å·¦è¾¹æ‰©æ•£ï¼Œå¦‚æœå·¦è¾¹çš„å¤§äºå½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆå½“å‰å…ƒç´ å³ä¸ºæœ€å°å€¼ å‘å³è¾¹æ‰©æ•£ï¼Œå¦‚æœå³è¾¹çš„å°äºå½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆå³è¾¹å…ƒç´ å³ä¸ºæœ€å°å€¼ å¦‚æœä»¥ä¸Šä¸æˆç«‹åˆ™ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæœ€å°å…ƒç´ ï¼ˆæœªæ—‹è½¬ï¼‰ï¼Œä»¥ä¸‹æ˜¯ä»£ç \nfunc findMin(nums []int) int { length := len(nums) if length == 1 { return nums[0] } // ä»ä¸­é—´å¼€å§‹ç¡®å®šæ–¹å‘ mid := length / 2 - 1 left, right := mid, mid for left - 1 \u0026gt;= 0 || right + 1 \u0026lt; length { if left - 1 \u0026gt;= 0 { if nums[left - 1] \u0026gt; nums[left] { return nums[left]; } left-- } if right + 1 \u0026lt; length { if nums[right] \u0026gt; nums[right + 1] { return nums[right + 1] } right++ } } return nums[0] } ä¼˜åŒ– å‚è€ƒç­”æ¡ˆåå¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾åšå¦‚ä¸‹ä¼˜åŒ–ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦è¢«æ—‹è½¬ï¼š\nå¦‚æœæ•°ç»„å°¾éƒ¨çš„å…ƒç´ å¤§äºé¦–éƒ¨çš„å…ƒç´ åˆ™è¡¨ç¤ºæ•°ç»„æœªè¢«æ—‹è½¬ï¼Œå¯ä»¥ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ ç”±äºæ˜¯ä»ä¸€ä¸ªæœ‰åºæ•°ç»„æ—‹è½¬çš„ï¼Œæ‰€ä»¥ä»¥ä¸Šæ¡ä»¶å¯ä»¥ä¿è¯ã€‚ ç„¶åå†åˆ¤æ–­æ–¹å‘ï¼š\nå¦‚æœæ‰€å–ä¸­é—´å…ƒç´ å¤§äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ™æœ€å°å…ƒç´ åœ¨å³è¾¹ å¦åˆ™æœ€å°å…ƒç´ åœ¨å·¦è¾¹ func findMin(nums []int) int { length := len(nums) if nums[0] \u0026lt;= nums[length - 1]{ return nums[0] } if length == 2 { return nums[1] } left, right := 0, length - 1 for left \u0026lt; right { mid := left + ((right - left) / 2) if nums[mid] \u0026gt; nums[mid + 1] { return nums[mid + 1] } if nums[mid - 1] \u0026gt; nums[mid] { return nums[mid] } if nums[mid] \u0026gt; nums[0] { left = mid + 1 } else { right = mid - 1 } } return -1 } ","permalink":"https://notes.0081800.xyz/notes/20200320172433_leetcode_153_find_minimum_in_rotated_sorted_array/","summary":"tags: LeetCode è§£æ³• 1 æ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹ä¾æ¬¡å¾€å·¦å³æ‰©æ•£ï¼š\nå‘å·¦è¾¹æ‰©æ•£ï¼Œå¦‚æœå·¦è¾¹çš„å¤§äºå½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆå½“å‰å…ƒç´ å³ä¸ºæœ€å°å€¼ å‘å³è¾¹æ‰©æ•£ï¼Œå¦‚æœå³è¾¹çš„å°äºå½“å‰å…ƒç´ ï¼Œé‚£ä¹ˆå³è¾¹å…ƒç´ å³ä¸ºæœ€å°å€¼ å¦‚æœä»¥ä¸Šä¸æˆç«‹åˆ™ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºæœ€å°å…ƒç´ ï¼ˆæœªæ—‹è½¬ï¼‰ï¼Œä»¥ä¸‹æ˜¯ä»£ç \nfunc findMin(nums []int) int { length := len(nums) if length == 1 { return nums[0] } // ä»ä¸­é—´å¼€å§‹ç¡®å®šæ–¹å‘ mid := length / 2 - 1 left, right := mid, mid for left - 1 \u0026gt;= 0 || right + 1 \u0026lt; length { if left - 1 \u0026gt;= 0 { if nums[left - 1] \u0026gt; nums[left] { return nums[left]; } left-- } if right + 1 \u0026lt; length { if nums[right] \u0026gt; nums[right + 1] { return nums[right + 1] } right++ } } return nums[0] } ä¼˜åŒ– å‚è€ƒç­”æ¡ˆåå¯é€šè¿‡äºŒåˆ†æŸ¥æ‰¾åšå¦‚ä¸‹ä¼˜åŒ–ï¼Œé¦–å…ˆåˆ¤æ–­æ˜¯å¦è¢«æ—‹è½¬ï¼š","title":"LeetCode: 153.Find Minimum in Rotated Sorted Array"},{"content":" tags: LeetCode æ€è·¯ è¿™ä¸ªæ˜¯ LeetCode: 153.Find Minimum in Rotated Sorted Array æ‰©å±•ï¼Œå¢åŠ äº†ä»¥ä¸‹å‡ ç§è¾¹ç•Œæƒ…å†µï¼š\n\u0026lsquo;[2, 2, 2, 2, 1]\u0026rsquo; \u0026lsquo;[3, 1, 3]\u0026rsquo; \u0026lsquo;[1, 1, 1]\u0026rsquo; \u0026lsquo;[10, 1, 10, 10, 10]\u0026rsquo; ä½†æ ¸å¿ƒä¾ç„¶æ˜¯åˆ¤æ–­æœ€å°å€¼æ˜¯åœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚å‡è®¾å¦‚ä¸‹æ•°ç»„ï¼š\n\u0026lsquo;[3, 3, 3, 1, 3]\u0026rsquo;\nleft[0]=3, right[4]=3, mid[2]=3, è¿™æ—¶å€™ä¸ç¡®å®šæœ€å°å€¼åœ¨å“ªè¾¹ä½†æ˜¯ right\u0026ndash; æ˜¯å®‰å…¨çš„ï¼Œæ‰€ä»¥æ‰§è¡Œ right\u0026ndash;\nleft[0]=3, right[3]=1, mid[2]=3, è¿™æ—¶å€™ mid \u0026lt; right è¯´æ˜æœ€å°å€¼åœ¨ mid çš„å³è¾¹ï¼Œæ‰€ä»¥è°ƒæ•´ left = mid + 1\nå·¦å³ä¸¤è¾¹ç´¢å¼•ä¸€è‡´ç»ˆæ­¢å¾ªç¯\nå®ç° func findMin(nums []int) int { length := len(nums) left, right := 0, length - 1 for left \u0026lt; right { mid := (left + right) / 2 if nums[mid] \u0026gt; nums[right] { left = mid + 1 } else if nums[mid] \u0026lt; nums[right] { right = mid } else { right-- } } return nums[right] } ","permalink":"https://notes.0081800.xyz/notes/20200320172319_154_find_minimum_in_rotated_sorted_array_ii/","summary":" tags: LeetCode æ€è·¯ è¿™ä¸ªæ˜¯ LeetCode: 153.Find Minimum in Rotated Sorted Array æ‰©å±•ï¼Œå¢åŠ äº†ä»¥ä¸‹å‡ ç§è¾¹ç•Œæƒ…å†µï¼š\n\u0026lsquo;[2, 2, 2, 2, 1]\u0026rsquo; \u0026lsquo;[3, 1, 3]\u0026rsquo; \u0026lsquo;[1, 1, 1]\u0026rsquo; \u0026lsquo;[10, 1, 10, 10, 10]\u0026rsquo; ä½†æ ¸å¿ƒä¾ç„¶æ˜¯åˆ¤æ–­æœ€å°å€¼æ˜¯åœ¨å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚å‡è®¾å¦‚ä¸‹æ•°ç»„ï¼š\n\u0026lsquo;[3, 3, 3, 1, 3]\u0026rsquo;\nleft[0]=3, right[4]=3, mid[2]=3, è¿™æ—¶å€™ä¸ç¡®å®šæœ€å°å€¼åœ¨å“ªè¾¹ä½†æ˜¯ right\u0026ndash; æ˜¯å®‰å…¨çš„ï¼Œæ‰€ä»¥æ‰§è¡Œ right\u0026ndash;\nleft[0]=3, right[3]=1, mid[2]=3, è¿™æ—¶å€™ mid \u0026lt; right è¯´æ˜æœ€å°å€¼åœ¨ mid çš„å³è¾¹ï¼Œæ‰€ä»¥è°ƒæ•´ left = mid + 1\nå·¦å³ä¸¤è¾¹ç´¢å¼•ä¸€è‡´ç»ˆæ­¢å¾ªç¯\nå®ç° func findMin(nums []int) int { length := len(nums) left, right := 0, length - 1 for left \u0026lt; right { mid := (left + right) / 2 if nums[mid] \u0026gt; nums[right] { left = mid + 1 } else if nums[mid] \u0026lt; nums[right] { right = mid } else { right-- } } return nums[right] } ","title":"LeetCode: 154.Find Minimum in Rotated Sorted Array II"},{"content":" tags: LeetCode å‡†å¤‡ åŠ¨æ€è§„åˆ’\nå®è·µ å­—ç¬¦ä¸² \u0026ldquo;abcabcbb\u0026rdquo;\næ ¹æ®ç´¢å¼•æœ‰å¦‚ä¸‹å…³ç³»\na b c a b c b b 0 1 2 3 4 5 6 7 \\(f(0,1)=f(0,0) + 1\\) \\(f(0,2)=f(0,1) + 2\\) åœ¨æ‰€æœ‰å­—ç¬¦éƒ½ä¸é‡å¤çš„æƒ…å†µä¸‹æœ‰å¦‚ä¸‹å…¬å¼\n\\(f(s,e)=f(s,e-1) + e\\)\nè‹¥é‡åˆ°é‡å¤çš„æƒ…å†µåˆ™ï¼Œ3 ç´¢å¼•äºå½“å‰å­—ä¸² çš„ 0 é‡å¤åˆ™è¡¨æ˜å½“å‰å­—ä¸²å·²ç»åˆ°å¤´ï¼Œéœ€è¦è®°å½•å¹¶åç§» sï¼Œs=1ï¼š\n\\(f(1,3)=f(1,2)+3\\) å‡è®¾ï¼š\ns - å¼€å§‹å­—ç¬¦ç´¢å¼• e - ç»“æŸå­—ç¬¦ç´¢å¼• è‹¥é‡åˆ°å½“å‰å­—ç¬¦äºå‰é¢ r å­—ç¬¦é‡å¤åˆ™ï¼š \\[ f(r,e)=f(s,e - 1) + e; s=r \\]\nè§£æ³• func lengthOfLongestSubstring(s string) int { if len(s) == 0 { return 0 } appearedIndexes := [256]int{} for i := 0; i \u0026lt; 256; i++{ appearedIndexes[i] = -1 } longest, start, end := 0, 0, 0 b := []byte(s) for cIndex, c := range b { index := int(c) appearedIndex := appearedIndexes[index] end = cIndex // å‡ºç°è¿‡éœ€è¦æˆªæ–­ if appearedIndex != -1 { // é‡ç½®å·²å‡ºç°çš„å­—ç¬¦ for i := start; i \u0026lt;= appearedIndex; i++{ appearedIndexes[b[i]] = -1 } length := end - start if length \u0026gt; longest { longest = length } start = appearedIndex+1 } appearedIndexes[index] = cIndex } if end - start + 1 \u0026gt; longest { longest = end - start + 1 } return longest } ","permalink":"https://notes.0081800.xyz/notes/20200320172810_leetcode_3_longest_substring_without_repeating_characters/","summary":"tags: LeetCode å‡†å¤‡ åŠ¨æ€è§„åˆ’\nå®è·µ å­—ç¬¦ä¸² \u0026ldquo;abcabcbb\u0026rdquo;\næ ¹æ®ç´¢å¼•æœ‰å¦‚ä¸‹å…³ç³»\na b c a b c b b 0 1 2 3 4 5 6 7 \\(f(0,1)=f(0,0) + 1\\) \\(f(0,2)=f(0,1) + 2\\) åœ¨æ‰€æœ‰å­—ç¬¦éƒ½ä¸é‡å¤çš„æƒ…å†µä¸‹æœ‰å¦‚ä¸‹å…¬å¼\n\\(f(s,e)=f(s,e-1) + e\\)\nè‹¥é‡åˆ°é‡å¤çš„æƒ…å†µåˆ™ï¼Œ3 ç´¢å¼•äºå½“å‰å­—ä¸² çš„ 0 é‡å¤åˆ™è¡¨æ˜å½“å‰å­—ä¸²å·²ç»åˆ°å¤´ï¼Œéœ€è¦è®°å½•å¹¶åç§» sï¼Œs=1ï¼š\n\\(f(1,3)=f(1,2)+3\\) å‡è®¾ï¼š\ns - å¼€å§‹å­—ç¬¦ç´¢å¼• e - ç»“æŸå­—ç¬¦ç´¢å¼• è‹¥é‡åˆ°å½“å‰å­—ç¬¦äºå‰é¢ r å­—ç¬¦é‡å¤åˆ™ï¼š \\[ f(r,e)=f(s,e - 1) + e; s=r \\]\nè§£æ³• func lengthOfLongestSubstring(s string) int { if len(s) == 0 { return 0 } appearedIndexes := [256]int{} for i := 0; i \u0026lt; 256; i++{ appearedIndexes[i] = -1 } longest, start, end := 0, 0, 0 b := []byte(s) for cIndex, c := range b { index := int(c) appearedIndex := appearedIndexes[index] end = cIndex // å‡ºç°è¿‡éœ€è¦æˆªæ–­ if appearedIndex !","title":"LeetCode: 3.Longest Substring Without Repeating Characters"},{"content":" tags: LeetCode æ€è·¯ å½’å¹¶æ’åº\nä»£ç  func findMedianSortedArrays(nums1 []int, nums2 []int) float64 { nums := mergeSort(nums1, nums2) length := len(nums) if length % 2 != 0 { return float64(nums[(length - 1) / 2]) } i := length / 2 return (float64(nums[i]) + float64(nums[i - 1])) / 2 } func mergeSort(nums1 []int, nums2 []int) []int { l1 := len(nums1) l2 := len(nums2) result := make([]int, 0, l1 + l2) i, j := 0, 0 for i \u0026lt; l1 \u0026amp;\u0026amp; j \u0026lt; l2 { if nums1[i] \u0026lt; nums2[j] { result = append(result, nums1[i]) i++ } else { result = append(result, nums2[j]) j++ } } result = append(result, nums1[i:]...) result = append(result, nums2[j:]...) return result } ","permalink":"https://notes.0081800.xyz/notes/20200320172945_leetcode_4_median_of_two_sorted_arrays/","summary":"tags: LeetCode æ€è·¯ å½’å¹¶æ’åº\nä»£ç  func findMedianSortedArrays(nums1 []int, nums2 []int) float64 { nums := mergeSort(nums1, nums2) length := len(nums) if length % 2 != 0 { return float64(nums[(length - 1) / 2]) } i := length / 2 return (float64(nums[i]) + float64(nums[i - 1])) / 2 } func mergeSort(nums1 []int, nums2 []int) []int { l1 := len(nums1) l2 := len(nums2) result := make([]int, 0, l1 + l2) i, j := 0, 0 for i \u0026lt; l1 \u0026amp;\u0026amp; j \u0026lt; l2 { if nums1[i] \u0026lt; nums2[j] { result = append(result, nums1[i]) i++ } else { result = append(result, nums2[j]) j++ } } result = append(result, nums1[i:].","title":"LeetCode: 4.Median of Two Sorted Arrays"},{"content":" tags: LeetCode \u0026gt; https://leetcode.com/problems/longest-palindromic-substring/description/\næ€è·¯ ç›´æ¥æš´åŠ›å¾€ä¸¤è¾¹æœç´¢\nfunc longestPalindrome(s string) string { buf := []byte(s) length := len(buf) if length == 0 { return s } start, end := 0, 0 for ci, _ := range buf { i, j := ci, ci // æ— æ³•å¤„ç† \u0026#34;aaaa\u0026#34; å’Œ \u0026#34;noon\u0026#34; è¿™ç§æƒ…å†µ for i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; length - 1 \u0026amp;\u0026amp; buf[i - 1] == buf[j + 1] { i-- j++ } // è€ƒè™‘ \u0026#34;bba\u0026#34; è¿™ç§æƒ…å†µ if i == j \u0026amp;\u0026amp; ci \u0026gt; 0 \u0026amp;\u0026amp; buf[ci] == buf[ci - 1] { i, j = ci-1, ci } // è€ƒè™‘ \u0026#34;abb\u0026#34; è¿™ç§æƒ…å†µ if i == j \u0026amp;\u0026amp; ci \u0026lt; length - 1 \u0026amp;\u0026amp; buf[ci] == buf[ci + 1] { i, j = ci, ci + 1 } if i != j \u0026amp;\u0026amp; j - i \u0026gt;= end - start { start, end = i, j } } return string(buf[start:end + 1]) } ä¸Šé¢ä»£ç æ— æ³•å¤„ç† \u0026ldquo;aaaa\u0026rdquo; å’Œ \u0026ldquo;noon\u0026rdquo; è¿™ç§æƒ…å†µï¼Œåªè¦æŠŠä¸‹é¢å¤„ç† \u0026ldquo;bba\u0026rdquo; å’Œ \u0026ldquo;abb\u0026rdquo; æƒ…å†µçš„ä»£ç æ”¾åˆ°ä¸Šé¢å³å¯\nfunc longestPalindrome(s string) string { buf := []byte(s) length := len(buf) if length == 0 { return s } start, end := 0, 0 for ci, _ := range buf { i, j := ci, ci if i == j \u0026amp;\u0026amp; ci \u0026gt; 0 \u0026amp;\u0026amp; buf[ci] == buf[ci - 1] { i, j = ci-1, ci } if i == j \u0026amp;\u0026amp; ci \u0026lt; length - 1 \u0026amp;\u0026amp; buf[ci] == buf[ci + 1] { i, j = ci, ci + 1 } for i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; length - 1 \u0026amp;\u0026amp; buf[i - 1] == buf[j + 1] { i-- j++ } if i != j \u0026amp;\u0026amp; j - i \u0026gt;= end - start { start, end = i, j } } return string(buf[start:end + 1]) } ä½†ä¸Šé¢åˆå¯¼è‡´ \u0026ldquo;ccc\u0026rdquo; æ— æ³•å¤„ç†ï¼Œæ‰€ä»¥éœ€è¦å¤„ç†ä¸¤ç§æƒ…å†µï¼š\nä»¥å½“å‰å­—ç¬¦ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ•£ ä»¥å½“å‰å­—ç¬¦å’Œä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ•£ å¯¹æ¯”ä»¥ä¸Šä¸¤ä¸ªç»“æœå–å¤§çš„é‚£ä¸ªï¼Œè°ƒæ•´åå¦‚ä¸‹\nfunc longestPalindrome(s string) string { buf := []byte(s) length := len(buf) if length == 0 { return s } start, end := 0, 0 for ci, _ := range buf { i, j := ci, ci for i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; length - 1 \u0026amp;\u0026amp; buf[i - 1] == buf[j + 1] { i-- j++ } if i != j \u0026amp;\u0026amp; j - i \u0026gt;= end - start { start, end = i, j } i, j = ci, ci + 1 if j \u0026lt; length \u0026amp;\u0026amp; buf[i] == buf[j] { for i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; length - 1 \u0026amp;\u0026amp; buf[i - 1] == buf[j + 1] { i-- j++ } if i != j \u0026amp;\u0026amp; j - i \u0026gt;= end - start { start, end = i, j } } } return string(buf[start:end + 1]) } ","permalink":"https://notes.0081800.xyz/notes/20200320173438_leetcode_5_longest_palindromic_substring/","summary":"tags: LeetCode \u0026gt; https://leetcode.com/problems/longest-palindromic-substring/description/\næ€è·¯ ç›´æ¥æš´åŠ›å¾€ä¸¤è¾¹æœç´¢\nfunc longestPalindrome(s string) string { buf := []byte(s) length := len(buf) if length == 0 { return s } start, end := 0, 0 for ci, _ := range buf { i, j := ci, ci // æ— æ³•å¤„ç† \u0026#34;aaaa\u0026#34; å’Œ \u0026#34;noon\u0026#34; è¿™ç§æƒ…å†µ for i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026lt; length - 1 \u0026amp;\u0026amp; buf[i - 1] == buf[j + 1] { i-- j++ } // è€ƒè™‘ \u0026#34;bba\u0026#34; è¿™ç§æƒ…å†µ if i == j \u0026amp;\u0026amp; ci \u0026gt; 0 \u0026amp;\u0026amp; buf[ci] == buf[ci - 1] { i, j = ci-1, ci } // è€ƒè™‘ \u0026#34;abb\u0026#34; è¿™ç§æƒ…å†µ if i == j \u0026amp;\u0026amp; ci \u0026lt; length - 1 \u0026amp;\u0026amp; buf[ci] == buf[ci + 1] { i, j = ci, ci + 1 } if i !","title":"LeetCode: 5.Longest Palindromic Substring"},{"content":" tags: LeetCode srouce: https://leetcode.com/problems/zigzag-conversion/description/ å…ˆæ ¹æ®è¡Œæ•°è®¡ç®—åˆ—æ•°ï¼š\n\\(column=length / (row + 2) + bool(length \\mod (row + 2))\\)\næ¯ä¸€è¡Œå¿…ç„¶æœ‰ç‚¹çš„ä½ç½®ä¸ºï¼š\n\\(i \\mod (row - 1)\\) ä¸º 0\n","permalink":"https://notes.0081800.xyz/notes/20200320173548_leetcode_6_zigzag_conversion/","summary":"tags: LeetCode srouce: https://leetcode.com/problems/zigzag-conversion/description/ å…ˆæ ¹æ®è¡Œæ•°è®¡ç®—åˆ—æ•°ï¼š\n\\(column=length / (row + 2) + bool(length \\mod (row + 2))\\)\næ¯ä¸€è¡Œå¿…ç„¶æœ‰ç‚¹çš„ä½ç½®ä¸ºï¼š\n\\(i \\mod (row - 1)\\) ä¸º 0","title":"LeetCode: 6.ZigZag Conversion"},{"content":"","permalink":"https://notes.0081800.xyz/notes/20200320173956_mysql/","summary":"","title":"MySQL"},{"content":" tags: è¯»ä¹¦ç¬”è®°,Rust\nè¯­å¥å’Œè¡¨è¾¾å¼\næ‰€æœ‰æƒ\nå¼•ç”¨å’Œå€Ÿç”¨\nç»“æ„ä½“\næšä¸¾\næ¨¡å¼åŒ¹é…\nif let\næ¨¡å—åŒ–\né”™è¯¯å¤„ç†\nTraits\nç”Ÿå‘½å‘¨æœŸ\né—­åŒ…\nè¿­ä»£å™¨\næ™ºèƒ½æŒ‡é’ˆ\nRust å®\nRust å¹¶å‘\nå‡½æ•°æŒ‡é’ˆ fn åŒºåˆ†é—­åŒ…çš„ Fn ç‰¹æ€§ï¼Œå‡½æ•°æŒ‡é’ˆéƒ½å®ç°æ¥ä¸‰ä¸ªé—­åŒ…çš„ç‰¹æ€§ã€‚\nfn do(f: fn(i32) -\u0026gt; i32, arg: i32) -\u0026gt; i32 { f(arg) + f(arg) } ","permalink":"https://notes.0081800.xyz/notes/20200325165411_the_rust_programming_language/","summary":" tags: è¯»ä¹¦ç¬”è®°,Rust\nè¯­å¥å’Œè¡¨è¾¾å¼\næ‰€æœ‰æƒ\nå¼•ç”¨å’Œå€Ÿç”¨\nç»“æ„ä½“\næšä¸¾\næ¨¡å¼åŒ¹é…\nif let\næ¨¡å—åŒ–\né”™è¯¯å¤„ç†\nTraits\nç”Ÿå‘½å‘¨æœŸ\né—­åŒ…\nè¿­ä»£å™¨\næ™ºèƒ½æŒ‡é’ˆ\nRust å®\nRust å¹¶å‘\nå‡½æ•°æŒ‡é’ˆ fn åŒºåˆ†é—­åŒ…çš„ Fn ç‰¹æ€§ï¼Œå‡½æ•°æŒ‡é’ˆéƒ½å®ç°æ¥ä¸‰ä¸ªé—­åŒ…çš„ç‰¹æ€§ã€‚\nfn do(f: fn(i32) -\u0026gt; i32, arg: i32) -\u0026gt; i32 { f(arg) + f(arg) } ","title":"ã€ŠThe Rust Programming Languageã€‹è¯»ä¹¦ç¬”è®°"},{"content":"Email gary (at) linuxzen.com\nGPG Public Key $ gpg --keyserver hkp://keyserver.ubuntu.com --receive-keys 0x545B28D6B0C86C12 ","permalink":"https://notes.0081800.xyz/about/","summary":"About me","title":"About"}]