<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Python | Taking Smart Notes With Org-mode</title>
<meta name="keywords" content="">
<meta name="description" content="Python vendor package 之前一直在找 Python 类似 go mod vendor 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：
Conda 生态可以使用 conda-pack 原生 CPython 生态可以依托 venv-pack pex 对比
时间 项目 活跃开发 贡献人数 提交数量 2021-08-28 venv-pack 否 2 30 conda-pack 是 15 246 pex 是 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly 对应版本 manylinux2014 存在但是装不上 参见：PEP 599 &ndash; The manylinux2014 Platform Tag">
<meta name="author" content="Gray King">
<link rel="canonical" href="https://notes.0081800.xyz/topics/20200628133616-python/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css" integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U&#43;6hYRq/Ez/nm5vg=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://notes.0081800.xyz/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://notes.0081800.xyz/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://notes.0081800.xyz/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://notes.0081800.xyz/apple-touch-icon.png">
<link rel="mask-icon" href="https://notes.0081800.xyz/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Python" />
<meta property="og:description" content="Python vendor package 之前一直在找 Python 类似 go mod vendor 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：
Conda 生态可以使用 conda-pack 原生 CPython 生态可以依托 venv-pack pex 对比
时间 项目 活跃开发 贡献人数 提交数量 2021-08-28 venv-pack 否 2 30 conda-pack 是 15 246 pex 是 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly 对应版本 manylinux2014 存在但是装不上 参见：PEP 599 &ndash; The manylinux2014 Platform Tag" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://notes.0081800.xyz/topics/20200628133616-python/" /><meta property="article:section" content="topics" />
<meta property="article:published_time" content="2020-06-28T13:36:00+08:00" />
<meta property="article:modified_time" content="2020-06-28T13:36:00+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python"/>
<meta name="twitter:description" content="Python vendor package 之前一直在找 Python 类似 go mod vendor 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：
Conda 生态可以使用 conda-pack 原生 CPython 生态可以依托 venv-pack pex 对比
时间 项目 活跃开发 贡献人数 提交数量 2021-08-28 venv-pack 否 2 30 conda-pack 是 15 246 pex 是 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly 对应版本 manylinux2014 存在但是装不上 参见：PEP 599 &ndash; The manylinux2014 Platform Tag"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Topics",
      "item": "https://notes.0081800.xyz/topics/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Python",
      "item": "https://notes.0081800.xyz/topics/20200628133616-python/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Python",
  "name": "Python",
  "description": "Python vendor package 之前一直在找 Python 类似 go mod vendor 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：\nConda 生态可以使用 conda-pack 原生 CPython 生态可以依托 venv-pack pex 对比\n时间 项目 活跃开发 贡献人数 提交数量 2021-08-28 venv-pack 否 2 30 conda-pack 是 15 246 pex 是 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly 对应版本 manylinux2014 存在但是装不上 参见：PEP 599 \u0026ndash; The manylinux2014 Platform Tag",
  "keywords": [
    
  ],
  "articleBody": "Python vendor package 之前一直在找 Python 类似 go mod vendor 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：\nConda 生态可以使用 conda-pack 原生 CPython 生态可以依托 venv-pack pex 对比\n时间 项目 活跃开发 贡献人数 提交数量 2021-08-28 venv-pack 否 2 30 conda-pack 是 15 246 pex 是 87 940 IPython EIN import numpy, math, matplotlib.pyplot as plt %matplotlib inline x = numpy.linspace(0, 2 * math.pi) plt.plot(x, numpy.sin(x)) Python Dark Magic Writing Python Extensions in Assembly 对应版本 manylinux2014 存在但是装不上 参见：PEP 599 – The manylinux2014 Platform Tag\nCentOS 需要满足 glibc 版本为 2.17，参见 Platform Detection for Installers。\n",
  "wordCount" : "84",
  "inLanguage": "en",
  "datePublished": "2020-06-28T13:36:00+08:00",
  "dateModified": "2020-06-28T13:36:00+08:00",
  "author":[{
    "@type": "Person",
    "name": "Gray King"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://notes.0081800.xyz/topics/20200628133616-python/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Taking Smart Notes With Org-mode",
    "logo": {
      "@type": "ImageObject",
      "url": "https://notes.0081800.xyz/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://notes.0081800.xyz/" accesskey="h" title="Taking Smart Notes With Org-mode (Alt + H)">Taking Smart Notes With Org-mode</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://notes.0081800.xyz/about" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/articles/" title="Articles">
                    <span>Articles</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/notes/" title="Notes">
                    <span>Notes</span>
                </a>
            </li>
            <li>
                <a href="https://notes.0081800.xyz/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://notes.0081800.xyz/">Home</a>&nbsp;»&nbsp;<a href="https://notes.0081800.xyz/topics/">Topics</a></div>
    <h1 class="post-title">
      Python
    </h1>
    <div class="post-meta"><span title='2020-06-28 13:36:00 +0800 +0800'>June 28, 2020</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#python-vendor-package" aria-label="Python vendor package">Python vendor package</a></li>
                <li>
                    <a href="#ipython" aria-label="IPython">IPython</a><ul>
                        
                <li>
                    <a href="#ein" aria-label="EIN">EIN</a></li></ul>
                </li>
                <li>
                    <a href="#python-dark-magic" aria-label="Python Dark Magic">Python Dark Magic</a></li>
                <li>
                    <a href="#%e5%af%b9%e5%ba%94%e7%89%88%e6%9c%ac-manylinux2014-%e5%ad%98%e5%9c%a8%e4%bd%86%e6%98%af%e8%a3%85%e4%b8%8d%e4%b8%8a" aria-label="对应版本 manylinux2014 存在但是装不上">对应版本 manylinux2014 存在但是装不上</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="python-vendor-package">Python vendor package<a hidden class="anchor" aria-hidden="true" href="#python-vendor-package">#</a></h2>
<p>之前一直在找 Python 类似 <code>go mod vendor</code> 部署的解决方案，今天在看 PySpark 的时候找到了，主要现存两种解决方案：</p>
<ul>
<li>Conda 生态可以使用 <a href="https://conda.github.io/conda-pack/spark.html">conda-pack</a></li>
<li>原生 CPython 生态可以依托 <a href="https://jcristharif.com/venv-pack/index.html">venv-pack</a></li>
<li><a href="https://github.com/pantsbuild/pex">pex</a></li>
</ul>
<p>对比</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>项目</th>
<th>活跃开发</th>
<th>贡献人数</th>
<th>提交数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>2021-08-28</td>
<td>venv-pack</td>
<td>否</td>
<td>2</td>
<td>30</td>
</tr>
<tr>
<td></td>
<td>conda-pack</td>
<td>是</td>
<td>15</td>
<td>246</td>
</tr>
<tr>
<td></td>
<td>pex</td>
<td>是</td>
<td>87</td>
<td>940</td>
</tr>
</tbody>
</table>
<h2 id="ipython">IPython<a hidden class="anchor" aria-hidden="true" href="#ipython">#</a></h2>
<h3 id="ein">EIN<a hidden class="anchor" aria-hidden="true" href="#ein">#</a></h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<pre tabindex="0"><code class="language-ein-python" data-lang="ein-python">import numpy, math, matplotlib.pyplot as plt
%matplotlib inline
x = numpy.linspace(0, 2 * math.pi)
plt.plot(x, numpy.sin(x))
</code></pre><h2 id="python-dark-magic">Python Dark Magic<a hidden class="anchor" aria-hidden="true" href="#python-dark-magic">#</a></h2>
<ul>
<li><a href="https://tonybaloney.github.io/posts/extending-python-with-assembly.html">Writing Python Extensions in Assembly</a></li>
</ul>
<h2 id="对应版本-manylinux2014-存在但是装不上">对应版本 manylinux2014 存在但是装不上<a hidden class="anchor" aria-hidden="true" href="#对应版本-manylinux2014-存在但是装不上">#</a></h2>
<p>参见：<a href="https://www.python.org/dev/peps/pep-0599/">PEP 599 &ndash; The manylinux2014 Platform Tag</a></p>
<p>CentOS 需要满足 glibc 版本为 2.17，参见<a href="https://www.python.org/dev/peps/pep-0599/#toc-entry-7"> Platform Detection for Installers</a>。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>


   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   
      
   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   


<hr />

  <div class="bl-section">
    <h3>Links to this note</h3>
    <br />
    <div class="backlinks">
      <ul>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Speeding up Cython with SIMD
              </h2>
            </header>
            <div class="entry-content">
              <p> tags: Python, SIMD, High Performance source: Turner-Trauring, Itamar. “Speeding up Cython with SIMD.” Python⇒Speed, October 18, 2023. https://pythonspeed.com/articles/faster-cython-simd/. </p>
            </div>
            <footer class="entry-footer"><span title='2023-10-31 08:25:00 +0800 +0800'>October 31, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Speeding up Cython with SIMD" href="https://notes.0081800.xyz/notes/20231031082500-speeding_up_cython_with_simd/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>pyenv
              </h2>
            </header>
            <div class="entry-content">
              <p> tags: Python </p>
            </div>
            <footer class="entry-footer"><span title='2023-04-11 18:01:00 +0800 +0800'>April 11, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to pyenv" href="https://notes.0081800.xyz/notes/20230411180138-pyenv/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Speedup Python Installation of pyenv
              </h2>
            </header>
            <div class="entry-content">
              <p> tags: Python, pyenv export PYTHON_BUILD_MIRROR_URL_SKIP_CHECKSUM=1 export PYTHON_BUILD_MIRROR_URL=&#34;https://npm.taobao.org/mirrors/python/&#34; </p>
            </div>
            <footer class="entry-footer"><span title='2023-04-11 18:01:00 +0800 +0800'>April 11, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Speedup Python Installation of pyenv" href="https://notes.0081800.xyz/notes/20230411180124-speedup_python_installation_of_pyenv/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Pyright Type Stubs
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Python, LSP
source: https://emacs-lsp.github.io/lsp-pyright/#usage-notes
Download Default Type Stubs git clone https://github.com/microsoft/python-type-stubs $HOME/.local/src/python-type-stubs Use it in Emacs (setq lsp-pyright-stub-path (concat (getenv &#34;HOME&#34;) &#34;/.local//src/python-type-stubs&#34;)) ;; example Add Django Type Stubs git clone git@github.com:typeddjango/django-stubs.git ~/.local/src/django-stubs ln -sf ~/.local/src/django-stubs/django-stubs ~/.local/src/python-type-stubs/django Add Celery Type Stubs git clone https://github.com/sbdchd/celery-types ~/.local/src/celery-types ln -sf ~/.local/src/celery-types/amqp-stubs ~/.local/src/python-type-stubs/amqp ln -sf ~/.local/src/celery-types/billiard-stubs ~/.local/src/python-type-stubs/billiard ln -sf ~/.local/src/celery-types/celery-stubs ~/.local/src/python-type-stubs/celery ln -sf ~/.local/src/celery-types/django_celery_results-stubs ~/.local/src/python-type-stubs/django_celery_results ln -sf ~/.local/src/celery-types/ephem-stubs ~/.local/src/python-type-stubs/ephem ln -sf ~/.local/src/celery-types/kombu-stubs ~/.local/src/python-type-stubs/kombu ln -sf ~/....</p>
            </div>
            <footer class="entry-footer"><span title='2023-04-10 16:18:00 +0800 +0800'>April 10, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Pyright Type Stubs" href="https://notes.0081800.xyz/notes/20230410161857-pyright_type_stubs/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Overhead of Python asyncio Tasks: 260K/s
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Python, High Performance source: Textual Documentation. “Textual - Overhead of Python Asyncio Tasks,” March 8, 2023. https://textual.textualize.io/blog/2023/03/08/overhead-of-python-asyncio-tasks/. Tasks of asyncio from create to run, then shutdown is about: 260K tasks per second.</p>
            </div>
            <footer class="entry-footer"><span title='2023-03-09 09:30:00 +0800 +0800'>March 9, 2023</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Overhead of Python asyncio Tasks: 260K/s" href="https://notes.0081800.xyz/notes/20230309093002-overhead_of_python_asyncio_tasks_260k_s/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Python lambda generate bitmap
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Python _ = ( 255, lambda V ,B,c :c and Y(V*V&#43;B,B, c -1)if(abs(V)&lt;6)else ( 2&#43;c-4*abs(V)**-0.4)/i ) ;v, x=1500,1000;C=range(v*x );import struct;P=struct.pack;M,\ j =&#39;&lt;QIIHHHH&#39;,open(&#39;M.bmp&#39;,&#39;wb&#39;).write for X in j(&#39;BM&#39;&#43;P(M,v*x*3&#43;26,26,12,v,x,1,24))or C: i ,Y=_;j(P(&#39;BBB&#39;,*(lambda T:(T*80&#43;T**9 *i-950*T **99,T*70-880*T**18&#43;701* T **9 ,T*i**(1-T**45*2)))(sum( [ Y(0,(A%3/3.&#43;X%v&#43;(X/v&#43; A/3/3.-x/2)/1j)*2.5 /x -2.7,i)**2 for \ A in C [:9]]) /9) ) ) It generates a Mandelbrot like the code likes:</p>
            </div>
            <footer class="entry-footer"><span title='2022-10-24 11:26:00 +0800 +0800'>October 24, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Python lambda generate bitmap" href="https://notes.0081800.xyz/notes/20221024112631-python_lambda_generate_bitmap/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Problems once solved by a metaclass can be solved by init_subclass
              </h2>
            </header>
            <div class="entry-content">
              <p> tags: Python source: “init_subclass.” Accessed January 6, 2022. https://til.simonwillison.net/til/til/python_init-subclass.md. </p>
            </div>
            <footer class="entry-footer"><span title='2022-01-06 12:16:00 +0800 +0800'>January 6, 2022</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Problems once solved by a metaclass can be solved by init_subclass" href="https://notes.0081800.xyz/notes/20220106121656-problems_once_solved_by_a_metaclass_can_be_solved_by_init_subclass/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Spark
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Bigdata Spark 编程语言选择 毋庸置疑，Python 应该是最简单也是大部分的选择，但是如果有依赖那么将要付出额外的心智负担（Spark 管理 Python 依赖）。 JVM 语言的依赖组织方式则具有天然的优势，可以将依赖（排除 Spark 生态之后）都 bundle 进 Jar 包里。 其中 Scala 兼具简单和 JVM 的优势，但是它「不流行」。
Spark Driver &amp; Executor Driver 执行 spark-commit 客户端，创建 SparkContext 执行 main 函数。 Executor Spark Worker 上的线程 See also:
Understanding the working of Spark Driver and Executor Cluster Mode Overview Spark 代码执行 我在配置 Spark 的时候就在好奇，从观察上看部分代码应该是执行在 Driver 上部分代码会执行在 Executer，这让我很好奇。 但是我通过学习 Spark RDD 学习到了一些知识。
以下代码是在 Executor 上执行的：
Transformations 和 Actions 是执行在 Spark 集群的。 传递给 Transformations 和 Actions 的闭包函数也是执行在 Spark 集群上的。 其他额外的代码都是执行在 Driver 上的，所以想要在 Driver 打印日志需要上使用 collect：...</p>
            </div>
            <footer class="entry-footer"><span title='2021-08-27 08:05:00 +0800 +0800'>August 27, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Spark" href="https://notes.0081800.xyz/notes/20210827080540-spark/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Python behind the scenes #2: how the CPython compiler works
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Translate,Incomplete,Python Python 幕后 #2: CPython 编译器如何工作 今天的主题（Today’s subject） 在本系列的第一篇文章中我们研究了 Python 虚拟机。我们学了解到它通过执行一系列叫做字节码（bytecode）的指令。 我们也看到 Python 字节码没有完全描述代码片段的行为。这也是为什么存在一个代码对象（code object）的概念。 执行诸如函数或模块的代码块也就是执行对应的代码对象。代码对象包含了代码块的字节码，包含代码中使用的常量和变量名， 还有代码块的一些属性。
通常，一个 Python 程序员不用编写字节码，并且也不用创建代码对象，而是编写正常的 Python 代码。所有 CPython 必须 能够将源代码转换成代码对象。CPython 编译器就负责这部分工作。我们将通过这部分内容探索它是如何工作的。
Note: 本文参考 CPython 3.9。一些实现细节将必然会随着 CPython 的演进而改变。 我将会尝试关注一些重要的改变并添加更新备注。
什么是 CPython 编译器（What CPython compiler is） 我们已经了解了 CPython 编译器的职责，但是在我们进入到它是如何实现的之前，让我们首先来搞清楚为什么我们称之为编译器？
在通常情况加，编译器是一个将一个程序语言翻译到另一个与之等价的程序语言的程序。编译器有许多种类，但是通常情况下我们 讨论的都是静态编译：将一个高级语言的程序翻译成机器码。CPython 编译器也是这样吗？要回答这个问题，我们先看一下静态编 译器的传统三阶段设计（three-stage design）。
编译器前端（frontend）将源代码转换成一种中间语言（IR,intermediate representation）。然后优化器（optimzer）拿到中间语言 对其进行优化并把优化过的中间语言传递给编译器后端生成机器码。如果我们选择一种源语言和目标机器无关的中间语言，我们就 得到了三阶段设计的关键益处：对于一个编译器来说，支持一种新的源语言仅仅需要新增一个对应的编译器前端，支持一种新的目标机器 仅仅需要新增一个对应的编译器后端。
LLVM 工具集（toolchain）就是这个模型的一个很好的成功的例子。有很多编译器前端如 C、Rust、Swift 等其他很多编程语言基于 LLVM 提供给编译器更加复杂的部分。LLVM 的创建者 Chris Latter 提供了一个很好的 LLVM 架构概览。
CPython 尽管不需要支持多个源语言和目标机器，尔仅仅需要支持 Python 代码和 CPython 虚拟机。不过，CPython 同样实现了三阶段设计。 如果想知道为什么，我们需要更加详细的解释编译器的三阶段的每个阶段。...</p>
            </div>
            <footer class="entry-footer"><span title='2020-10-15 18:28:00 +0800 +0800'>October 15, 2020</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Python behind the scenes #2: how the CPython compiler works" href="https://notes.0081800.xyz/notes/20201015182827-python_behind_the_scenes_2_how_the_cpython_compiler_works/"></a>
          </article>
       
          <article class="post-entry"> 
            <header class="entry-header">
              <h2>Python behind the scenes #1: how the CPython VM works
              </h2>
            </header>
            <div class="entry-content">
              <p>tags: Translate,Python 原文链接：Python behind the scenes #1: how the CPython VM works。
Python 幕后 #1: CPython 虚拟机如何工作 介绍（Introduction） 你是否曾经好奇过当你运行 Python 代码时 python 做了些什么？
$ python script.py 这篇文章将开启一个系列来尝试解答这个问题。我们将深入 Python 最流行的实现 CPython 的内部。 通过深入 CPython 的内部我们将更深一层的去理解这门编程语言本身。这也是我们这个系列的最主要的目标。 如果你熟悉 Python 并且可以阅读 C 代码，但是对 CPython 源码本身没有太多的经验， 那么你可能非常适合本系列，并且对本系列感兴趣。
什么是 CPython 并且为什么有人想学习它（What CPython is and why anyone would want to study it） 我们首先来说明一些众所周知的事情。CPython 是用 C 编写的 Python 解析器。他是 Python 语言的众多实现 的一种，其他还有诸如 PyPy、Jython、IronPython 等。CPython 的独特之处在于它是 Python 的起源、维护时间最长也是最受欢迎的。...</p>
            </div>
            <footer class="entry-footer"><span title='2020-09-08 10:36:00 +0800 +0800'>September 8, 2020</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Gray King</footer>
            <a class="entry-link" aria-label="post link to Python behind the scenes #1: how the CPython VM works" href="https://notes.0081800.xyz/notes/20200908103647-python_behind_the_scenes_1_how_the_cpython_vm_works/"></a>
          </article>
       
     </ul>
    </div>
  </div>


</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://notes.0081800.xyz/">Taking Smart Notes With Org-mode</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
